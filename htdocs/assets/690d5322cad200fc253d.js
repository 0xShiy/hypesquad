/*! For license information please see 690d5322cad200fc253d.js.LICENSE.txt */
(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[59859,99999,50807,14022,11315,40856,18777,13557,10928],{478717:(e,t,n)=>{var r={"./2017-11-16.mp4":684795,"./2019-12-17.mp4":662325,"./channel-following.png":15176,"./discovery.jpg":788557,"./discriminator.mp4":22625,"./g250k-cl.mp4":603628,"./header.mp4":879334,"./hypesquad-hack-week/header.png":133650,"./hypesquad-hack-week/paladins-loot.png":631896,"./ko-new-year.jpg":931806,"./league-rp-cl.mp4":425058,"./polish-week.png":428915,"./special-template/desktop-cta.png":561323,"./special-template/desktop-cta.svg":949223,"./special-template/header-left.svg":412466,"./special-template/header-right.svg":226586,"./special-template/mobile-cta.svg":373135,"./special-template/update-badge.svg":361850,"./stickers-launch/2020_PMM_STICKERS_Mrkt_BlogHdr_2500x1000.png":15808,"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Left_180x220.png":227227,
"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Right_180x220.png":999455,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_Changelog_658X220.png":678811,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_FooterCTA_238x220.png":236340,"./stickers-launch/2020_PMM_STICKERS_Mrkt_MobileHero_375x190.png":359546,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Mobile_FooterCTA_343x78.png":35448,"./store.jpg":404252};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return r[e]}a.keys=function(){return Object.keys(r)};a.resolve=o;e.exports=a;a.id=478717},259477:(e,t,n)=>{"use strict";n(984752);n(303798);n(373265);n(117883);n(473517);n(572935);n(825724);n(124778);n(86298);n(408643);n(179401);n(962935);n(677520);n(735592);n(84402);n(173101);n(943819);n(828339);n(330321);n(507794);n(930409);n(915574);n(864062);n(523946);n(805799);n(359342);n(86031);n(146411);n(897191);n(258079);n(187360);n(217964)
;n(82572);n(19566);n(782270);n(612548);n(730451);n(698099);n(864061);n(979674);n(282619);n(421010);n(960441);n(737931);n(887328);n(748762);n(607209);n(423046);n(27245);n(881454);n(908463);n(493897);n(778548);n(882832);n(484024);n(644263);n(752996);n(917515);n(513266);n(8549);n(544196);n(776115);n(909243);n(687549);n(433385);n(956704);n(126208);n(330445);n(23535);n(202904);n(811672);n(528429);n(250650);n(140868);n(517286);n(311492);n(737483);n(876874);n(680804);n(30098);n(832721);n(178504);n(958698);n(729748);n(226720);n(319111);n(361585);n(635014);n(847819);n(201292);n(144050);n(386716);n(950446);n(689389);n(662183);n(186798);n(788739);n(958281);n(220592);n(893160);n(191391);n(290629);n(205982);n(211136);n(790597);n(690445);n(121441);n(887609);n(397228);n(758602);n(359973);n(859024);n(946447);n(563621);n(257867);n(728429);n(189434);n(387692);n(535711);n(735653);n(905505);n(125150);n(801745);n(417501);n(487372);n(432310);n(693399);n(527501);n(81636)},588136:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.setHomeLink=function(e){a.default.dirtyDispatch({type:o.ActionTypes.APP_VIEW_SET_HOME_LINK,link:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},360307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setCertifiedDevices=function(e,t){a.default.dispatch({type:o.ActionTypes.CERTIFIED_DEVICES_SET,applicationId:e,devices:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},241165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={showChangeLog:function(e){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_OPEN,query:e})},hideChangeLog:function(){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_CLOSE})}};t.default=i},55701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.hideEnablePublicGuildUpsellNotice=function(e){a.default.dispatch({
type:o.ActionTypes.PUBLIC_UPSELL_NOTICE_DISMISS,guildId:e})};t.hideGuildNotificationDefaultsNotice=function(e){a.default.dispatch({type:o.ActionTypes.NOTIFICATION_DEFAULTS_NOTICE_DISMISS,guildId:e})};t.hideMaxMemberCountChannelNotice=function(e,t){a.default.dispatch({type:o.ActionTypes.MAX_MEMBER_COUNT_NOTICE_DISMISS,guildId:e,noticeType:t})};t.hidePremiumGuildGracePeriodNotice=function(e){a.default.dispatch({type:o.ActionTypes.BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS,guildId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},642230:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchConsents=function(){return r.default.get({url:o.Endpoints.SETTINGS_CONSENT,oldFormErrors:!0}).then(s,(function(e){return Promise.reject(new Error(e.body.message))}))};t.setConsents=function(e,t){return r.default.post({url:o.Endpoints.SETTINGS_CONSENT,body:{grant:e,revoke:t},oldFormErrors:!0}).then(s,f)}
;var r=u(n(118915)),a=u(n(636602)),o=n(770348),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e){null!=e&&null!=e.body&&a.default.dispatch({type:o.ActionTypes.UPDATE_CONSENTS,consents:l({},e.body)});return e.body}function f(e){var t;t=e.status>=500&&e.status<=599?i.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED:null!=e&&null!=e.body&&null!=e.body.message?e.body.message:i.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED;throw new Error(t)}},319076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dismiss=function(e){a.default.dispatch({type:o.ActionTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS,skuId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},988754:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.uninstallBranchPrompt=function(e,t,u){!function(e,t){var i=a.default.getGame(e);if(null==i){new r.default("DispatchUninstallActionCreators").log("Application not found for game "+e);return}(0,o.openModalLazy)(f(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(78530).then(n.bind(n,478530));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return a(l({game:i,onConfirmUninstall:t},e))}));case 5:case"end":return e.stop()}}),e)}))))}(e,(function(){return(0,i.uninstallApplication)(e,t,u)}))};var r=u(n(791548)),a=u(n(288356)),o=n(194322),i=n(27555);function u(e){return e&&e.__esModule?e:{default:e}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){
try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},785460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sortList=function(e,t){a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_SORT_UPDATE,key:e,direction:t})};t.updateActiveRowKey=function(e,t){void 0===t&&(t=!1);a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE,key:e,isKeyboardEvent:t})};t.updateLibraryFilter=function(e){a.default.dispatch({type:o.ActionTypes.LIBRARY_APPLICATION_FILTER_UPDATE,query:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},229474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildAffinities=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){
return e&&e.__esModule?e:{default:e}}t.fetchGuildAffinities=function(){return r.default.get({url:o.Endpoints.GUILD_AFFINITIES,oldFormErrors:!0}).then((function(e){var t=e.body.guild_affinities;a.default.dispatch({type:o.ActionTypes.LOAD_GUILD_AFFINITIES_SUCCESS,guildAffinities:t})}),(function(){a.default.dispatch({type:o.ActionTypes.LOAD_GUILD_AFFINITIES_FAILURE})}))}},72690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={move:function(e,t){a.default.dispatch({type:o.ActionTypes.INCOMING_CALL_MOVE,x:e,y:t})}};t.default=i},668471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addInstallLocation=function(e){a.default.queryDirectory(e,(function(t,n){null==t&&null!=n&&r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_ADD,path:e,metadata:n})}))};t.fetchMetadata=function(e){for(var t,n={},i=0,l=function(){var u=t.value
;if(null==u||"string"!=typeof u)return"continue";a.default.queryDirectory(u,(function(t,a){++i;null==t&&null!=a&&(n[u]=a);i===e.length&&r.default.dirtyDispatch({type:o.ActionTypes.INSTALLATION_LOCATION_FETCH_METADATA,metadataPayload:n})}))},s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=s()).done;)l()}
;t.removeInstallLocation=function(e){r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_REMOVE,path:e})};t.updateInstallLocation=function(e,t){var n=t.label,a=t.isDefault;r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_UPDATE,path:e,label:n,isDefault:a})};var r=i(n(636602)),a=i(n(643868)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},671694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createTestModeLibraryApplications=function(e){return c.apply(this,arguments)};t.fetchLibrary=function(){return d.apply(this,arguments)};t.setActiveLaunchOptionId=function(e,t,n){a.default.dispatch({type:u.ActionTypes.LIBRARY_APPLICATION_ACTIVE_LAUNCH_OPTION_UPDATE,applicationId:e,branchId:t,launchOptionId:n})};var r=l(n(118915)),a=l(n(636602)),o=l(n(329297)),i=n(204785),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}
}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function d(){return(d=f(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return(0,i.httpGetWithCountryCodeQuery)({url:u.Endpoints.LIBRARY,oldFormErrors:!0},!1);case 3:t=e.sent;a.default.dispatch({type:u.ActionTypes.LIBRARY_FETCH_SUCCESS,libraryApplications:t.body});e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);a.default.dispatch({type:u.ActionTypes.LIBRARY_FETCH_FAIL,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function c(){return(c=f(regeneratorRuntime.mark((function e(t){var n,i,l;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.primarySkuId)){e.next=3;break}return e.abrupt("return");case 3:e.next=5;return r.default.get({url:u.Endpoints.APPLICATION_BRANCH_LIST(t.id),oldFormErrors:!0}).then((function(e){return e.body}));case 5:i=e.sent;l=i.map((function(e){return o.default.createForTestMode({id:t.id,skuId:n,branch:e})}));a.default.dispatch({type:u.ActionTypes.LIBRARY_APPLICATIONS_TEST_MODE_ENABLED,libraryApplications:l});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},297279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchActivityStatistics=function(){return d.apply(this,arguments)};var r=u(n(118915)),a=u(n(636602)),o=u(n(194198)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)}))}}var f=216e5;function d(){return(d=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=o.default.lastFetched)&&Date.now()-t<f)){e.next=3;break}return e.abrupt("return");case 3:e.prev=3;e.next=6;return r.default.get({url:i.Endpoints.USER_ACTIVITY_STATISTICS,oldFormErrors:!0});case 6:n=e.sent;a.default.dispatch({type:i.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n.body});e.next=13;break;case 10:e.prev=10;e.t0=e.catch(3);return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}},24794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.connect=l;t.createLobby=function(e,t,n){return r.default.post({url:o.Endpoints.LOBBIES,body:u({application_id:t},n),retries:1,oldFormErrors:!0}).then((function(t){var n=t.body
;return l(e,n.id,n.secret)}))};t.deleteLobby=function(e){return r.default.delete({url:o.Endpoints.LOBBY(e),body:{},retries:1,oldFormErrors:!0}).then(o.NOOP)};t.disconnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_DISCONNECT,lobbyId:e})};t.search=function(e){return r.default.post({url:o.Endpoints.LOBBY_SEARCH,body:e,oldFormErrors:!0}).then((function(e){return e.body}))};t.send=function(e,t){return r.default.post({url:o.Endpoints.LOBBY_SEND(e),body:{data:t},oldFormErrors:!0}).then(o.NOOP)};t.updateLobby=function(e,t){return r.default.patch({url:o.Endpoints.LOBBY(e),body:u({},t),retries:1,oldFormErrors:!0}).then(o.NOOP)};t.updateLobbyMember=function(e,t,n){return r.default.patch({url:o.Endpoints.LOBBY_MEMBER(e,t),body:u({},n),retries:1,oldFormErrors:!0}).then(o.NOOP)};t.voiceConnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_VOICE_CONNECT,lobbyId:e})};t.voiceDisconnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_VOICE_DISCONNECT,lobbyId:e})}
;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}function l(e,t,n){return new Promise((function(r,i){a.default.dispatch({type:o.ActionTypes.LOBBY_CONNECT,socketId:e,lobbyId:t,lobbySecret:n,resolve:r,reject:i})}))}},720409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.close=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_CLOSE,id:e})};t.hide=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_HIDE,id:e})};t.moveTo=function(e,t){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_MOVE,id:e,position:t})};t.open=function(e,t,n){void 0===n&&(n={});a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_OPEN,id:e,component:t,props:n})};t.show=function(e){
a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_SHOW,id:e})};t.switchPIPFocus=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW,id:e})};t.updateRect=function(e,t){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_UPDATE_RECT,id:e,rect:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},597362:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={clearRemoteDisconnectVoiceChannelId:function(){a.default.dispatch({type:o.ActionTypes.CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID})}};t.default=i},221185:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={fetchRegions:function(e){r.default.get({url:o.Endpoints.REGIONS(e),retries:1,oldFormErrors:!0}).then((function(t){
return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:t.body,guildId:e})}),(function(){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:[],guildId:e})}))},changeCallRegion:function(e,t){r.default.patch({url:o.Endpoints.CALL(e),body:{region:t},oldFormErrors:!0})}};t.default=u},105988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){
return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l={setEnabled:function(e){this.update({enabled:e})},update:function(e){for(var t,n=i(Object.keys(e));!(t=n()).done;){var r=t.value;a.default.dispatch({type:o.ActionTypes.STREAMER_MODE_UPDATE,key:r,value:e[r]})}}};t.default=l},446637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.authorizeAndSetTestModeApplication=function(e,t){return m.apply(this,arguments)};t.reset=function(){r.default.dispatch({type:d.ActionTypes.DEVELOPER_TEST_MODE_RESET})};t.resetError=function(){r.default.dispatch({type:d.ActionTypes.DEVELOPER_TEST_MODE_RESET_ERROR})}
;var r=v(n(636602)),a=v(n(331119)),o=v(n(288356)),i=n(685677),u=v(n(608417)),l=v(n(234161)),s=p(n(671694)),f=p(n(723420)),d=n(770348);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){
y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(){return(m=h(regeneratorRuntime.mark((function e(t,n){var c,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.default.dispatch({applicationId:t,type:d.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_START});e.prev=1;e.next=4;return f.fetchSKUsForApplication(t,!1);case 4:if(null!=e.sent){e.next=7;break}throw new Error("Did not get a successful response from endpoint.");case 7:if(null!=(c=o.default.getGame(t))){e.next=14;break}e.t0=a.default;e.next=12;return l.default.fetchApplication(t);case 12:e.t1=e.sent;c=e.t0.createFromServer.call(e.t0,e.t1);case 14:if(!(p=(0,i.hasFlag)(c.flags,d.ApplicationFlags.EMBEDDED))||null!=n&&u.default.URL_REGEX.test(n)){e.next=17;break}throw new Error("Invalid Origin URL for embedded application");case 17:p||s.createTestModeLibraryApplications(c);r.default.dispatch({type:d.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS,applicationId:t,
originURL:p?n:null});return e.abrupt("return",!0);case 22:e.prev=22;e.t2=e.catch(1);r.default.dispatch({type:d.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL,applicationId:t,error:e.t2.message});return e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,null,[[1,22]])})))).apply(this,arguments)}},94047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(423046)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={setUserAchievement:function(e,t,n){var i=a.default.getId();return r.default.put({url:o.Endpoints.USER_ACHIEVEMENTS_FOR_USER(i,e,t),body:{percent_complete:n},oldFormErrors:!0})},fetchForApplication:function(e){return r.default.get({url:o.Endpoints.USER_ACHIEVEMENTS(e),retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}};t.default=u},314022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchUserAffinities=function(e){void 0===e&&(e=!0)
;if(o.default.needsRefresh()){a.default.dirtyDispatch({type:i.ActionTypes.LOAD_USER_AFFINITIES});return r.default.get({url:i.Endpoints.USER_AFFINITIES,retries:e?3:0,oldFormErrors:!0}).then((function(e){var t=e.body;a.default.dispatch({type:i.ActionTypes.LOAD_USER_AFFINITIES_SUCCESS,affinities:t})}),(function(){a.default.dispatch({type:i.ActionTypes.LOAD_USER_AFFINITIES_FAILURE})}))}return Promise.resolve()};var r=u(n(118915)),a=u(n(636602)),o=u(n(538983)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},306902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.markView=function(e){a.default.dispatch({type:o.ActionTypes.VIEW_HISTORY_MARK_VIEW,key:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},184608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=g(n(294184)),i=g(n(441143)),u=g(n(237923)),l=g(n(314234)),s=g(n(956117)),f=g(n(279950)),d=n(354479),c=n(688388),p=n(626863),v=n(770348),y=n(697984),h=g(n(247001)),m=g(n(241618)),_=g(n(380203));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}var C={canSend:!1,hint:null,success:null,error:null},T=(0,d.uid)(),A=T+"-decription",P=T+"-error";function M(e,t){switch(t.type){case"RESET":return C;case"SUCCESS":return I({},C,{success:t.text});case"HINT":return I({},C,{canSend:!0,hint:t.text});case"ERROR":return I({},e,{canSend:!0,error:t.text})}}function N(){var e,t=a.createRef(),n=a.createRef(),r=O(a.useReducer(M,C),2),d=r[0],g=r[1],E=d.canSend,b=d.hint,I=d.success,N=d.error;a.useEffect((function(){if(I){(0,
i.default)(null!=t.current,"Input is submitting when not mounted");t.current.value="";t.current.focus()}}),[I,t]);return S("form",{onSubmit:function(e){e.preventDefault();(0,i.default)(null!=t.current,"Input is submitted when not mounted");var n=t.current.value.trim(),r=(0,p.validateDiscordTag)(n);null==r?u.default.sendRequest(n,{location:"Add Friend"}).then((function(){return g({type:"SUCCESS",text:h.default.Messages.ADD_FRIEND_SUCCESS.format({discordTag:n})})}),(function(e){return g({type:"ERROR",text:(0,p.humanizeAbortCode)(e.body.code,n)})})):g({type:"ERROR",text:r})},autoComplete:"off"},void 0,S(c.FormText,{id:A,type:c.FormText.Types.DESCRIPTION},void 0,h.default.Messages.ADD_FRIEND_DESCRIPTION),S(l.default,{focusTarget:t,ringTarget:n,ringClassName:m.default.ring},void 0,a.createElement("div",{ref:n,className:(0,o.default)(m.default.addFriendInputWrapper,(e={},e[m.default.success]=I,e[m.default.error]=N,e))},S(f.default,{id:T,inputRef:t,className:m.default.addFriendInput,
inputClassName:m.default.input,onKeyPress:function(e){var n=e.currentTarget.value;if(e.key!==y.KeyboardEventKey.Enter&&n.includes("#")){(0,i.default)(null!=t.current,"Input is handling keypress when not mounted");var r=n.indexOf("#"),a=t.current.selectionStart,o=e.key===y.KeyboardEventKey.Backspace||e.key===y.KeyboardEventKey.ArrowRight||e.key===y.KeyboardEventKey.ArrowLeft,u=e.which>=48&&e.which<=57;(null!=a&&a>r&&/^(.+?#\d{4})$/.test(n)&&!o||null!=a&&a>r&&!u&&!o)&&e.preventDefault()}},onChange:function(e){if(e.length<=0)g({type:"RESET"});else{var t=O(e.split("#"),2)[1];g({type:"HINT",text:e+v.PLACEHOLDER_TAG.slice(null!=t?t.length+1:0)})}},maxLength:37,autoFocus:!0,autoComplete:"off",name:"add-friend","data-lpignore":!0,placeholder:h.default.Messages.ADD_FRIEND_PLACEHOLDER,"aria-label":h.default.Messages.ADD_FRIEND_PLACEHOLDER,"aria-invalid":!!N||void 0,"aria-describedby":N?P:A}),b&&S("div",{className:m.default.addFriendHint,"aria-hidden":!0},void 0,b),S(s.default,{
size:s.default.Sizes.SMALL,disabled:!E,type:"submit"},void 0,h.default.Messages.ADD_FRIEND_BUTTON))),N&&S(c.FormText,{role:"alert",id:P,type:c.FormText.Types.ERROR,className:_.default.marginTop8},void 0,N),I&&S(c.FormText,{role:"status",type:c.FormText.Types.SUCCESS,className:_.default.marginTop8},void 0,I))}N.displayName="AddFriendInput"},593878:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=v(n(479049)),o=v(n(131795)),i=v(n(536211)),u=v(n(680804)),l=v(n(919935)),s=v(n(290629)),f=v(n(931411)),d=n(864489),c=v(n(922629)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var m=new Set(["Blink","Gecko","WebKit"]),_=p.NOOP;if(d.isPlatformEmbedded)_=function(e){return c.default.setBadge(e)};else if(m.has(o.default.layout)){var g=new a.default({animation:"none"});_=function(e){try{g.badge(-1===e?"â€¢":e)}catch(e){}}}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).cancelBounce=null;return t}var n=t.prototype;n.componentDidMount=function(){
this.componentDidUpdate()};n.componentDidUpdate=function(){var e=this.props,t=e.badge,n=e.hasIncomingCalls;_(t);if(n&&null==this.cancelBounce)this.cancelBounce=c.default.bounceDock("critical");else if(!n&&null!=this.cancelBounce){this.cancelBounce();this.cancelBounce=null}};n.componentWillUnmount=function(){_(0);if(null!=this.cancelBounce){this.cancelBounce();this.cancelBounce=null}};n.render=function(){return null};return t}(r.PureComponent);E.displayName="AppBadge";var S=function(){return null};_!==p.NOOP&&(S=i.default.connectStores([u.default,f.default,s.default,l.default],(function(){var e=u.default.getTotalMentionCount(),t=s.default.getPendingCount(),n=u.default.hasAnyUnread(),r=l.default.getDisableUnreadBadge(),a=e+t;0===a&&n&&!r&&(a=-1);return{badge:a,hasIncomingCalls:f.default.hasIncomingCalls()}}))(E));var O=S;t.default=O},969940:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=m(n(213192)),o=m(n(536211)),i=m(n(740207)),u=m(n(226800)),l=m(n(680804)),s=m(n(635014)),f=m(n(919935)),d=m(n(893160)),c=m(n(290629)),p=m(n(397228)),v=n(864489),y=m(n(922629)),h=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=(0,a.default)({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),S=(0,
v.isOSX)()?null:E.DEFAULT,O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).getIcon=function(){var e=t.props,n=e.deafened,r=e.muted,a=e.speaking,o=e.connected,i=e.unread,u=S;if((0,v.isOSX)()&&!o)return u;if((0,v.isLinux)()||!o){i&&(u=E.UNREAD);return u}return u=n?E.DEAFENED:r?E.MUTED:a?E.SPEAKING:E.CONNECTED};return t}var n=t.prototype;n.componentDidMount=function(){y.default.setSystemTrayIcon(this.getIcon())};n.componentDidUpdate=function(){y.default.setSystemTrayIcon(this.getIcon())};n.componentWillUnmount=function(){y.default.setSystemTrayIcon(S)};n.render=function(){return null};return t}(r.PureComponent);O.displayName="AppTray";var b=function(){return null};if(v.isPlatformEmbedded){y.default.on("SYSTEM_TRAY_TOGGLE_MUTE",(function(){return i.default.toggleSelfMute()}))
;y.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",(function(){return i.default.toggleSelfDeaf()}));y.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",(function(){u.default.open(h.UserSettingsSections.VOICE)}));b=o.default.connectStores([d.default,s.default,p.default,l.default,c.default,f.default],(function(){var e=l.default.getTotalMentionCount(),t=l.default.hasAnyUnread(),n=c.default.getPendingCount(),r=!f.default.getDisableUnreadBadge()&&!!(t||e+n>0);return{connected:d.default.isConnected(),speaking:p.default.isCurrentUserSpeaking(),muted:s.default.isSelfMute()||s.default.isSelfMutedTemporarily(),deafened:s.default.isSelfDeaf(),unread:r}}))(O)}var I=b;t.default=I},421651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Re;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=J(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=Q(n(294184)),i=n(505977),u=n(473727),l=n(47354),s=n(536211),f=Q(n(235879)),d=Q(n(400225)),c=Q(n(825724)),p=Q(n(252566)),v=Q(n(928205)),y=Q(n(545130)),h=Q(n(710483)),m=Q(n(594807)),_=Q(n(14638)),g=Q(n(212635)),E=Q(n(529295)),S=Q(n(547403)),O=Q(n(136798)),b=Q(n(329697)),I=Q(n(423046)),C=Q(n(644263)),T=Q(n(211136)),A=Q(n(296005)),P=Q(n(275621)),M=n(71246),N=n(518802),R=Q(n(721536)),w=Q(n(701391)),D=Q(n(41234)),L=Q(n(25202)),j=Q(n(272356)),k=Q(n(284382)),U=Q(n(115370)),G=Q(n(63818)),F=Q(n(629195)),x=Q(n(869333)),V=Q(n(605807)),W=n(490818),H=n(537204),B=Q(n(57663)),z=Q(n(916205)),Y=Q(n(52505)),$=Q(n(883901)),K=n(770348),q=n(173652),Z=Q(n(247001)),X=Q(n(734733));function Q(e){return e&&e.__esModule?e:{default:e}}function J(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(J=function(e){return e?n:t})(e)}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(){ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ne.apply(this,arguments)}function re(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ae=re(R.default,{}),oe=function(e){var t=e.match,n=(0,s.useStateFromStores)([C.default,T.default],(function(){var e=T.default.getChannelId();return C.default.getChannel(e)})),r=t.params,a=r.guildId,o=r.channelId;if(null!=a&&null!=o&&(0,
q.isStaticChannelRoute)(o))switch(o){case q.StaticChannelRoute.ROLE_SUBSCRIPTIONS:return re(m.default,{guildId:a});case q.StaticChannelRoute.MEMBER_APPLICATIONS:return re(h.default,{guildId:a});case q.StaticChannelRoute.GUILD_HOME:return re(v.default,{guildId:a});default:(0,M.assertNever)(o)}if((null==n?void 0:n.type)===K.ChannelTypes.GUILD_STORE){var i=t.params.messageId;return re(w.default,{channel:n,inputSkuId:i},n.id)}return ae};oe.displayName="ChannelRenderer";var ie=re(x.default,{}),ue=re(j.default,{}),le=a.memo((function(){var e=(0,O.default)(),t=e.guildId,n=e.channelId;return window.location.pathname.startsWith(K.Routes.GUILD_DISCOVERY)?ie:null!=t?re(_.default,{selectedChannelId:n,guildId:t},t):ue}));function se(e){var t=(0,O.default)((function(e){return e.guildId}));return a.createElement(z.default,ne({},e,{guildId:t}))}se.displayName="ConnectedActivityPanelGameCard";var fe=function(e){return a.createElement(oe,e)};fe.displayName="renderChannel";var de=function(e){
var t=null!=e&&e.length>0&&e.startsWith("?")?e.split("?")[1]:null;return re(F.default,{searchRoute:t})};de.displayName="renderGuildDiscovery";var ce=function(e){var t=e.match;return null!=t.params.guildId?re(y.default,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},pe=function(e){var t=e.match;return null!=t.params.guildId?re(E.default,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},ve=re(U.default,{}),ye=function(){return ve};ye.displayName="renderApplicationLibrary";var he=re(G.default,{}),me=function(){return he};me.displayName="renderLazyApplicationStore";var _e=re(S.default,{}),ge=function(){return _e};ge.displayName="renderPeople";var Ee=function(e){switch(e.match.params.feature){case"addFriends":return re(S.default,{initialSection:K.FriendsSections.ADD_FRIEND});case"pendingFriends":return re(S.default,{initialSection:K.FriendsSections.PENDING});default:return re(u.Redirect,{to:K.Routes.ME})}};function Se(){
return window.location.pathname.startsWith(K.Routes.APPLICATION_STORE)}var Oe=re(le,{}),be=re(Y.default,{}),Ie=re($.default,{}),Ce=re(B.default,{}),Te=re(D.default,{});function Ae(e){var t,n=e.isGuest,r=e.hasNotice,a=e.sidebarTheme,i=e.hideSidebar,u=(0,s.useStateFromStores)([c.default],(function(){return c.default.isFullscreenInContext()}));if(i)return null;var l=Se()?X.default.hiddenOnMobileStore:null;return re("div",{className:(0,o.default)(X.default.sidebar,l,(0,N.getThemeClass)(a),(t={},t[X.default.hasNotice]=r,t[X.default.hidden]=u,t))},void 0,Oe,re("section",{className:X.default.panels,"aria-label":Z.default.Messages.ACCOUNT_A11Y_LABEL},void 0,be,re(k.default,{section:K.AnalyticsSections.ACTIVITY_PANEL},void 0,re(se,{className:X.default.activityPanel})),re(k.default,{section:K.AnalyticsSections.RTC_CONNECTION_PANEL},void 0,Ie),re(k.default,{section:K.AnalyticsSections.ACCOUNT_PANEL},void 0,n?null:Ce)),Te)}Ae.displayName="ChannelSidebar";var Pe=re(P.default,{onLogin:function(){(0,
W.openLoginModal)(void 0,H.openRegisterModal)},onRegister:function(){(0,H.openRegisterModal)(void 0,W.openLoginModal)}});var Me=re(L.default,{}),Ne=re(V.default,{});function Re(){var e=(0,s.useStateFromStores)([I.default],(function(){return I.default.isGuest()})),t=(0,s.useStateFromStores)([A.default],(function(){return A.default.hasNotice()})),n=(0,s.useStateFromStores)([f.default],(function(){return f.default.darkSidebar?K.ThemeTypes.DARK:void 0})),r=function(){var e=ee(a.useState((function(){return window.location.pathname.startsWith(K.Routes.GUILD_MEMBER_VERIFICATION(""))})),2),t=e[0],n=e[1];a.useEffect((function(){return b.default.addRouteChangeListener((function(e){n(e.pathname.startsWith(K.Routes.GUILD_MEMBER_VERIFICATION("")))}))}),[]);return t}(),c=function(){var e=ee(a.useState((function(){return window.location.pathname.startsWith(K.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(""))})),2),t=e[0],n=e[1];a.useEffect((function(){return b.default.addRouteChangeListener((function(e){
n(e.pathname.startsWith(K.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}))}),[]);return t}(),v=function(){var e,t=(0,u.useLocation)();return!0===(null===(e=(0,i.matchPath)(t.pathname,K.Routes.GUILD_BOOSTING_MARKETING(":guildId")))||void 0===e?void 0:e.isExact)}(),y=r||c||v,h=(0,u.useRouteMatch)([K.Routes.CHANNEL(K.ME,":channelId"),K.Routes.CHANNEL(":guildId",":channelId?",":messageId?")]);return re("div",{className:X.default.container},void 0,re(g.default,{className:(0,o.default)(X.default.guilds,Se()?X.default.hiddenOnMobileStore:void 0),themeOverride:n}),re(p.default.Provider,{value:(null==h?void 0:h.params.guildId)===K.ME||null==h?void 0:h.params.guildId},void 0,re("div",{className:X.default.base},void 0,Me,re("div",{className:X.default.content},void 0,a.createElement(Ae,{isGuest:e,hasNotice:t,sidebarTheme:n,hideSidebar:y}),re(u.Switch,{},void 0,re(d.default,{path:K.Routes.ACTIVITY,disableTrack:!0},void 0,re(u.Redirect,{to:K.Routes.ME})),re(d.default,{
path:K.Routes.APPLICATION_LIBRARY,render:ye,impressionName:l.ImpressionNames.APPLICATION_LIBRARY,disableTrack:!0}),re(d.default,{path:K.Routes.APPLICATION_STORE,render:me,impressionName:l.ImpressionNames.APPLICATION_STORE,disableTrack:!0}),re(d.default,{path:K.Routes.ME,exact:!0,render:ge,impressionName:l.ImpressionNames.FRIENDS,disableTrack:!0}),re(d.default,{path:[K.Routes.CHANNEL(K.ME,":channelId"),K.Routes.CHANNEL(":guildId",":channelId?",":messageId?")],render:fe,impressionName:l.ImpressionNames.GUILD_CHANNEL,disableTrack:!0}),re(d.default,{path:K.Routes.GUILD_DISCOVERY,render:function(e){var t=e.location;return de(t.search)},impressionName:l.ImpressionNames.GUILD_DISCOVERY,disableTrack:!0}),re(d.default,{path:K.Routes.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),render:ce,impressionName:l.ImpressionNames.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),re(d.default,{path:K.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),render:pe,
impressionName:l.ImpressionNames.HUB_EMAIL_SIGNUP,impressionProperties:function(e){return{has_invite:void 0!==e.computedMatch.params.inviteCode}}}),re(d.default,{path:K.Routes.FEATURE(":feature"),exact:!0,render:Ee,disableTrack:!0})),function(e){return e?Pe:null}(e)))),Ne)}Re.displayName="AppView"},818685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=x;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=n(536211),o=D(n(234161)),i=D(n(200738)),u=n(844784),l=D(n(504010)),s=n(939027),f=D(n(825724)),d=D(n(791548)),c=D(n(967523)),p=D(n(330321)),v=D(n(217964)),y=n(894826),h=D(n(644263)),m=D(n(288356)),_=D(n(23535)),g=D(n(876874)),E=D(n(30098)),S=D(n(635014)),O=D(n(893160)),b=D(n(834162)),I=D(n(211136)),C=D(n(790597)),T=D(n(690445)),A=D(n(728429)),P=D(n(311256)),M=D(n(801745)),N=D(n(308920)),R=n(71246),w=n(770348);function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t){G=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return G(e,t)}var F=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;G(e,t)
}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.connected,r=e.isNSFWChannel,a=e.channelParentId;n&&null!=t&&(0,u.trackWithMetadata)(w.AnalyticEvents.CHANNEL_OPENED,{channel_is_nsfw:r,parent_id:a})};n.componentDidUpdate=function(e){var t=this.props,n=t.voiceChannelId,r=t.voiceChannelIdJoined,a=t.voiceChannelGuildId,i=t.voiceChannelType,c=t.voiceChannelBitrate,_=t.videoEnabled,g=t.isScreenSharing,S=t.runningGame,I=t.runningGamePid,T=t.selectedChannelId,A=t.selectedGuildId,P=t.channelParentId,M=t.connected,D=t.homeLink,L=t.friendsTabSection,j=t.isNSFWChannel,k=t.isMemberPending,G=t.hasPreviewEnabled,F=t.rtcConnectionId,x=t.postableChannelCount;if(e.voiceChannelId!==n&&null!=e.voiceChannelId){var V=b.default.getCurrentGame(),W=null!=V?V.name:"",H=v.default.getStageInstanceByChannel(e.voiceChannelId),B=p.default.getActiveEventByChannel(e.voiceChannelId)
;N.default.track(w.AnalyticEvents.LEAVE_VOICE_CHANNEL,U({channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,guild_id:e.voiceChannelGuildId,rtc_connection_id:e.rtcConnectionId,game_name:W,duration:O.default.getDuration(),game_platform:this.props.gamePlatform,game_id:this.props.gameId,media_session_id:e.mediaSessionId,stage_instance_id:null==H?void 0:H.id,guild_scheduled_event_id:null==B?void 0:B.id},(0,u.getVoiceStateMetadata)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),{},O.default.getVoiceStateStats(),{},f.default.getSelectedParticipantStats(e.voiceChannelId)))}if(e.voiceChannelIdJoined!==r&&null!=r){var z=b.default.getCurrentGame(),Y=null!=z?z.name:"";if(null!=r&&null!=n){var $=v.default.getStageInstanceByChannel(n),K=p.default.getActiveEventByChannel(n);N.default.track(w.AnalyticEvents.JOIN_VOICE_CHANNEL,U({channel_id:n,channel_type:i,channel_bitrate:c,guild_id:a,rtc_connection_id:F,game_name:Y,
game_platform:this.props.gamePlatform,game_id:this.props.gameId,stage_instance_id:null==$?void 0:$.id,guild_scheduled_event_id:null==K?void 0:K.id},(0,u.getCustomStatusMetadata)(a,n),{},(0,u.getVoiceStateMetadata)(a,n,_)))}}if(e.runningGame!==S&&null!=S&&!S.isLauncher){var q=m.default.getGameByName(S.name);N.default.track(w.AnalyticEvents.LAUNCH_GAME,{game:S.name,game_id:null==q?null:q.id,verified:null!=q,elevated:S.elevated,game_platform:w.ActivityGamePlatforms.DESKTOP,distributor:S.distributor});if(null!=S.name&&null!=I&&m.default.shouldReport(S.name)){var Z=S.name,X=I;o.default.identifyGame(X,Z).then((function(e){return o.default.reportUnverifiedGame(e)})).catch((function(e){return new d.default("AutoAnalytics").error("Cannot identify game",e)}))}}if((e.videoEnabled!==_||e.isScreenSharing!==g)&&null!=n){var Q="none",J=[g?"screen":null,_?"camera":null].filter(R.isNotNullish),ee=null;if(g){Q="screen";ee=(0,s.getDesktopSourceMetadata)()}else _&&(Q="camera")
;N.default.track(w.AnalyticEvents.VIDEO_INPUT_TOGGLED,U({video_input_type:Q,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:J,preview_enabled:y.AlwaysPreviewVideo.getSetting()},ee,{},this.getGameMetadata(),{},(0,u.collectVoiceAnalyticsMetadata)(n)))}if(M&&null!=A&&(A!==e.selectedGuildId||!e.connected||k&&!e.isMemberPending)){var te,ne,re=U({},k?{is_pending:k,preview_enabled:G}:{},{postable_channels:x,premium_progress_bar_enabled:null!==(te=null===(ne=E.default.getGuild(C.default.getGuildId()))||void 0===ne?void 0:ne.premiumProgressBarEnabled)&&void 0!==te&&te});(0,u.trackWithMetadata)(w.AnalyticEvents.GUILD_VIEWED,re)}else!M||null!=A||D!==w.Routes.FRIENDS||e.connected&&L===e.friendsTabSection&&D===e.homeLink||N.default.track(w.AnalyticEvents.FRIENDS_LIST_VIEWED,U({tab_opened:L},(0,l.default)()));if(M&&null!=T&&(!e.connected||T!==e.selectedChannelId||A!==e.selectedGuildId)){var ae=(0,u.collectThreadMetadata)(h.default.getChannel(T),!0);(0,
u.trackWithMetadata)(w.AnalyticEvents.CHANNEL_OPENED,U({channel_is_nsfw:j,parent_id:P},ae))}};n.getGameMetadata=function(){return{game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,game_id:this.props.gameId}};n.render=function(){return null};return t}(r.PureComponent);F.displayName="AutoAnalytics";function x(){var e,t=j((0,a.useStateFromStoresArray)([I.default],(function(){return[I.default.getVoiceChannelId(),I.default.getChannelId()]}),[]),2),n=t[0],o=t[1],u=(0,a.useStateFromStores)([h.default],(function(){return h.default.getChannel(o)}),[o]),l=null==u?void 0:u.nsfw,s=null!==(e=null==u?void 0:u.parent_id)&&void 0!==e?e:void 0,f=(0,a.useStateFromStores)([h.default],(function(){return h.default.getChannel(n)}),[n]),d=(0,a.useStateFromStores)([C.default],(function(){return C.default.getGuildId()}),[]),p=(0,a.useStateFromStores)([E.default],(function(){return E.default.getGuild(d)}),[d]),v=(0,
a.useStateFromStores)([A.default],(function(){return A.default.getCurrentUser()}),[]),y=(0,a.useStateFromStores)([g.default],(function(){var e,t;return null!=v&&null!=d&&(null!==(e=null===(t=g.default.getMember(d,v.id))||void 0===t?void 0:t.isPending)&&void 0!==e&&e)}),[v,d]),m=(0,a.useStateFromStores)([M.default],(function(){return M.default.getState().section}),[]),N=(0,a.useStateFromStores)([P.default],(function(){return P.default.getHomeLink()}),[]),R=(0,a.useStateFromStores)([_.default],(function(){return _.default.isConnected()}),[]),D=j((0,a.useStateFromStoresArray)([S.default],(function(){return[S.default.isVideoEnabled(),S.default.isScreenSharing()]}),[]),2),L=D[0],k=D[1],U=(0,a.useStateFromStores)([O.default],(function(){return O.default.getChannelId()}),[]),G=(0,a.useStateFromStores)([T.default],(function(){return T.default.getPrimaryActivity()}),[]),x=(0,a.useStateFromStores)([b.default],(function(){return b.default.getCurrentGame()}),[]),V=(0,
a.useStateFromStores)([O.default],(function(){return O.default.getMediaSessionId()}),[]),W=(0,a.useStateFromStores)([O.default],(function(){return O.default.getRTCConnectionId()}),[]),H=(0,c.default)(d),B={selectedChannelId:o,channelParentId:s,isNSFWChannel:l,selectedGuildId:d,friendsTabSection:m,homeLink:N,connected:R,videoEnabled:L,isScreenSharing:k,voiceChannelId:null==f?void 0:f.id,voiceChannelIdJoined:U,voiceChannelGuildId:null==f?void 0:f.getGuildId(),voiceChannelType:null==f?void 0:f.type,voiceChannelBitrate:null==f?void 0:f.bitrate,runningGame:x,runningGamePid:null!=x?x.pid:null,gamePlatform:(0,i.default)(G),gameName:null!=G?G.name:null,gameId:null!=G?G.application_id:null,gameExeName:null!=x?x.exeName:null,hasPreviewEnabled:null==p?void 0:p.features.has(w.GuildFeatures.PREVIEW_ENABLED),isMemberPending:y,mediaSessionId:V,rtcConnectionId:W,postableChannelCount:H};return r.createElement(F,B)}x.displayName="ConnectedAutoAnalytics"},721536:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Ne(n(667294)),o=Pe(n(294184)),i=Pe(n(441143)),u=n(370405),l=n(473727),s=n(536211),f=n(378158),d=Pe(n(864345)),c=Pe(n(825724)),p=Pe(n(803121)),v=Pe(n(678928)),y=n(856746),h=Pe(n(63608)),m=n(596271),_=Pe(n(646422)),g=Pe(n(324935)),E=Pe(n(57697)),S=Pe(n(689626)),O=Pe(n(141776)),b=Pe(n(540330)),I=Pe(n(542322)),C=Pe(n(818378)),T=Pe(n(764423)),A=Pe(n(463024)),P=n(451115),M=Pe(n(92332)),N=Pe(n(992634)),R=Pe(n(241813)),w=n(57449),D=Pe(n(930409)),L=n(139982),j=n(391869),k=Pe(n(225379)),U=n(637356),G=Pe(n(551619)),F=Pe(n(861370)),x=Pe(n(556250)),V=Pe(n(73942)),W=Pe(n(627900)),H=Pe(n(252283)),B=n(887299),z=n(910992),Y=n(508079),$=Pe(n(131629)),K=n(567186),q=Pe(n(423046)),Z=Ne(n(502546)),X=Pe(n(644263)),Q=n(687549),J=Pe(n(250650)),ee=Pe(n(137438)),te=Pe(n(30098)),ne=Pe(n(788739)),re=Pe(n(205982)),ae=Pe(n(211136)),oe=Pe(n(728429)),ie=Pe(n(387692)),ue=Pe(n(956117)),le=n(194322),se=Pe(n(528175)),fe=n(319986),de=n(71246),ce=n(518802),pe=Pe(n(914789)),ve=Ne(n(174851)),ye=Pe(n(416274)),he=Pe(n(448702)),me=Pe(n(43233)),_e=Pe(n(200574)),ge=Pe(n(424670)),Ee=Pe(n(805918)),Se=Pe(n(300399)),Oe=n(770348),be=n(859089),Ie=n(460703),Ce=n(808961),Te=Pe(n(247001)),Ae=Pe(n(149563))
;function Pe(e){return e&&e.__esModule?e:{default:e}}function Me(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Me=function(e){return e?n:t})(e)}function Ne(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Me(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(){De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return De.apply(this,arguments)}function Le(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function je(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Le(o,r,a,i,u,"next",e)}function u(e){Le(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ke(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ue(e,t){Ue=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ue(e,t)}var Ge=ke(he.default,{}),Fe=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ue(e,t)}(t,e);function t(){for(var t,r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];(t=e.call.apply(e,[this].concat(u))||this).state={topicExpanded:!1,
threadSidebarWidth:void 0,isThreadSidebarFloating:!1};t.handleTitleParentClick=function(){var e=t.props.parentChannel;null!=e&&(0,j.transitionToChannel)(e.id)};t._handleContextMenu=function(e,n){switch(n.type){case Oe.ChannelTypes.GUILD_VOICE:case Oe.ChannelTypes.GUILD_ANNOUNCEMENT:case Oe.ChannelTypes.GUILD_TEXT:case Oe.ChannelTypes.GUILD_FORUM:t.openChannelContextMenu(e,n);break;case Oe.ChannelTypes.ANNOUNCEMENT_THREAD:case Oe.ChannelTypes.PUBLIC_THREAD:case Oe.ChannelTypes.PRIVATE_THREAD:t.openThreadContextMenu(e,n);break;case Oe.ChannelTypes.DM:t.openDMContextMenu(e,n)}};t.handleContextMenu=function(e){(0,i.default)(null!=t.props.channel,"Missing channel in Channel.handleContextMenu");t._handleContextMenu(e,t.props.channel)};t.handleParentContextMenu=function(e){(0,i.default)(null!=t.props.parentChannel,"Missing parentChannel in Channel.handleParentContextMenu");t._handleContextMenu(e,t.props.parentChannel)};t.handleThreadSidebarResize=function(e,n){t.setState({
threadSidebarWidth:e,isThreadSidebarFloating:n})};t.openUserProfile=function(){var e=t.props.channel;(0,i.default)(null!=e,"Missing channel in Channel.openUserProfile");(0,z.openUserProfileModal)({userId:e.getRecipientId(),guildId:e.guild_id,analyticsLocation:{section:Oe.AnalyticsSections.CHANNEL_HEADER}})};t.renderStreamQualityLiveIndicatorToolbarItem=function(){var e=t.props.selectedParticipant;return(null==e?void 0:e.type)!==be.ParticipantTypes.STREAM?null:ke(E.default,{size:se.default.Sizes.LARGE,participant:e,showQuality:!0},"live-indicator")};t.renderHeaderToolbar=function(){var e=t.props,n=e.channel,r=e.parentChannel,a=e.isLurking;(0,i.default)(null!=n,"Missing channel in Channel.renderHeaderToolbar");var o=[];if(n.isSystemDM())return o;switch(n.type){case Oe.ChannelTypes.GUILD_STAGE_VOICE:case Oe.ChannelTypes.GUILD_VOICE:return o;case Oe.ChannelTypes.DM:o.push(t.renderStreamQualityLiveIndicatorToolbarItem());o.push(ke(M.default,{channel:n},"calls"));o.push(ke(T.default,{
channel:n},"pins"));o.push(ke(N.default,{channel:n,tooltip:Te.default.Messages.GROUP_DM_ADD_FRIENDS},"invite"));break;case Oe.ChannelTypes.GROUP_DM:o.push(t.renderStreamQualityLiveIndicatorToolbarItem());o.push(ke(M.default,{channel:n},"calls"));o.push(ke(T.default,{channel:n},"pins"));if(!n.isManaged()){var u=Te.default.Messages.GROUP_DM_ADD_FRIENDS;o.push(ke(N.default,{channel:n,tooltip:u},"invite"))}o.push(ke(I.default,{channelId:n.id},"members"));break;case Oe.ChannelTypes.ANNOUNCEMENT_THREAD:case Oe.ChannelTypes.PRIVATE_THREAD:case Oe.ChannelTypes.PUBLIC_THREAD:null==r||r.isForumChannel()||o.push(ke(x.default,{channel:r},"browser"));n.isArchivedThread()||o.push(ke(V.default,{channel:n},"notifications"));o.push(ke(T.default,{channel:n},"pins"));n.isArchivedThread()||o.push(ke(I.default,{channelId:n.id},"members"));o.push(ke(W.default,{channel:n},"threads-overflow"));break;case Oe.ChannelTypes.GUILD_ANNOUNCEMENT:case Oe.ChannelTypes.GUILD_TEXT:o.push(ke(x.default,{channel:n
},"browser"));a||o.push(ke(C.default,{channel:n},"notifications"));o.push(ke(T.default,{channel:n},"pins"));o.push(ke(I.default,{channelId:n.id},"members"));break;case Oe.ChannelTypes.GUILD_FORUM:a||o.push(ke(C.default,{channel:n},"notifications"));o.push(ke(I.default,{channelId:n.id},"members"));break;case Oe.ChannelTypes.GUILD_DIRECTORY:o.push(ke(I.default,{channelId:n.id},"members"))}return o};t.renderFollowButton=function(){var e=t.props,r=e.showFollowButton,o=e.channel;return r?ke(ue.default,{size:ue.default.Sizes.MIN,color:ue.default.Colors.PRIMARY,className:Ae.default.followButton,onClick:function(){return(0,le.openModalLazy)(je(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(35753)]).then(n.bind(n,735753));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,De({channel:o},e))}));case 5:case"end":return e.stop()}}),e)
}))))}},void 0,Te.default.Messages.FOLLOW):null};t.renderHeaderBar=function(){var e=t.props,n=e.channel,r=e.channelName,a=e.parentChannel,u=e.guild,l=e.guildId,s=e.isGuest,f=e.showCall,d=e.hasVideo,c=e.isMobile;(0,i.default)(null!=n,"Missing channel in Channel.renderHeaderBar");(0,i.default)(null!=r,"Should not be null if channel is not null.");var p=n.isDM()?t.openUserProfile:void 0,v=null!=(null==a?void 0:a.guild_id)&&null!=(null==a?void 0:a.id)?t.handleTitleParentClick:void 0;return ke(A.default,{guildId:l,channelId:n.id,hideSearch:n.isDirectory(),toolbar:t.renderHeaderToolbar(),className:(0,o.default)(Ae.default.title,d&&f?(0,ce.getThemeClass)(Oe.ThemeTypes.DARK):null),isGuest:s,transparent:f,"aria-label":Te.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},"header-"+n.id,(0,P.renderTitle)({channel:n,channelName:r,parentChannel:a,guild:u,hasVideo:d,isMobile:c,handleContextMenu:t.handleContextMenu,handleParentContextMenu:t.handleParentContextMenu,handleClick:p,handleParentClick:v,
renderFollowButton:t.renderFollowButton}),ke(P.HeaderGuildBreadcrumb,{channel:n,guild:u}),(0,P.renderTopic)(n,u))};return t}var r=t.prototype;r.componentDidMount=function(){(0,B.trackAppUIViewed)("guild_channel")};r.componentDidUpdate=function(e){null!=this.props.channel&&null!=e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1})};r.openChannelContextMenu=function(e,t){var r=this.props.guild;(0,i.default)(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,i.default)(null!=r,"Missing guild in Channel.openChannelContextMenu");(0,f.openContextMenuLazy)(e,je(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(32318)]).then(n.bind(n,532318));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,De({},e,{channel:t,guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))}
;r.openThreadContextMenu=function(e,t){(0,i.default)(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,f.openContextMenuLazy)(e,je(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,De({},e,{channel:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.openDMContextMenu=function(e,t){(0,i.default)(null!=t,"Missing channel in Channel.openDMContextMenu");var r=oe.default.getUser(t.getRecipientId());(0,i.default)(null!=r,"Missing user in Channel.openDMContextMenu");(0,f.openContextMenuLazy)(e,je(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(81085)]).then(n.bind(n,81085));case 2:o=e.sent;i=o.default
;return e.abrupt("return",(function(e){return a.createElement(i,De({},e,{user:r,channelSelected:!0,channel:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.renderCall=function(){var e=this.props,t=e.channel,n=e.showCall,r=e.nsfwAllowed,a=e.nsfwAgree;(0,i.default)(null!=t,"Missing channel in Channel.renderCall");if((null==t?void 0:t.isNSFW())&&(!r||!a))return null;if(!n)return null;switch(t.type){case Oe.ChannelTypes.GUILD_STAGE_VOICE:return ke(G.default,{channel:t},t.id);case Oe.ChannelTypes.GUILD_VOICE:case Oe.ChannelTypes.DM:case Oe.ChannelTypes.GROUP_DM:var o=this.props.height-200;return ke(p.default,{channel:t,renderExternalHeader:this.renderHeaderBar,appContext:Oe.AppContext.APP,maxHeight:o},"call-"+t.id);default:return null}};r.renderChat=function(){var e=this.props,t=e.channel,n=e.nsfwAgree,r=e.guild,a=e.nsfwAllowed,o=e.needSubscriptionToAccess;(0,i.default)(null!=t,"Missing channel in Channel.renderChat");if(o){(0,
i.default)(null!=r,"premium channels must exist within a guild");return ke(b.default,{channelId:t.id,guildId:r.id})}if(t.isNSFW()&&(!a||!n))return ke(Se.default,{guild:r});if(t.isVocal())return null;if(t.isDirectory()){(0,i.default)(null!=r,"directory channels must exist within a guild");return ke(h.default,{channel:t,guild:r})}if(t.type===Oe.ChannelTypes.GUILD_FORUM){(0,i.default)(null!=r,"forum channels must exist within a guild");return ke(_.default,{channel:t,guild:r},t.id)}return ke(pe.default,{channel:t,guild:r,renderThreadNotice:t.isThread(),chatInputType:y.ChatInputTypes.NORMAL},null!=r?r.id:"home")};r.renderSidebar=function(){var e=this.props,t=e.searchId,n=e.channel,r=e.parentChannel,a=e.guild,o=e.needSubscriptionToAccess,u=e.section;(0,i.default)(null!=n,"Missing channel in Channel.renderSidebar");if(o)return null;if(u===Oe.ChannelSections.MEMBERS)switch(n.type){case Oe.ChannelTypes.GROUP_DM:return ke(_e.default,{channel:n},"private-channel-recipients-"+n.id)
;case Oe.ChannelTypes.GUILD_DIRECTORY:case Oe.ChannelTypes.GUILD_FORUM:case Oe.ChannelTypes.GUILD_ANNOUNCEMENT:case Oe.ChannelTypes.GUILD_TEXT:return ke(ye.default,{channel:n},"channel-members-"+n.id);case Oe.ChannelTypes.ANNOUNCEMENT_THREAD:if(null!=r)return ke(ye.default,{channel:r},"channel-members-"+r.id);break;case Oe.ChannelTypes.PUBLIC_THREAD:case Oe.ChannelTypes.PRIVATE_THREAD:if(!n.isArchivedThread()&&null!=a)return ke(ge.default,{channel:n,guild:a},"channel-members-"+n.id)}else if(u===Oe.ChannelSections.SEARCH&&null!=t)return ke(k.default,{searchId:t});return null};r.renderChannelModal=function(){var e=this.props,t=e.guildId,r=e.showWelcomeModal,o=e.isLurking,i=e.showRealNameModal;if(null==t)return null;i&&(0,le.openModalLazy)(je(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74302)]).then(n.bind(n,474302));case 2:r=e.sent;o=r.default
;return e.abrupt("return",(function(e){return a.createElement(o,De({},e,{guildId:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return S.default.viewPrompt(Ie.GuildPrompts.REAL_NAME_PROMPT,t)},modalKey:"Guild Hub Real Name Modal"});r&&(0,le.openModalLazy)(je(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(58095).then(n.bind(n,365760));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,De({},e,{guildId:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return(0,Y.welcomeScreenViewed)(t,o)},modalKey:"Guild Welcome Screen Modal"});return null};r.renderThreadSidebar=function(){var e,t=this.props,n=t.channel,r=t.section,a=t.threadSidebarState,o=t.nsfwAgree,i=t.nsfwAllowed,u=t.width;if(r!==Oe.ChannelSections.SIDEBAR_CHAT||null==a)return null;if((null==n?void 0:n.isNSFW())&&(!i||!o))return null
;switch(a.type){case Z.SidebarType.CREATE:if(null==n?void 0:n.isForumChannel())return null;e=ke(F.default,{parentChannelId:a.parentChannelId,parentMessageId:a.parentMessageId,location:a.location});break;case Z.SidebarType.VIEW_THREAD:e=ke((null==n?void 0:n.isForumChannel())?g.default:H.default,{channelId:a.channelId});break;case Z.SidebarType.VIEW_CHANNEL:return null;default:(0,de.assertNever)(a)}var l=u-Oe.CHANNEL_SIDEBAR_WIDTH-450;return ke(ve.default,{sidebarType:(null==n?void 0:n.type)===Oe.ChannelTypes.GUILD_FORUM?ve.ChatSidebarType.PostSidebar:ve.ChatSidebarType.ThreadSidebar,maxWidth:l,onWidthChange:this.handleThreadSidebarResize},void 0,e)};r.render=function(){var e,t,n=this.props,r=n.channel,s=n.channelName,f=n.guild,d=n.showCall,c=n.inCall,p=n.voiceChannel,v=n.isUnavailable,y=n.hasModalOpen,h=n.layout,_=n.section,g=n.needSubscriptionToAccess,E=this.state,S=E.threadSidebarWidth,O=E.isThreadSidebarFloating;if(v)return Ge;if(null==r)return ke(me.default,{
channelId:this.props.channelId});var b=null==f?void 0:f.hasFeature(Oe.GuildFeatures.TEXT_IN_VOICE_ENABLED);if(!g&&!b&&(null==r?void 0:r.isVocal())&&!c){var I=r.getGuildId(),C=null==p?void 0:p.getGuildId();(0,i.default)(null!=I,"Guild voice channel without guild id.");if(!(null==p?void 0:p.isVocal())||C!==I||r.id===(null==p?void 0:p.id)){var T=(0,m.getGuildIdForGenericRedirect)(r);return ke(l.Redirect,{to:(0,fe.previousTextChannelRouteForGuild)(null!=T?T:I)})}var A=(0,m.getGuildIdForGenericRedirect)(p);return ke(l.Redirect,{to:Oe.Routes.CHANNEL(A,p.id)})}var P=_===Oe.ChannelSections.SIDEBAR_CHAT;return a.createElement(a.Fragment,null,ke(u.Helmet,{title:s}),ke("div",{className:(0,o.default)(Ae.default.chat,(e={},e[Ae.default.threadSidebarOpen]=P,e[Ae.default.threadSidebarFloating]=P&&O,e))},void 0,r.isForumChannel()?null:ke(Ee.default,{style:{right:P?S:void 0},className:Ae.default.uploadArea,channel:r,draftType:Q.DraftType.ChannelMessage
}),d?null:this.renderHeaderBar(),this.renderCall(),ke("div",{className:(0,o.default)(Ae.default.content,(t={},t[Ae.default.noChat]=h===Oe.ChannelLayouts.NO_CHAT,t))},void 0,this.renderChat(),this.renderSidebar()),y?null:this.renderChannelModal()),this.renderThreadSidebar())};return t}(a.PureComponent);Fe.displayName="Channel";var xe=(0,d.default)(Fe),Ve=a.memo((function(){var e,t=Re(a.useState(null),2),n=t[0],r=t[1],o=(0,s.useStateFromStores)([ae.default],(function(){return ae.default.getChannelId()})),i=(0,s.useStateFromStores)([ae.default],(function(){return ae.default.getVoiceChannelId()})),u=(0,s.useStateFromStores)([c.default],(function(){return null!=o&&c.default.getParticipants(o).length>0}),[o]),f=(0,s.useStateFromStores)([X.default],(function(){return X.default.getChannel(o)}),[o]),d=(0,s.useStateFromStores)([X.default],(function(){return X.default.getChannel(i)}),[i]),p=null==f?void 0:f.parent_id,y=(0,s.useStateFromStores)([X.default],(function(){
return X.default.getChannel(p)}),[p]),h=(0,s.useStateFromStores)([te.default],(function(){return te.default.getGuild(null==f?void 0:f.guild_id)}),[f]),m=(0,O.default)(null!==(e=null==f?void 0:f.id)&&void 0!==e?e:void 0).needSubscriptionToAccess,_=(null==h?void 0:h.hasFeature(Oe.GuildFeatures.TEXT_IN_VOICE_ENABLED))&&(null==f?void 0:f.isVocal())||u,g=(0,l.useLocation)().welcomeModalChannelId,E=(0,s.useStateFromStores)([D.default],(function(){return null!=f&&D.default.isLurking(f.guild_id)}),[f]),S=(0,s.useStateFromStores)([$.default],(function(){return $.default.hasSeen(null==f?void 0:f.guild_id,E)}),[f,E]),b=(0,s.useStateFromStores)([c.default],(function(){return null!=o?c.default.getLayout(o):Oe.ChannelLayouts.NORMAL}),[o]),I=(0,s.useStateFromStores)([c.default],(function(){return null!=f?c.default.getSelectedParticipant(f.id):null})),C=(0,s.useStateFromStores)([oe.default],(function(){return oe.default.getCurrentUser()})),T=(0,
R.default)(h),A=g===o&&null!=f&&f.getGuildId()===(null==h?void 0:h.id)&&(0,K.isGuildTextChannelType)(f.type)&&(null==h?void 0:h.hasFeature(Oe.GuildFeatures.WELCOME_SCREEN_ENABLED))&&(null==h?void 0:h.hasFeature(Oe.GuildFeatures.COMMUNITY)),P=(0,s.useStateFromStoresObject)([Z.default],(function(){return{section:Z.default.getSection(o),threadSidebarState:Z.default.getSidebarState(o)}})),M=P.section,N=P.threadSidebarState,j=(0,v.default)(f),k=null!=f&&i===f.id,G=null!=f&&f.isGuildStageVoice();a.useEffect((function(){var e,t=(0,L.getHistory)();if((null==t||null===(e=t.location)||void 0===e?void 0:e.state)===Ce.STAGE_INVITE_STATE_KEY){var n,a,o=(null!==(n=(0,w.tryParseChannelPath)(null==t||null===(a=t.location)||void 0===a?void 0:a.pathname))&&void 0!==n?n:{}).channelId;null!=o&&r(o)}}),[]);a.useEffect((function(){if(n&&null!=f&&G&&f.id===n&&!k){(0,U.connectAndOpen)(f);r(null)}}),[n,G]);return a.createElement(xe,De({guildId:null==f?void 0:f.guild_id,channelId:o,channel:f,channelName:j,
parentChannel:y,voiceChannel:d,layout:b,needSubscriptionToAccess:m,isLurking:E,hasModalOpen:(0,le.hasAnyModalOpen)(),section:M,threadSidebarState:N,guild:h,searchId:(0,s.useStateFromStores)([re.default],(function(){return re.default.getCurrentSearchId()})),showCall:!m&&_,nsfwAgree:(0,s.useStateFromStores)([ee.default],(function(){return ee.default.didAgree(null==f?void 0:f.guild_id)})),isMobile:(0,s.useStateFromStores)([ne.default],(function(){return(null==f?void 0:f.type)===Oe.ChannelTypes.DM&&ne.default.isMobileOnline(f.getRecipientId())}),[f]),isGuest:(0,s.useStateFromStores)([q.default],(function(){return q.default.isGuest()})),isUnavailable:(0,s.useStateFromStores)([J.default],(function(){return null!=(null==f?void 0:f.guild_id)&&J.default.isUnavailable(f.guild_id)}),[f]),showRealNameModal:T,showWelcomeModal:!S&&A,showFollowButton:(null==f?void 0:f.type)===Oe.ChannelTypes.GUILD_ANNOUNCEMENT&&(null==h?void 0:h.hasFeature(Oe.GuildFeatures.NEWS))||!1},(0,
s.useStateFromStoresObject)([ie.default],(function(){return{hasVideo:null!=f&&ie.default.hasVideo(f.id)}}),[f]),{inCall:k,selectedParticipant:I,nsfwAllowed:!0===(null==C?void 0:C.nsfwAllowed)}))}));t.default=Ve},914789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=me(n(667294)),o=ye(n(441143)),i=ye(n(95298)),u=n(536211),l=ye(n(186705)),s=ye(n(786345)),f=ye(n(55189)),d=ye(n(413546)),c=ye(n(274710)),p=n(81069),v=n(354575),y=ye(n(235879)),h=ye(n(844784)),m=ye(n(400704)),_=n(65621),g=ye(n(462936)),E=ye(n(906682)),S=ye(n(440214)),O=ye(n(271180)),b=n(856746),I=n(207052),C=n(192071),T=n(838574),A=n(105149),P=n(250916),M=n(457676),N=n(514756),R=n(62017),w=ye(n(614293)),D=ye(n(803069)),L=n(808484),j=n(886090),k=ye(n(359342)),U=n(770755),G=ye(n(734239)),F=ye(n(527820)),x=ye(n(502546)),V=me(n(687549)),W=ye(n(409205)),H=ye(n(201292)),B=ye(n(689389)),z=ye(n(211136)),Y=ye(n(680873)),$=n(644105),K=ye(n(160629)),q=n(221656),Z=n(194322),X=ye(n(308920)),Q=n(993442),J=n(956506),ee=n(871382),te=n(245838),ne=n(247726),re=n(738326),ae=ye(n(695519)),oe=ye(n(576967)),ie=ye(n(756873)),ue=ye(n(786630)),le=ye(n(284382)),se=ye(n(626341)),fe=n(770348),de=n(963804),ce=ye(n(247001)),pe=ye(n(149563)),ve=["isSidebar"];function ye(e){return e&&e.__esModule?e:{default:e}
}function he(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(he=function(e){return e?n:t})(e)}function me(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=he(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){
if(!e)return;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function Se(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Se(o,r,a,i,u,"next",e)}function u(e){Se(o,r,a,i,u,"throw",e)}i(void 0)}))}}function be(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ie(e,t)}function Ie(e,t){Ie=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ie(e,t)}function Ce(){Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ce.apply(this,arguments)}function Te(e){e.preventDefault()}var Ae=/^\+(?!\w+):?(?!:)(\w+)?:?$/;function Pe(e){var t=e.isSidebar,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,ve)
;return t?a.createElement("section",Ce({},n,{"aria-label":ce.default.Messages.THREAD,role:"complementary"})):a.createElement("main",n)}var Me=function(e){be(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).isFirstChange=!0;t.state={textValue:V.default.getDraft(t.props.channel.id,V.DraftType.ChannelMessage),richValue:i.default.deserialize(V.default.getDraft(t.props.channel.id,V.DraftType.ChannelMessage)),contentWarningProps:null};t.draftDidChange=function(e){void 0===e&&(e=t.props);var n=t.state.textValue,r=V.default.getDraft(e.channel.id,V.DraftType.ChannelMessage);n===r||""!==r&&""!==n||t.setState({textValue:r,richValue:i.default.deserialize(r)},(function(){if(n!==r){var e=t.props.onFocus;null==e||e()}}))};t.handleKeyDown=function(e){var n=t.props,r=n.keyboardModeEnabled,a=n.onKeyDown,o=n.channel,i=e.shiftKey||e.altKey||e.ctrlKey||e.metaKey,u=0!==t.state.textValue.length;switch(e.which){
case fe.KeyboardKeys.ARROW_UP:if(i)return;if(u)return;e.preventDefault();if(r)Y.default.getUploadCount(o.id,V.DraftType.ChannelMessage)>0?J.ComponentDispatch.dispatchToLastSubscribed(fe.ComponentActions.FOCUS_ATTACHMENT_AREA):J.ComponentDispatch.dispatchToLastSubscribed(fe.ComponentActions.FOCUS_MESSAGES,{atEnd:!0});else{var l=t.props.channel,f=H.default.getLastEditableMessage(l.id);if(null!=f){s.default.startEditMessage(l.id,f.id,f.content);h.default.trackWithMetadata(fe.AnalyticEvents.MESSAGE_EDIT_UP_ARROW)}}return;case fe.KeyboardKeys.ESCAPE:if(i)return;if(e.target!==e.currentTarget)return;e.preventDefault();if(r){(0,v.disableKeyboardMode)();return}if(Y.default.getUploadCount(o.id,V.DraftType.ChannelMessage)>0){d.default.clearAll(o.id,V.DraftType.ChannelMessage);return}}null==a||a(e,u)};t.handleTextareaChange=function(e,n,r){var a=t.props,o=a.keyboardModeEnabled,i=a.channel.id;l.default.changeDraft(i,n,V.DraftType.ChannelMessage)
;var u=""!==n&&r.document!==t.state.richValue.document,s=u&&!Ae.test(n)&&!n.startsWith("/")&&(!t.isFirstChange||n!==t.state.textValue);t.isFirstChange=!1;s?f.default.startTyping(i):""===n&&f.default.stopTyping(i);u&&o&&(0,v.disableKeyboardMode)();t.setState({textValue:n,richValue:r})};t.handleSendMessage=function(){var e=Oe(regeneratorRuntime.mark((function e(n,r,a,o,u,l){var f,v,y,h,E,S,O,b,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f=n;if(0!==(n=n.trim()).length||null!=a&&0!==a.length||null!=r&&0!==r.length){e.next=4;break}return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0}));case 4:v=t.props,y=v.guild,h=v.channel,E=v.pendingReply,S=v.chatInputType;O=!1;if(null==o){e.next=18;break}if(o.inputType!==_.ApplicationCommandInputType.BUILT_IN_INTEGRATION){e.next=10;break}J.ComponentDispatch.dispatch(fe.ComponentActions.SHAKE_APP,{duration:200,intensity:2});return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0
}));case 10:e.next=12;return(0,g.default)(o,null!=u?u:{},{guild:y,channel:h});case 12:b=e.sent;if(o.inputType!==_.ApplicationCommandInputType.BUILT_IN_TEXT){e.next=17;break}if(null!=b){n=null!=b.content&&""!==b.content?b.content:n;O=!0===b.tts}e.next=18;break;case 17:return e.abrupt("return",Promise.resolve({shouldClear:!0,shouldRefocus:!0}));case 18:if(null!==o||null==y||!f.startsWith(de.COMMAND_SENTINEL)){e.next=23;break}if((I=f.substring(1))!==I.trimStart()||m.default.hasResults(I,p.ApplicationCommandType.CHAT)){e.next=23;break}J.ComponentDispatch.dispatch(fe.ComponentActions.SHAKE_APP,{duration:200,intensity:2});return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0}));case 23:return e.abrupt("return",(0,ee.applyChatRestrictions)({openWarningPopout:function(e){return t.setState({contentWarningProps:e})},type:t.props.chatInputType,content:n,stickers:a,uploads:r,channel:h}).then((function(e){var o=e.valid,u=e.failureReason;if(!o){
if(u===fe.MessageRestrictionTypes.SLOWMODE_COOLDOWN){J.ComponentDispatch.dispatch(fe.ComponentActions.SHAKE_APP,{duration:200,intensity:2});J.ComponentDispatch.dispatch(fe.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN);return{shouldClear:!1,shouldRefocus:!0}}return{shouldClear:!1,shouldRefocus:!1}}var f=s.default.getSendMessageOptionsForReply(E),p=w.default.parse(h,n);p.tts=p.tts||O;if(l){s.default.sendMessage(h.id,p,void 0,f);(0,j.deletePendingReply)(h.id);return{shouldClear:!1,shouldRefocus:!0}}if(null!=r&&r.length>0){var v=(0,re.getWebUploadFiles)(r);if((0,re.filesExceedUploadLimits)(v,null==y?void 0:y.id)){(0,ne.showUploadFileSizeExceededError)(h,v);return{shouldClear:!1,shouldRefocus:!1}}c.default.uploadFiles(h.id,r,V.DraftType.ChannelMessage,p,Ce({},f,{stickerIds:a}));d.default.clearAll(h.id,V.DraftType.ChannelMessage)}else null!=a&&a.length>0?""!==n?s.default.sendMessage(h.id,p,void 0,Ce({},f,{stickerIds:a
})):s.default.sendStickers(h.id,a,n,f,p.tts):s.default.sendMessage(h.id,p,void 0,f);t.setState({textValue:"",richValue:i.default.deserialize("")});(0,j.deletePendingReply)(h.id);(0,U.clearStickerPreview)(h.id,S.drafts.type);return{shouldClear:!0,shouldRefocus:!0}})));case 24:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}();t.renderAttachButton=function(e){return Ee(S.default,{className:e,channel:t.props.channel,draftType:V.DraftType.ChannelMessage,editorTextContent:t.state.textValue})};return t}var n=t.prototype;n.componentDidMount=function(){V.default.addChangeListener(this.draftDidChange)};n.componentWillUnmount=function(){V.default.removeChangeListener(this.draftDidChange)};n.componentDidUpdate=function(e,t){var n=this.props.channel,r=this.state.textValue;if(e.channel.id===n.id){if(e.hasModalOpen&&!this.props.hasModalOpen){var a=V.default.getDraft(n.id,V.DraftType.ChannelMessage);a!==r&&this.setState({textValue:a,
richValue:i.default.deserialize(a)})}t.textValue.length<fe.MAX_MESSAGE_LENGTH&&r.length>=fe.MAX_MESSAGE_LENGTH&&X.default.track(fe.AnalyticEvents.MESSAGE_LENGTH_LIMIT_REACHED,{})}else this.draftDidChange(this.props)};n.render=function(){var e=this,t=this.props,n=t.channel,r=t.focused,i=t.onResize,u=t.onBlur,l=t.onFocus,s=t.highlighted,f=t.pendingReply,d=t.chatInputType,c=t.placeholder,p=this.state.contentWarningProps;return Ee(K.default,{position:K.default.Positions.TOP,onRequestClose:function(){var t;null==p||null===(t=p.onCancel)||void 0===t||t.call(p);e.setState({contentWarningProps:null})},shouldShow:null!=p,renderPopout:function(e){var t=e.closePopout;(0,o.default)(null!=p,"ChannelTextAreaForm > Popout > renderPopout: contentWarningProps cannot be null");return a.createElement(se.default,Ce({onClose:t},p))}},void 0,(function(){return Ee(O.default,{textValue:e.state.textValue,richValue:e.state.richValue,focused:r,className:pe.default.channelTextArea,channel:n,placeholder:c,
pendingReply:f,type:d,onChange:e.handleTextareaChange,onSubmit:e.handleSendMessage,onResize:i,onFocus:l,onBlur:u,onKeyDown:e.handleKeyDown,renderAttachButton:e.renderAttachButton,promptToUpload:ne.promptToUpload,highlighted:s})}))};return t}(a.PureComponent);Me.displayName="ChannelTextAreaForm";var Ne=Ee(q.ChatLayerContainer,{}),Re=function(e){be(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).inputFormRef=a.createRef();t.state={textAreaFocused:!1,textAreaHighlighted:!1,currentChannelId:t.props.channel.id};t.dispatchGroupRef=a.createRef();t.handleRequestFocus=function(e){e.channelId===t.props.channel.id&&t.setState({textAreaFocused:!0})};t.getAnalyticsPage=function(){var e=t.props.channel;if(null==e)return null;switch(e.type){case fe.ChannelTypes.GUILD_ANNOUNCEMENT:case fe.ChannelTypes.GUILD_TEXT:case fe.ChannelTypes.GUILD_FORUM:return le.default.Pages.GUILD_CHANNEL;case fe.ChannelTypes.GROUP_DM:
case fe.ChannelTypes.DM:return le.default.Pages.DM_CHANNEL;default:return null}};t.handleInputFocus=function(e){var n;null===(n=t.dispatchGroupRef.current)||void 0===n||n.bumpDispatchPriority();(0,te.isFullScreen)()||(null!=(null==e?void 0:e.highlight)?t.setState({textAreaFocused:!0,textAreaHighlighted:null==e?void 0:e.highlight}):t.setState({textAreaFocused:!0}))};t.handleInputBlur=function(){(document.hasFocus()||t.props.hasModalOpen)&&t.setState({textAreaFocused:!1,textAreaHighlighted:!1})};t.handleInputKeyDown=function(e,n){t.state.textAreaHighlighted&&t.setState({textAreaHighlighted:!1});n||t._handleMoveToPane(e)};t.handleKeyDown=function(e){var n;(null===(n=t.inputFormRef.current)||void 0===n?void 0:n.contains(e.target))||t._handleMoveToPane(e)};t._handleMoveToPane=function(e){var n=t.props,r=n.keyboardModeEnabled,a=n.chatInputType,o=n.channel;if(r)switch(e.which){case fe.KeyboardKeys.ARROW_LEFT:
a===b.ChatInputTypes.SIDEBAR&&J.ComponentDispatch.dispatch(fe.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:z.default.getChannelId()});return;case fe.KeyboardKeys.ARROW_RIGHT:a===b.ChatInputTypes.NORMAL&&J.ComponentDispatch.dispatch(fe.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:x.default.getCurrentSidebarChannelId(o.id)})}};t.handleOpenExpressionPicker=function(e){var n=e.activeView;(0,P.openExpressionPicker)(n,t.props.chatInputType)};t.handleChatInteract=function(){var e;null===(e=t.dispatchGroupRef.current)||void 0===e||e.bumpDispatchPriority()};t.renderMessageBanner=function(e,t,n,r,a){if(e.type===fe.ChannelTypes.DM){if(t)return Ee(A.SenderSpammerBanner,{channel:e});if(n)return Ee(T.FirstDMReportSpamBanner,{channel:e})}return null!=a&&(0,M.isCommunicationDisabled)(a)&&null!=r?Ee(R.CommunicationDisabledBanner,{guild:r,disabledUntil:a}):null};return t}t.getDerivedStateFromProps=function(e,t){var n=e.channel,r=t.currentChannelId;return n.id!==r?{
textAreaFocused:null!=n&&B.default.can(fe.Permissions.SEND_MESSAGES,n),currentChannelId:n.id}:null};var n=t.prototype;n.componentDidMount=function(){J.ComponentDispatch.subscribe(fe.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};n.componentDidUpdate=function(e){this.props.isEditing===e.isEditing&&this.props.hasModalOpen===e.hasModalOpen||(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus())};n.componentWillUnmount=function(){J.ComponentDispatch.unsubscribe(fe.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};n.render=function(){var e,t=this.props,n=t.channel,r=t.guild,o=t.keyboardModeEnabled,i=t.hasModalOpen,u=t.pendingReply,l=t.chatInputType,s=t.renderThreadNotice,f=t.placeholder,d=t.showNonFriendDMAcceptBanner,c=t.filterAfterTimestamp,p=t.showSpamBanner,v=t.communicationDisabledUntil,y=this.state,h=y.textAreaFocused,m=y.textAreaHighlighted,_=n.isPrivate()?oe.default:ie.default;return Ee(le.default,{
page:this.getAnalyticsPage()},"messages-"+n.id,Ee(q.ChatLayerProvider,{},void 0,a.createElement(Q.ComponentDispatchGroupProvider,{ref:this.dispatchGroupRef},Ee(Q.ComponentAction,{event:fe.ComponentActions.TEXTAREA_FOCUS,handler:this.handleInputFocus}),Ee(Q.ComponentAction,{event:fe.ComponentActions.TEXTAREA_BLUR,handler:this.handleInputBlur}),Ee(Q.ComponentAction,{event:fe.ComponentActions.OPEN_EXPRESSION_PICKER,handler:this.handleOpenExpressionPicker}),Ee(Pe,{isSidebar:l===b.ChatInputTypes.SIDEBAR,className:pe.default.chatContent,"aria-label":ce.default.Messages.CHANNEL_A11Y_LABEL.format({channelName:n.name}),onMouseDown:this.handleChatInteract,onKeyDown:this.handleKeyDown,onFocus:this.handleChatInteract},void 0,s?Ee(G.default,{channel:n}):null,(0,L.isReadStateStaffExperimentEnabled)()?Ee(ae.default,{guild:r,channel:n}):null,Ee(D.default,{channel:n,showingFirstMessageBanner:d,filterAfterTimestamp:c,showingSpamBanner:p
}),null!==(e=this.renderMessageBanner(n,p,d,r,v))&&void 0!==e?e:a.createElement("form",{ref:this.inputFormRef,onSubmit:Te,className:pe.default.form},Ee(_,{channel:n},void 0,Ee(F.default,{tutorialId:"writing-messages",position:$.PopoutPositions.LEFT,offsetX:75},void 0,Ee(Me,{focused:h,highlighted:m,channel:n,guild:r,keyboardModeEnabled:o,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,hasModalOpen:i,pendingReply:u,chatInputType:l,placeholder:f}))),Ee(ue.default,{channel:n})),Ne))))};return t}(a.PureComponent);Re.displayName="ChannelChat";var we=a.memo((function(e){var t=e.channel,n=e.guild,r=e.chatInputType,a=e.renderThreadNotice,o=e.filterAfterTimestamp,i=(0,E.default)(t),l=(0,C.useAndTrackNonFriendDMAccept)(t).showBanner,s=(0,I.useAndTrackDMSpamAccept)(t).showSpamBanner,f=_e((0,N.useCurrentUserCommunicationDisabled)(null==n?void 0:n.id),1)[0];return Ee(Re,{channel:t,isEditing:null!=(0,u.useStateFromStores)([W.default],(function(){
return W.default.getEditingMessageId(t.id)})),hasModalOpen:(0,Z.useModalsStore)(Z.hasAnyModalOpenSelector),guild:n,keyboardModeEnabled:(0,u.useStateFromStores)([y.default],(function(){return y.default.keyboardModeEnabled})),pendingReply:(0,u.useStateFromStores)([k.default],(function(){return k.default.getPendingReply(t.id)})),chatInputType:r,renderThreadNotice:a,placeholder:i,showNonFriendDMAcceptBanner:l,filterAfterTimestamp:o,showSpamBanner:s,communicationDisabledUntil:f})}));t.default=we},695519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=h(n(770549)),i=h(n(678928)),u=n(567186),l=h(n(644263)),s=h(n(563621)),f=h(n(956117)),d=h(n(811198)),c=h(n(776360)),p=n(770348),v=h(n(247001)),y=h(n(36656));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.guild,n=e.channel,r=(0,a.useStateFromStoresObject)([l.default,s.default],(function(){return{
category:null!=n.parent_id?l.default.getChannel(n.parent_id):null,isGuildMuted:s.default.isMuted(n.getGuildId()),isCategoryMuted:null!=n.parent_id&&s.default.isChannelMuted(n.getGuildId(),n.parent_id),isChannelMuted:s.default.isChannelMuted(n.getGuildId(),n.id),messageNotifications:s.default.resolvedMessageNotifications(n)}})),h=r.category,m=r.isGuildMuted,g=r.isCategoryMuted,E=r.isChannelMuted,S=r.messageNotifications,O=(0,i.default)(n,!0);if(!(0,u.isTextChannel)(n.type)||n.isThread())return null;var b,I,C,T=m||g||E;if(T){var A;if(m){var P;A=null!==(P=null==t?void 0:t.name)&&void 0!==P?P:"???";C=function(){return o.default.updateGuildNotificationSettings(n.getGuildId(),{muted:!1})}}else if(g){var M;A=null!==(M=null==h?void 0:h.name)&&void 0!==M?M:"???";C=function(){return o.default.updateChannelOverrideSettings(n.getGuildId(),n.parent_id,{muted:!1})}}else{A=O;C=function(){return o.default.updateChannelOverrideSettings(n.getGuildId(),n.id,{muted:!1})}}
b=v.default.Messages.CHANNEL_CHAT_NOTIFICATION_SETTINGS_NOTICE_MUTED.format({name:A});I=v.default.Messages.UNMUTE}else{if(S===p.UserNotificationSettings.ALL_MESSAGES)return null;b=v.default.Messages.CHANNEL_CHAT_NOTIFICATION_SETTINGS_NOTICE_ONLY_MENTIONS.format({name:O});I=v.default.Messages.ENABLE_NOTIFICATIONS_TITLECASE;C=function(){return o.default.updateChannelOverrideSettings(n.getGuildId(),n.id,{message_notifications:p.UserNotificationSettings.ALL_MESSAGES})}}return _("div",{className:y.default.chatHeaderBar},void 0,_(d.default,{className:y.default.chatHeaderBarIcon,foreground:T?y.default.chatHeaderBarIconStrikethrough:void 0}),_(c.default,{className:y.default.chatHeaderBarText,size:c.default.Sizes.SIZE_14,color:c.default.Colors.HEADER_SECONDARY},void 0,b),_(f.default,{size:f.default.Sizes.TINY,color:f.default.Colors.GREY,className:y.default.chatHeaderBarButton,onClick:C},void 0,I))}g.displayName="ChannelChatNotificationSettingsNotice"},174851:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.MIN_CHAT_SIDEBAR_WIDTH=t.ChatSidebarType=void 0;t.default=function(e){var t,n=e.sidebarType,r=e.maxWidth,l=e.onWidthChange,d=e.children,c=a.useRef(null),p=function(e){switch(e){case h.PostSidebar:return"postSidebarWidth";case h.ThreadSidebar:return"threadSidebarWidth";case h.CallChatSidebar:return"callChatSidebarWidth"}}(n),g=(C=a.useState(s.default[p]),T=2,function(e){if(Array.isArray(e))return e}(C)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(C,T)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(C,T)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),E=g[0],S=g[1],O=a.useCallback((function(e){var t;u.default.updatedUnsyncedSettings(((t={})[p]=e,t))}),[p]),b=r<=m,I=(0,i.clamp)(E,m,r);var C,T;a.useEffect((function(){null==l||l(I,b)}),[I,l,b]);return a.createElement(a.Fragment,null,!b&&y(_,{maxWidth:r,resizableNode:c,onResize:S,onResizeEnd:O}),a.createElement("div",{ref:c,className:(0,o.default)(f.default.container,(t={},t[f.default.floating]=b,t)),style:{width:I}},d))};var r,a=p(n(667294)),o=d(n(294184)),i=n(496486),u=d(n(929031)),l=p(n(33273)),s=d(n(174508)),f=d(n(542709));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){
return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var h,m=400;t.MIN_CHAT_SIDEBAR_WIDTH=m;t.ChatSidebarType=h;!function(e){e[e.PostSidebar=0]="PostSidebar";e[e.ThreadSidebar=1]="ThreadSidebar";e[e.CallChatSidebar=2]="CallChatSidebar"}(h||(t.ChatSidebarType=h={}));function _(e){var t=e.resizableNode,n=e.onResize,r=e.onResizeEnd,a=e.maxWidth;return y("div",{onMouseDown:(0,l.default)({minDimension:m,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:l.ResizeOrientation.HORIZONTAL}),className:f.default.resizeHandle})}_.displayName="ResizeHandle"},416274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=re
;var r,a=x(n(667294)),o=G(n(294184)),i=G(n(496486)),u=x(n(798628)),l=n(536211),s=G(n(389726)),f=n(378158),d=n(911574),c=G(n(55189)),p=G(n(235879)),v=G(n(843314)),y=G(n(844784)),h=n(632123),m=n(75639),_=n(252404),g=G(n(527820)),E=G(n(711195)),S=G(n(414068)),O=x(n(778548)),b=G(n(663303)),I=G(n(946447)),C=G(n(160629)),T=G(n(325908)),A=G(n(827436)),P=G(n(521358)),M=n(956506),N=n(71246),R=G(n(922629)),w=G(n(810332)),D=n(770348),L=G(n(247001)),j=G(n(645320)),k=["colorString","isOwner","nick","user","activities","applicationStream","status","channel","guildId","isTyping","isMobileOnline","premiumSince"],U=["ref","role"];function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function z(){z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])
}return e};return z.apply(this,arguments)}function Y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Y(o,r,a,i,u,"next",e)}function u(e){Y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function K(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;q(e,t)}function q(e,t){q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return q(e,t)}var Z=R.default.getEnableHardwareAcceleration(),X={origin:{x:38,y:11},targetWidth:232,targetHeight:40,offset:{x:0,y:0}},Q=function(e){K(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).renderUserContextMenu=function(e){(0,f.openContextMenuLazy)(e,$(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(41501),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,z({},e,{user:t.props.user,guildId:t.props.guildId,channelId:t.props.channel.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleShiftClick=function(){var e=t.props,n=e.user,r=n.username,a=n.tag,o=e.channel.id,i="@"+(b.default.hidePersonalInformation?r:a);M.ComponentDispatch.dispatchToLastSubscribed(D.ComponentActions.INSERT_TEXT,{content:i});c.default.startTyping(o)};t.openGuildSubscriptionModal=function(e){var n=t.props.guildId;if(null!=n){e.stopPropagation();(0,m.openGuildBoostingMarketingModal)({guildId:n,location:{section:D.AnalyticsSections.MEMBER_LIST,object:D.AnalyticsObjects.BOOST_GEM_ICON}})}};t.renderUserPopout=function(e){return a.createElement(S.default,z({},e,{userId:t.props.user.id,guildId:t.props.guildId,
channelId:t.props.channel.id}))};return t}var r=t.prototype;r.shouldComponentUpdate=function(e){return!(0,s.default)(this.props,e,["channelId"])};r.render=function(){var e=this,t=this.props,n=t.colorString,r=t.isOwner,o=t.nick,i=t.user,u=t.activities,l=t.applicationStream,s=t.status,f=t.channel,d=t.guildId,c=t.isTyping,p=t.isMobileOnline,v=t.premiumSince,y=B(t,k),h=null!=v?new Date(v):null;return H(C.default,{preload:function(){return(0,E.default)(i.id,i.getAvatarURL(d,80),{guildId:d})},renderPopout:this.renderUserPopout,position:C.default.Positions.LEFT,spacing:16,onShiftClick:this.handleShiftClick},void 0,(function(t,v){var m=v.isShown;return a.createElement(w.default,z({onContextMenu:e.renderUserContextMenu,shouldAnimateStatus:Z,user:i,nick:o,status:s,activities:u,applicationStream:l,isOwner:r,premiumSince:h,colorString:n,isTyping:c,channel:f,guildId:d,isMobile:p,onClickPremiumGuildIcon:e.openGuildSubscriptionModal,selected:m,itemProps:y},t))}))};return t}(a.Component)
;Q.displayName="ChannelMember";var J=a.memo((function(e){var t=e.channel,n=e.user,r=e.index,o=(0,u.useListItem)(""+r),i=(0,l.useStateFromStores)([I.default],(function(){return I.default.isTyping(t.id,n.id)}));return a.createElement(Q,z({},e,o,{isTyping:i}))})),ee=a.memo((function(e){var t=e.id,n=e.title,r=e.count,o=e.guildId,i=(0,_.useRoleIcon)({roleId:t,guildId:o,size:16});return t===D.StatusTypes.UNKNOWN?H("div",{className:j.default.membersGroup},void 0,H("div",{className:j.default.memberGroupsPlaceholder})):H(T.default,{className:j.default.membersGroup},void 0,H(v.default,{},void 0,L.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:r})),H("span",{"aria-hidden":!0},void 0,null!=i?a.createElement(A.default,z({className:j.default.roleIcon},i)):null,n," â€” ",r))}));function te(e){var t=e.index,n=(0,u.useListItem)(""+t);return H(w.default,{itemProps:n})}te.displayName="ChannelMemberPlaceholder";var ne=function(e){K(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._list=null;t.setList=function(e){t._list=e;t.props.listRef.current=e};t.renderSection=function(e){var n=e.section,r=t.props,o=r.groups,i=r.channel,u=o[n];return 0===n?H(g.default,{tutorialId:"whos-online",position:C.default.Positions.LEFT,inlineSpecs:X},"section-"+n,a.createElement(ee,z({},u,{guildId:i.guild_id}))):a.createElement(ee,z({},u,{key:"section-"+n,guildId:i.guild_id}))};t.getRowProps=function(e){var n=t.props,r=n.groups,a=n.rows,o=r[e.section];if(null==o)return null;var i=o.index;return null==i||"row"!==e.type?null:a[i+1+e.row]};t.renderRow=function(e){var n=e.section,r=e.row,a=e.rowIndex,o=t.props.channel,i=t.getRowProps(e);if(null!=i&&i.type===O.MemberListRowTypes.MEMBER&&"user"in i){var u=i.colorString,l=i.user,s=i.status,f=i.isOwner,d=i.isMobileOnline,c=i.nick,p=i.activities,v=i.applicationStream,y=i.premiumSince;return H(J,{colorString:u,user:l,status:s,
isOwner:f,nick:c,activities:p,applicationStream:v,channel:o,guildId:o.guild_id,premiumSince:y,isMobileOnline:d,index:a},"member-"+i.user.id)}return H(te,{index:a},"placeholder-"+n+":"+r)};t.handleScroll=function(){t.updateSubscription()};t.updateSubscription=i.default.debounce((function(){if(null!=t._list){var e=t.props.channel,n=t.getDimensions(),r=n.rowHeight,a=n.y,o=n.height;(0,d.subscribeChannelDimensions)(e.guild_id,e.id,a,o,r)}}),50);t.trackMemberListViewed=function(){var e;if(t.lastReportedAnalyticsChannel!==t.props.channel.id){var n=null===(e=t._list)||void 0===e?void 0:e.getItems(),r=t.getDimensions().rowsVisible;if(void 0!==r&&0!==r&&null!=n){var a=n.map((function(e){return t.getRowProps(e)})).slice(0,r+1).filter(N.isNotNullish);if(0!==a.length){var o=a.reduce((function(e,t){if(t.type!==O.MemberListRowTypes.MEMBER)return e;e.num_users_visible++;t.isMobileOnline&&e.num_users_visible_with_mobile_indicator++;if(null!=t.activities&&t.activities.length>0){
e.num_users_visible_with_activity++;t.activities.some((function(e){return e.type===D.ActivityTypes.PLAYING}))&&e.num_users_visible_with_game_activity++}return e}),{num_users_visible:0,num_users_visible_with_mobile_indicator:0,num_users_visible_with_game_activity:0,num_users_visible_with_activity:0});t.lastReportedAnalyticsChannel=t.props.channel.id;y.default.trackWithMetadata(D.AnalyticEvents.MEMBER_LIST_VIEWED,z({},o))}}}};return t}var n=t.prototype;n.shouldComponentUpdate=function(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version||e.groups.length!==this.props.groups.length};n.componentDidMount=function(){this.updateSubscription();this.trackMemberListViewed()};n.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription();this.trackMemberListViewed()};n.getDimensions=function(){var e=this._list;if(null==e)return{y:0,height:0,rowHeight:0};var t=e.getScrollerState(),n=t.offsetHeight,r=t.scrollTop;return{height:n,
rowHeight:44,rowsVisible:Math.floor(n/44),y:r}};n.render=function(){var e=this,t=this.props,n=t.groups,r=t.listId,i=t.channel;return H(h.FocusJumpSection,{},void 0,(function(t){return H("aside",{className:(0,o.default)(j.default.membersWrap,j.default.hiddenMembers),"aria-label":L.default.Messages.MEMBERS_LIST_LANDMARK_LABEL.format({channel:i.name})},void 0,H(u.ListNavigatorContainer,{},void 0,(function(o){var i=o.ref,u=o.role,l=B(o,U);return a.createElement(P.default,z({key:r,innerRole:u,innerAriaLabel:L.default.Messages.MEMBERS,ref:function(t){var n;e._list=t;e.props.listRef.current=t;i.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},className:j.default.members,paddingTop:0,sectionHeight:40,rowHeight:44,renderSection:e.renderSection,renderRow:e.renderRow,sections:n.map((function(e){return e.count})),onScroll:e.handleScroll,fade:!0},l,t))})))}))};return t}(a.Component);ne.displayName="ChannelMembers";function re(e){var t=e.channel,n=e.className,r=(0,
l.useStateFromStores)([p.default],(function(){return p.default.keyboardModeEnabled})),i=(0,l.useStateFromStoresObject)([O.default],(function(){return O.default.getProps(t.guild_id,t.id)})),s=i.rows,f=i.groups,d=a.useRef(null),c=a.useCallback((function(e,t){var n=d.current;if(null!=n){var r=parseInt(t,10),a=V(n.getSectionRowFromIndex(r),2),o=a[0],i=a[1],u=0===o&&0===i?44:0;n.scrollToIndex({section:o,row:i,padding:u,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[]),v=a.useCallback((function(){return new Promise((function(e){var t=d.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),y=a.useCallback((function(){return new Promise((function(e){var t=d.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]),h=(0,
u.default)({id:"members-"+t.id,setFocus:c,isEnabled:r,scrollToStart:v,scrollToEnd:y});return H("div",{className:(0,o.default)(j.default.container,n)},void 0,H(u.ListNavigatorProvider,{navigator:h},void 0,a.createElement(ne,z({},e,i,{groups:f,rows:s,listRef:d}))))}re.displayName="ConnectedChannelMembers"},83887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=m(n(667294)),o=n(536211),i=y(n(56911)),u=y(n(882832)),l=y(n(191391)),s=y(n(728429)),f=y(n(265851)),d=m(n(80212)),c=y(n(836943)),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=[];function E(e){var t=e.channel,r=e.onJump,y=(0,o.useStateFromStoresObject)([u.default],(function(){var e=u.default.getPinnedMessages(t.id),n=null!=e?e.messages:g;return{messages:n,loading:null==n||null!=e&&e.loading}})),h=y.messages,m=y.loading,E=(0,o.useStateFromStores)([l.default],(function(){return l.default.hasUnreadPins(t.id)})),S=(0,
o.useStateFromStores)([s.default],(function(){var e=s.default.getUser(t.getRecipientId());return null!=e?e.username:null}));a.useEffect((function(){E&&i.default.ackPins(t.id)}),[E,t.id]);return _(f.default,{"aria-label":v.default.Messages.PINNED_MESSAGES},void 0,_(d.default,{onFetch:function(){i.default.ackPins(t.id);i.default.fetchPins(t.id)},channel:t,messages:h,loading:m,analyticsName:"Channel Pins",onCloseMessage:function(e,n){null!=e&&(n.shiftKey?i.default.unpinMessage(t,e.id):c.default.confirmUnpin(t,e))},onJump:r,getProTip:function(){return t.isPrivate()?t.type===p.ChannelTypes.DM?v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:S}):v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM:v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL},renderHeader:function(){return _(d.Header,{title:v.default.Messages.PINNED_MESSAGES})},renderEmptyState:function(e){var r=v.default.Messages.NO_PINS_IN_CHANNEL;t.isPrivate()&&(r=v.default.Messages.NO_PINS_IN_DM)
;var a=e===p.ThemeTypes.LIGHT?n(937849):n(772144);return _(d.EmptyStateCenter,{msg:r,image:a},"emptystate")},listName:"pins"}))}E.displayName="ChannelPins"},701391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(473727),i=h(n(536211)),u=h(n(709403)),l=h(n(864345)),s=n(887299),f=h(n(484024)),d=h(n(284382)),c=n(858267),p=h(n(390491)),v=n(770348),y=h(n(492036));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).fetchStoreListing=function(e){var n=t.props,r=n.channel,a=n.inputSkuId
;return null!=e?u.default.fetchChannelStoreListing(r.id,e):null!=a?u.default.fetchChannelStoreListing(r.id,a):u.default.fetchChannelStoreListing(r.id)};t.renderApplicationListing=function(e){var n=e.location,r=t.props,a=r.channel,o=r.skuId,i=r.width;return _(p.default,{channel:a,inputSkuId:o,fetchStoreListing:t.fetchStoreListing,location:n,pageSize:(0,c.getPageSize)(i)})};return t}var n=t.prototype;n.componentDidMount=function(){this.fetchStoreListing();(0,s.trackAppUIViewed)("channel_store_listing")};n.render=function(){return null!=this.props.skuId?_(d.default,{page:v.AnalyticsPages.CHANNEL_STORE_LISTING,root:!0},void 0,_("div",{className:y.default.applicationStore},void 0,_(o.Route,{path:"*",render:this.renderApplicationListing}))):null};return t}(a.Component);E.displayName="ChannelStoreListing";var S=(0,l.default)(i.default.connectStores([f.default],(function(e){var t=e.channel,n=e.inputSkuId;return{skuId:null!=n?n:f.default.getSkuIdForChannel(t.id)}}))(E));t.default=S},
448702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=h(n(213847)),u=h(n(844784)),l=h(n(463024)),s=h(n(562796)),f=h(n(776360)),d=n(770348),c=h(n(247001)),p=h(n(361751)),v=h(n(192941)),y=h(n(232353));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=((r={})[d.ThemeTypes.DARK]=v.default,r[d.ThemeTypes.LIGHT]=y.default,r),E=_(o.Fragment,{}),S=_(l.default.Icon,{icon:s.default,"aria-hidden":!0}),O=function(){var e=(0,i.default)();o.useEffect((function(){u.default.trackWithMetadata(d.AnalyticEvents.GUILD_OUTAGE_VIEWED,{})}),[]);return _("div",{className:p.default.container},void 0,_(l.default,{toolbar:E},void 0,S,_(l.default.Title,{},void 0,c.default.Messages.GUILD_UNAVAILABLE_HEADER)),_("div",{className:p.default.content},void 0,_("img",{alt:"",className:p.default.splashImage,src:g[e]}),_(f.default,{className:p.default.splashHeader,size:f.default.Sizes.SIZE_24
},void 0,c.default.Messages.GUILD_UNAVAILABLE_TITLE),_(f.default,{className:p.default.splashText,size:f.default.Sizes.SIZE_16},void 0,c.default.Messages.GUILD_UNAVAILABLE_BODY)))};O.displayName="ChannelUnavailable";var b=O;t.default=b},825469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=b(n(441143)),i=b(n(294398)),u=b(n(726485)),l=b(n(14096)),s=b(n(235879)),f=b(n(916239)),d=b(n(364172)),c=n(956506),p=b(n(593878)),v=b(n(969940)),y=b(n(421651)),h=b(n(818685)),m=b(n(323019)),_=b(n(396201)),g=b(n(229108)),E=b(n(742234)),S=n(770348),O=b(n(542729));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var T=C(y.default,{}),A=C(p.default,{}),P=C(v.default,{}),M=C(i.default,{}),N=C(h.default,{}),R=C(g.default,{}),w=C(d.default,{}),D=C(f.default,{}),L=C(m.default,{});function j(){var e=a.useRef(null),t=a.useCallback((function(t){var n=t.duration,r=t.intensity;if(!s.default.useReducedMotion){var a=e.current;(0,o.default)(null!=a,"Shakeable is shaken when not mounted");a.shake(n,r)}}),[]);a.useEffect((function(){l.default.setLayout(u.default);l.default.enable();return function(){return l.default.disable()}}),[]);a.useEffect((function(){c.ComponentDispatch.subscribe(S.ComponentActions.SHAKE_APP,t);return function(){c.ComponentDispatch.unsubscribe(S.ComponentActions.SHAKE_APP,t)}}),[t]);return a.createElement(E.default,{ref:e,className:O.default.app},C(_.default,{className:O.default.layers},void 0,T),A,P,M,N,R,w,D,L)}j.displayName="Chat";var k=a.memo(j);t.default=k},678306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=A(n(294184)),i=A(n(496486)),u=A(n(74854)),l=A(n(536211)),s=A(n(972247)),f=A(n(761537)),d=A(n(235879)),c=A(n(749666)),p=A(n(805764)),v=A(n(796608)),y=A(n(23535)),h=A(n(758602)),m=A(n(151097)),_=A(n(934297)),g=A(n(637853)),E=A(n(962314)),S=n(864489),O=n(179379),b=A(n(922629)),I=n(770348),C=A(n(247001)),T=A(n(678114));function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t){M=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return M(e,t)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(t){var n,r;(n=e.call(this,t)||this).videoRef=null;n._noProblemsTimeout=null;n._problemsTimeout=null;n._connectedSound=n.createSound()
;n._loadingText=(r=[C.default.Messages.LOADING_LINE_1,C.default.Messages.LOADING_LINE_2,C.default.Messages.LOADING_LINE_3,C.default.Messages.LOADING_LINE_4,C.default.Messages.LOADING_LINE_5,C.default.Messages.LOADING_LINE_6,C.default.Messages.LOADING_LINE_7,C.default.Messages.LOADING_LINE_8,C.default.Messages.LOADING_LINE_10,C.default.Messages.LOADING_LINE_11,C.default.Messages.LOADING_LINE_12,C.default.Messages.LOADING_LINE_13,C.default.Messages.LOADING_LINE_14,C.default.Messages.LOADING_LINE_15,C.default.Messages.LOADING_TIP_1,C.default.Messages.LOADING_TIP_2,C.default.Messages.LOADING_TIP_3,C.default.Messages.LOADING_TIP_4,C.default.Messages.LOADING_TIP_5,C.default.Messages.LOADING_TIP_6,C.default.Messages.LOADING_TIP_7,C.default.Messages.LOADING_TIP_8,C.default.Messages.LOADING_TIP_9,C.default.Messages.LOADING_TIP_10,C.default.Messages.LOADING_TIP_11,C.default.Messages.LOADING_TIP_12,C.default.Messages.LOADING_TIP_13,C.default.Messages.LOADING_TIP_14,C.default.Messages.LOADING_TIP_15,C.default.Messages.LOADING_TIP_16,C.default.Messages.LOADING_TIP_17,C.default.Messages.LOADING_TIP_18,C.default.Messages.LOADING_TIP_19,C.default.Messages.LOADING_TIP_20,C.default.Messages.LOADING_TIP_21,C.default.Messages.LOADING_TIP_22,C.default.Messages.LOADING_TIP_23,C.default.Messages.LOADING_TIP_24,C.default.Messages.LOADING_TIP_25,C.default.Messages.LOADING_TIP_26,C.default.Messages.LOADING_TIP_27.format({
asterisks:"**"}),C.default.Messages.LOADING_KEYBIND_TIP_1.format({quickSwitcherHook:function(e,t){return N(c.default,{shortcut:"mod+k",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_2.format({markUnreadHook:function(e,t){return N(c.default,{shortcut:"alt+click",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_3.format({markServerUnreadHook:function(e,t){return N(c.default,{shortcut:"shift+esc",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_4.format({navigateUnreadHook:function(e,t){return N(c.default,{shortcut:"shift+alt+up",className:T.default.keybind},t)},downHook:function(e,t){return N(c.default,{shortcut:"down",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_5.format({keyboardShortcutsHook:function(e,t){return N(c.default,{shortcut:"mod+/",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_6.format({messageNewlineHook:function(e,t){return N(c.default,{
shortcut:"shift+return",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_7.format({shiftHook:function(e,t){return N(c.default,{shortcut:"shift",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_8.format({upHook:function(e,t){return N(c.default,{shortcut:"up",className:T.default.keybind},t)}})])[i.default.random(r.length-1)];n.handleReady=function(){n.setState({ready:!0});if((0,S.isDesktop)()){b.default.send("UPDATED_QUOTES",["Hold Tight â€” Loading Discord"]);b.default.send("UPDATE_OPEN_ON_STARTUP")}};n.setVideoRef=function(e){n.videoRef=e};n.setProblemsTimeout=function(){null==n._problemsTimeout&&(n._problemsTimeout=setTimeout((function(){return n.setState({problems:!0})}),1e4))};n.clearProblemsTimeout=function(){clearTimeout(n._problemsTimeout);n._problemsTimeout=null};var a=t.connected;n.state={ready:a,hide:a,problems:!1,shouldRender:!a,opacity:new u.default.Value(a?0:1)};n._connectedSound.volume=1;return n}var n=t.prototype
;n.createSound=function(){var e=this.props.soundpack,t=(0,O.createSoundForPack)("discodo",e);t.volume=1;return t};n.componentDidMount=function(){this.setProblemsTimeout()};n.componentDidUpdate=function(e,t){var n=this,r=this.state,a=r.ready,o=r.hide,i=r.problems,l=r.opacity,d=this.props,c=d.connected,p=d.soundpack,v=d.reducedMotion,y=c&&a&&!o&&!i;e.soundpack!==p&&(this._connectedSound=this.createSound());if(e.connected!==c||y)if(c&&null!=this.videoRef){var h=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);clearTimeout(this._noProblemsTimeout);s.default.get(I.DISCODO_STORAGE_KEY)&&this._connectedSound.play();v?this.setState({problems:!1,hide:c}):this._noProblemsTimeout=setTimeout((function(){n.setState({problems:!1,hide:c})}),h)}else this.setState({problems:!1,hide:c});else if(t.hide!==o){o?this.clearProblemsTimeout():this.setProblemsTimeout();this.setState({shouldRender:!0});u.default.timing(l,{toValue:o?0:1,duration:200}).start((function(){
return n.setState({shouldRender:!o})}))}else t.problems!==i&&i&&f.default.checkIncidents()};n.componentWillUnmount=function(){this.clearProblemsTimeout();clearTimeout(this._noProblemsTimeout)};n.render=function(){if(this.state.shouldRender){var e,t=this._loadingText,n=null;if(null!=this.props.incident){t=this.props.incident.name;n=this.props.incident.incident_updates[0].body}return N(u.default.div,{className:T.default.container,style:{opacity:this.state.opacity}},void 0,N("div",{className:T.default.content},void 0,N(E.default,{autoPlay:!0,loop:!this.props.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?T.default.ready:""}),N("div",{className:T.default.text},void 0,null!=this.props.incident?null:N("div",{className:T.default.tipTitle},void 0,C.default.Messages.LOADING_DID_YOU_KNOW),N("div",{className:null!=this.props.incident?T.default.title:T.default.tip},void 0,t),N("div",{className:T.default.body},void 0,n))),N("div",{className:(0,
o.default)(T.default.problems,(e={},e[T.default.slideIn]=this.state.problems,e))},void 0,N("div",{className:T.default.problemsText},void 0,C.default.Messages.CONNECTING_PROBLEMS_CTA),N("div",{},void 0,N(m.default,{className:T.default.twitterLink,href:(0,p.default)(I.LocalizedLinks.TWITTER),target:"_blank"},void 0,N(g.default,{className:T.default.icon}),C.default.Messages.TWEET_US),N(m.default,{className:T.default.statusLink,href:I.Links.STATUS,target:"_blank"},void 0,N(_.default,{className:T.default.icon}),C.default.Messages.SERVER_STATUS))))}return null};return t}(a.PureComponent);R.displayName="ConnectingModal";var w=l.default.connectStores([y.default,h.default,v.default,d.default],(function(){return{isTryingToConnect:y.default.isTryingToConnect(),connected:y.default.isConnected(),incident:h.default.getIncident(),soundpack:v.default.getSoundpack(),reducedMotion:d.default.useReducedMotion}}))((function(e){
var t=e.isTryingToConnect,n=e.connected,r=e.incident,a=e.soundpack,o=e.reducedMotion;return t?N(R,{reducedMotion:o,soundpack:a,connected:n,incident:r}):null}));t.default=w},41234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(972247)),u=c(n(16941)),l=c(n(259530)),s=c(n(934297)),f=c(n(247001)),d=c(n(9007));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){
return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m="isHideDevBanner",_=function(){var e,t=y((0,a.useState)("true"===(null===(e=i.default.get(m,"false"))||void 0===e?void 0:e.toString())),2),n=t[0],r=t[1];if(n)return null;var c=function(){i.default.set(m,!0);r(!0)},p=function(){return v(u.default,{onClick:c,className:d.default.closeButton,"aria-label":f.default.Messages.DISMISS},void 0,v(l.default,{className:d.default.closeIcon}))};0;if("staging"===window.GLOBAL_ENV.RELEASE_CHANNEL){return v("div",{className:(0,o.default)(d.default.devBanner,d.default.staging)
},void 0,v(s.default,{className:d.default.icon}),f.default.Messages.DEV_NOTICE_STAGING.format({buildNumber:"116506"}),v(p,{}))}return null};t.default=_},43233:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=h(n(667294)),o=n(536211),i=v(n(772145)),u=v(n(790597)),l=v(n(871778)),s=h(n(737705)),f=v(n(80828)),d=n(770348),c=v(n(247001)),p=v(n(591701));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.channelId;a.useEffect((function(){i.default.loadThread(t)}));var r,v=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuildId()}))===d.FAVORITES,y=(0,o.useStateFromStores)([l.default],(function(){return l.default.theme}));r=v?m(s.EmptyStateText,{note:c.default.Messages.FAVORITES_EMPTY_BODY},void 0,c.default.Messages.FAVORITES_EMPTY_TITLE):null!=t?m(f.default,{type:f.default.Type.SPINNING_CIRCLE}):m(s.EmptyStateText,{note:c.default.Messages.CHANNELS_UNAVAILABLE_BODY
},void 0,c.default.Messages.CHANNELS_UNAVAILABLE_TITLE);return m("div",{className:p.default.noChannel},void 0,m(s.default,{theme:y},void 0,m(s.EmptyStateImage,{darkSrc:n(v?128112:16697),lightSrc:n(v?876406:105045),width:272,height:222}),r))}_.displayName="EmptyChannel"},323019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=y(n(496486)),o=n(143544),i=n(248088),u=n(536211),l=y(n(297452)),s=y(n(796608)),f=y(n(919935)),d=y(n(663303)),c=y(n(931411)),p=n(179379),v=n(340038);function y(e){
return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var _={transform:"scale(0.7)",opacity:0},g={transform:"scale(1)",opacity:1},E=function(){var e=(0,u.useStateFromStoresArray)([c.default],(function(){return c.default.getIncomingCalls()})),t=(0,u.useStateFromStores)([c.default],(function(){return c.default.hasIncomingCalls()})),n=(0,u.useStateFromStores)([f.default],(function(){return f.default.isSoundDisabled("call_ringing")})),y=(0,u.useStateFromStores)([d.default],(function(){return d.default.disableSounds})),h=(0,u.useStateFromStores)([s.default],(function(){return s.default.getSoundpack()})),E=r.useRef(!1),S=(0,o.useStableMemo)((function(){
return h===v.Soundpacks.CLASSIC?(0,p.createSound)(500===a.default.random(1,1e3)?"call_ringing_beat":"call_ringing"):(0,p.createSoundForPack)("call_ringing",h)}),[h]);r.useEffect((function(){return function(){S.stop()}}),[S]);r.useEffect((function(){if(y||n){if(E.current){S.stop();E.current=!1}}else if(t&&!E.current){S.loop();E.current=!0}else if(!t&&E.current){S.stop();E.current=!1}}),[n,y,t,S]);return(0,i.useTransition)(e,{keys:function(e){var t;return null===(t=e.channel)||void 0===t?void 0:t.id},enter:{from:_,to:g},leave:_,config:{mass:1,tension:500,friction:18,clamp:!0}})((function(e,t){return r.createElement(l.default,m({},t,{animatedStyle:e}))}))};t.default=E},396201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=$
;var r,a,o=A(n(667294)),i=C(n(294184)),u=C(n(74854)),l=A(n(536211)),s=C(n(550024)),f=n(264720),d=n(246049),c=C(n(14096)),p=n(836233),v=C(n(235879)),y=n(329117),h=C(n(68625)),m=C(n(122913)),_=C(n(728526)),g=n(378444),E=n(956506),S=n(518802),O=n(770348),b=C(n(785535)),I=["mode","children","baseLayer"];function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(23622),n.e(1429),n.e(93198),n.e(72936),n.e(92782),n.e(54313)]).then(n.bind(n,64721))},webpackId:64721,
name:"UserSettings"}),D=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(97621)]).then(n.bind(n,437897))},webpackId:437897,name:"ChannelSettings"}),L=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(76885)]).then(n.bind(n,261236))},webpackId:261236,name:"RTCDebug"}),j=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(92782),n.e(86955)]).then(n.bind(n,799017))},webpackId:799017,name:"GuildIdentitySettingsPage"}),k=P(w,{}),U=P(D,{}),G=P(h.default,{}),F=P(L,{}),x=P(j,{}),V=((r={})[O.Layers.USER_SETTINGS]=function(){return k},r[O.Layers.CHANNEL_SETTINGS]=function(){return U},r[O.Layers.GUILD_SETTINGS]=function(){return G},r[O.Layers.RTC_DEBUG]=function(){return F},r[O.Layers.GUILD_IDENTITY_SETTINGS]=function(){return x},r),W="SHOWN",H="HIDDEN",B={friction:10,tension:100},z=function(e){N(t,e);t.getDerivedStateFromProps=function(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null};function t(t){var n
;(n=e.call(this,t)||this).containerRef=o.createRef();var r=1,a=1;if(t.mode===H){r=.93;a=0}n.state={animating:!1,scale:new u.default.Value(r),opacity:new u.default.Value(a),mode:t.mode};return n}var n=t.prototype;n.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return t===W&&n===H?this.animateIn():t===H&&n===W?this.animateUnder():void 0};n.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity;n.scale.setValue(1.1);r.setValue(0);e();this.setState({animating:!0},(function(){return t.animateIn()}))};n.componentWillLeave=function(e){var t=this;this.setState({animating:!0},(function(){return t.animateOut(e)}))};n.animateIn=function(e){var t=this;l.default.Store.pauseEmittingChanges(500);var n=this.state,r=n.opacity,a=n.scale;u.default.parallel([u.default.spring(r,M({toValue:1},B)),u.default.spring(a,M({toValue:1},B))]).start((function(){return t.animateComplete(e)}))};n.animateOut=function(e){l.default.Store.pauseEmittingChanges(500)
;var t=this.state,n=t.opacity,r=t.scale;E.ComponentDispatch.dispatch(O.ComponentActions.LAYER_POP_START);u.default.parallel([u.default.spring(n,M({toValue:0},B)),u.default.spring(r,M({toValue:1.1},B))]).start((function(){e();E.ComponentDispatch.dispatch(O.ComponentActions.LAYER_POP_COMPLETE)}))};n.animateUnder=function(){var e=this;l.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,r=t.scale;u.default.parallel([u.default.spring(n,M({toValue:0},B)),u.default.spring(r,M({toValue:.93},B))]).start((function(){return e.animateComplete()}))};n.animateComplete=function(e){this.setState({animating:!1},e)};n.render=function(){var e,t=this,n=this.state.animating,r=this.props,a=r.mode,l=r.children,s=r.baseLayer,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(r,I),d=n||a===H?this.getAnimatedStyle():null,c=o.createElement(u.default.div,M({ref:function(e){
return t.containerRef.current=null!=e?e.refs.node:void 0},"aria-hidden":a===H,className:(0,i.default)(b.default.layer,(e={},e[b.default.baseLayer]=s,e[b.default.animating]=n,e["stop-animations"]=a===H,e)),style:d},f),l);return s?c:P(_.default,{containerRef:this.containerRef},void 0,c)};n.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return{opacity:t,transform:this.context.reducedMotion.enabled?void 0:[{scale:n},{translateZ:0}]}};return t}(o.PureComponent);z.displayName="Layer";z.defaultProps={baseLayer:!1};z.contextType=p.AccessibilityPreferencesContext;var Y=function(e){N(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){var e=this.props.layers;if(e[e.length-1]===O.Layers.USER_SETTINGS){c.default.enable();c.default.enableTemp(d.SETTINGS_LAYERS_LAYOUT)}E.ComponentDispatch.subscribe(O.ComponentActions.LAYER_POP_ESCAPE_KEY,f.popLayer)};n.componentDidUpdate=function(e){
var t=this.props,n=t.layers,r=t.hasFullScreenLayer,a=e.layers.length>0||e.hasFullScreenLayer,o=n.length>0||r;!a&&o||o&&n===e.layers&&n[0]===O.Layers.USER_SETTINGS?c.default.enableTemp(d.SETTINGS_LAYERS_LAYOUT):a&&!o&&c.default.disableTemp()};n.componentWillUnmount=function(){E.ComponentDispatch.unsubscribe(O.ComponentActions.LAYER_POP_ESCAPE_KEY,f.popLayer)};n.renderLayers=function(){var e=this,t=this.props,n=t.children,r=t.layers,a=t.hasFullScreenLayer,o=r.length,i=[];i.push(P(z,{mode:0!==o||a?H:W,baseLayer:!0},"layer-base",n));r.forEach((function(t,n){return i.push(e.renderComponent(t,n,o))}));return i};n.renderComponent=function(e,t,n){var r,a=t===n-1,o="layer";if("string"==typeof e){o=e;r=V[e]()}else r=P(e,{});return P(z,{"aria-label":o,mode:a?W:H},"layer-"+t,r)};n.renderArtisanalHack=function(){return P("div",{className:(0,i.default)(b.default.bg,(0,S.getThemeClass)(this.props.sidebarTheme))})};n.render=function(){
return o.createElement(o.Fragment,null,this.renderArtisanalHack(),P(s.default,{component:"div",className:(0,i.default)(b.default.layers,this.props.className)},void 0,this.renderLayers()))};return t}(o.PureComponent);Y.displayName="Layers";function $(e){var t=(0,l.useStateFromStores)([v.default],(function(){return v.default.darkSidebar}))?O.ThemeTypes.DARK:void 0,n=(0,l.useStateFromStores)([m.default],(function(){return m.default.getLayers()})),r=(0,g.useFullScreenLayerStore)((function(e){return e.fullScreenLayers.length>0}));return o.createElement(Y,M({},e,{sidebarTheme:t,layers:n,hasFullScreenLayer:r}))}$.displayName="ConnectedLayers"},712283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});Object.defineProperty(t,"NotchBackground",{enumerable:!0,get:function(){return c.NotchBackground}});t.default=void 0
;var r,a=b(n(667294)),o=S(n(496486)),i=S(n(536211)),u=n(91817),l=S(n(740207)),s=S(n(635014)),f=S(n(893160)),d=S(n(956117)),c=b(n(358255)),p=S(n(730977)),v=S(n(37241)),y=b(n(662197)),h=S(n(308920)),m=n(770348),_=n(376293),g=S(n(247001)),E=S(n(502258));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var T=-100,A=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._initTimeout=new u.Timeout;t._silenceTimeout=new u.Timeout;t._messageTimeout=new u.Timeout;t.state={volume:T,isMicTesting:!1,isDetectingInput:!0,didDeafenUser:!1};t.setupVoiceActivity=function(){s.default.getMediaEngine().on("voiceactivity",t.handleVoiceActivity)};t.handleVoiceActivity=function(e){if(t.state.isMicTesting&&e<=T){
t._silenceTimeout.isStarted()||t._silenceTimeout.start(2e3,(function(){t.setState({isDetectingInput:!1})}));t.setState({volume:T})}else{t._silenceTimeout.stop();t.setState({volume:e,isDetectingInput:!0})}};t.handleToggleMicTest=function(){t.state.isMicTesting?t._micTestStop():t._micTestStart()};return t}var n=t.prototype;n.componentDidMount=function(){this._initTimeout.start(1e3,this.setupVoiceActivity)};n.componentWillUnmount=function(){this._initTimeout.stop();this._silenceTimeout.stop();this._micTestStop();s.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity)};n._micTestStart=function(){var e=this.props,t=e.isVoiceConnected,n=e.inputDeviceName,r=e.inputVolume,a=e.outputDeviceName,o=e.outputVolume,i=e.inputMode,u=e.vadAutoThreshold,s=e.vadThreshold,f=e.location,d=e.isDeafened,c=!1;if(t&&!d){l.default.toggleSelfDeaf(_.MediaEngineContextTypes.DEFAULT);c=!0}l.default.setLoopback(!0);this._micTestStartTime=Date.now();this.setState({isMicTesting:!0,
isDetectingInput:!0,didDeafenUser:c});h.default.track(m.AnalyticEvents.MIC_TESTING_STARTED,{input_device_name:n,input_device_volume:r,output_device_name:a,output_device_volume:o,input_mode:i,input_sensitivity_is_automatic:u,input_sensitivity_threshold:Math.round(s),location:f})};n._micTestStop=function(){var e=this.state,t=e.didDeafenUser,n=e.isMicTesting,r=this.props,a=r.isVoiceConnected,o=r.isDeafened;if(n){a&&o&&t&&l.default.toggleSelfDeaf(_.MediaEngineContextTypes.DEFAULT);l.default.setLoopback(!1);this.setState({isMicTesting:!1,didDeafenUser:!1});null!=this._micTestStartTime&&h.default.track(m.AnalyticEvents.MIC_TESTING_STOPPED,{testing_duration:Math.round((Date.now()-this._micTestStartTime)/1e3)})}};n.renderCaption=function(){var e=this.props,t=e.captionVoice,n=e.captionNoVoice,r=this.state,a=r.isMicTesting,o=r.isDetectingInput;return I(v.default,{className:E.default.micTestCaption,type:v.default.Types.DESCRIPTION},void 0,a?o?t:n:null)};n.render=function(){
var e=this,t=this.props,n=t.isVoiceConnected,r=t.title,a=t.description,o=t.notchBackground,i=t.buttonTest,u=t.buttonStop,l=t.buttonClassName,s=t.buttonColor,f=t.isDeafened,h=this.state,m=h.isMicTesting,_=h.volume,S=n&&!m?g.default.Messages.MIC_TEST_VOICE_CHANNEL_WARNING:null;m&&n&&!f&&this._micTestStop();return I("div",{className:E.default.container},void 0,I(y.default,{tag:y.Tags.H5,className:E.default.title},void 0,r),a&&I(v.default,{type:v.default.Types.DESCRIPTION,className:E.default.description},void 0,a),I("div",{className:E.default.micTest},void 0,I(p.default,{text:S},void 0,(function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return I(d.default,{grow:!1,onClick:e.handleToggleMicTest,onMouseEnter:n,onMouseLeave:r,size:d.default.Sizes.SMALL,className:l,color:s},void 0,m?u:i)})),I(c.default,{progress:m?_+100:0,notchBackground:o}),this.renderCaption()))};return t}(a.PureComponent);A.displayName="MicTester";var P=i.default.connectStores([f.default,s.default],(function(){
var e=s.default.getInputDeviceId(),t=s.default.getInputDevices(),n=o.default.find(t,(function(t){return t.id===e})),r=s.default.getOutputDeviceId(),a=s.default.getOutputDevices(),i=o.default.find(a,(function(e){return e.id===r})),u=s.default.getModeOptions();return{isVoiceConnected:f.default.isConnected(),inputVolume:s.default.getInputVolume(),outputVolume:s.default.getOutputVolume(),inputMode:s.default.getMode(),vadThreshold:u.threshold,isDeafened:s.default.isSelfDeaf(),vadAutoThreshold:u.autoThreshold,inputDeviceName:null!=n?n.name:"",outputDeviceName:null!=i?i.name:""}}))(A);t.default=P},25202:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=fe(n(667294)),o=le(n(730381)),i=n(473727),u=n(536211),l=le(n(190040)),s=le(n(740207)),f=le(n(939949)),d=fe(n(319076)),c=n(264720),p=le(n(445377)),v=le(n(597362)),y=le(n(136873)),h=le(n(761537)),m=fe(n(376543)),_=le(n(105988)),g=n(622349),E=fe(n(446637)),S=le(n(226800)),O=le(n(155502)),b=fe(n(583490)),I=n(802922),C=n(283894),T=le(n(796015)),A=le(n(678875)),P=le(n(778885)),M=le(n(799706)),N=le(n(745108)),R=n(62638),w=le(n(542402)),D=le(n(119152)),L=le(n(423046)),j=le(n(644263)),k=le(n(288356)),U=le(n(876874)),G=le(n(30098)),F=le(n(635014)),x=le(n(893160)),V=le(n(790597)),W=le(n(728429)),H=le(n(399561)),B=le(n(424099)),z=fe(n(296005)),Y=le(n(151097)),$=le(n(530250)),K=le(n(80828)),q=le(n(41024)),Z=n(194322),X=fe(n(177101)),Q=le(n(308920)),J=le(n(550270)),ee=n(42031),te=n(168558),ne=fe(n(215850)),re=n(259880),ae=n(770348),oe=n(376293),ie=le(n(247001)),ue=le(n(202192));function le(e){return e&&e.__esModule?e:{default:e}}function se(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(se=function(e){return e?n:t})(e)}function fe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=se(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function de(){de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return de.apply(this,arguments)}function ce(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ce(o,r,a,i,u,"next",e)}
function u(e){ce(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ve(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ye=function(){return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ve(X.NoticeCloseButton,{onClick:function(){me();(0,re.open)()}}),ie.default.Messages.NOTICE_NO_INPUT_DETECTED,ve(X.NoticeButtonAnchor,{href:J.default.getArticleURL(ae.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,ie.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))};ye.displayName="AudioIssueNoticeHelpdesk";var he=function(){return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ve(X.NoticeCloseButton,{onClick:function(){me();(0,
re.open)()}}),ie.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,ve(X.NoticeButton,{onClick:function(){(0,c.pushLayer)(ae.Layers.USER_SETTINGS);S.default.setSection(ae.UserSettingsSections.VOICE)}},void 0,ie.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT))};he.displayName="AudioIssueNoticeMicTester";function me(e){p.default.dismiss(null!=e?{untilAtLeast:(0,o.default)(e)}:void 0)}var _e=ve(P.default,{}),ge=ve(T.default,{}),Ee=ve(w.default,{}),Se=ve(ye,{}),Oe=ve(he,{}),be=ve(D.default,{}),Ie=a.memo((function(){var e,t,r,o,p,T=(0,u.useStateFromStores)([W.default],(function(){return W.default.getCurrentUser()})),P=(0,u.useStateFromStores)([V.default],(function(){return V.default.getGuildId()})),w=(0,u.useStateFromStores)([G.default],(function(){return G.default.getGuild(P)})),D=(0,u.useStateFromStores)([z.default],(function(){return z.default.getNotice()})),re=(0,u.useStateFromStores)([L.default],(function(){return L.default.isGuest()})),le=(0,
u.useStateFromStores)([U.default],(function(){var e,t;return null!=P&&null!=T&&(null!==(e=null===(t=U.default.getMember(P,T.id))||void 0===t?void 0:t.isPending)&&void 0!==e&&e)})),se=null==D?void 0:D.type,fe=le&&(null==w?void 0:w.hasVerificationGate()),ce=M.default.useExperiment({}).useStandaloneSubscriptionsTab?ae.UserSettingsSections.SUBSCRIPTIONS:ae.UserSettingsSections.PREMIUM;a.useEffect((function(){null!=se&&function(e){Q.default.track(ae.AnalyticEvents.APP_NOTICE_VIEWED,{notice_type:e})}(se)}),[se]);a.useEffect((function(){if(null!=D&&D.type===ae.NoticeTypes.SURVEY&&null!=D.metadata){var e=D.metadata,t=C.ExperimentStore.getUserExperimentDescriptor(e.id);null!=t&&(0,C.trackExposureToExperiment)(e.id,t)}}),[D]);if(null==D)return null;if(re)return null;if(ee.ProcessArgs.isDisallowPopupsSet())return null;var ye=z.typeToDismissibleContent[D.type];if(null!=ye)return ve(I.DismissibleContentNotices,{dismissibleContent:ye,noticeType:D.type});switch(D.type){
case ae.NoticeTypes.LURKING_GUILD:return _e;case ae.NoticeTypes.PENDING_MEMBER:return ge;case ae.NoticeTypes.INVITED_TO_SPEAK:return Ee;case ae.NoticeTypes.GENERIC:return ve(X.default,{},void 0,ve(X.NoticeCloseButton,{onClick:function(){return me()},noticeType:ae.NoticeTypes.GENERIC}),D.message,null!=D.buttonText?ve(X.PrimaryCTANoticeButton,{onClick:D.callback,noticeType:ae.NoticeTypes.GENERIC},void 0,D.buttonText):null);case ae.NoticeTypes.VOICE_DISABLED:return ve(X.default,{},void 0,ve(X.NoticeCloseButton,{onClick:function(){v.default.clearRemoteDisconnectVoiceChannelId();me()},noticeType:ae.NoticeTypes.VOICE_DISABLED}),ie.default.Messages.NOTICE_CONNECTION_CONFLICT,ve(X.PrimaryCTANoticeButton,{onClick:function(){var e=x.default.getRemoteDisconnectVoiceChannelId();if(null!=e){null!=j.default.getChannel(e)&&y.default.selectVoiceChannel(e)}},noticeType:ae.NoticeTypes.VOICE_DISABLED},void 0,ie.default.Messages.RECONNECT));case ae.NoticeTypes.SPOTIFY_AUTO_PAUSED:
var he=O.default.get(ae.PlatformTypes.SPOTIFY);return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ve(X.NoticeCloseButton,{onClick:function(){return me()},noticeType:ae.NoticeTypes.SPOTIFY_AUTO_PAUSED}),ve("img",{alt:"",className:ue.default.platformIcon,src:he.icon.whiteSVG}),ie.default.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,ve(X.PrimaryCTANoticeButton,{onClick:function(){return S.default.open(ae.UserSettingsSections.VOICE)},noticeType:ae.NoticeTypes.SPOTIFY_AUTO_PAUSED},void 0,ie.default.Messages.VOICE_SETTINGS),ve(Y.default,{className:ue.default.textLinkSmall,href:J.default.getArticleURL(ae.HelpdeskArticles.SPOTIFY_AUTO_PAUSED),target:"_blank"},void 0,ie.default.Messages.NOTICE_WHATS_THIS));case ae.NoticeTypes.UNCLAIMED_ACCOUNT:return ve(X.default,{},void 0,ie.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.UNCLAIMED_ACCOUNT,onClick:function(){return fe&&null!=P?(0,A.default)(P):b.openClaimAccountModal()}
},void 0,ie.default.Messages.CLAIM_ACCOUNT));case ae.NoticeTypes.UNVERIFIED_ACCOUNT:return ve(X.default,{},void 0,ie.default.Messages.NOTICE_UNVERIFIED_ACCOUNT,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.UNVERIFIED_ACCOUNT,onClick:function(){f.default.verifyResend();l.default.show({title:ie.default.Messages.VERIFICATION_EMAIL_TITLE,body:ie.default.Messages.VERIFICATION_EMAIL_BODY.format({email:null==T?void 0:T.email}),minorText:ie.default.Messages.CHANGE_EMAIL,onConfirmSecondary:b.openClaimAccountModal})}},void 0,ie.default.Messages.RESEND));case ae.NoticeTypes.SCHEDULED_MAINTENANCE:return null==D.metadata?null:ve(X.default,{color:X.NoticeColors.NOTIFICATION},void 0,ve(X.NoticeCloseButton,{onClick:function(){return h.default.ackScheduledMaintenance()},noticeType:ae.NoticeTypes.SCHEDULED_MAINTENANCE}),ie.default.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(D.metadata),ve(X.NoticeButtonAnchor,{href:ae.Links.STATUS+"/incidents/"+D.metadata.id
},void 0,ie.default.Messages.LEARN_MORE));case ae.NoticeTypes.NO_INPUT_DETECTED:return F.default.supports(oe.Features.LOOPBACK)?Oe:Se;case ae.NoticeTypes.HARDWARE_MUTE:if(null==D.metadata)return null;var Ie=D.metadata,Ce=Ie.vendor,Te=Ie.model;return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ie.default.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:Ce.name,modelName:Te.name}),ve(X.NoticeButtonAnchor,{href:Te.url,target:"_blank",rel:"noreferrer noopener"},void 0,ie.default.Messages.SUPPORT));case ae.NoticeTypes.STREAMER_MODE:return ve(X.default,{color:X.NoticeColors.STREAMER_MODE},void 0,ve(X.NoticeCloseButton,{onClick:function(){return me()},noticeType:ae.NoticeTypes.STREAMER_MODE}),ie.default.Messages.NOTICE_STREAMER_MODE_TEXT,ve(X.PrimaryCTANoticeButton,{onClick:function(){return _.default.setEnabled(!1)},noticeType:ae.NoticeTypes.STREAMER_MODE},void 0,ie.default.Messages.DISABLE));case ae.NoticeTypes.H264_DISABLED:return ve(X.default,{color:X.NoticeColors.DANGER
},void 0,ve(X.NoticeCloseButton,{onClick:function(){me()}}),ie.default.Messages.NOTICE_H264_DISABLED_SETTINGS,ve(X.NoticeButton,{onClick:function(){(0,c.pushLayer)(ae.Layers.USER_SETTINGS);S.default.setSection(ae.UserSettingsSections.VOICE)}},void 0,ie.default.Messages.NOTICE_H264_DISABLED_SETTINGS_LINK_TEXT));case ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK:if(null==D.metadata)return null;var Ae=D.metadata,Pe=Ae.skuId,Me=Ae.applicationId,Ne=H.default.get(Pe),Re=k.default.getGame(Me);if(null==Ne||null==Re)return null;var we={page:ae.AnalyticsPages.IN_APP};return ve(X.default,{color:X.NoticeColors.PREMIUM_TIER_1},void 0,ve(X.NoticeCloseButton,{onClick:function(){return d.dismiss(Ne.id)},noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK}),ve(q.default,{className:ue.default.premiumIcon}),ie.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_MESSAGE.format({applicationName:Re.name,skuName:Ne.name}),ve(X.PrimaryCTANoticeButton,{
noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK,onClick:function(){return(0,te.openIAPPurchaseModal)(Re.id,Ne.id,(function(){(0,R.openPremiumSelectPlanModal)({initialPlanId:null,subscriptionTier:ae.PremiumSubscriptionSKUs.TIER_2,analyticsObject:we})}),we,__OVERLAY__?ae.AppContext.OVERLAY:ae.AppContext.APP).then((function(){return d.dismiss(Ne.id)}))}},void 0,ie.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_BUTTON));case ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL:if(null==D.metadata)return null;var De=D.metadata,Le=De.skuId,je=De.applicationId,ke=H.default.get(Le),Ue=k.default.getGame(je);return null==ke||null==Ue?null:ve(X.default,{color:X.NoticeColors.PREMIUM_TIER_1},void 0,ve(X.NoticeCloseButton,{onClick:function(){return me()},noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL}),ve(q.default,{className:ue.default.premiumIcon}),ie.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_NO_PREMIUM_PERK_MESSAGE.format({
applicationName:Ue.name,skuName:ke.name}),ve(X.NoticeButton,{},void 0,ve(i.Link,{onClick:function(){return me()},to:{pathname:ae.Routes.APPLICATION_STORE_LISTING_SKU(ke.id),state:{scrollRestoration:!1}}},void 0,ie.default.Messages.LEARN_MORE)));case ae.NoticeTypes.SURVEY:var Ge=D.metadata;if(null==Ge)return null;var Fe=Ge.key,xe=Ge.prompt,Ve=Ge.cta,We=Ge.url;return ve(X.default,{color:X.NoticeColors.CUSTOM},void 0,ve(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.SURVEY,onClick:function(){(0,g.surveyHide)(Fe,!0)}}),xe,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.SURVEY,onClick:function(){window.open(We,"_blank");(0,g.surveyHide)(Fe,!1)}},void 0,Ve));case ae.NoticeTypes.CORRUPT_INSTALLATION:return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ie.default.Messages.NOTICE_CORRUPT_INSTALLATION,ve(X.NoticeButtonAnchor,{href:J.default.getArticleURL(ae.HelpdeskArticles.CORRUPT_INSTALLATION),target:"_blank"},void 0,ie.default.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT))
;case ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER:return ve(X.default,{},void 0,ve(X.NoticeCloseButton,{onClick:function(){return me()},noticeType:ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER}),ie.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,onClick:function(){(0,Z.openModalLazy)(pe(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,de({source:"Video unsupported browser"},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,ie.default.Messages.DOWNLOAD));case ae.NoticeTypes.DISPATCH_ERROR:if(null==D.metadata)return null;var He=D.metadata.error;return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ve(X.NoticeCloseButton,{onClick:function(){return me()},
noticeType:ae.NoticeTypes.DISPATCH_ERROR}),null==He?void 0:He.displayMessage,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.DISPATCH_ERROR,onClick:function(){return(0,Z.openModalLazy)(pe(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(91965)]).then(n.bind(n,191965));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,ie.default.Messages.LEARN_MORE));case ae.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS:if(null==D.metadata)return null;var Be=D.metadata,ze=Be.progress,Ye=Be.total,$e=Be.name;return ve(X.default,{color:X.NoticeColors.NOTIFICATION},void 0,ve(X.NoticeCloseButton,{onClick:function(){return me()},noticeType:ae.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS}),ve($.default,{justify:$.default.Justify.CENTER
},void 0,null!=$e?ie.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:""+$e,progress:""+ze,total:""+Ye}):ie.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:""+ze,total:""+Ye}),ve(K.default,{type:K.default.Type.PULSING_ELLIPSIS,className:ue.default.ellipsis})));case ae.NoticeTypes.APPLICATION_TEST_MODE:return null==D.metadata?null:null!=B.default.testModeEmbeddedApplicationId?ve(X.default,{},void 0,ve($.default,{justify:$.default.Justify.CENTER,align:$.default.Align.CENTER},void 0,ve("div",{},void 0,ie.default.Messages.NOTICE_EMBEDDED_APPLICATION_TEST_MODE.format({applicationName:D.metadata.applicationName})),ve(X.NoticeCloseButton,{onClick:E.reset,noticeType:ae.NoticeTypes.APPLICATION_TEST_MODE}))):ve(X.default,{},void 0,ve($.default,{justify:$.default.Justify.CENTER,align:$.default.Align.CENTER},void 0,ve("div",{},void 0,ie.default.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:D.metadata.applicationName
})),ve(ne.default,{dropdownSize:ne.TestModeSKUButtonEnums.DropdownSizes.SMALL,className:ue.default.testModeSKUSelector,color:ne.TestModeSKUButtonEnums.Colors.WHITE,look:ne.TestModeSKUButtonEnums.Looks.OUTLINED,size:ne.TestModeSKUButtonEnums.Sizes.MIN,onSKUSelect:function(e){return m.goToSKUStoreListing(e.id,{analyticsSource:{page:null,section:ae.AnalyticsSections.NOTIFICATION_BAR,object:ae.AnalyticsObjects.NAVIGATION_LINK}})},applicationId:D.metadata.applicationId},void 0,ie.default.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING),ve(X.NoticeCloseButton,{onClick:E.reset,noticeType:ae.NoticeTypes.APPLICATION_TEST_MODE})));case ae.NoticeTypes.OUTBOUND_PROMOTION:return ve(X.default,{color:X.NoticeColors.PREMIUM_TIER_2},void 0,ve(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.OUTBOUND_PROMOTION,onClick:function(){N.default.dismissOutboundPromotionNotice()}}),ve(q.default,{className:ue.default.premiumIcon}),ie.default.Messages.OUTBOUND_PROMOTION_NOTICE,ve(X.PrimaryCTANoticeButton,{
noticeType:ae.NoticeTypes.OUTBOUND_PROMOTION,onClick:function(){Q.default.track(ae.AnalyticEvents.OUTBOUND_PROMOTION_NOTICE_CLICKED);S.default.open(ae.UserSettingsSections.INVENTORY);N.default.dismissOutboundPromotionNotice()}},void 0,ie.default.Messages.TAKE_ME_THERE));case ae.NoticeTypes.VIEWING_ROLES:return be;case ae.NoticeTypes.NOISE_DETECTED:return ve(X.default,{color:X.NoticeColors.INFO},void 0,ve(X.NoticeCloseButton,{onClick:function(){return me()},noticeType:ae.NoticeTypes.NOISE_DETECTED}),ie.default.Messages.NOTICE_NOISE_DETECTED,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.NOISE_DETECTED,onClick:function(){me();s.default.setNoiseCancellation(!0,{section:ae.AnalyticsSections.NOTIFICATION_BAR})}},void 0,ie.default.Messages.ENABLE_NOISE_CANCELLATION));case ae.NoticeTypes.PREMIUM_UNCANCEL:return ve(X.default,{color:(null===(e=D.metadata)||void 0===e?void 0:e.premiumType)===ae.PremiumTypes.TIER_1?X.NoticeColors.PREMIUM_TIER_1:X.NoticeColors.PREMIUM_TIER_2
},void 0,ve(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_UNCANCEL,onClick:function(){var e,t;me(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),ve(q.default,{className:ue.default.premiumIcon}),(null===(t=D.metadata)||void 0===t?void 0:t.premiumType)===ae.PremiumTypes.TIER_1?ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_TEXT.format({daysLeft:D.metadata.daysLeft}):ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_TEXT.format({daysLeft:D.metadata.daysLeft}),ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_UNCANCEL,onClick:function(){var e,t;me(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);(0,Z.openModalLazy)(pe(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(36923),n.e(25306),n.e(82287)]).then(n.bind(n,782287));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){var t;return a.createElement(r,de({},e,{daysLeft:D.metadata.daysLeft,premiumType:null===(t=D.metadata)||void 0===t?void 0:t.premiumType,analyticsSource:"Nag Bar",premiumSubscription:D.metadata.premiumSubscription}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,(null===(r=D.metadata)||void 0===r?void 0:r.premiumType)===ae.PremiumTypes.TIER_1?ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_BUTTON_TEXT:ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT:return ve(X.default,{color:X.NoticeColors.DANGER},void 0,ve(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;me(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}
}),ie.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_TEXT,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;me(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);S.default.open(ce)}},void 0,ie.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT:return ve(X.default,{color:X.NoticeColors.WARNING},void 0,ve(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;me(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),ie.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_TEXT,ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t
;me(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);S.default.open(ce)}},void 0,ie.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_MISSING_PAYMENT:return ve(X.default,{color:X.NoticeColors.WARNING},void 0,ve(X.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t;me(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),(null===(o=D.metadata)||void 0===o?void 0:o.premiumType)===ae.PremiumTypes.TIER_1?ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_TEXT.format({daysLeft:D.metadata.daysLeft}):ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_TEXT.format({daysLeft:D.metadata.daysLeft}),ve(X.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t
;me(null===(e=D.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);S.default.open(ce)}},void 0,(null===(p=D.metadata)||void 0===p?void 0:p.premiumType)===ae.PremiumTypes.TIER_1?ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_BUTTON_TEXT:ie.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_BUTTON_TEXT));default:return null}}));t.default=Ie},229108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=_(n(667294)),i=h(n(536211)),u=_(n(720409)),l=h(n(321405)),s=h(n(902305)),f=h(n(603218)),d=h(n(218843)),c=h(n(871778)),p=h(n(949898)),v=h(n(365561)),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var S=((r={})[y.PictureInPictureComponents.VIDEO]=f.default,r[y.PictureInPictureComponents.EMBED_IFRAME]=l.default,r),O=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleWindowMove=function(e,t){u.moveTo(e,t)};return t}t.prototype.render=function(){var e=this.props,t=e.selectedPIPWindow,n=e.pipWindows,r=e.maxX,a=e.maxY,o=e.theme,i=e.dockedRect,u=e.appContext;return g(v.default,{pictureInPictureComponents:S,selectedPIPWindow:t,pipWindows:n,maxX:r,maxY:a,dockedRect:i,theme:o,onWindowMove:this.handleWindowMove,appContext:u})};return t}(o.PureComponent);O.displayName="PictureInPictureContainer";var b=i.default.connectStores([d.default,s.default,p.default,c.default],(function(e){var t=e.showInPopoutWindow,n=void 0!==t&&t,r=s.default.getWindowOpen(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT),a=p.default.windowSize();if(r){var o=s.default.getWindow(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT);a=null==o?a:{width:o.innerWidth,height:o.innerHeight}}
var i=d.default.pipWindows,u=r&&!n?null:d.default.pipWindow;return{selectedPIPWindow:u,pipWindows:i,maxX:a.width,maxY:a.height,theme:c.default.theme,dockedRect:null!=u?d.default.getDockedRect(u.id):null,appContext:n?y.AppContext.POPOUT:void 0}}))(O);t.default=b},200574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(378158),u=O(n(711195)),l=O(n(414068)),s=O(n(788739)),f=O(n(290629)),d=O(n(946447)),c=O(n(728429)),p=O(n(870461)),v=O(n(160629)),y=O(n(325908)),h=O(n(582945)),m=n(951530),_=O(n(922629)),g=O(n(810332)),E=O(n(247001)),S=O(n(645320));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,
value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}var N=_.default.getEnableHardwareAcceleration();function R(e){var t=e.user,r=e.channel,p=(0,o.useStateFromStoresObject)([f.default,c.default,s.default],(function(){return f.default.isFriend(t.id)||t===c.default.getCurrentUser()?{status:s.default.getStatus(t.id),activities:s.default.getActivities(t.id)}:{}})),y=p.status,h=p.activities,m=(0,o.useStateFromStores)([d.default],(function(){return null!=d.default.getTypingUsers(r.id)[t.id]})),_=(0,o.useStateFromStores)([s.default],(function(){return s.default.isMobileOnline(t.id)})),S=(0,o.useStateFromStores)([f.default],(function(){return f.default.getNickname(t.id)})),O=function(e){(0,i.openContextMenuLazy)(e,M(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(66822)]).then(n.bind(n,566822));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,A({},e,{user:t,channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))};return T(v.default,{preload:function(){return(0,u.default)(t.id,t.getAvatarURL(void 0,80))},renderPopout:function(e){return a.createElement(l.default,A({},e,{userId:t.id,channelId:r.id}))},position:v.default.Positions.LEFT},void 0,(function(e){return a.createElement(g.default,A({key:t.id,user:t,isOwner:t.id===r.ownerId,ownerTooltipText:E.default.Messages.GROUP_OWNER,shouldAnimateStatus:N,isTyping:m,status:y,activities:h,channel:r,onContextMenu:O,isMobile:_,nick:S},e))}))}R.displayName="PrivateChannelRecipient";function w(e){var t=e.channel,n=c.default.getCurrentUser(),r=null==n?void 0:n.isStaff(),i=(0,o.useStateFromStoresArray)([c.default],(function(){return(0,
m.getRecipients)(t.recipients,c.default)}),[t.recipients]);a.useEffect((function(){if(r)for(var e,t=I(i);!(e=t()).done;){var n=e.value;(0,u.default)(n.id,n.getAvatarURL(void 0,80),{dispatchWait:!0})}}),[r,i]);var l=r&&i.every((function(e){return e.isStaff()}));return T("div",{className:S.default.membersWrap},void 0,T(h.default,{className:S.default.members,fade:!0},void 0,T(y.default,{className:S.default.membersGroup},void 0,E.default.Messages.MEMBERS+"â€”"+i.length+" ",l?T(p.default,{className:S.default.decorator,type:p.default.Types.STAFF_ONLY_DM}):null),i.map((function(e){return T(R,{user:e,channel:t},e.id)}))))}w.displayName="PrivateChannelRecipients"},272356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ae;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=H(n(294184)),i=H(n(193747)),u=n(798628),l=n(536211),s=n(283894),f=H(n(862896)),d=H(n(222201)),c=H(n(725745)),p=n(460688),v=n(835282),y=H(n(136798)),h=H(n(527820)),m=n(894826),_=H(n(191839)),g=H(n(290629)),E=H(n(871778)),S=H(n(728429)),O=H(n(146771)),b=H(n(314355)),I=H(n(840771)),C=H(n(399561)),T=H(n(311256)),A=n(644105),P=H(n(262134)),M=H(n(41024)),N=H(n(652047)),R=n(598671),w=n(838583),D=n(820134),L=n(517880),j=H(n(51079)),k=H(n(983551)),U=n(770348),G=H(n(247001)),F=H(n(177790)),x=["selected"],V=["selected","hideGameUpdateProgressIndicator"],W=["selected","route","locationState"];function H(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}
function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(){
$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return $.apply(this,arguments)}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function q(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}var Z=function(e){var t=e.selected,n=q(e,x),r=(0,u.useListItem)("friends"),o=(0,l.useStateFromStores)([g.default],(function(){return g.default.getPendingCount()}));return a.createElement(L.LinkButton,$({selected:t,route:U.Routes.FRIENDS,
icon:N.default,text:G.default.Messages.FRIENDS},n,r),o>0?K(R.NumberBadge,{count:o}):null)};Z.displayName="FriendsButton";var X=function(e){var t,n=e.selected,r=e.hideGameUpdateProgressIndicator,i=q(e,V),l=(0,u.useListItem)("library");return a.createElement(L.LinkButton,$({selected:n,route:U.Routes.APPLICATION_LIBRARY,icon:P.default,text:G.default.Messages.LIBRARY},i,l),K(k.default,{className:(0,o.default)(F.default.downloadProgressCircle,(t={},t[F.default.hideGameUpdateProgressIndicator]=r,t))}))};X.displayName="LibraryButton";var Q=K(f.default,{transform:"translate(0 8)"}),J=function(e){var t=e.selected,n=e.route,r=e.locationState,o=q(e,W),i=(0,u.useListItem)("nitro"),s=c.default.useExperiment({}).trialIds;a.useEffect((function(){c.default.trackExposure({})}),[]);var f=(0,l.useStateFromStores)([b.default],(function(){return b.default.getUnacknowledgedOffers(s).length})),v=d.default.useExperiment({}).enableBadge,y=(0,p.useEnableAUPromo)()&&v;return a.createElement(L.LinkButton,$({
selected:t,route:n,icon:M.default,text:G.default.Messages.PREMIUM,locationState:r},o,i,{className:F.default.linkButton}),f>0?K(R.NumberBadge,{count:f}):null,y&&Q)};J.displayName="NitroButton";var ee=function(){return(0,v.show)("DM_SEARCH")};function te(e){switch(e){case U.Routes.APPLICATION_LIBRARY:return U.AnalyticsPages.LIBRARY;case U.Routes.FRIENDS:return U.AnalyticsPages.FRIENDS_LIST}return e.startsWith(U.Routes.APPLICATION_STORE)?e===U.Routes.APPLICATION_STORE?U.AnalyticsPages.STORE_DIRECTORY_HOME:e.startsWith(U.Routes.APPLICATION_STORE)?U.AnalyticsPages.STORE_DIRECTORY_BROWSE:U.AnalyticsPages.STORE_LISTING:U.AnalyticsPages.DM_CHANNEL}var ne=function(e){var t=e.showLibrary,n=e.hasLibraryApplication,r=e.homeLink,o=e.storeLink,u=e.premiumTabSelected,l=e.showNitroTab,s=z((0,y.default)((function(e){return[e.channelId,e.path]}),i.default),2),f=s[0],d=s[1];return K("nav",{className:F.default.privateChannels,"aria-label":G.default.Messages.PRIVATE_CHANNELS_A11Y_LABEL
},void 0,K(h.default,{tutorialId:"direct-messages",position:A.PopoutPositions.RIGHT,offsetX:-52},void 0,K("div",{className:F.default.searchBar},void 0,K("button",{type:"button",className:F.default.searchBarComponent,onClick:ee},void 0,G.default.Messages.DM_SEARCH_PLACEHOLDER))),a.createElement(j.default,$({},e,{version:d,selectedChannelId:f,showDMHeader:!0}),K(Z,{selected:null!=d?d===U.Routes.FRIENDS:r===U.Routes.FRIENDS},"friends"),n&&t?K(X,{selected:null==d?null!=r&&r.startsWith(U.Routes.APPLICATION_LIBRARY):d.startsWith(U.Routes.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:r===U.Routes.APPLICATION_LIBRARY},"library"):null,l?K(J,{selected:null==d?u:d.startsWith(U.Routes.APPLICATION_STORE),route:null==o||location.pathname.startsWith(U.Routes.APPLICATION_STORE)?U.Routes.APPLICATION_STORE:o,locationState:{analyticsSource:{page:te(r),section:U.AnalyticsSections.NAVIGATION,object:U.AnalyticsObjects.NAVIGATION_LINK}}},"premium"):null))};ne.displayName="PrivateChannels";var re=(0,
s.registerUserExperiment)({id:s.Experiments.HIDE_NITRO_TAB,title:"Hide Nitro Tab",description:["Hide Nitro tab from new users","Control: Show Nitro tab to all users","Treatment 1: Hide Nitro tab from users that are registered less than a 3 months ago"],buckets:[s.ExperimentBuckets.CONTROL,s.ExperimentBuckets.TREATMENT_1]});function ae(){var e=(0,l.useStateFromStores)([T.default],(function(){return T.default.getHomeLink()})),t=(0,l.useStateFromStores)([C.default],(function(){if(e===U.Routes.APPLICATION_STORE)return!0;var t=(0,D.getSKUIdFromURL)(e);if(null!=t){var n,r;return null!==(n=null===(r=C.default.get(t))||void 0===r?void 0:r.premium)&&void 0!==n&&n}return!1}),[e]),n=(0,l.useStateFromStores)([S.default],(function(){return S.default.getCurrentUser()})),r=(0,l.useStateFromStores)([O.default],(function(){return O.default.getPremiumTypeSubscription()})),o=c.default.useExperiment({}).trialIds;a.useEffect((function(){c.default.trackExposure({})}),[]);var i=(0,
l.useStateFromStores)([b.default],(function(){return b.default.getUnacknowledgedOffers(o).length>0})),u=!m.DisableGamesTab.useSetting(),f=(0,l.useStateFromStoresObject)([E.default],(function(){return{theme:E.default.theme}})).theme,d=(0,s.useAndTrackExposureToUserExperiment)(re)===s.ExperimentBuckets.CONTROL||i||null!=n&&Date.now()-n.createdAt.getTime()>7776e6||(0,w.hasPremiumSubscriptionToDisplay)(n,r),p=(0,l.useStateFromStores)([_.default],(function(){return _.default.hasLibraryApplication()})),v=(0,l.useStateFromStores)([I.default],(function(){return I.default.getCurrentPath()}));return K(ne,{theme:f,showLibrary:u,showNitroTab:d,hasLibraryApplication:p,storeLink:v,homeLink:e,premiumTabSelected:t})}ae.displayName="PrivateChannelsConnected"},989418:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=v(n(536211)),u=v(n(221185)),l=v(n(534930)),s=v(n(530250)),f=n(160629),d=v(n(358696)),c=v(n(247001)),p=v(n(949391));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g={position:f.Positions.BOTTOM,autoInvert:!1},E=function(e){var t=e.region,n=e.className;return _("div",{className:void 0===n?p.default.regionSelectName:n},void 0,t.name.replace(/ \(VIP\)$/,""))};E.displayName="RegionName";var S=function(e){h(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.region,n=e.selected;return _(s.default,{align:s.default.Align.CENTER,className:(0,o.default)({selected:n})},void 0,_(E,{region:t,className:p.default.regionSelectName}),n?_("i",{className:p.default.check}):null)};return t}(a.PureComponent);S.displayName="RegionItem";var O=function(e){h(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this).renderOption=function(e,t){return _(S,{region:e.value,selected:t},e.value.id)};t.getSelectedRegion=function(){var e,n=t.props,r=n.regions,a=n.call;return a.regionUpdated&&null!=r&&null!=a.region?null!==(e=r.find((function(e){return e.id===a.region})))&&void 0!==e?e:{name:a.region,id:a.region}:{id:"automatic",name:c.default.Messages.AUTOMATIC_REGION,vip:!1,deprecated:!1,hidden:!1}};t.handleChangeVoiceRegion=function(e){var n=e.value,r=t.props.call.channelId;u.default.changeCallRegion(r,n.id)};return t}var n=t.prototype;n.componentDidMount=function(){null==this.props.regions&&u.default.fetchRegions(null)};n.render=function(){var e=this.props.regions;if(null==e)return null;var t=this.getSelectedRegion(),n={label:t.name,value:t},r=e.filter((function(e){return!e.deprecated&&!e.hidden})).map((function(e){return{label:e.name,value:e,key:e.id}}));return _(d.default,{label:c.default.Messages.REGION,options:r,value:n,
onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:g,popoutClassName:p.default.regionSelectPopout})};return t}(a.PureComponent);O.displayName="QuickRegionSelect";var b=i.default.connectStores([l.default],(function(){return{regions:l.default.getRegions(null)}}))(O);t.default=b},686923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=R(n(667294)),o=M(n(294184)),i=n(536211),u=M(n(929031)),l=M(n(257175)),s=M(n(133464)),f=R(n(145122)),d=M(n(812371)),c=M(n(915574)),p=M(n(241505)),v=n(678620),y=M(n(423086)),h=M(n(871778)),m=M(n(956117)),_=M(n(730977)),g=M(n(930600)),E=M(n(12713)),S=n(194322),O=n(598671),b=n(660590),I=M(n(308920)),C=n(873838),T=n(770348),A=M(n(247001)),P=M(n(830332));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function j(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e){var t=e.status,n=e.description,r=e.focused;return j("div",{className:P.default.statusItem},void 0,j(b.Status,{status:t,className:P.default.icon,size:10,color:r?"currentColor":void 0}),j("div",{className:P.default.status},void 0,(0,C.humanizeStatus)(t)),null!=n&&j("div",{className:P.default.description},void 0,n))}k.displayName="StatusMenuItem";function U(e){var t=e.customStatus,n=function(e){e.stopPropagation();u.default.updateRemoteSettings({customStatus:null})};return null!=t?j("div",{"aria-label":A.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER
},void 0,j(s.default,{className:null!=t.emoji?P.default.customStatusWithEmoji:P.default.customStatusItem,activity:t,emojiClassName:P.default.customEmoji,textClassName:P.default.customText,placeholderText:A.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER},void 0,j(_.default,{text:A.default.Messages.CUSTOM_STATUS_CLEAR_CUSTOM_STATUS},void 0,(function(e){return a.createElement(m.default,L({},e,{className:P.default.clearStatusButton,onClick:n,look:m.default.Looks.BLANK,size:m.default.Sizes.NONE,tabIndex:-1,"aria-hidden":!0}),j(g.default,{className:P.default.clearStatusIcon}))})))):j("div",{className:(0,o.default)(P.default.statusItem,P.default.customStatusContentIcon),"aria-label":A.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS},void 0,j("div",{className:P.default.customEmojiPlaceholder}),j("div",{className:P.default.status},void 0,A.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS))}function G(e){var t=e.focused;return j("div",{className:(0,
o.default)(P.default.statusItem,P.default.statusItemNoPadding,P.default.customStatusContentIcon,P.default.switchAccountsItem),"aria-label":A.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE},void 0,j(E.default,{width:18,height:18,className:P.default.switchAccountsIcon,color:t?T.Colors.WHITE:"currentColor"}),j("div",{className:P.default.status},void 0,A.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE," ",j(O.TextBadge,{text:"BETA",className:P.default.betaTag,color:T.Colors.BRAND_NEW_500})))}G.displayName="SwitchAccountsMenuItem";var F=j(f.MenuSeparator,{}),x=j(f.MenuSeparator,{}),V=j(f.MenuSeparator,{}),W=function(e){var t=e.customStatus,r=e.onClose,o=e.analyticsContext,l=e.onSelect,s=d.default.useExperiment({}),y=(0,i.useStateFromStores)([c.default],(function(){return c.default.getIsMultiAccountPreviouslyEnabled()})),h=(0,v.useMultiAccountMenuItems)();a.useEffect((function(){d.default.trackExposure({})}),[]);a.useEffect((function(){I.default.track(T.AnalyticEvents.OPEN_POPOUT,{
type:"User Status Menu",has_custom_status:null!=t,location:o.location})}),[]);var m=function(e){u.default.updateRemoteSettings({status:e})},_=j(U,{customStatus:t});return j(f.default,{navId:"status-picker",style:f.MenuStyle.FIXED,"aria-label":A.default.Messages.SET_STATUS,onClose:r,onSelect:l,className:P.default.menu},void 0,j(f.MenuItem,{id:"online",keepItemStyles:!0,render:function(e){var t=e.isFocused;return j(k,{status:b.StatusTypes.ONLINE,focused:t})},action:function(){return m(b.StatusTypes.ONLINE)}}),F,j(f.MenuItem,{id:"idle",keepItemStyles:!0,render:function(e){var t=e.isFocused;return j(k,{status:b.StatusTypes.IDLE,focused:t})},action:function(){return m(b.StatusTypes.IDLE)}}),j(f.MenuItem,{id:"dnd",keepItemStyles:!0,render:function(e){var t=e.isFocused;return j(k,{status:b.StatusTypes.DND,description:A.default.Messages.STATUS_DND_HELP,focused:t})},action:function(){return m(b.StatusTypes.DND)}}),j(f.MenuItem,{id:"invisible",keepItemStyles:!0,render:function(e){
var t=e.isFocused;return j(k,{status:b.StatusTypes.INVISIBLE,description:A.default.Messages.STATUS_INVISIBLE_HELPER,focused:t})},action:function(){return m(b.StatusTypes.INVISIBLE)}}),x,j(f.MenuItem,{id:"custom-status",keepItemStyles:!0,render:function(){return _},action:function(){(0,S.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74213)]).then(n.bind(n,793954));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,L({},e,{sourceAnalyticsContext:o}))}));case 5:case"end":return e.stop()}}),e)}))))}}),y&&!s.disableMultiAccount&&a.createElement(a.Fragment,null,V,j(f.MenuItem,{id:"switch-account",action:p.default,label:function(e){return j(G,{focused:e.isFocused})}},"switch-account",h)))};W.displayName="StatusPickerPopout";var H=(0,l.default)((function(e){var t=(0,i.useStateFromStores)([y.default],(function(){
return y.default.getCustomStatusActivity()})),n=(0,i.useStateFromStores)([h.default],(function(){return h.default.status}));return a.createElement(W,L({},e,{customStatus:t,status:n}))}));t.default=H},424670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ae;var r,a=z(n(667294)),o=H(n(294184)),i=H(n(496486)),u=z(n(798628)),l=n(536211),s=n(378158),f=H(n(55189)),d=H(n(235879)),c=n(632123),p=n(973523),v=n(75639),y=n(252404),h=n(84902),m=H(n(698099)),_=H(n(711195)),g=H(n(414068)),E=H(n(607209)),S=H(n(876874)),O=H(n(788739)),b=H(n(690445)),I=H(n(663303)),C=H(n(946447)),T=H(n(728429)),A=H(n(160629)),P=H(n(571830)),M=H(n(999720)),N=H(n(547282)),R=H(n(971639)),w=H(n(325908)),D=H(n(827436)),L=H(n(776360)),j=H(n(521358)),k=n(956506),U=H(n(922629)),G=H(n(810332)),F=n(770348),x=H(n(247001)),V=H(n(645320)),W=H(n(160957));function H(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(B=function(e){return e?n:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function q(){q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return q.apply(this,arguments)}function Z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Z(o,r,a,i,u,"next",e)}function u(e){Z(o,r,a,i,u,"throw",e)}i(void 0)}))}}var Q=U.default.getEnableHardwareAcceleration();function J(e){var t=e.channel,r=e.sectionId,o=e.userId,i=(0,l.useStateFromStores)([C.default],(function(){return C.default.isTyping(t.id,o)})),d=(0,l.useStateFromStores)([S.default],(function(){return S.default.getMember(t.guild_id,o)})),c=(0,l.useStateFromStores)([T.default],(function(){return T.default.getUser(o)})),p=(0,l.useStateFromStores)([T.default],(function(){return T.default.getCurrentUser()})),y=(null==c?void 0:c.id)===(null==p?void 0:p.id),h=(0,l.useStateFromStores)([O.default,b.default],(function(){
return y?b.default.getStatus():O.default.getStatus(o,t.guild_id)})),P=(0,l.useStateFromStores)([O.default],(function(){return O.default.isMobileOnline(o)})),M=(0,l.useStateFromStores)([O.default,b.default],(function(){return y?b.default.getActivities():O.default.getActivities(o,t.guild_id)})),N=(0,l.useStateFromStores)([E.default],(function(){return E.default.getStreamForUser(o)})),R=(0,u.useListItem)(o),w=(0,l.useStateFromStores)([m.default],(function(){return m.default.canUserViewChannel(t.id,r,o)})),D=a.useCallback((function(e){null!=c&&(0,s.openContextMenuLazy)(e,X(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(41501),n.e(63893)]).then(n.bind(n,863893));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,q({},e,{user:c,guildId:t.guild_id,channelId:t.id}))}));case 5:case"end":return e.stop()}}),e)}))))
}),[c,t]),L=a.useCallback((function(){if(null!=c){var e="@"+(I.default.hidePersonalInformation?c.username:c.tag);k.ComponentDispatch.dispatchToLastSubscribed(F.ComponentActions.INSERT_TEXT,{content:e});f.default.startTyping(t.id)}}),[c,t]),j=a.useCallback((function(e){e.stopPropagation();(0,v.openGuildBoostingMarketingModal)({guildId:t.guild_id,location:{section:F.AnalyticsSections.THREAD_MEMBER_LIST,object:F.AnalyticsObjects.BOOST_GEM_ICON}})}),[t.guild_id]);if(null==c)return null;var U=null==d?void 0:d.premiumSince;return K(A.default,{preload:function(){return(0,_.default)(c.id,c.getAvatarURL(t.guild_id,80),{guildId:t.guild_id})},renderPopout:function(e){return a.createElement(g.default,q({},e,{userId:c.id,guildId:t.guild_id,channelId:t.id}))},position:A.default.Positions.LEFT,spacing:16,onShiftClick:L},void 0,(function(e,n){var r=n.isShown;return a.createElement(G.default,q({onContextMenu:D,shouldAnimateStatus:Q,user:c,nick:null==d?void 0:d.nick,status:h,activities:M,
colorString:null==d?void 0:d.colorString,isTyping:i,channel:t,guildId:t.guild_id,isMobile:P,selected:r,applicationStream:N,premiumSince:null==U?null:new Date(U),onClickPremiumGuildIcon:j,itemProps:R,lostPermissionTooltipText:w?void 0:x.default.Messages.THREAD_MEMBER_WITHOUT_ACCESS},e))}))}J.displayName="ThreadMember";var ee=K(M.default,{width:12,height:12});var te=a.memo(J),ne=a.memo((function(e){var t=e.id,n=e.label,r=e.count,o=e.guildId,i=(0,y.useRoleIcon)({roleId:t,guildId:o,size:16});return t===F.StatusTypes.UNKNOWN?K("div",{className:V.default.membersGroup},void 0,K("div",{className:V.default.memberGroupsPlaceholder})):K(w.default,{className:V.default.membersGroup,"aria-label":x.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:r})},void 0,null!=i?a.createElement(D.default,q({className:V.default.roleIcon},i)):null,K("span",{"aria-hidden":!0},void 0,n," â€” ",r))})),re=a.memo((function(e){
return e.channel.type===F.ChannelTypes.PRIVATE_THREAD?a.createElement(a.Fragment,null,K("div",{className:W.default.divider}),K(L.default,{size:L.default.Sizes.SIZE_12,color:L.default.Colors.HEADER_SECONDARY,className:W.default.private},void 0,ee,"Â ",x.default.Messages.THREAD_BROWSER_PRIVATE),K(L.default,{size:L.default.Sizes.SIZE_14,color:L.default.Colors.HEADER_SECONDARY,className:W.default.instructions},void 0,x.default.Messages.MEMBER_LIST_PRIVATE_THREAD_INSTRUCTIONS)):null}));function ae(e){var t=e.channel,n=e.guild,r="members-"+t.id,s=(0,h.useThreadMemberListSections)(t.id,n),f=s.filter((function(e){return e.userIds.length>0})).reverse()[0],p=function(e){var t=(0,l.useStateFromStores)([d.default],(function(){return d.default.keyboardModeEnabled})),n=a.useRef(null),r=a.useCallback((function(e,t){var r=n.current;if(null!=r){var a=parseInt(t,10),o=Y(r.getSectionRowFromIndex(a),2),i=o[0],u=o[1],l=0===i&&0===u?44:0;r.scrollToIndex({section:i,row:u,padding:l,callback:function(){
requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[]),o=a.useCallback((function(){return new Promise((function(e){var t=n.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),i=a.useCallback((function(){return new Promise((function(e){var t=n.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]);return{navigator:(0,u.default)({id:e,setFocus:r,isEnabled:t,scrollToStart:o,scrollToEnd:i}),listRef:n}}(r),v=p.navigator,y=p.listRef;if(0===s.length||s.every((function(e){return 0===e.userIds.length})))return K(ie,{channel:t});var m=i.default.omit(v.containerProps,["ref"]),_=K(re,{channel:t},"footer");return K(u.ListNavigatorProvider,{navigator:v},void 0,K(c.FocusJumpSection,{},void 0,(function(e){return K("div",{className:(0,
o.default)(V.default.membersWrap,V.default.hiddenMembers)},void 0,a.createElement(j.default,q({key:r,ref:y,className:V.default.members,paddingTop:0,sectionHeight:40,renderSection:function(e){var t=e.section,r=s[t];return K(ne,{id:r.id,label:r.label,count:r.userIds.length,guildId:n.id},r.id)},rowHeight:44,renderRow:function(e){var n=e.section,r=e.row,a=s[n],o=a.userIds,i=a.id;return K(te,{channel:t,sectionId:i,userId:o[r]},o[r])},footerHeight:function(e){return s[e]===f&&t.type===F.ChannelTypes.PRIVATE_THREAD?80:0},renderFooter:function(e){return s[e.section]===f?_:null},"aria-label":x.default.Messages.MEMBERS,sections:s.map((function(e){return e.userIds.length})),fade:!0},m,e)))})))}ae.displayName="ThreadMembers";var oe=K(N.default,{width:32,height:32});function ie(e){var t=e.channel,n=(0,p.useIsForumPost)(t);return K("div",{className:(0,o.default)(V.default.membersWrap,V.default.hiddenMembers,V.default.members,W.default.emptyState)},void 0,K(L.default,{
className:W.default.emptyStateHeader,size:L.default.Sizes.SIZE_12,color:L.default.Colors.INTERACTIVE_NORMAL},void 0,x.default.Messages.MEMBERS),K("div",{className:W.default.emptyStateIconContainer},void 0,K("div",{className:W.default.emptyStateIcon},void 0,oe),K(P.default,{className:W.default.emptyStateStars})),K(R.default,{size:R.default.Sizes.SIZE_16},void 0,n?x.default.Messages.FORUM_POST_MEMBER_LIST_EMPTY_STATE_HEADER:x.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_HEADER),K(L.default,{className:W.default.emptyStateSubtext,size:L.default.Sizes.SIZE_14,color:L.default.Colors.HEADER_SECONDARY},void 0,x.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_SUBTEXT))}ie.displayName="EmptyState"},998872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Je(n(667294)),o=n(517563),i=n(505977),u=n(473727),l=Xe(n(536211)),s=Xe(n(939949)),f=Xe(n(241165)),d=n(988754),c=Xe(n(415275)),p=Xe(n(737863)),v=Xe(n(136873)),y=Je(n(446637)),h=Xe(n(226800)),m=Xe(n(235879)),_=Xe(n(178235)),g=Xe(n(206566)),E=Xe(n(967160)),S=Xe(n(600198)),O=Xe(n(765304)),b=Xe(n(676817)),I=n(621287),C=Xe(n(694450)),T=Xe(n(316309)),A=Xe(n(235398)),P=Xe(n(121791)),M=Xe(n(200092)),N=n(177634),R=Xe(n(730034)),w=Xe(n(480519)),D=Xe(n(697786)),L=Xe(n(344368)),j=Xe(n(735592)),k=Xe(n(829392)),U=Xe(n(519386)),G=Xe(n(782950)),F=Xe(n(100223)),x=Xe(n(873113)),V=Xe(n(701593)),W=n(452453),H=Xe(n(789620)),B=Xe(n(218813)),z=Xe(n(936747)),Y=Xe(n(419523)),$=Xe(n(476115)),K=Xe(n(316200)),q=Xe(n(171627)),Z=Xe(n(486030)),X=n(520310),Q=Xe(n(900996)),J=Xe(n(885159)),ee=Xe(n(554147)),te=Xe(n(496357)),ne=Xe(n(110210)),re=Xe(n(231765)),ae=Xe(n(216920)),oe=Xe(n(764517)),ie=Xe(n(348612)),ue=Xe(n(329697)),le=n(923604),se=n(139982),fe=Xe(n(804135)),de=Xe(n(478910)),ce=Xe(n(394444)),pe=Xe(n(342716)),ve=Xe(n(965484)),ye=Xe(n(340877)),he=n(910992),me=Xe(n(418968)),_e=Xe(n(77670)),ge=Xe(n(409501)),Ee=Xe(n(594506)),Se=Xe(n(859566)),Oe=Xe(n(474628)),be=Xe(n(555325)),Ie=Xe(n(350539)),Ce=Xe(n(423046)),Te=Xe(n(908463)),Ae=Xe(n(644263)),Pe=Xe(n(544196)),Me=Xe(n(23535)),Ne=Xe(n(30098)),Re=Xe(n(122913)),we=Xe(n(191839)),De=Xe(n(211136)),Le=Xe(n(790597)),je=Xe(n(474261)),ke=Xe(n(424099)),Ue=Xe(n(797512)),Ge=Xe(n(96978)),Fe=Xe(n(944537)),xe=Xe(n(432310)),Ve=Xe(n(853068)),We=n(194322),He=n(864489),Be=Xe(n(922629)),ze=Je(n(409873)),Ye=Xe(n(825469)),$e=Xe(n(678306)),Ke=n(770348),qe=n(173652),Ze=n(754949)
;n(259477);n(203855);n(730655);n(101820);n(913955);n(438312);n(455286);n(433512);n(937035);n(399561);n(625424);n(359973);n(587840);n(516818);n(816624);n(350957);n(243336);n(491462);n(42398);n(847583);function Xe(e){return e&&e.__esModule?e:{default:e}}function Qe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Qe=function(e){return e?n:t})(e)}function Je(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Qe(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function et(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function tt(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){et(o,r,a,i,u,"next",e)}function u(e){et(o,r,a,i,u,"throw",e)}i(void 0)}))}}function nt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=rt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rt(e,t){if(e){if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function ot(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;it(e,t)}function it(e,t){it=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return it(e,t)}function ut(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}l.default.initialize();fe.default.loadServer();if(He.isPlatformEmbedded){Be.default.on("USER_SETTINGS_OPEN",(function(){Re.default.getLayers().includes(Ke.Layers.USER_SETTINGS)||h.default.open(Ke.UserSettingsSections.ACCOUNT)}));Be.default.on("LAUNCH_APPLICATION",(function(e,t){var n=we.default.getActiveLibraryApplication(t);ze.playApplication(t,n,{analyticsParams:{location:{
page:Ke.AnalyticsPages.DIRECT,object:Ke.AnalyticsObjects.WEB_URL}}})}))}function lt(e){var t=e.match,n=e.location,r=(0,o.parse)(n.search).friend_token,a=t.params.id;p.default.call((function(){return(0,he.openUserProfileModal)({userId:a,guildId:Ke.ME,friendToken:r,analyticsLocation:{section:Ke.AnalyticsSections.DIRECT_ROUTE_ACCESS}})}));return ut(u.Redirect,{to:Pe.default.defaultRoute})}lt.displayName="renderUserProfileRedirector";function st(e){var t=e.match.params,n=t.guildId,r=t.guildEventId;p.default.call((function(){(0,W.openGuildEventDetails)(r)}));return ut(u.Redirect,{to:Ke.Routes.CHANNEL(n)})}st.displayName="renderGuildEventRedirector";function ft(e){var t,n,r=e.match,a=/-/g,o=null===(t=r.params.section)||void 0===t?void 0:t.toUpperCase().replace(a,"_"),i=null===(n=r.params.subsection)||void 0===n?void 0:n.toUpperCase().replace(a,"_");!Ke.UserSettingsSections.hasOwnProperty(o)||i&&!Ke.UserSettingsSections.hasOwnProperty(i)||p.default.call((function(){
return h.default.open(Ke.UserSettingsSections[o],i)}));return ut(u.Redirect,{to:Pe.default.defaultRoute})}ft.displayName="renderUserSettingsRedirector";function dt(){p.default.call((function(){return h.default.open(Ke.UserSettingsSections.INVENTORY)}));return ut(u.Redirect,{to:Pe.default.defaultRoute})}dt.displayName="renderGiftInventoryRedirector";function ct(e){var t=e.match.params.date,n=Te.default.changeLog,r=(0,o.parse)(location.search);if(null!=t&&null!=n){if(new Date(t)>new Date(n.date)){var a=r.utm_campaign_current,i=r.utm_content_current,l=r.utm_medium_current,s=r.utm_source_current,d=r.utm_term_current,c=(0,o.stringify)({utm_campaign_current:a,utm_content_current:i,utm_medium_current:l,utm_source_current:s,utm_term_current:d});window.location=Ke.Routes.CHANGELOGS()+"?"+c}}p.default.call((function(){return f.default.showChangeLog(r)}));return ut(u.Redirect,{to:Pe.default.defaultRoute})}ct.displayName="renderChangeLogRedirector";function pt(){p.default.call((function(){
return M.default.openCreateGuildModal({location:"External link"})}));return ut(u.Redirect,{to:Pe.default.defaultRoute})}pt.displayName="createGuildModalRedirector";function vt(e){var t=e.match.params,n=t.guildId,r=t.channelId;(0,X.setNewUser)(Ze.NewUserTypes.MARKETING_UNCLAIMED);var a=Ke.Routes.CHANNEL(n||"",r);return ut(u.Redirect,{to:a})}vt.displayName="renderWelcomeRedirector";var yt=l.default.connectStores([Me.default,Pe.default,Ce.default],(function(){return{isConnected:Me.default.isConnected(),defaultRoute:Pe.default.defaultRoute,defaultRouteFallback:Pe.default.fallbackRoute,token:Ce.default.getToken()}}))(function(e){ot(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute,r=e.token,a=e.defaultRouteFallback;if(null==r)return ut(u.Redirect,{to:Ke.Routes.DEFAULT_LOGGED_OUT});if(t){var o=At(n)
;return null==o||(o.params.guildId===Ke.ME||null!=Ne.default.getGuild(o.params.guildId))&&null!=Ae.default.getChannel(o.params.channelId)?ut(u.Redirect,{to:n}):ut(N.DiscoveryLandingExperimentRedirect,{defaultRouteFallback:a})}return null};return t}(a.Component));function ht(e){var t=e.match.params,n=t.gameId,r=t.action;xe.default.whenInitialized((function(){we.default.whenInitialized((function(){switch(r){case"launch":var e=we.default.getActiveLibraryApplication(n);if(null==e)return;ze.playApplication(e.id,e,{analyticsParams:{location:{page:Ke.AnalyticsPages.DIRECT,object:Ke.AnalyticsObjects.WEB_URL}}});break;case"test-mode":ke.default.whenInitialized((function(){return y.authorizeAndSetTestModeApplication(n)}));break;case"uninstall":var t=we.default.getActiveLibraryApplication(n);if(null==t)return;(0,d.uninstallBranchPrompt)(t.id,t.branchId,Ke.AnalyticsLocations.URI_SCHEME)}}))}));return ut(u.Redirect,{to:Ke.Routes.APPLICATION_LIBRARY})}ht.displayName="gameLibraryActionRedirector"
;var mt,_t=(0,I.makeAuthenticated)(Ye.default,null,{passProps:!1}),gt=[Ke.Routes.GUILD_BOOSTING_MARKETING(":guildId")].concat(function(e){if(Array.isArray(e))return at(e)}(mt=qe.StaticChannelRoutes.map((function(e){return Ke.Routes.CHANNEL(":guildId",e)})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(mt)||rt(mt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var Et=ut(yt,{}),St=[{path:[Ke.Routes.APP,Ke.Routes.CHANNEL("@me",":channelId?")],render:function(){return Et},isSessionRequired:!0},{path:[Ke.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),Ke.Routes.GUILD_DISCOVERY],render:_t,isSessionRequired:!0,isChatRoute:!0}],Ot=ut(yt,{}),bt=[{path:[Ke.Routes.APP],render:function(){return Ot},isSessionRequired:!0},{path:[Ke.Routes.USERS(":id")],render:lt},{
path:[Ke.Routes.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:ht},{path:[Ke.Routes.GUILD_CREATE],render:pt},{path:[Ke.Routes.CHANGELOGS(":date?")],render:ct,isSessionRequired:!0},{path:[Ke.Routes.SETTINGS(":section",":subsection?")],render:ft,isSessionRequired:!0},{path:[Ke.Routes.APPLICATION_LIBRARY_INVENTORY],render:dt,isSessionRequired:!0},{path:[Ke.Routes.WELCOME(":guildId?",":channelId?")],render:vt,isSessionRequired:!0},{path:[Ke.Routes.GUILD_EVENT_DETAILS(":guildId?",":guildEventId")],render:st,isSessionRequired:!0},{path:[Ke.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),Ke.Routes.ACTIVITY,Ke.Routes.APPLICATION_LIBRARY,Ke.Routes.APPLICATION_STORE,Ke.Routes.GUILD_DISCOVERY,Ke.Routes.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),Ke.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),Ke.Routes.GUILD_BOOSTING_MARKETING(":guildId"),Ke.Routes.FEATURE(":feature")],render:_t,isSessionRequired:!0,isChatRoute:!0}];function It(e){
if(!Me.default.isConnected()&&!Me.default.isTryingToConnect()){var t=Ce.default.getToken();if(null!=t){var n=function(e){for(var t,n=nt(Tt());!(t=n()).done;){var r=t.value,a=r.path;if(r.isSessionRequired){var o=(0,i.matchPath)(e,{path:a});if(null!=o)return o}}return null}(e);null!=n&&s.default.startSession(t)}}}function Ct(e){var t=At(e);if(null!=t){var n=function(e){var t=e.params,n=t.guildId,r=t.channelId,a=void 0===r?null:r,o=t.messageId,i=void 0===o?null:o;return{guildId:n||Ke.ME,channelId:a,messageId:i}}(t),r=n.guildId,a=n.channelId,o=n.messageId,u=(0,le.isValidGuildId)(r),l=(0,le.isValidChannelId)(a),s=Le.default.getGuildId(),f=s!==r;u&&f&&c.default.selectGuild(r);if(u&&l){var d=De.default.getChannelId(s);(f||d!==a||null!=o)&&v.default.selectChannel(r,a,o)}else(function(e){return gt.some((function(t){var n;return!0===(null===(n=(0,i.matchPath)(e,t))||void 0===n?void 0:n.isExact)}))})(e)||(0,se.replaceWith)(Pe.default.fallbackRoute)}}function Tt(){return Ce.default.isGuest()?St:bt
}function At(e){for(var t,n=nt(Tt());!(t=n()).done;){var r=t.value,a=r.path;if(r.isChatRoute){var o=(0,i.matchPath)(e,{path:a});if(null!=o)return o}}return null}var Pt=ut(u.Redirect,{exact:!0,from:"/channels",to:"/"}),Mt=ut(u.Redirect,{to:"/"}),Nt=ut($e.default,{}),Rt=function(e){ot(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).historyUnlisten=function(){};return t}var r=t.prototype;r.componentDidMount=function(){Be.default.setZoomFactor(m.default.zoom);fe.default.init();C.default.initialize();T.default.initialize();P.default.initialize();A.default.initialize();D.default.initialize();ee.default.initialize();j.default.initialize();L.default.initialize();Ie.default.initialize();k.default.initialize();re.default.initialize();Y.default.initialize();Z.default.initialize();_.default.init();ie.default.init();de.default.init();G.default.init();je.default.init();U.default.init();q.default.init()
;Q.default.initialize();b.default.initialize();ce.default.initialize();ae.default.initialize();be.default.initialize();O.default.initialize();Oe.default.initialize();J.default.initialize();S.default.initialize();F.default.init();H.default.init();Fe.default.init();Ve.default.init();K.default.initialize();E.default.initialize();ve.default.init();ye.default.init();Ge.default.init();Ue.default.init();_e.default.init();Ee.default.init();V.default.initialize();pe.default.initialize();x.default.initialize();me.default.initialize();ne.default.initialize();te.default.initialize();Se.default.init();w.default.initialize();ge.default.init();z.default.init();g.default.initialize();B.default.init({hasModalOpen:We.hasAnyModalOpen,openModal:function(){return(0,We.openModalLazy)(tt(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default
;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}});R.default.init();$.default.initialize();oe.default.initialize();this.handleHistoryChange(n.g.location);this.historyUnlisten=ue.default.addRouteChangeListener(this.handleHistoryChange)};r.componentWillUnmount=function(){j.default.terminate();Ie.default.terminate();re.default.terminate();ee.default.terminate();Z.default.terminate();C.default.terminate();T.default.terminate();P.default.terminate();A.default.terminate();D.default.terminate();K.default.terminate();O.default.terminate();Oe.default.terminate();S.default.terminate();ce.default.terminate();ae.default.terminate();J.default.terminate();me.default.terminate();E.default.terminate();V.default.terminate();ne.default.terminate();te.default.terminate();w.default.terminate();z.default.terminate();$.default.terminate();g.default.terminate();oe.default.terminate()};r.handleHistoryChange=function(e){var t=e.pathname;It(t)
;Ct(t)};r.render=function(){var e=this.props.isGuest;return ut(a.Fragment,{},void 0,ut(u.Switch,{},void 0,Pt,e?St.map((function(e){var t=e.path,n=e.render;return ut(u.Route,{path:t,render:n},t[0])})):bt.map((function(e){var t=e.path,n=e.render;return ut(u.Route,{path:t,render:n},t[0])})),Mt),Nt)};return t}(a.PureComponent);Rt.displayName="ViewsWithMainInterface";var wt=l.default.connectStores([Ce.default],(function(){return{isGuest:Ce.default.isGuest()}}))(Rt);t.default=wt},61689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),a=n(770348);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s,f,d=Math.pow(3,2);!function(e){e[e.DISABLED=0]="DISABLED";e[e.DEFAULT=1]="DEFAULT";e[e.OFFSET=2]="OFFSET"}(s||(s={}));!function(e){e.TOP="TOP";e.BOTTOM="BOTTOM";e.RIGHT="RIGHT";e.LEFT="LEFT"}(f||(f={}));function c(e,t,n,r,a){var o=e.top,i=e.bottom,u=e.left,l=e.right;if(null==o&&null==i){o=0;i=n-a}else null==o&&null!=i?o=n-(i+a):null!=o&&(i=n-(o+a));if(null==u&&null==l){u=0;l=t-r}else null==u&&null!=l?u=t-(l+r):null==l&&null!=u&&(l=t-(u+r));if(null==o||null==i||null==u||null==l)throw new Error("Logically this can never happen based on our if/else statements");return{top:o,left:u,bottom:i,right:l}}function p(e){
return[null==e.bottom?f.TOP:f.BOTTOM,null==e.right?f.LEFT:f.RIGHT]}function v(e){var t=e,n=t.top,r=t.left,a=t.bottom,o=t.right;0===n||n<=a?a=null:n=null;0===r||r<=o?o=null:r=null;return{top:n,left:r,bottom:a,right:o}}function y(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;if(r<0){t+=r;r=0}if(t<0){r+=t;t=0}if(a<0){n+=a;a=0}if(n<0){a+=n;n=0}return{top:t,left:n,bottom:r,right:a}}function h(e){return null!=e?e+"px":"auto"}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).draggableRef=r.createRef();n._dragStart={x:0,y:0};n.handleMouseDown=function(e){var t=n.position,r=t.top,o=t.left,i=t.bottom,u=t.right,l=n.props,s=l.dragAnywhere,f=l.selector,d=l.maxX,p=l.maxY,v=e.target,y=n.draggableRef.current;if(null!=y&&e.button===a.MouseButtons.PRIMARY&&(s||null!=v&&null!=f&&""!==f&&null!=v.closest(f))){var h=function(e){var t=e.top;return{x:e.left,y:t}}(c({top:r,left:o,bottom:i,right:u
},d,p,y.clientWidth,y.clientHeight)),m=h.x,_=h.y;n._dragStart={x:e.clientX,y:e.clientY};n._offsetX=e.clientX-m;n._offsetY=e.clientY-_;window.addEventListener("mousemove",n.handleMouseMove);window.addEventListener("mouseup",n.handleMouseUp)}};n.handleMouseMove=function(e){e.preventDefault();var t=e.clientX,r=e.clientY,a=n.draggableRef.current,o=n.props,i=o.maxX,u=o.maxY,l=o.flipVertical,f=o.flipHorizontal,h=o.onDragStart,m=o.onDrag,_=o.onFlip,g=o.snapOrientation,E=n.state,S=E.dragging,O=E.dragging,b=E.verticalOrientation,I=E.horizontalOrientation,C=!1;if(!(null==a||!S&&(T=n._dragStart,A={x:t,y:r},P=T.x,M=T.y,N=A.x,R=A.y,Math.pow(P-N,2)+Math.pow(M-R,2))<d)){var T,A,P,M,N,R;S=!0;var w=a.clientWidth,D=a.clientHeight,L=y(c({top:r-n._offsetY,left:t-n._offsetX},i,u,w,D));if(g){var j=p(L=v(L));b=j[0];I=j[1]}else L={top:L.top,left:L.left};if(f===s.OFFSET&&I!==n.state.horizontalOrientation){n._offsetX=w-n._offsetX;C=!0}if(l===s.OFFSET&&b!==n.state.verticalOrientation){n._offsetY=D-n._offsetY
;C=!0}n.setDOMPositions(L);O||null==h||h(L,a);null==m||m(L,a);C&&(null==_||_([b,I]));n.setState({dragging:S,verticalOrientation:b,horizontalOrientation:I,atTopEdge:0===L.top})}};n.handleMouseUp=function(){window.removeEventListener("mousemove",n.handleMouseMove);window.removeEventListener("mouseup",n.handleMouseUp);n.state.dragging&&n.setState({dragging:!1},(function(){var e=n.props.onDragEnd,t=n.draggableRef.current;null!=t&&null!=e&&e(n.position,t)}))};n._checkBoundsRAF=null;n.checkBounds=function(){null!=n._checkBoundsRAF&&cancelAnimationFrame(n._checkBoundsRAF);n._checkBoundsRAF=requestAnimationFrame(n._performCheckBounds)};n._performCheckBounds=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.position,r=e.state,a=e.draggableRef.current,o=e.props,i=o.maxX,u=o.maxY,l=o.onRelocated,s=o.snapOrientation,f=n.state,d=f.verticalOrientation,h=f.horizontalOrientation;if(null!=a){
var m,_=a.clientHeight,g=c(t,i,u,a.clientWidth,_);g=y(g);if(s){var E=p(m=v(g));d=E[0];h=E[1]}else m={top:g.top,left:g.left,right:null,bottom:null};if(t.left!==m.left||t.right!==m.right||t.top!==m.top||t.bottom!==m.bottom){null==l||l(m,a);n.setDOMPositions(m);var S=0===m.top;d===r.verticalOrientation&&h===r.horizontalOrientation&&S===r.atTopEdge||n.setState({verticalOrientation:d,horizontalOrientation:h,atTopEdge:S})}}};var o=i(p(t.initialPosition),2),u=o[0],l=o[1];n.position=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;null==n&&null==a&&(n=0);null!=n&&null!=a&&(a=null);null==t&&null==r&&(t=0);null!=t&&null!=r&&(r=null);return{top:t,left:n,bottom:r,right:a}}(t.initialPosition);n.state={dragging:!1,verticalOrientation:u,horizontalOrientation:l,atTopEdge:0===n.position.top};return n}var n=t.prototype;n.componentDidMount=function(){this.checkBounds();this.setDOMPositions(this.position)};n.componentDidUpdate=function(e,t){
var n=this.state,r=n.verticalOrientation,a=n.horizontalOrientation,o=n.atTopEdge,i=this.props,u=i.maxX,l=i.maxY,s=i.onRelocated,f=i.snapOrientation;(e.maxX!==u||e.maxY!==l||e.onRelocated!==s||e.snapOrientation!==f||t.verticalOrientation!==r||t.horizontalOrientation!==a||t.atTopEdge!==o)&&this.checkBounds()};n.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove);window.removeEventListener("mouseup",this.handleMouseUp)};n.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right,o=this.draggableRef.current;this.position={top:t,left:n,bottom:r,right:a};if(null!=o){o.style.top=h(t);o.style.bottom=h(r);o.style.left=h(n);o.style.right=h(a)}};n.render=function(){var e=this.props,t=e.children,n=e.className,a=this.state,o=a.dragging,i=a.verticalOrientation,u=a.horizontalOrientation,l=a.atTopEdge,s=this.position,d=s.top,c=s.left,p=s.right,v={pointerEvents:o?"none":"auto",position:"absolute",top:d,left:c,bottom:s.bottom,right:p}
;return r.createElement("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:v},r.cloneElement(r.Children.only(t),{flipped:u===f.RIGHT,verticalFlipped:i===f.BOTTOM,checkBounds:this.checkBounds,atTopEdge:l}))};return t}(r.PureComponent);t.default=m;m.displayName="Draggable";m.FlipTypes=s;m.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:s.DISABLED,flipHorizontal:s.DISABLED,dragAnywhere:!1}},358696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(667294)),o=l(n(16941)),i=l(n(160629)),u=f(n(519390));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderPopout=function(e){var n=e.closePopout,r=t.props,a=r.options,o=r.value,i=r.renderOption,l=r.popoutClassName,s=r.scroller;return c(u.QuickSelectPopout,{scroller:Boolean(s),className:l,options:a,value:o,renderOption:i,onChange:function(e){t.handleChange(e);n()}})};t.handleChange=function(e){var n=t.props.onChange;null==n||n(e)};return t}t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,l=e.className,s=e.popoutProps,f=c(u.default,{label:t,value:n,renderValue:r});return a.createElement(i.default,d({},s,{renderPopout:this.renderPopout}),(function(e,t){var n=t.isShown;return a.createElement(o.default,d({},e,{className:l,"aria-haspopup":"listbox","aria-expanded":n}),f)}))};return t}(a.PureComponent);v.displayName="QuickSelectWrapper";var y=v
;t.default=y},887140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var r,a=S(n(667294)),o=g(n(294184)),i=n(536211),u=g(n(636602)),l=S(n(785460)),s=g(n(122913)),f=g(n(191013)),d=g(n(37679)),c=g(n(665759)),p=n(194322),v=n(310170),y=S(n(409873)),h=n(770348),m=g(n(247001)),_=g(n(517628));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).searchBarRef=null;t.state={focused:!1};t.setRef=function(e){t.searchBarRef=e};t.handleKeyDown=function(e){
var n,r=t.props,a=r.activeRowKey,o=r.hasModalOpen,i=r.applicationViewItems,u=b(t).searchBarRef;if(!(o||e.ctrlKey||e.altKey||e.metaKey||null==u)){var l=null===(n=(0,v.eventOwnerDocument)(e))||void 0===n?void 0:n.activeElement;if(l===u.inputRef.current||!(0,v.isInputLikeElement)(l))switch(e.which){case h.KeyboardKeys.ESCAPE:e.target!==u.inputRef.current?t.reset():null!=u.inputRef.current&&u.blur();break;case h.KeyboardKeys.ENTER:if(null!=a){e.preventDefault();var s=i.find((function(e){return e.key===a}));if(null==s)return;var f=s.libraryApplication;y.performDefaultLibraryApplicationAction(f,{analyticsParams:{source:h.AnalyticsLocations.APPLICATION_LIBRARY,location:{page:h.AnalyticsPages.LIBRARY,section:h.AnalyticsSections.LIBRARY_APPLICATION_LIST,object:h.AnalyticsObjects.BUTTON_CTA}}})}break;case h.KeyboardKeys.ARROW_DOWN:case h.KeyboardKeys.ARROW_UP:e.preventDefault();e.stopPropagation();t.updateActiveRow(e.which===h.KeyboardKeys.ARROW_DOWN?1:-1);break;default:
null!=u.inputRef.current&&e.target!==u.inputRef.current&&u.focus()}}};return t}var n=t.prototype;n.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown)};n.componentWillUnmount=function(){u.default.wait((function(){return l.updateActiveRowKey(null)}));document.removeEventListener("keydown",this.handleKeyDown)};n.reset=function(){l.updateActiveRowKey(null);l.updateLibraryFilter("")};n.focusInput=function(){var e=this.searchBarRef;null!=e&&e.focus()};n.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,r=t.activeRowKey,a=n.findIndex((function(e){return e.key===r})),o=0;a>=0&&(o=(a+e)%n.length)<0&&(o=n.length-1);var i=n[o];l.updateActiveRowKey(null!=i?i.key:null,!0)};n.render=function(){var e,t=this,n=this.props.filterQuery,r=this.state.focused;return O("div",{className:(0,o.default)((e={},e[_.default.libraryFilter]=!0,e[_.default.focused]=r,e))},void 0,a.createElement(c.default,{className:_.default.searchBar,ref:this.setRef,
onChange:l.updateLibraryFilter,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})},name:"filter",onClear:function(){t.reset();t.focusInput()},maxLength:100,query:n,placeholder:m.default.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER}))};return t}(a.Component);C.displayName="ApplicationLibraryFilter";function T(){var e=(0,i.useStateFromStores)([s.default],(function(){return s.default.hasLayers()})),t=(0,p.useModalsStore)(p.hasAnyModalOpenSelector);return O(C,{activeRowKey:(0,i.useStateFromStores)([d.default],(function(){return d.default.activeRowKey})),hasModalOpen:t||e,filterQuery:(0,i.useStateFromStores)([f.default],(function(){return f.default.applicationFilterQuery})),applicationViewItems:(0,i.useStateFromStores)([f.default],(function(){return f.default.sortedFilteredLibraryApplicationViewItems}))})}T.displayName="ApplicationLibraryFilterConnected"},870380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(463024)),i=n(139982),u=v(n(186465)),l=v(n(262134)),s=n(308920),f=n(539331),d=n(770348),c=v(n(247001)),p=v(n(541302));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var _=(0,f.isSupportedPlatform)()||!1,g=h(o.default.Icon,{icon:l.default,"aria-hidden":!0}),E=h(o.default.Divider,{});function S(e){var t=e.currentRoute,n=e.renderToolbar,r=a.useContext(s.AnalyticsContext);var l=_||t===d.Routes.APPLICATION_LIBRARY_SETTINGS;return h(o.default,{className:p.default.libraryHeader,toolbar:null==n?void 0:n()},void 0,g,h(o.default.Title,{},void 0,c.default.Messages.LIBRARY),E,h(u.default,{type:u.default.Types.TOP_PILL,selectedItem:t,onItemSelect:function(e){e!==t&&(0,i.transitionTo)(e,{state:{analyticsSource:m({},r.location,{
section:d.AnalyticsSections.TABS,object:d.AnalyticsObjects.NAVIGATION_LINK})}})}},void 0,h(u.default.Item,{id:d.Routes.APPLICATION_LIBRARY},void 0,c.default.Messages.APPLICATION_LIBRARY_MY_GAMES),l?h(u.default.Item,{id:d.Routes.APPLICATION_LIBRARY_SETTINGS},void 0,c.default.Messages.SETTINGS):null))}S.displayName="ApplicationLibraryHeader";var O=a.memo(S);t.default=O},115370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(370405),i=n(473727),u=v(n(284382)),l=v(n(400225)),s=n(887299),f=v(n(539903)),d=v(n(364527)),c=n(770348),p=v(n(854686));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=h(d.default,{}),_=h(f.default,{});function g(){return h(i.Switch,{},void 0,h(l.default,{path:c.Routes.APPLICATION_LIBRARY_SETTINGS,exact:!0},void 0,h(u.default,{page:c.AnalyticsPages.LIBRARY_SETTINGS,root:!0},void 0,m)),h(l.default,{
path:c.Routes.APPLICATION_LIBRARY},void 0,h(u.default,{page:c.AnalyticsPages.LIBRARY,root:!0},void 0,_)))}g.displayName="ApplicationLibrarySwitch";var E=h(o.Helmet,{title:"Discord"}),S=h(g,{});function O(){a.useEffect((function(){(0,s.trackAppUIViewed)("application_library")}),[]);return h("div",{className:p.default.container},void 0,E,S)}O.displayName="ApplicationLibraryPage";var b=a.memo(O);t.default=b},949294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=h(n(536211)),u=n(91817),l=h(n(223367)),s=h(n(730977)),f=h(n(955310)),d=h(n(989983)),c=h(n(635114)),p=h(n(809898)),v=n(770348),y=h(n(247001));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){
E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var S=new Set([v.CloudSyncStateTypes.PUSHING,v.CloudSyncStateTypes.PULLING]),O=Object.freeze(((r={})[v.CloudSyncStateTypes.DONE]=f.default,r[v.CloudSyncStateTypes.PLANNING]=f.default,r[v.CloudSyncStateTypes.PREPARING]=f.default,r[v.CloudSyncStateTypes.PUSHING]=p.default,r[v.CloudSyncStateTypes.PULLING]=c.default,r[v.CloudSyncStateTypes.CONFLICT]=f.default,r[v.CloudSyncStateTypes.ERROR]=f.default,r)),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._doneTimer=new u.Timeout;return t}var n=t.prototype;n.componentDidMount=function(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()};n.componentDidUpdate=function(e){
null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==v.CloudSyncStateTypes.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())};n.componentWillUnmount=function(){this._doneTimer.stop()};n.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,(function(){return e.forceUpdate()}))};n.getIsRecentlySynced=function(){var e=this.props.cloudSyncState;if(null!=e&&e.type===v.CloudSyncStateTypes.DONE){var t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1};n.getStop=function(e,t){if(t)return 1;if(e.type===v.CloudSyncStateTypes.PUSHING||e.type===v.CloudSyncStateTypes.PULLING){return e.progress/e.total}return 0};n.getTooltip=function(e,t){switch(e.type){case v.CloudSyncStateTypes.DONE:return t?y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case v.CloudSyncStateTypes.CONFLICT:case v.CloudSyncStateTypes.ERROR:
return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case v.CloudSyncStateTypes.PLANNING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case v.CloudSyncStateTypes.PREPARING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case v.CloudSyncStateTypes.PUSHING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case v.CloudSyncStateTypes.PULLING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING;default:return null}};n.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,r=e.className,a=null==t?{type:v.CloudSyncStateTypes.DONE}:t,i=this.getIsRecentlySynced(),u={};(S.has(a.type)||i)&&(u.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(a,i)});var l=i?d.default:O[a.type];return _(s.default,{text:this.getTooltip(a,i)},void 0,(function(e){return o.createElement(l,g({className:r},u,e))}))};return t}(o.PureComponent);b.displayName="CloudSyncIcon"
;var I=i.default.connectStores([l.default],(function(e){var t=e.libraryApplication;return{cloudSyncState:l.default.getState(t.id,t.branchId)}}))(b);t.default=I},328715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=T(n(536211)),i=n(668471),u=T(n(979285)),l=T(n(956117)),s=T(n(558402)),f=T(n(789446)),d=T(n(895108)),c=T(n(530250)),p=T(n(618993)),v=T(n(279950)),y=n(688388),h=T(n(502197)),m=n(194322),_=T(n(971639)),g=T(n(776360)),E=n(771855),S=n(864489),O=T(n(922629)),b=T(n(247001)),I=T(n(591523)),C=T(n(380203));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=function(e){N(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={label:void 0,isDefault:null};t.handleStartEditing=function(){var e=t.props,n=e.path,r=e.label,a=e.isDefault;(0,e.onToggleEditing)(n);t.setState({label:r,isDefault:a})};t.handleStopEditing=function(){(0,t.props.onToggleEditing)(null);t.setState({label:void 0,isDefault:null})};t.handleRemoveLocation=function(){(0,m.openModal)((function(e){return a.createElement(h.default,P({},e,{header:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,
confirmText:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:b.default.Messages.CANCEL,onConfirm:function(){t.handleStopEditing();(0,i.removeInstallLocation)(t.props.path)}}),M(g.default,{size:g.default.Sizes.SIZE_16},void 0,b.default.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY))}))};t.handleSaveChanges=function(){(0,i.updateInstallLocation)(t.props.path,{label:null!=t.state.label?t.state.label:t.props.label,isDefault:null!=t.state.isDefault?t.state.isDefault:t.props.isDefault});t.handleStopEditing()};t.handleLabelChange=function(e){t.setState({label:e})};t.handleToggleDefault=function(){t.setState({isDefault:!t.state.isDefault})};return t}var n=t.prototype;n.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?M(d.default,{total:e.totalKB,used:e.totalKB-e.availableKB}):null};n.renderViewing=function(){var e,t,n=this.props,r=n.path,a=n.label,o=n.editingPath,i=n.isDefault,s=n.metadata;if(null!=s){
e=null!=s.availableKB?(0,E.formatSize)(s.availableKB,{useKibibytes:!0}):null;t=null!=s.totalKB?(0,E.formatSize)(s.totalKB,{useKibibytes:!0}):null}return M(c.default,{className:I.default.installationPath,align:c.default.Align.CENTER},void 0,this.renderDiskUsageCircle(),M(c.default,{direction:c.default.Direction.VERTICAL,className:I.default.descriptionWrapper},void 0,M(c.default,{align:c.default.Align.CENTER},void 0,M(_.default,{className:I.default.rowTitle,size:_.default.Sizes.SIZE_16},void 0,null!=a?a:u.default.getLabelFromPath(r)),i?M("span",{className:I.default.defaultIndicator},void 0,b.default.Messages.DEFAULT):null),null!=s&&null!=e&&null!=t?M(p.default,{className:I.default.rowBody,hoverText:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:e,total:t})},void 0,r):M(g.default,{className:I.default.rowBody,size:g.default.Sizes.SIZE_12},void 0,r)),M(l.default,{size:l.default.Sizes.SMALL,disabled:null!=o,color:l.default.Colors.PRIMARY,
onClick:this.handleStartEditing},void 0,b.default.Messages.EDIT))};n.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,r=this.state,a=r.label,o=r.isDefault;return M(s.default,{editable:!0,className:I.default.installationPathEditing},void 0,M(c.default,{},void 0,this.renderDiskUsageCircle(),M(c.default.Child,{},void 0,M(y.FormItem,{title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME},void 0,M(v.default,{value:a,placeholder:u.default.getLabelFromPath(t),onChange:this.handleLabelChange})),M(y.FormItem,{title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:C.default.marginTop20},void 0,M(v.default,{disabled:!0,value:t})),M(f.default,{type:f.default.Types.INVERTED,value:null!=o?o:this.props.isDefault,disabled:this.props.isDefault,className:I.default.defaultLocationCheckbox,onChange:this.handleToggleDefault},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT),M(y.FormDivider,{className:I.default.separator
}),M(c.default,{},void 0,M(l.default,{disabled:n||this.props.isDefault,size:l.default.Sizes.SMALL,color:l.default.Colors.RED,look:l.default.Looks.OUTLINED,onClick:this.handleRemoveLocation},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE),M(c.default,{justify:c.default.Justify.END},void 0,M(l.default,{size:l.default.Sizes.SMALL,color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:this.handleStopEditing},void 0,b.default.Messages.CANCEL),M(l.default,{disabled:t===this.props.path&&a===this.props.label&&o===this.props.isDefault,size:l.default.Sizes.SMALL,color:l.default.Colors.GREEN,onClick:this.handleSaveChanges},void 0,b.default.Messages.SAVE))))))};n.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()};return t}(a.PureComponent);w.displayName="PathItem";var D=function(e){N(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this).state={editingPath:null};t.handleAddInstallationLocation=function(){O.default.showOpenDialog(["openDirectory"]).then((function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,i.addInstallLocation)(e[0])}))};t.handleToggleEditing=function(e){t.setState({editingPath:e})};return t}var n=t.prototype;n.componentDidMount=function(){(0,i.fetchMetadata)(this.props.installationPaths.map((function(e){return e.path})))};n.render=function(){var e=this,t=this.props,n=t.installationPaths,r=t.installationPathsMetadata,a=t.defaultInstallationPath,o=this.state.editingPath;return M(y.FormSection,{className:I.default.wrapper,title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS},void 0,n.map((function(t){var n=t.path,i=t.label;return M(w,{path:n,label:i,metadata:r[n],isDefault:a===n,editingPath:o,hasGamesInstalledInPath:u.default.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)})),M("div",{
className:I.default.buttonRowWrapper},void 0,M(l.default,{disabled:!S.isPlatformEmbedded,onClick:this.handleAddInstallationLocation,size:l.default.Sizes.SMALL},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD)))};return t}(a.PureComponent);D.displayName="GameInstallLocations";var L=o.default.connectStores([u.default],(function(){return{installationPaths:u.default.installationPaths,installationPathsMetadata:u.default.installationPathsMetadata,defaultInstallationPath:u.default.defaultInstallationPath}}))(D);t.default=L},539903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=S(n(667294)),o=g(n(294184)),i=g(n(636602)),u=S(n(588136)),l=n(881100),s=n(297279),f=g(n(284382)),d=n(235742),c=n(656710),p=g(n(887140)),v=g(n(870380)),y=g(n(845905)),h=g(n(351345)),m=n(770348),_=g(n(993846));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return b(e,t)}var I=O(p.default,{}),C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._scrollerRef=a.createRef();t._scrollToPadding=0;t.state={includeUpdatesInScroller:!1};t.handleHeightTallerThanHalfViewportChange=function(e){t.setState({includeUpdatesInScroller:e})};t.scrollToRow=function(e,n){var r=t._scrollerRef.current;if(null!=r){e.focus();r.scrollIntoViewRect({start:n,end:n});t._scrollToOnMount=null}else{t._scrollToOnMount=e;t._scrollToPadding=n}};return t}var n=t.prototype;n.componentDidMount=function(){u.setHomeLink(m.Routes.APPLICATION_LIBRARY);(0,c.deepLinkRouteIfLanded)(m.RPCDeepLinks.LIBRARY);i.default.wait((function(){return(0,l.fetchBranches)()}));(0,s.fetchActivityStatistics)()
;null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)};n.renderToolbar=function(){return I};n.render=function(){var e,t=this.state.includeUpdatesInScroller,n=O("div",{},void 0,O(f.default,{section:m.AnalyticsSections.LIBRARY_INSTALL_MODULE},void 0,O(h.default,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})));return O(a.Fragment,{},void 0,O(v.default,{currentRoute:m.Routes.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),t?null:n,a.createElement(d.AdvancedScrollerAuto,{className:(0,o.default)(_.default.container,_.default.scroller,(e={},e[_.default.stickyScroller]=!t,e)),ref:this._scrollerRef},t?n:null,O(f.default,{section:m.AnalyticsSections.LIBRARY_APPLICATION_LIST},void 0,O(y.default,{stickyHeader:!t,scrollToRow:this.scrollToRow}))))};return t}(a.PureComponent);t.default=C;C.displayName="GameLibrary"},364527:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=w;var r,a=C(n(667294)),o=n(536211),i=C(n(252247)),u=n(894826),l=b(n(191013)),s=b(n(16941)),f=b(n(530250)),d=b(n(567668)),c=n(688388),p=b(n(259530)),v=n(582945),y=b(n(308920)),h=C(n(685677)),m=n(539331),_=b(n(870380)),g=b(n(328715)),E=n(770348),S=b(n(247001)),O=b(n(218522));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e){var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var r=t.map((function(e){var t=e.libraryApplication.getDistributor();return P("div",{className:O.default.hiddenLibraryApplication},e.key,P(f.default,{direction:f.default.Direction.VERTICAL,className:O.default.hiddenLibraryApplicationContent
},void 0,P("div",{className:O.default.applicationName},void 0,e.libraryApplication.getBranchedName(e.application)),null!=t?P("div",{className:O.default.applicationSubText},void 0,E.DistributorNames[t]):null),P(s.default,{className:O.default.restoreButton,onClick:function(){return n(e.libraryApplication)}},void 0,P(p.default,{className:O.default.restoreIcon})))}));return P(c.FormSection,{className:O.default.hiddenLibraryApplications},void 0,P(c.FormTitle,{className:O.default.hiddenLibraryApplicationsTitle},void 0,S.default.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL),r)}M.displayName="HiddenLibraryApplications";var N=P(g.default,{}),R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;A(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleRestoreHiddenLibraryApplication=function(e){
var n=h.toggleFlag(e.getFlags(),E.LibraryApplicationFlags.HIDDEN);i.updateFlags(e.id,e.branchId,n);t.trackRestoreApplication(e,h.hasFlag(n,E.LibraryApplicationFlags.HIDDEN))};return t}var n=t.prototype;n.handleToggleShortcutDesktop=function(e){u.InstallShortcutDesktop.updateSetting(e)};n.handleToggleShortcutStartMenu=function(e){u.InstallShortcutStartMenu.updateSetting(e)};n.trackRestoreApplication=function(e,t){y.default.track(E.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,T({hidden_enabled:t},e.getAnalyticsData()))};n.renderBody=function(){var e=this.props,t=e.hiddenLibraryApplicationViewItems,n=e.installShortcutDesktop,r=e.installShortcutStartMenu;return P("div",{className:O.default.body},void 0,(0,m.isSupportedPlatform)()?P(a.Fragment,{},void 0,P(d.default,{value:n,onChange:this.handleToggleShortcutDesktop,note:S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE},void 0,S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP),P(d.default,{value:r,
onChange:this.handleToggleShortcutStartMenu,note:S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE},void 0,S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU),N):null,P(M,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:t}))};n.render=function(){return a.createElement(a.Fragment,null,P(_.default,{currentRoute:E.Routes.APPLICATION_LIBRARY_SETTINGS}),P(v.ScrollerAuto,{className:O.default.scroller},void 0,this.renderBody()))};return t}(a.PureComponent);R.displayName="GameLibrarySettings";function w(){var e={installShortcutDesktop:u.InstallShortcutDesktop.useSetting(),installShortcutStartMenu:u.InstallShortcutStartMenu.useSetting(),hiddenLibraryApplicationViewItems:(0,o.useStateFromStores)([l.default],(function(){return l.default.hiddenLibraryApplicationViewItems}))};return a.createElement(R,e)}w.displayName="ConnectedGameLibrarySettings"},845905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=X
;var r,a,o=k(n(667294)),i=L(n(294184)),u=n(473727),l=n(536211),s=n(91817),f=L(n(636602)),d=n(378158),c=k(n(785460)),p=L(n(25952)),v=L(n(758269)),y=L(n(191013)),h=L(n(37679)),m=L(n(956117)),_=L(n(530250)),g=L(n(562475)),E=L(n(73393)),S=L(n(425991)),O=L(n(730977)),b=L(n(420303)),I=L(n(41024)),C=L(n(330998)),T=k(n(308920)),A=n(811076),P=n(8916),M=L(n(949294)),N=n(770348),R=L(n(247001)),w=L(n(312935)),D=["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"];function L(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function F(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,u,"next",e)}function u(e){F(o,r,a,i,u,"throw",e)}i(void 0)}))}}function V(e,t){V=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return V(e,t)}function W(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(){H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return H.apply(this,arguments)}var B=(0,P.cssValueToNumber)(w.default.rowMinHeight),z=(0,P.cssValueToNumber)(w.default.linkedToGlowDuration),Y=Object.freeze(((r={})[N.GameTableListKeys.PLATFORM]="Platform",r[N.GameTableListKeys.LAST_PLAYED]="Last Played",r[N.GameTableListKeys.NAME]="Name",r));var $=function(e){var t=e.flag,n=e.icon,r=e.item,a=e.tooltip,u=r.libraryApplication.hasFlag(t);return W(O.default,{text:a},void 0,(function(e){var t;return o.createElement(n,H({className:(0,i.default)(w.default.settingIcon,(t={},t[w.default.hidden]=!u,t))},e))}))};$.displayName="FlagIcon";var K=[{key:N.GameTableListKeys.NAME,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:w.default.nameCell,bodyCellClassName:w.default.nameBodyCell,render:function(e){return W(_.default,{align:_.default.Align.CENTER},void 0,W(g.default,{game:e.application,size:g.default.Sizes.SMALL,className:w.default.gameIcon}),W("div",{
className:w.default.nameCellInfo},void 0,W("div",{className:w.default.nameCellText},void 0,e.libraryApplication.getBranchedName(e.application)),e.libraryApplication.hasFlag(N.LibraryApplicationFlags.PREMIUM)?W(O.default,{text:R.default.Messages.PREMIUM_GAME},void 0,(function(e){return o.createElement(I.default,H({className:w.default.nitroIcon},e))})):null))}},{key:N.GameTableListKeys.PLATFORM,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,cellClassName:w.default.platformCell,bodyCellClassName:w.default.textCell,render:function(e){var t=e.libraryApplication.getDistributor();return W(_.default,{align:_.default.Align.CENTER},void 0,null!=t?N.DistributorNames[t]:R.default.Messages.GAME_LIBRARY_NOT_APPLICABLE)}},{key:N.GameTableListKeys.LAST_PLAYED,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:w.default.lastPlayedCell,bodyCellClassName:w.default.textCell,render:function(e){var t,n
;n=e.isRunning?R.default.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?R.default.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?W(E.default,{end:e.lastPlayed,location:E.default.Locations.GAME_LIBRARY_LAST_PLAYED}):R.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE;return W(_.default,{align:_.default.Align.CENTER,className:(0,i.default)((t={},t[w.default.lastPlayedCellNew]=e.isNew,t))},void 0,n)}},{key:N.GameTableListKeys.ACTIONS,renderHeader:function(){return null},cellClassName:w.default.actionsCell,render:function(e,t,n){var r;if(null==t)throw new Error("No cell props defined.");var a,u,l=e.key===t.activeRowKey;return W(o.Fragment,{},void 0,W("div",{className:w.default.settingIcons},void 0,W($,{flag:N.LibraryApplicationFlags.PRIVATE,item:e,icon:b.default,tooltip:R.default.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),W($,{flag:N.LibraryApplicationFlags.OVERLAY_DISABLED,item:e,icon:C.default,tooltip:R.default.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),W(M.default,{className:(0,
i.default)(w.default.settingIcon,(r={},r[w.default.hidden]=!e.supportsCloudSync,r)),libraryApplication:e.libraryApplication})),(0,A.isUserEntitledToLibraryApplication)(e.libraryApplication)?W(v.default,{analyticsListSort:(a=t.sortKey,u=t.sortDirection,Y[a]+" "+(u===N.TableSortDirections.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:N.AnalyticsLocations.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:l?m.default.Colors.GREEN:m.default.Colors.PRIMARY,isPlayShiny:l&&e.defaultAction===N.LibraryApplicationActions.PLAY,size:w.default.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){return null!=t&&t.setActiveRowKey(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowKey()}}):W(p.default,{skuId:e.libraryApplication.sku.id,applicationId:e.application.id,color:l?m.default.Colors.GREEN:m.default.Colors.PRIMARY,customDisabledColor:m.default.Colors.PRIMARY,size:w.default.actionButtonSize}))}}],q=function(e){
var t,n=e.item,r=e.activeRowKey,a=e.highlightedApplicationKey,u=e.onMouseEnter,l=e.onMouseLeave,s=e.onContextMenu,f=e.setRef,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,D),c=n.key===r,p=n.key===a;return o.createElement("div",{className:(0,i.default)((t={},t[w.default.rowWrapperActive]=c&&!p,t[w.default.rowWrapperGlow]=p,t[w.default.rowWrapper]=!c&&!p,t[w.default.rowWrapperDim]=!c&&!n.isLaunchable,t)),ref:function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}((function(e){return f(e,n.key)})),onMouseEnter:function(){return u(n)},onMouseLeave:l,onContextMenu:function(e){return s(e,n)}},o.createElement("div",d))};q.displayName="Row";var Z=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;V(e,t)}(t,e);function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i]
;(t=e.call.apply(e,[this].concat(a))||this)._didUnmount=!1;t._rowRefs={};t.state={overflowMenuRowKey:null,highlightedApplicationKey:null!=t.props.location.state?t.props.location.state.applicationId:null};t.setActiveRowKey=function(e){t.setState({overflowMenuRowKey:e.key})};t.clearActiveRowKey=function(){t._didUnmount||t.setState({overflowMenuRowKey:null})};t.handleRowMouseEnter=function(e){t.props.isNavigatingByKeyboard||c.updateActiveRowKey(e.key)};t.handleRowMouseLeave=function(){t.props.isNavigatingByKeyboard||c.updateActiveRowKey(null)};t.setRowRef=function(e,n){t._rowRefs[n]=e};t.handleApplicationContextMenu=function(e,r){t.setActiveRowKey(r);var a=t.props.analyticsContext;(0,d.openContextMenuLazy)(e,x(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(66196).then(n.bind(n,266196));case 2:t=e.sent;i=t.default;return e.abrupt("return",(function(e){return o.createElement(i,H({},e,{
applicationId:r.libraryApplication.id,branchId:r.libraryApplication.branchId,analyticsContext:a}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:t.clearActiveRowKey})};return t}var r=t.prototype;r.componentDidMount=function(){if(this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}};r.componentWillUnmount=function(){this._didUnmount=!0};r.componentDidUpdate=function(e){if(!e.fetched&&this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}var t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];if(null!=n){f.default.wait(d.closeContextMenu);this.props.scrollToRow(n,B)}}};r.handleHighlightedApplicationKey=function(){var e=this,t=this.state.highlightedApplicationKey;if(null!=t&&null!=this._rowRefs[t]){this.props.scrollToRow(this._rowRefs[t],B);(new s.Timeout).start(z,(function(){e._didUnmount||e.setState({highlightedApplicationKey:null})}))}};r.trackViewed=function(){
for(var e,t={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},n=this.props,r=n.analyticsContext,a=U(n.applicationViewItems);!(e=a()).done;){switch(e.value.libraryApplication.getDistributor()){case N.Distributors.DISCORD:t.num_applications_discord++;break;case N.Distributors.STEAM:t.num_applications_steam++;break;case N.Distributors.BATTLENET:t.num_applications_battlenet++;break;case N.Distributors.TWITCH:t.num_applications_twitch++;break;case N.Distributors.UPLAY:t.num_applications_uplay++;break;case N.Distributors.ORIGIN:t.num_applications_origin++;break;case N.Distributors.GOG:t.num_applications_gog++;break;case N.Distributors.EPIC:t.num_applications_epic++}t.num_applications_total++}T.default.track(N.AnalyticEvents.LIBRARY_VIEWED,H({},t,{load_id:r.loadId}))};r.handleSort=function(e,t){c.sortList(e,t)}
;r.renderImportHelp=function(){var e,t=this.props,n=t.applicationViewItems,r=t.filterQuery,a=n.length>0;if(a)return null;e=""!==r?R.default.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:r}):R.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT;return W("div",{className:a?w.default.emptyStateSmall:w.default.emptyStateLarge},void 0,W("div",{className:w.default.emptyWumpus}),W(_.default,{grow:0,shrink:a?1:0,direction:_.default.Direction.VERTICAL},void 0,W("div",{className:w.default.emptyStateText},void 0,W("h5",{className:w.default.emptyStateHeader},void 0,R.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER),W("div",{className:w.default.emptyStateDescription},void 0,e))))};r.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,r=e.applicationViewItems,a=e.activeRowKey,i=e.stickyHeader,u=this.state,l=u.overflowMenuRowKey,s=u.highlightedApplicationKey;return W(o.Fragment,{},void 0,r.length>0?W(S.default,{columns:K,data:r,
sortData:!1,rowComponent:q,className:w.default.table,headerClassName:i?w.default.stickyHeader:w.default.header,headerCellClassName:w.default.headerCell,sortedHeaderCellClassName:w.default.headerCellSorted,bodyCellClassName:w.default.bodyCell,rowClassName:w.default.row,sortKey:t,sortDirection:n,stickyHeader:i,rowProps:{activeRowKey:l||a,highlightedApplicationKey:s,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:l||a,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp())};return t}(o.PureComponent);Z.displayName="GameList";Z.defaultProps={stickyHeader:!1};function X(e){var t=o.useContext(T.AnalyticsContext),n=(0,u.useLocation)(),r=(0,l.useStateFromStoresObject)([y.default],(function(){return{
applicationViewItems:y.default.sortedFilteredLibraryApplicationViewItems,filterQuery:y.default.applicationFilterQuery,fetched:y.default.hasFetchedApplications}})),a=r.applicationViewItems,i=r.filterQuery,s=r.fetched,f=(0,l.useStateFromStoresObject)([h.default],(function(){return{sortKey:h.default.sortKey,sortDirection:h.default.sortDirection,activeRowKey:h.default.activeRowKey,isNavigatingByKeyboard:h.default.isNavigatingByKeyboard}})),d=f.sortKey,c=f.sortDirection,p=f.activeRowKey,v=f.isNavigatingByKeyboard;return o.createElement(Z,H({},e,{analyticsContext:t,location:n,applicationViewItems:a,filterQuery:i,fetched:s,sortKey:d,sortDirection:c,activeRowKey:p,isNavigatingByKeyboard:v}))}X.displayName="ConnectedGameList"},46059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(530250)),u=d(n(409236)),l=d(n(872705)),s=d(n(247001)),f=d(n(997050));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(e){return e>1e3?s.default.Messages.FILE_RATE_MB.format({size:Math.round(e/1e3)}):s.default.Messages.FILE_RATE_KB.format({size:Math.round(e)})}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderBody=function(e,n,r){var a=t.props,l=a.title,s=a.className,d=a.color,c=a.animate,v=a.gradientStopColor;return p("div",{className:(0,o.default)(f.default.monitor,s)},void 0,p(i.default,{align:i.default.Align.CENTER},void 0,p(i.default,{className:f.default.text,direction:i.default.Direction.VERTICAL},void 0,p("div",{className:f.default.title},void 0,l),p("div",{className:f.default.rate},void 0,y(e[e.length-1]/n*1e3))),p("div",{className:f.default.overflowContainer},void 0,p(u.default,{data:e,
maxValue:Math.max(Math.max.apply(null,e),1e3),className:f.default.sparkChart,updateInterval:n,color:d,gradientStopColor:v,numUpdatesToShow:r,animate:c,pixelWidth:600,pixelHeight:48,lineWidth:4}))))};return t}t.prototype.render=function(){return p(l.default,{getHistoricalTotalBytes:this.props.getHistoricalTotalBytes},void 0,this.renderBody)};return t}(a.PureComponent);h.displayName="GameUpdateActivityMonitor";var m=h;t.default=m},351345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i,u,l=z(n(667294)),s=H(n(294184)),f=H(n(496486)),d=H(n(536211)),c=H(n(636602)),p=z(n(378158)),v=z(n(27555)),y=H(n(758269)),h=H(n(257175)),m=H(n(864345)),_=H(n(288356)),g=H(n(191839)),E=H(n(871778)),S=H(n(432310)),O=H(n(693399)),b=H(n(949898)),I=H(n(956117)),C=H(n(530250)),T=H(n(562475)),A=n(73393),P=H(n(791931)),M=H(n(961664)),N=H(n(425991)),R=H(n(730977)),w=H(n(495526)),D=H(n(259530)),L=H(n(339759)),j=H(n(118138)),k=n(771855),U=z(n(811076)),G=H(n(872705)),F=H(n(46059)),x=n(770348),V=H(n(247001)),W=H(n(118343));function H(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Y(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Z(e,t)}function Z(e,t){Z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z(e,t)}function X(){X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return X.apply(this,arguments)}function Q(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Q(o,r,a,i,u,"next",e)}function u(e){Q(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ee(e,t,n,r){u||(u="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3
;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var i=new Array(o),l=0;l<o;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:u,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te=function(e){var t=e.className,n=e.children,r=e.onContextMenu,a=e.item;return ee("div",{className:t,onContextMenu:function(e){return r(e,a)}},void 0,n)};te.displayName="Row";var ne=[x.Colors.LINK,"var(--interactive-normal)"],re=function(e){var t=e.tooltip,n=e.onClick,r=e.icon;return ee(R.default,{text:t},void 0,(function(e){var a=e.onMouseEnter,o=e.onMouseLeave;return ee(I.default,{"aria-label":t,className:W.default.actionButton,innerClassName:W.default.actionButtonContents,color:I.default.Colors.GREY,size:I.default.Sizes.ICON,onClick:n,onMouseEnter:a,onMouseLeave:o},void 0,ee(r,{className:W.default.actionIcon}))}))};re.displayName="ActionButton";function ae(e,t){switch(t){
case x.DispatchApplicationStages.POST_INSTALL_SCRIPTS:case x.DispatchApplicationStages.PLANNING:case x.DispatchApplicationStages.FINALIZING:case x.DispatchApplicationStages.ALLOCATING_DISK:return""+e;default:return(0,k.formatSize)(e,{useKibibytes:!0})}}var oe=((i={})[x.LocalDispatchApplicationStates.INSTALLING]=((r={})[A.TimeUnits.NONE]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},r[A.TimeUnits.SECONDS]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},r[A.TimeUnits.MINUTES]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},r[A.TimeUnits.HOURS]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},r),
i[x.LocalDispatchApplicationStates.UPDATING]=((a={})[A.TimeUnits.NONE]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})},a[A.TimeUnits.SECONDS]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},a[A.TimeUnits.MINUTES]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},a[A.TimeUnits.HOURS]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},a),i[x.LocalDispatchApplicationStates.REPAIRING]=((o={})[A.TimeUnits.NONE]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},o[A.TimeUnits.SECONDS]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({
percent:e,progress:t,total:n,timeRemaining:r})},o[A.TimeUnits.MINUTES]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},o[A.TimeUnits.HOURS]=function(e,t,n,r){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},o),i);function ie(e,t,n,r,a){var o=null!=e?e/60:null,i=oe[t],u=null!=i?Object.keys(i):[],l=(0,A.getTimeAndUnit)(o,u),s=l.unit,f=l.time;if(null!=i&&null!=s){var d=i[s];return null!=d?d(n,r,a,f):null}return null}function ue(e,t,n,r,a,o){var i=ae(a,t),u=ae(r,t);switch(t){case x.DispatchApplicationStages.QUEUED:return 0===r?V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:n,progress:u,total:i});case x.DispatchApplicationStages.PLANNING:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({
percent:n});case x.DispatchApplicationStages.ALLOCATING_DISK:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:n});case x.DispatchApplicationStages.PATCHING:return ie(o,e,n,u,i);case x.DispatchApplicationStages.FINALIZING:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:n});case x.DispatchApplicationStages.PAUSING:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:n,progress:u,total:i});case x.DispatchApplicationStages.VERIFYING:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:n,progress:u,total:i});case x.DispatchApplicationStages.POST_INSTALL_SCRIPTS:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:n,progress:u,total:i});case x.DispatchApplicationStages.REPAIRING:return e===x.LocalDispatchApplicationStates.REPAIRING?ie(o,e,n,u,i):V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:n,
progress:u,total:i})}throw new Error("Invalid Dispatch stage")}var le="name",se="progress",fe="actions",de=function(e){q(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderProgressPatchingBody=function(e,n){var r=t.props.item.state;if(null==r)return null;var a=r.stage,o=r.progress,i=r.total,u=r.type,l=r.readerProgress;if(null==o||null==i||null==a)return null;var s=U.calculateProgressPercentage(o,i),f=U.calculateProgressPercentage(null!=l?l:0,i),d=e[e.length-1]/n*1e3,c=i-o,p=0!==d?Math.max(1,c/d):null,v=ue(u,a,Math.floor(s),o,i,p);return t.renderStackedProgress({percents:[s,f],message:v})};return t}var n=t.prototype;n.renderBody=function(e){var t=e.percent,n=e.foregroundColor,r=e.foregroundGradientColor,a=e.message;return ee(C.default,{direction:C.default.Direction.VERTICAL},void 0,ee(P.default,{percent:t,size:P.default.Sizes.SMALL,foregroundColor:n,foregroundGradientColor:r,animate:this.isFocused
}),ee("div",{className:W.default.progressCellText},void 0,null!=a?a:""))};n.renderStackedProgress=function(e){var t=e.percents,n=e.message;return ee(C.default,{direction:C.default.Direction.VERTICAL},void 0,ee(M.default,{percents:t,size:P.default.Sizes.SMALL,foregroundColors:ne,animate:this.isFocused}),ee("div",{className:W.default.progressCellText},void 0,null!=n?n:""))};n.renderFinished=function(){var e=this.props.item;return this.renderBody({message:V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return v.removeFinished(e.applicationId,e.branchId)}}),foregroundColor:e.theme===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,percent:100})};n.renderQueued=function(){var e,t,n=this.props.item,r=n.state,a=n.theme;if(null!=r){var o=r.progress,i=r.total,u=r.stage;if(null!=o&&null!=i){var l=ae(i,u),s=ae(o,u);t=U.calculateProgressPercentage(o,i);var f=Math.floor(t)
;e=u===x.DispatchApplicationStages.PAUSING?V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:f,progress:s,total:l}):V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:f,progress:s,total:l})}}if(null==t||null==e){t=0;e=V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION}return this.renderBody({percent:t,foregroundColor:a===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,message:e})};n.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.progress,a=t.total;if(null==r||null==a)return null;var o=U.calculateProgressPercentage(r,a),i=Math.floor(o),u=0===r&&1===a?V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED_NO_TRANSITION:V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:i,progress:(0,k.formatSize)(r),total:(0,k.formatSize)(a)});return this.renderBody({message:u,
foregroundColor:n===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,percent:o})};n.renderProgressPatching=function(){return ee(G.default,{getHistoricalTotalBytes:S.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressPatchingBody)};n.renderProgressDefault=function(){var e=this.props.item.state;if(null==e)return null;var t=e.total,n=e.progress,r=e.stage,a=e.type;if(null==t||null==n||null==r)return null;var o=U.calculateProgressPercentage(n,t),i=Math.floor(o);return this.renderBody({percent:o,message:ue(a,r,i,n,t),foregroundColor:x.Colors.LINK})};n.renderProgress=function(){var e=this.props.item.state;switch(null!=e?e.stage:null){case x.DispatchApplicationStages.PATCHING:case x.DispatchApplicationStages.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}};n.render=function(){var e=this.props,t=e.item,n=e.cellProps
;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==x.LocalDispatchApplicationStates.UPDATING&&t.state.type!==x.LocalDispatchApplicationStates.REPAIRING&&t.state.type!==x.LocalDispatchApplicationStates.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()};!function(e,t,n){t&&K(e.prototype,t);n&&K(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}]);return t}(l.PureComponent);de.displayName="ProgressCell";var ce=function(){return ee(re,{icon:j.default,tooltip:V.default.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){return v.resume()}})};ce.displayName="ResumeButton";var pe=function(){return ee(re,{icon:L.default,tooltip:V.default.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return v.pause()}})};pe.displayName="PauseButton";var ve=function(e){var t=e.item;return ee(re,{icon:w.default,
tooltip:V.default.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return v.moveUp(t.applicationId,t.branchId)}})};ve.displayName="MoveUpButton";var ye=function(e){var t=e.item;return ee(re,{icon:D.default,tooltip:V.default.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return v.cancel(t.applicationId,t.branchId)}})};ye.displayName="CancelButton";var he=ee(ce,{}),me=[{key:le,cellClassName:W.default.nameCell,render:function(e){return ee(C.default,{align:C.default.Align.CENTER},void 0,ee(T.default,{game:e.application,className:W.default.gameIcon,size:T.default.Sizes.SMALL}),ee("div",{className:W.default.nameCellText},void 0,e.application.name))}},{key:se,cellClassName:W.default.progressCell,headerCellClassName:W.default.progressCellHeader,bodyCellClassName:W.default.progressCellBody,render:function(e,t){return ee(de,{item:e,cellProps:t})}},{key:fe,cellClassName:W.default.actionsCell,render:function(e,t){var n,r
;if(e.finished)n=null!=e.libraryApplication?ee(y.default,{libraryApplication:e.libraryApplication,size:I.default.Sizes.SMALL,className:W.default.gameActionButton,source:x.AnalyticsLocations.APPLICATION_LIBRARY_UPDATES}):null;else if(null!=e.state){if(e.state.type!==x.LocalDispatchApplicationStates.UP_TO_DATE){n=e.index>0?ee(ve,{item:e}):null!=t&&t.paused?he:ee(pe,{item:e});r=ee(ye,{item:e})}}else r=ee(ye,{item:e});return ee(C.default,{justify:C.default.Justify.END},void 0,n,r)}}],_e=function(e){q(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).isUnmounted=!1;t.isTallerThanHalfViewport=!1;t.throttledUpdateHeight=f.default.throttle((function(){if(!t.isUnmounted){var e=t.props,n=e.height,r=e.onHeightTallerThanHalfViewportChange,a=n>window.innerHeight/2;if(t.isTallerThanHalfViewport!==a){t.isTallerThanHalfViewport=a;r(a)}}}),1e3);return t}var r=t.prototype;r.componentDidMount=function(){
window.addEventListener("resize",this.throttledUpdateHeight)};r.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()};r.componentWillUnmount=function(){this.props.applications.forEach((function(e){e.finished&&c.default.wait((function(){v.removeFinished(e.applicationId,e.branchId)}))}));window.removeEventListener("resize",this.throttledUpdateHeight);this.isUnmounted=!0};r.render=function(){var e=this.props,t=e.applications,r=e.paused,a=e.isFocused,o=e.theme,i=e.analyticsContext;return 0===t.length?null:ee("div",{className:W.default.gameUpdates},void 0,ee("div",{className:W.default.headerRow},void 0,ee(F.default,{className:(0,s.default)(W.default.headerCell,W.default.networkProgress),title:V.default.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:S.default.getHistoricalTotalBytesDownloaded,color:x.Colors.STATUS_GREEN_600,animate:a}),ee(F.default,{className:(0,s.default)(W.default.headerCell,W.default.diskProgress),
title:V.default.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:S.default.getHistoricalTotalBytesWritten,color:x.Colors.LINK,animate:a})),ee(N.default,{hasHeader:!1,columns:me,data:t,className:W.default.table,rowClassName:W.default.row,rowComponent:te,cellProps:{paused:r,isFocused:a,theme:o},rowProps:{onContextMenu:function(e,t){return function(e,t,r){p.openContextMenuLazy(e,J(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(66196).then(n.bind(n,266196));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return l.createElement(o,X({},e,{applicationId:t.applicationId,branchId:t.branchId,analyticsContext:r}))}));case 5:case"end":return e.stop()}}),e)}))))}(e,t,i)}},bodyCellClassName:W.default.cell}))};return t}(l.PureComponent);_e.displayName="GameUpdates";function ge(e,t,n,r){return e.reduce((function(e,a,o){
var i=a.applicationId,u=a.branchId,l=n.getGame(i),s=r.getState(i,u);null!=l&&e.push({key:i+":"+u,applicationId:i,branchId:u,state:s,application:l,libraryApplication:g.default.getLibraryApplication(i,u),finished:t,index:o});return e}),[])}var Ee=(0,m.default)(d.default.connectStores([O.default,E.default,b.default,_.default,S.default],(function(){var e=ge(O.default.activeItems,!1,_.default,S.default),t=ge(O.default.finishedItems,!0,_.default,S.default);return{applications:[].concat(Y(e),Y(t)),paused:O.default.paused,isFocused:b.default.isFocused(),theme:E.default.theme}}))((0,h.default)(_e)));t.default=Ee},215850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.TestModeSKUButtonEnums=void 0;var r,a=h(n(667294)),o=v(n(536211)),i=h(n(378158)),u=v(n(713257)),l=h(n(145122)),s=v(n(288356)),f=v(n(399561)),d=n(204785),c=v(n(247001)),p=["skus","children","applicationId","primarySKU","onSKUSelect"];function v(e){return e&&e.__esModule?e:{default:e}}
function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E={DropdownSizes:u.default.DropdownSizes,Sizes:u.default.Sizes,Colors:u.default.Colors,Looks:u.default.Looks};t.TestModeSKUButtonEnums=E;var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderContextMenu=function(){var e=t.props,n=e.skus,r=e.onSKUSelect,a=e.onMenuSelect;return _(l.default,{onSelect:a,navId:"test-skus","aria-label":c.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:i.closeContextMenu},void 0,n.map((function(e){return _(l.MenuItem,{id:""+e.id,label:e.name,
action:function(){null==r||r(e)}})})))};t.handleContextMenu=function(e){e.stopPropagation();i.openContextMenu(e,t.renderContextMenu)};t.handleClick=function(){var e=t.props,n=e.onSKUSelect,r=e.primarySKU;null!=r&&(null==n||n(r))};return t}t.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,r=(e.applicationId,e.primarySKU,e.onSKUSelect,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p));return a.createElement(u.default,m({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:void 0},r),n)};return t}(a.PureComponent);S.displayName="TestModeSKUButton";var O=o.default.connectStores([f.default,s.default],(function(e){var t,n=e.applicationId,r=(0,d.getPrimarySKUForApplication)(n,s.default,f.default);return{skus:(null!==(t=f.default.getForApplication(n))&&void 0!==t?t:[]).sort((function(e,t){
return null!=r&&e.id===r.id?-1:null!=r&&t.id===r.id?1:e.name>=t.name?-1:1})),primarySKU:r}}))(S);t.default=O},629195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=oe;var r,a=q(n(667294)),o=$(n(294184)),i=$(n(496486)),u=$(n(817673)),l=n(370405),s=$(n(74854)),f=q(n(536211)),d=$(n(636602)),c=n(598319),p=n(297279),v=n(306902),y=n(328092),h=n(364060),m=n(298756),_=$(n(545721)),g=$(n(734696)),E=q(n(473124)),S=n(473250),O=$(n(768535)),b=n(376153),I=$(n(39365)),C=n(139982),T=n(887299),A=$(n(8549)),P=q(n(199846)),M=$(n(30098)),N=$(n(871778)),R=$(n(728429)),w=$(n(194198)),D=$(n(956117)),L=$(n(80828)),j=$(n(971639)),k=$(n(776360)),U=n(235742),G=q(n(465537)),F=$(n(651386)),x=n(263996),V=n(770348),W=n(227445),H=$(n(247001)),B=$(n(599884)),z=$(n(80210)),Y=$(n(333993));function $(e){return e&&e.__esModule?e:{default:e}}function K(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(K=function(e){return e?n:t})(e)}function q(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=K(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function X(){X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return X.apply(this,arguments)}function Q(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Q(o,r,a,i,u,"next",e)}function u(e){Q(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ee(e,t){ee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ee(e,t)}var te=Z(L.default,{}),ne=Z(l.Helmet,{title:"Discord"}),re=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ee(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._scroller=a.createRef();t._guildIdsSeen=new Set;t.loadId=(0,h.makeAnalyticsID)();t.state={animatedValue:new s.default.Value(0),loadingGuildId:null};t.scrollToTop=function(){
null!=t._scroller.current&&t._scroller.current.scrollTo({to:0})};t.handleScroll=function(){var e,n,r=t.state.animatedValue,a=null!==(e=null===(n=t._scroller.current)||void 0===n?void 0:n.getScrollerState().scrollTop)&&void 0!==e?e:0;r.setValue(Math.min(1,a/200))};t.handleViewGuild=function(){var e=J(regeneratorRuntime.mark((function e(n,r,a,o){var i,u,l,s,f,d,c,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=t.props.currentCategoryId;s=t.state.loadingGuildId;if(n!==s){e.next=4;break}return e.abrupt("return");case 4:f=null!==(i=null===(u=t._scroller.current)||void 0===u?void 0:u.getScrollerState().scrollTop)&&void 0!==i?i:0;d=(0,C.getHistory)(),c=d.location;(0,C.replaceWith)(X({},c,{state:f}));t.setState({loadingGuildId:n});p=l!==W.DISCOVERY_ALL_CATEGORIES_ID?l:null;e.prev=9;e.next=12;return G.viewGuild(null!=o?o:t.loadId,n,r,a,p);case 12:e.next=17;break;case 14:e.prev=14;e.t0=e.catch(9);t.setState({loadingGuildId:null});case 17:case"end":
return e.stop()}}),e,null,[[9,14]])})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.handleGuildCardSeen=function(e){t._guildIdsSeen.add(e)};t.handleTagSearch=function(e,n,r){var a=t.props,o=a.currentCategoryId,i=a.defaultLanguage;if(null!=o){(0,c.getSearchResultsCount)(e);(0,c.doAlgoliaSearch)(e,{categoryId:o,preferredLocale:i.code,offset:0,length:E.MAX_GUILDS_PER_PAGE,filters:{approximate_member_count:G.MINIMUM_MEMBER_COUNT},tag:!0});G.trackTagSearchStarted(t.loadId,o,r,n);t.scrollToTop()}};return t}var n=t.prototype;n.componentDidMount=function(){var e,t,n=this.props,r=n.isFetching,a=n.guilds,o=a.gamesYouPlay,i=a.featured,l=n.searchRoute,s=n.currentCategoryId,f=n.currentHomepageCategoryId,y=n.mostRecentQuery,h=n.usingGameRecommendations,_=n.fetchingRecommendations;(0,p.fetchActivityStatistics)();(0,m.maybeFetchGuildDiscoveryCategories)();null==P.default.getSearchIndex()&&(0,c.createAlgoliaIndex)();d.default.wait((function(){(0,
v.markView)(V.ViewHistoryKeys.SERVER_DISCOVERY_BADGE)}));var g=s===W.DISCOVERY_ALL_CATEGORIES_ID;g&&!_&&(0,S.fetchGuildRecommendations)({personalization_disabled:!h});r||0!==y.length||g||G.trackDiscoveryViewed(this.loadId,o.guilds,i.guilds,f);if(null!=l){var E=u.default.parse(l),O=E.query,b=E.offset,I=E.limit,A=E.preferredLocale,M=E.categoryId;(0,c.doAlgoliaSearch)(O,{categoryId:parseInt(M,10),preferredLocale:A,offset:parseInt(b,10),filters:{approximate_member_count:G.MINIMUM_MEMBER_COUNT},length:parseInt(I,10)})}else null!=f&&f!==W.DISCOVERY_ALL_CATEGORIES_ID&&d.default.wait((function(){return(0,c.selectCategory)(f)}));var N=null!==(e=null===(t=(0,C.getHistory)().location.state)||void 0===t?void 0:t.scrollTop)&&void 0!==e?e:0;if(N>0){var R;null===(R=this._scroller.current)||void 0===R||R.scrollTo({to:N})}(0,T.trackAppUIViewed)("guild_discovery")};n.componentDidUpdate=function(e){
var t=this.props,n=t.guilds,r=n.gamesYouPlay,a=n.featured,o=t.isFetching,i=t.mostRecentQuery,u=t.currentHomepageCategoryId,l=t.currentCategoryId,s=t.usingGameRecommendations,f=t.fetchingRecommendations,d=t.recommendationsGuilds,p=t.recommendationsLoadId;e.currentCategoryId===l||l!==W.DISCOVERY_ALL_CATEGORIES_ID||f||(0,S.fetchGuildRecommendations)({personalization_disabled:!s});var v=l===W.DISCOVERY_ALL_CATEGORIES_ID;!e.isFetching||o||v||G.trackDiscoveryViewed(this.loadId,r.guilds,a.guilds,u);if(e.currentCategoryId!==l){var y;null===(y=this._scroller.current)||void 0===y||y.scrollTo({to:0})}if(null!=p&&null!=d){e.fetchingRecommendations&&!f&&l===W.DISCOVERY_ALL_CATEGORIES_ID&&G.trackDiscoveryViewed(p,d,[],W.DISCOVERY_ALL_CATEGORIES_ID,W.RecommendationSources.SERVER_RECOMMENDATIONS)
;e.currentCategoryId!==l&&(l===W.DISCOVERY_ALL_CATEGORIES_ID?G.trackDiscoveryViewed(p,d,[],W.DISCOVERY_ALL_CATEGORIES_ID,W.RecommendationSources.SERVER_RECOMMENDATIONS):G.trackDiscoveryExited(p,this.getOrderedGuildIdsSeen(d.map((function(e){return e.id}))),W.RecommendationSources.SERVER_RECOMMENDATIONS))}e.mostRecentQuery.length>0&&i.length<1&&u!==l&&(0,c.selectCategory)(u)};n.componentWillUnmount=function(){var e=this.props,t=e.currentCategoryId,n=e.recommendationsLoadId,r=e.recommendationsGuilds;t===W.DISCOVERY_ALL_CATEGORIES_ID?null!=r&&null!=n&&G.trackDiscoveryExited(n,this.getOrderedGuildIdsSeen(r.map((function(e){return e.id}))),"Game Recommendations"):G.trackDiscoveryExited(this.loadId,Array.from(this._guildIdsSeen))};n.getOrderedGuildIdsSeen=function(e){var t=this;return e.filter((function(e){return t._guildIdsSeen.has(e)}))};n.renderGamesYouPlay=function(){
var e=this.props,t=e.guilds,n=e.mightHaveGamesYouPlay,r=e.theme,a=e.userGuilds,o=Object.keys(a),i=t[V.GuildDiscoverySections.GAMES_YOU_PLAY];i.guilds=i.guilds.filter((function(e){return!o.includes(e.id)}));var u=this.state.loadingGuildId;return n?Z(g.default,{loadId:this.loadId,title:H.default.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guildsData:i,loadingGuildId:u,analyticsContext:G.AnalyticsContexts.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:c.fetchGamesYouPlayGuilds,theme:r}):null};n.renderSearchBar=function(){var e,t,n=this.props,r=n.mostRecentQuery,a=n.guilds.search,o=n.defaultLanguage,i=n.isFetchingSearch,u=n.currentCategoryId,l=n.categories,s=n.currentCategoryName;y.DiscoveryTagsExperiment.trackExposure({})
;var f=y.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayRecommendedSearchTags?u===W.DISCOVERY_ALL_CATEGORIES_ID?H.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER_TAGS:H.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER_TAGS.format({categoryName:s}):u===W.DISCOVERY_ALL_CATEGORIES_ID?H.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:H.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:s}),d=null!==(e=null===(t=a[r])||void 0===t?void 0:t[u])&&void 0!==e?e:P.EMPTY_DISCOVERABLE_GUILDS_SECTION;return Z(F.default,{loadId:this.loadId,searchResults:d,mostRecentQuery:r,isFetchingSearch:i,defaultLanguage:o,placeholder:f,currentCategoryId:u,categories:l})};n.renderSearchResults=function(){
var e,t,n=this,r=this.props,a=r.mostRecentQuery,o=r.guilds.search,i=r.availableLanguages,u=r.defaultLanguage,l=r.isFetchingSearch,s=r.theme,f=r.currentCategoryId,d=r.currentCategoryName,c=this.state.loadingGuildId,p=f===W.DISCOVERY_ALL_CATEGORIES_ID?H.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:H.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:d}),v=null!==(e=null===(t=o[a])||void 0===t?void 0:t[f])&&void 0!==e?e:P.EMPTY_DISCOVERABLE_GUILDS_SECTION;return Z(E.default,{loadId:this.loadId,availableLanguages:i,defaultLanguage:u,placeholder:p,isFetchingSearch:l,searchResults:v,mostRecentQuery:a,loadingGuildId:c,currentCategoryId:f,currentCategoryName:d,scroller:this._scroller.current,theme:s,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,onTagClick:function(e,t){return n.handleTagSearch(e,t,G.AnalyticsContexts.SEARCH)}})};n.renderRecommendedGuildsSection=function(){
var e,t,n=this,r=this.props,a=r.theme,o=r.usingGameRecommendations,i=r.recommendationsGuilds,u=r.recommendationsLoadId;if(null==u||null==i)return te;var l={guilds:i,total:i.length,offset:0,limit:i.length,loading:!1,isFirstLoad:!1},s=null!==(e=null===(t=R.default.getCurrentUser())||void 0===t?void 0:t.username)&&void 0!==e?e:H.default.Messages.FRIENDS_COLUMN_NAME;return Z(g.default,{loadId:u,title:o?H.default.Messages.GUILD_DISCOVERY_RECOMMENDATIONS_TITLE.format({username:s}):H.default.Messages.GUILD_DISCOVERY_FEATURED_HEADER,guildsData:l,analyticsContext:G.AnalyticsContexts.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){},loadingGuildId:null,theme:a,onTagClick:function(e,t){return n.handleTagSearch(e,t,G.AnalyticsContexts.RECOMMENDED)},showMoreCards:!0})};n.renderPopularGuildsSection=function(){var e=this,t=this.props,n=t.guilds,r=t.theme,a=t.currentCategoryId,o=this.state.loadingGuildId;return Z(g.default,{
loadId:this.loadId,title:H.default.Messages.GUILD_DISCOVERY_POPULAR_HEADER,guildsData:n[a],loadingGuildId:o,analyticsContext:G.AnalyticsContexts.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){return(0,c.fetchPopularGuildsForCategory)(a)},currentCategoryId:a,theme:r,onTagClick:function(t,n){return e.handleTagSearch(t,n,G.AnalyticsContexts.POPULAR)}})};n.render=function(){var e,t,n,r,u=this,l=this.props,s=l.currentCategoryName,f=l.mostRecentQuery,d=l.currentCategoryId,c=l.guilds,p=f.length>0;y.DiscoveryTagsExperiment.trackExposure({});var v=y.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayRecommendedSearchTags,h=d===W.DISCOVERY_ALL_CATEGORIES_ID?null===(e=c[V.GuildDiscoverySections.FEATURED])||void 0===e?void 0:e.guilds:null===(t=c[d])||void 0===t?void 0:t.guilds;return d===W.DISCORD_HUB_ID?Z(I.default,{loadId:this.loadId}):Z("div",{className:B.default.pageWrapper},void 0,ne,Z("div",{className:(0,
o.default)(B.default.dragRegion,B.default.pageHeaderDrag,(n={},n[B.default.searchPageDrag]=p,n))}),a.createElement(U.AdvancedScrollerAuto,{className:B.default.scroller,ref:this._scroller,onScroll:this.handleScroll},Z("div",{className:(0,o.default)(B.default.viewWrapper,(r={},r[B.default.searchPage]=p,r))},void 0,p?this.renderSearchResults():a.createElement(a.Fragment,null,Z("div",{className:B.default.searchHeader},void 0,Z("img",{alt:"",className:B.default.headerImage,src:Y.default}),Z("div",{className:B.default.headerContentWrapper},void 0,Z("div",{className:B.default.headerContent},void 0,Z(j.default,{size:j.default.Sizes.SIZE_24,className:B.default.searchTitle},void 0,d===W.DISCOVERY_ALL_CATEGORIES_ID?H.default.Messages.GUILD_DISCOVERY_HOME_TITLE:H.default.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:s})),Z(k.default,{size:k.default.Sizes.SIZE_16,className:B.default.searchSubtitle
},void 0,d===W.DISCOVERY_ALL_CATEGORIES_ID&&H.default.Messages.GUILD_DISCOVERY_HOME_SUBTITLE),this.renderSearchBar(),v&&Z(x.DiscoveryTags,{hideOverflow:!0,section:G.AnalyticsContexts.HEADER,className:B.default.headerTagContainer,discoveryTagStyle:x.DiscoveryTagStyle.LIGHT,onTagClick:function(e){return u.handleTagSearch(e,void 0,G.AnalyticsContexts.HEADER)},tags:i.default.chain(h).flatMap((function(e){return e.keywords})).compact().uniq().sampleSize(10).value()})))),Z("div",{className:B.default.featuredBody},void 0,d===W.DISCOVERY_ALL_CATEGORIES_ID?this.renderRecommendedGuildsSection():this.renderPopularGuildsSection()),Z("div",{className:B.default.footer},void 0,Z("img",{alt:"",src:z.default,className:B.default.footerImage}),Z(j.default,{size:j.default.Sizes.SIZE_16},void 0,H.default.Messages.GUILD_DISCOVERY_CATEGORY_FOOTER_TITLE),Z(D.default,{look:D.default.Looks.LINK,color:D.default.Colors.LINK,size:D.default.Sizes.MIN,onClick:this.scrollToTop
},void 0,H.default.Messages.GUILD_DISCOVERY_FOOTER_BODY))))))};return t}(a.PureComponent);re.displayName="GuildDiscovery";var ae=f.default.connectStores([N.default,w.default,A.default,P.default,_.default,M.default],(function(){var e,t=W.LANGUAGE_OPTIONS,n=N.default.locale,r=null!==(e=i.default.find(t,{code:n}))&&void 0!==e?e:t[0],a=w.default.applicationStatistics,o=Object.keys(a),u=A.default.hasConsented(V.Consents.PERSONALIZATION)&&o.length>0,l=P.default.getCurrentCategoryId(),s=P.default.getCurrentHomepageCategoryId();return{isFetching:P.default.isFetching(),isFetchingSearch:P.default.isFetchingSearch(),guilds:P.default.getDiscoverableGuilds(),mostRecentQuery:P.default.getMostRecentQuery(),currentCategoryId:l,currentHomepageCategoryId:s,currentCategoryName:_.default.getCategoryName(l),categories:_.default.getDiscoveryCategories(),userGuilds:M.default.getGuilds(),theme:N.default.theme,mightHaveGamesYouPlay:u,availableLanguages:t,defaultLanguage:r}}))(re);function oe(e){var t=(0,
b.useEligibleForGameRecommendations)(),n=(0,f.useStateFromStoresObject)([O.default],(function(){return{recommendedGuilds:O.default.getRecommendedGuilds(),loadId:O.default.getLoadId(),fetching:O.default.isFetching()}})),r=n.fetching,o=n.loadId,i=n.recommendedGuilds;return a.createElement(ae,X({},e,{fetchingRecommendations:r,usingGameRecommendations:t,recommendationsGuilds:i,recommendationsLoadId:o}))}oe.displayName="GuildDiscoveryComponent"},869333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=n(598319),i=v(n(545721)),u=v(n(332743)),l=n(841354),s=v(n(666895)),f=v(n(199846)),d=v(n(582945)),c=n(227445),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var _=function(e){switch(e){case 1:
return c.CategoryIcons.Activity;case 2:return c.CategoryIcons.Music;case 3:return c.CategoryIcons.Television;case 5:return c.CategoryIcons.Science;case 6:return c.CategoryIcons.Education;default:return c.CategoryIcons.Discover}},g=function(){var e=(0,a.useStateFromStoresObject)([f.default],(function(){return{currentCategoryId:f.default.getCurrentCategoryId(),isViewingSearchResults:f.default.getMostRecentQuery().length>0}})),t=e.currentCategoryId,n=e.isViewingSearchResults,r=(0,a.useStateFromStores)([i.default],(function(){return i.default.getDiscoveryCategories()})),c=null==r?void 0:r.map((function(e){return m({},e,{icon:_(e.categoryId)})})),v=function(e){(0,o.selectCategory)(e,!0);n&&(0,o.clearSearch)()};return h(d.default,{},void 0,h(l.DiscoverySidebarHeader,{text:p.default.Messages.DISCOVER}),h(u.default,{categories:c,handleCategorySelect:v,currentCategoryId:t,shouldDisplaySelectedCategory:!n}),h(s.default,{handleCategorySelect:v,currentCategoryId:t,shouldDisplaySelectedCategory:!n
}))};g.displayName="GuildDiscoveryCategorySidebar";var E=g;t.default=E},815428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(817673)),i=n(139982),u=l(n(668281));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handlePageChange=function(e){var t=n.props.onPageChange;n.setState({currentPage:e});null!=t&&t(e)};var r=(0,i.getHistory)().location.search,a=(null!=r&&r.length>0&&r.startsWith("?")?o.default.parse(r):{}).offset,u=null!=a?Math.floor(parseInt(a,10)/t.pageSize)+1:1;n.state={currentPage:u};return n}var n=t.prototype;n.componentDidUpdate=function(e){var t=this.props.resetCurrentPage;!e.resetCurrentPage&&t&&this.setState({currentPage:1})};n.render=function(){
var e=this.props,t=e.totalCount,n=e.pageSize,r=e.maxVisiblePages,a=e.children,o=this.state.currentPage;return a({controller:f(u.default,{totalCount:t,pageSize:n,currentPage:o,maxVisiblePages:r,onPageChange:this.handlePageChange})})};return t}(a.PureComponent);c.displayName="GuildDiscoveryPaginator";var p=c;t.default=p},651386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=L;var r,a=C(n(667294)),o=b(n(294184)),i=b(n(496486)),u=n(536211),l=C(n(598319)),s=n(364060),f=b(n(545721)),d=b(n(199846)),c=b(n(16941)),p=b(n(535813)),v=n(967965),y=b(n(776360)),h=n(308920),m=n(956506),_=C(n(465537)),g=n(770348),E=n(227445),S=b(n(247001)),O=b(n(478483));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=i.default.throttle(_.trackSearchResultsViewed,1e3,{leading:!1,trailing:!0}),w=function(e){var t,n=e.isSelected,r=e.onCategoryChange,a=e.categoryId,i=e.name,u=e.count;return N(c.default,{onClick:function(){return r(a)},className:(0,o.default)(O.default.categoryPill,(t={},t[O.default.selected]=n,t))},void 0,N(y.default,{className:O.default.categoryLabel},void 0,null!=u?i+" ("+u+")":i))};w.displayName="Category";var D=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._searchRef=a.createRef();n.canSearch=function(e){return e.trim().length>=2};n.doSearch=function(e,t,r,a){var o=n.props,i=o.defaultLanguage,u=o.currentCategoryId,f=n.state,d=f.query,c=f.selectedLanguage;a&&l.getSearchResultsCount(d);n.setState({searchId:(0,s.makeAnalyticsID)(),queryHasChanged:!1,isSearching:!0});l.doAlgoliaSearch(d,{categoryId:null==r?u:r,
preferredLocale:(null==c?void 0:c.code)||i.code,offset:e,length:t,filters:{approximate_member_count:_.MINIMUM_MEMBER_COUNT}})};n.handleSearchBlurred=function(e){var t=n.props.onSearchBlur;n.setState({inputFocused:!1});null==t||t()};n.handleSearchKeyPress=function(e){var t=n.state,r=t.query,a=t.queryHasChanged,o=n.props,i=o.loadId,u=o.currentCategoryId,l=u!==E.DISCOVERY_ALL_CATEGORIES_ID?u:null;if(n.canSearch(r)&&a&&e.charCode===g.KeyboardKeys.ENTER){_.trackSearchStarted(i,l);n.doSearch(0,12,void 0,!0)}else 0===r.length&&e.charCode===g.KeyboardKeys.ENTER&&n.setState({isSearching:!1})};n.handleQueryChanged=function(e){n.setState({query:e,queryHasChanged:!0})};n.handleQueryCleared=function(){n.setState({query:"",queryHasChanged:!0,isSearching:!1})};n.handleLanguageChange=function(e){var t=n.props,r=t.mostRecentQuery,a=t.availableLanguages,o=null==a?void 0:a.find((function(t){return t.name===e}));n.setState({selectedLanguage:o},(function(){n.canSearch(r)&&n.doSearch(0,12)}))}
;n.handleCategoryChange=function(e){var t=n.props.mostRecentQuery;l.selectCategory(e);n.canSearch(t)&&n.doSearch(0,12,e)};n.handleFocus=function(){var e=n.props.onSearchFocus;n.setState({inputFocused:!0});null==e||e()};n.focusInput=function(){var e;null===(e=n._searchRef.current)||void 0===e||e.focus()};n.state={searchId:(0,s.makeAnalyticsID)(),query:t.isSearchPage?t.mostRecentQuery:"",queryHasChanged:!1,isSearching:!1,selectedLanguage:t.defaultLanguage,inputFocused:!1,isHandlingTagSearch:t.isTagSearch||!1};return n}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.loadId,n=e.searchResults,r=e.currentCategoryId,a=this.state,o=a.searchId,i=a.query,u=a.isHandlingTagSearch,s=this.context;null==d.default.getSearchIndex()&&l.createAlgoliaIndex();m.ComponentDispatch.subscribe(g.ComponentActions.GLOBAL_CLIPBOARD_PASTE,this.focusInput);m.ComponentDispatch.subscribe(g.ComponentActions.TEXTAREA_FOCUS,this.focusInput);if(i.length>0){
var f=r!==E.DISCOVERY_ALL_CATEGORIES_ID?r:null;R(t,o,i,n.guilds,s,f,u)}};n.componentDidUpdate=function(e,t){var n=this.props,r=n.loadId,a=n.isFetchingSearch,o=n.searchResults,i=n.currentCategoryId,u=n.mostRecentQuery,l=this.state,f=l.isSearching,d=l.searchId,c=l.query,p=l.isHandlingTagSearch,v=this.context,y=e.isFetchingSearch&&!a,h=i!==E.DISCOVERY_ALL_CATEGORIES_ID?i:null;if((f||p)&&y){R(r,d,c,o.guilds,v,h,p);this.setState({isHandlingTagSearch:!1})}!t.isSearching&&f&&_.trackSearchStarted(r,h,v);e.mostRecentQuery!==u&&this.setState({query:u,searchId:(0,s.makeAnalyticsID)(),isHandlingTagSearch:!0})};n.componentWillUnmount=function(){m.ComponentDispatch.unsubscribe(g.ComponentActions.GLOBAL_CLIPBOARD_PASTE,this.focusInput);m.ComponentDispatch.unsubscribe(g.ComponentActions.TEXTAREA_FOCUS,this.focusInput)};n.renderSearchOptions=function(){var e,t=this.props.availableLanguages,n=this.state.selectedLanguage;if(null==t)return null;var r=t.map((function(e){var t=e.name;return{label:t,value:t}
}));return N(v.SingleSelect,{className:O.default.languageSelector,options:r,value:null!==(e=null==n?void 0:n.name)&&void 0!==e?e:"",onChange:this.handleLanguageChange,maxVisibleItems:6})};n.renderCategories=function(){var e=this,t=this.props,n=t.currentCategoryId,r=t.countsByCategory;return N("div",{className:O.default.categories},void 0,null==r?void 0:r.map((function(t){var r=A(t,2),a=r[0],o=r[1];return N(w,{categoryId:a,name:a===E.DISCOVERY_ALL_CATEGORIES_ID?S.default.Messages.GUILD_DISCOVERY_ALL_CATEGORY_FILTER:f.default.getCategoryName(a),onCategoryChange:e.handleCategoryChange,isSelected:n===a,count:o},a)})))};n.render=function(){var e,t=this.state,n=t.query,r=t.inputFocused,i=this.props,u=i.placeholder,l=i.isSearchPage;return a.createElement(a.Fragment,null,N("div",{className:(0,o.default)(O.default.container,(e={},e[O.default.searchPage]=l,e))},void 0,N("div",{className:O.default.search},void 0,a.createElement(p.default,{ref:this._searchRef,searchTerm:n,
className:l?void 0:O.default.searchBox,inputClassName:l?void 0:O.default.searchBoxInput,closeIconClassName:l?void 0:O.default.closeIcon,searchIconClassName:l?void 0:O.default.searchIcon,label:S.default.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:u,onChange:this.handleQueryChanged,onClear:this.handleQueryCleared,onFocus:this.handleFocus,onBlur:this.handleSearchBlurred,onKeyPress:this.handleSearchKeyPress,autoFocus:!l,cta:r&&null!=n&&n.length>1?S.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})),l?this.renderSearchOptions():null),l?this.renderCategories():null)};return t}(a.PureComponent);D.displayName="GuildDiscoverySearchBarComponent";D.contextType=h.AnalyticsContext;function L(e){var t=(0,u.useStateFromStores)([f.default],(function(){return f.default.getDiscoveryCategories()})),n=(0,u.useStateFromStores)([d.default],(function(){return d.default.getTopCategoryCounts(e.mostRecentQuery)}));return a.createElement(D,T({},e,{categories:t,countsByCategory:n}))}
L.displayName="GuildDiscoverySearchBar"},263996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryTags=t.DiscoveryTagStyle=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(673997)),u=p(n(16941)),l=p(n(265851)),s=p(n(160629)),f=p(n(308920)),d=n(770348),c=p(n(983294));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=["egirl","egirls","waifu","dating","nsfw","sex","playboy","stupid","harem","playgirl","shitcoin","shitpost","porno","nudes","sexy","horny","fart","tits","balls","cum"],E=function(e){var t,n=e.text,r=e.onClick,a=e.className,i=e.hide;return _("li",{className:(0,o.default)(c.default.tag,a,(t={},t[c.default.hide]=i,t))},void 0,_(u.default,{className:c.default.tagText,onClick:function(e){e.stopPropagation();e.preventDefault();r(e)}
},void 0,n))};E.displayName="DiscoveryTag";var S=function(e){var t=e.tags,n=e.onTagClick,r=e.guildId,o=e.section;a.useEffect((function(){f.default.track(d.AnalyticEvents.OPEN_POPOUT,{type:"Discovery Tags Overflow",guild_id:r,location:{page:d.AnalyticsPages.GUILD_DISCOVERY,section:o}})}),[r,o]);return _(l.default,{className:c.default.overflowTagsPopout},void 0,_("ul",{},void 0,t.map((function(e){return _(E,{onClick:function(){return n(e)},className:c.default.tagAlt,text:e},e)}))))};S.displayName="DiscoveryTagsPopout";var O=function(e){var t=e.className,n=e.count;return _(s.default,{renderPopout:function(){return a.createElement(S,e)},position:s.default.Positions.RIGHT,align:s.default.Align.TOP,closeOnScroll:!0},void 0,(function(e){return a.createElement(E,m({className:t},e,{text:"+"+n}))}))};O.displayName="DiscoveryTagsOverflowButton";var b={DEFAULT:c.default.tagDefault,LIGHT:c.default.tagLight,ALT:c.default.tagAlt};t.DiscoveryTagStyle=b;var I=function(e){
var t,n=e.tags,r=e.onTagClick,u=e.className,l=e.discoveryTagStyle,s=void 0===l?b.DEFAULT:l,f=e.hideOverflow,d=void 0!==f&&f,p=e.guildId,v=e.section,h=(0,i.default)(),m=h.ref,S=h.width,I=y(a.useState(null),2),C=I[0],T=I[1],A=n.filter((function(e){return!g.includes(e.toLowerCase())}));a.useLayoutEffect((function(){if(null!=m.current&&null!=S&&0!==S){for(var e=0,t=0,n=S-40-4,r=0;r<A.length;r++){t+=m.current.children[r].clientWidth+4;if(r===A.length-1?t>n+40:t>n)break;e++}T((function(t){return e<=A.length?e:t}))}}),[S,m,A]);return a.createElement("ul",{ref:m,className:(0,o.default)(c.default.tagContainer,u,(t={},t[c.default.invisible]=null==C,t))},A.map((function(e,t){return _(E,{className:s,onClick:function(){return r(e)},hide:null!=C&&t>=C,text:e},e)})),!d&&null!=C&&C<A.length&&_(O,{className:s,onTagClick:r,tags:A.slice(C),count:A.length-C,guildId:p,section:v}))};t.DiscoveryTags=I;I.displayName="DiscoveryTags"},55027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a,o=f(n(667294)),i=n(248088),u=f(n(648831)),l=(r=n(599884))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleViewGuild=function(){var e=p(regeneratorRuntime.mark((function e(n){var r,a,o,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.props,a=r.guilds,
o=r.analyticsContext,i=r.onViewGuild;u=a.findIndex((function(e){return e.id===n}));e.next=4;return i(n,u,o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.renderGuild=function(e,n){var r=t.props,a=r.theme,o=r.onTagClick;return d(u.default,{guild:e,theme:a,onView:t.handleViewGuild,onTagClick:o},n)};return t}var n=t.prototype;n.renderPlaceholders=function(){for(var e=this.props.loadingPlaceholderCount,t=[],n=0;n<e;n++)t.push(d(u.DiscoverSearchResultPlaceholder,{},n));return t};n.render=function(){var e=this,t=this.props,n=t.guilds,r=t.loading;return d(i.Spring,{from:{opacity:r?0:1},to:{opacity:1},delay:100},void 0,(function(t){return d(i.animated.div,{className:l.default.guildList,style:t},void 0,r||null==n?e.renderPlaceholders():n.map(e.renderGuild))}))};return t}(o.PureComponent);y.displayName="GuildList";y.defaultProps={loadingPlaceholderCount:12};var h=y;t.default=h},605807:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=n(536211),i=p(n(241165)),u=y(n(908463)),l=p(n(308920)),s=p(n(571028)),f=p(n(221597)),d=p(n(913093)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).maxScrolledPercentage=0;t.mountedAt=0;t.handleScroll=function(e){var n=e.getScrollerState(),r=n.offsetHeight,a=n.scrollHeight,o=n.scrollTop/(a-r)
;t.maxScrolledPercentage=Math.min(Math.max(t.maxScrolledPercentage,o),1)};t.track=function(e,n,r){void 0===n&&(n={});void 0===r&&(r=!1);var a=t.props.changeLog,o=a.id,i=a.date,u=m({change_log_id:(o||i)+":"+a.revision},n);r||(u=m({seconds_open:Math.round((Date.now()-t.mountedAt)/1e3),max_scrolled_percentage:100*parseInt(t.maxScrolledPercentage.toPrecision(4),10)},u));l.default.track(e,u)};return t}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.changeLog,n=e.changeLogSource;if(null==t)return this.close();this.mountedAt=Date.now();this.maxScrolledPercentage=0;this.joinEligibleExperiment();this.track(c.AnalyticEvents.CHANGE_LOG_OPENED,m({},n),!0)};n.joinEligibleExperiment=function(){var e=this.props.changeLog;null!=e.experiment_names&&s.default.trackExposureToFirstEligibleUserExperiment(e.experiment_names)};n.close=function(){i.default.hideChangeLog()};n.componentWillUnmount=function(){this.track(c.AnalyticEvents.CHANGE_LOG_CLOSED)};n.render=function(){
return this.props.changeLog.template===u.ChangeLogTemplate.SPECIAL?a.createElement(f.default,m({},this.props,{onScroll:this.handleScroll,track:this.track})):a.createElement(d.default,m({},this.props,{onScroll:this.handleScroll,track:this.track}))};return t}(a.PureComponent);g.displayName="ChangeLog";var E=function(){var e=(0,o.useStateFromStoresObject)([u.default],(function(){return{changeLog:u.default.changeLog,changeLogSource:u.default.changeLogSource,isOpen:u.default.isOpen()}})),t=e.changeLog,n=e.changeLogSource,r=e.isOpen;return null!=t&&r?h(g,{changeLog:t,changeLogSource:n}):null};E.displayName="ConnectedChangeLog";var S=a.memo(E);t.default=S},221597:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=A(n(667294)),o=C(n(294184)),i=C(n(730381)),u=n(91817),l=C(n(241165)),s=C(n(268389)),f=n(844867),d=C(n(908463)),c=C(n(151097)),p=A(n(956117)),v=n(374693),y=n(354479),h=C(n(776360)),m=C(n(865725)),_=C(n(308920)),g=C(n(899984)),E=C(n(550270)),S=C(n(178710)),O=n(770348),b=C(n(247001)),I=C(n(866881));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}var N=s.default.reactParserFor(g.default.getSpecialRules(I.default)),R={},w=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,y.uid)();t.state={bodyWidth:451,copied:!1};t._unsetCopiedState=new u.DelayedCall(1e3,(function(){return t.setState({copied:!1})}));t.trackLinkClick=function(e){
t.props.track(O.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:e},!1)};t.scrollerRef=a.createRef();t.handleResize=function(){var e,n,r=null!==(e=null===(n=t._bodyNode)||void 0===n?void 0:n.offsetWidth)&&void 0!==e?e:t.state.bodyWidth;"number"!=typeof r||Number.isNaN(r)||t.setState({bodyWidth:r})};t.setSpecialBodyRef=function(e){t._bodyNode=e;t.handleResize()};t.handleScroll=function(){var e=t.scrollerRef.current;if(null!=e){var n;null===(n=t.props)||void 0===n||n.onScroll(e)}};return t}var r=t.prototype;r.componentDidMount=function(){window.addEventListener("resize",this.handleResize,!0)};r.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize,!0);this._unsetCopiedState.cancel()};r.close=function(){l.default.hideChangeLog()};r.track=function(e,t,n){this.props.track(e,t,n)};r.renderVideo=function(){var e=this,t=this.props.changeLog,r=this.state.bodyWidth,a=r*(9/16),i=t.youtube_video_id,u=t.video,l=t.image;if(i)return P(v.EmbedVideo,{
className:(0,o.default)(I.default.video),allowFullScreen:!1,href:"https://youtu.be/"+i,thumbnail:{url:"https://i.ytimg.com/vi/"+i+"/maxresdefault.jpg",width:r,height:a},video:{url:"https://www.youtube.com/embed/"+i+"?vq=large&rel=0&controls=0&showinfo=0",width:r,height:a},maxWidth:r,maxHeight:a,renderVideoComponent:f.renderVideoComponent,renderImageComponent:f.renderImageComponent,renderLinkComponent:f.renderMaskedLinkComponent,onPlay:function(){e.track(O.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(u){var s=u.startsWith("https://")?u:n(478717)("./"+u);return P(m.default,{src:s,poster:l,width:r,height:a,loop:!0,muted:!0,autoPlay:!0,className:I.default.video,onPlay:function(){e.track(O.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(l){var d=l.startsWith("https://")?l:n(478717)("./"+l);return P("img",{className:I.default.image,alt:"",src:d,width:r,height:a})}return null};r.render=function(){var e=this.props.changeLog;return P(S.default,{className:(0,
o.default)(I.default.container),modalLabeledById:this.headerId,onClose:this.close,onScroll:this.handleScroll,scrollerRef:this.scrollerRef},void 0,P("div",{className:I.default.header,id:this.headerId,tabIndex:0},void 0,P("div",{className:I.default.headerContent},void 0,P(h.default,{size:h.default.Sizes.SIZE_32,className:I.default.headerText},void 0,b.default.Messages.CHANGELOG_STICKERS_HEADER),P(h.default,{size:h.default.Sizes.SIZE_16,className:I.default.dateText},void 0,b.default.Messages.WHATS_NEW_DATE.format({date:null!=e.date&&""!==e.date?(0,i.default)(e.date).toDate():new Date}))),P("div",{className:I.default.headerGraphic})),a.createElement("div",{className:I.default.body,ref:this.setSpecialBodyRef},this.renderVideo(),N(e.body,!1,{changeLog:this,interpolations:R,onLinkClick:this.trackLinkClick})),P("div",{className:I.default.footer},void 0,P(h.default,{size:h.default.Sizes.SIZE_20,className:I.default.inviteCTAHeader
},void 0,b.default.Messages.CHANGELOG_STICKERS_CTA_TITLE),P(h.default,{size:h.default.Sizes.SIZE_16,className:I.default.inviteCTABody},void 0,b.default.Messages.CHANGELOG_STICKERS_CTA_BODY.format()),P(c.default,{className:(0,o.default)((0,p.getButtonStyle)({size:p.default.Sizes.SMALL,color:p.default.Colors.GREEN}),I.default.ctaAnchor),href:E.default.getArticleURL(O.HelpdeskArticles.STICKERS),onClick:function(){var e,t;_.default.track(O.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{change_log_id:(null===(e=d.default.changeLog)||void 0===e?void 0:e.date)+":"+(null===(t=d.default.changeLog)||void 0===t?void 0:t.revision),cta_type:"stickers_cta"})}},void 0,b.default.Messages.CHANGELOG_STICKERS_CTA)))};return t}(a.PureComponent);t.default=w;w.displayName="ChangelogSpecialTemplate"},913093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=T(n(294184)),i=T(n(730381)),u=T(n(241165)),l=T(n(805764)),s=T(n(268389)),f=n(844867),d=T(n(151097)),c=n(374693),p=T(n(530250)),v=n(354479),y=T(n(877622)),h=T(n(170331)),m=T(n(637853)),_=T(n(971639)),g=T(n(776360)),E=T(n(865725)),S=T(n(899984)),O=T(n(138158)),b=n(770348),I=T(n(247001)),C=T(n(634427));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}var N=s.default.reactParserFor(S.default.getDefaultRules(C.default)),R={},w=P(m.default,{}),D=P(y.default,{}),L=P(h.default,{}),j=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,v.uid)();t.handleScroll=function(e){var n;null===(n=t.props)||void 0===n||n.onScroll(e)};t.trackLinkClick=function(e){t.props.track(b.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:e},!1)};t.renderHeader=function(){var e=t.props.changeLog
;return P(p.default.Child,{grow:1,shrink:1},void 0,P(_.default,{tag:_.default.Tags.H2,size:_.default.Sizes.SIZE_20},void 0,I.default.Messages.WHATS_NEW),P(g.default,{size:g.default.Sizes.SIZE_12,className:C.default.date},void 0,I.default.Messages.WHATS_NEW_DATE.format({date:null!=e.date&&""!==e.date?(0,i.default)(e.date).toDate():new Date})))};return t}var r=t.prototype;r.close=function(){u.default.hideChangeLog()};r.track=function(e,t,n){this.props.track(e,t,n)};r.renderFooter=function(){return P("div",{className:C.default.footer},void 0,P(d.default,{"aria-label":I.default.Messages.TWITTER,className:C.default.socialLink,href:(0,l.default)(b.LocalizedLinks.TWITTER),target:"blank"},void 0,w),P(d.default,{"aria-label":I.default.Messages.FACEBOOK,className:C.default.socialLink,href:b.SOCIAL_LINKS.FACEBOOK_URL,target:"blank"},void 0,D),P(d.default,{"aria-label":I.default.Messages.INSTAGRAM,className:C.default.socialLink,href:b.SOCIAL_LINKS.INSTAGRAM_URL,target:"blank"
},void 0,L),P(g.default,{size:g.default.Sizes.SIZE_12},void 0,I.default.Messages.FOLLOW_US_FOR_MORE_UPDATES))};r.renderVideo=function(){var e=this,t=this.props.changeLog,r=451,a=254,i=t.youtube_video_id,u=t.video,l=t.image;if(i)return P(c.EmbedVideo,{className:(0,o.default)(C.default.video),allowFullScreen:!1,href:"https://youtu.be/"+i,thumbnail:{url:"https://i.ytimg.com/vi/"+i+"/maxresdefault.jpg",width:r,height:a},video:{url:"https://www.youtube.com/embed/"+i+"?vq=large&rel=0&controls=0&showinfo=0",width:r,height:a},maxWidth:r,maxHeight:a,renderVideoComponent:f.renderVideoComponent,renderImageComponent:f.renderImageComponent,renderLinkComponent:f.renderMaskedLinkComponent,onPlay:function(){e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(u){var s=u.startsWith("https://")?u:n(478717)("./"+u);return P(E.default,{src:s,poster:l,width:r,height:a,loop:!0,muted:!0,autoPlay:!0,className:C.default.video,onPlay:function(){
e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(l){var d=l.startsWith("https://")?l:n(478717)("./"+l);return P("img",{className:C.default.image,alt:"",src:d,width:r,height:a})}return null};r.render=function(){var e=this.props.changeLog;return P(O.default,{className:C.default.container,onClose:this.close,renderHeader:this.renderHeader,renderFooter:this.renderFooter,onScroll:this.handleScroll},void 0,P("div",{tabIndex:0,role:"region","aria-label":I.default.Messages.CHANGELOG_CONTENT_LABEL},void 0,this.renderVideo(),N(e.body,!1,{changeLog:this,interpolations:R,onLinkClick:this.trackLinkClick})))};return t}(a.PureComponent);j.displayName="ChangelogStandardTemplate";var k=j;t.default=k},410671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(956117)),i=y(n(558402)),u=y(n(279950)),l=n(354479),s=y(n(510596)),f=n(3400),d=y(n(971639)),c=y(n(776360)),p=y(n(247001)),v=y(n(949095));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,l.uid)();t.state={code:""};t.setRef=function(e){t._input=e};t.handleSubmit=function(e){e.preventDefault();(0,t.props.handleSubmit)(t.state.code)};t.handleCancel=function(){var e=t.props,n=e.onClose,r=e.handleEarlyClose;n();null==r||r()};t.handleCodeChange=function(e){t.setState({code:e})};return t}t.prototype.render=function(){var e=this.props,t=e.title,n=e.actionText,r=e.children,l=e.error,y=e.isLoading,h=e.disallowBackupCodes,_=e.transitionState,g=this.state.code,E=a.Children.count(r)>0?m(i.default,{type:i.default.Types.WARNING,className:v.default.card},void 0,m(c.default,{
size:c.default.Sizes.SIZE_16},void 0,r)):null;return m(f.ModalRoot,{transitionState:_,"aria-labelledby":this.headerId},void 0,m("form",{onSubmit:this.handleSubmit},void 0,m(f.ModalHeader,{separator:!1,id:this.headerId},void 0,m(d.default,{tag:d.default.Tags.H2,size:d.default.Sizes.SIZE_20},void 0,t)),m(f.ModalContent,{},void 0,E,m(s.default,{title:h?p.default.Messages.TWO_FA_ENTER_TOKEN_NO_BACKUP_LABEL:p.default.Messages.TWO_FA_ENTER_TOKEN_LABEL,className:v.default.spacing},void 0,m(u.default,{inputRef:this.setRef,onChange:this.handleCodeChange,placeholder:h?p.default.Messages.TWO_FA_AUTH_CODE_NO_BACKUP:p.default.Messages.TWO_FA_AUTH_CODE,maxLength:10,value:g,autoComplete:"one-time-code",autoFocus:!0}),null!=l&&""!==l?m(c.default,{color:c.default.Colors.STATUS_RED,size:c.default.Sizes.SIZE_12,className:v.default.error},void 0,l):null)),m(f.ModalFooter,{},void 0,m(o.default,{type:"submit",disabled:y},void 0,null!=n?n:p.default.Messages.CONFIRM),m(o.default,{onClick:this.handleCancel,
disabled:y,look:o.default.Looks.LINK,color:o.default.Colors.PRIMARY},void 0,p.default.Messages.CANCEL))))};return t}(a.PureComponent);g.displayName="MFAConfirm";g.defaultProps={btnClass:"",isLoading:!1,disallowBackupCodes:!1,error:null};var E=g;t.default=E},178710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=p(n(294184)),i=p(n(16941)),u=p(n(259530)),l=y(n(3400)),s=p(n(776360)),f=p(n(247001)),d=p(n(853930)),c=["onClose"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=m(u.default,{width:24,height:24}),E=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.selectable,n=e.className,r=e.modalLabeledById,u=e.onClose,p=e.children,v=e.onScroll,y=e.scrollerRef;return m(l.default,{onCloseRequest:u,renderModal:function(e){var _,E=e.onClose,S=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c);return a.createElement(l.ModalRoot,h({className:d.default.modal},S,{"aria-labelledby":r}),m(l.ModalContent,{className:(0,o.default)(n,d.default.content,{selectable:t}),scrollerRef:y,onScroll:v},void 0,p),m(i.default,{className:d.default.closeButton,onClick:function(){null!=u&&u();E()}},void 0,g),m("div",{className:d.default.updateBadge},void 0,m(s.default,{size:(_=f.default.Messages.UPDATE_BADGE_HEADER,_.length>12?s.default.Sizes.SIZE_10:_.length>10?s.default.Sizes.SIZE_12:_.length>8?s.default.Sizes.SIZE_14:s.default.Sizes.SIZE_16),
className:d.default.updateBadgeText},void 0,f.default.Messages.UPDATE_BADGE_HEADER)))}})};return t}(a.PureComponent);E.displayName="SpecialMarkdownModal";E.defaultProps={selectable:!1};var S=E;t.default=S},57663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Ie
;var r,a=ye(n(667294)),o=pe(n(294184)),i=n(536211),u=n(923387),l=pe(n(972247)),s=n(91817),f=n(378158),d=pe(n(226800)),c=pe(n(686923)),p=pe(n(284382)),v=pe(n(6887)),y=pe(n(77146)),h=n(224179),m=pe(n(915502)),_=pe(n(945926)),g=pe(n(330493)),E=pe(n(590087)),S=pe(n(56200)),O=pe(n(133464)),b=pe(n(305081)),I=pe(n(812371)),C=pe(n(719637)),T=pe(n(105847)),A=pe(n(423405)),P=pe(n(644263)),M=pe(n(513266)),N=pe(n(122913)),R=pe(n(635014)),w=pe(n(893160)),D=pe(n(690445)),L=pe(n(397228)),j=pe(n(663303)),k=pe(n(871778)),U=pe(n(728429)),G=pe(n(146771)),F=pe(n(16941)),x=pe(n(530250)),V=pe(n(618993)),W=pe(n(160629)),H=pe(n(413542)),B=ye(n(730977)),z=pe(n(634230)),Y=pe(n(878338)),$=pe(n(324582)),K=pe(n(347114)),q=pe(n(855480)),Z=pe(n(287317)),X=n(194322),Q=pe(n(139574)),J=pe(n(902060)),ee=pe(n(683898)),te=ye(n(628551)),ne=pe(n(776360)),re=pe(n(308920)),ae=n(42031),oe=n(179495),ie=pe(n(922629)),ue=pe(n(1483)),le=n(770348),se=n(198622),fe=pe(n(247001)),de=pe(n(129609)),ce=["onClick","onMouseEnter"]
;function pe(e){return e&&e.__esModule?e:{default:e}}function ve(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ve=function(e){return e?n:t})(e)}function ye(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ve(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function he(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function me(){me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return me.apply(this,arguments)}function _e(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_e(o,r,a,i,u,"next",e)}function u(e){_e(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Se(e,t){Se=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Se(e,t)}var Oe=ie.default.getEnableHardwareAcceleration()?te.AnimatedAvatar:te.default;var be=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Se(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).copiedTimeout=new s.Timeout;t.copiedDecayTimeout=new s.Timeout;t.speakingWhileMutedTooltipTimeout=new s.Timeout;t.state={hovered:!1,copiedStreak:0,shouldShowNametagTooltip:!1,shouldShowCopiedFeedback:!1,shouldShowSpeakingWhileMutedTooltip:!1,hoveringOnMute:!1};t.handleToggleSelfMute=function(){var e=t.props,n=e.serverMute,r=e.suppress;(0,E.default)(n,r)};t.handleToggleSelfDeaf=function(){var e=t.props.serverDeaf;(0,g.default)(e)};t.handleOpenSettings=function(){d.default.open(le.UserSettingsSections.ACCOUNT)};t.handleOpenSettingsContextMenu=function(e){var r=t.props.currentUser;null!=r&&(0,f.openContextMenuLazy)(e,ge(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(23622),n.e(1429),n.e(93198),n.e(72936),n.e(92782),n.e(54313),n.e(64084)]).then(n.bind(n,964084));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,me({},e,{user:r,premiumSubscription:t.props.premiumSubscription,webBuildOverride:t.props.webBuildOverride}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleInputAudioContextMenu=function(e){(0,f.openContextMenuLazy)(e,ge(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,190320));case 2:t=e.sent;r=t.default;a=he(r,{onClose:f.closeContextMenu,renderInputDevices:!0,renderInputModes:!0,renderInputVolume:!0});return e.abrupt("return",(function(){return a}));case 6:case"end":return e.stop()}}),e)}))))};t.handleOutputAudioContextMenu=function(e){(0,f.openContextMenuLazy)(e,ge(regeneratorRuntime.mark((function e(){var t,r,a
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,190320));case 2:t=e.sent;r=t.default;a=he(r,{onClose:f.closeContextMenu,renderOutputDevices:!0,renderOutputVolume:!0});return e.abrupt("return",(function(){return a}));case 6:case"end":return e.stop()}}),e)}))))};t.handleMouseEnter=function(){t.setState({hovered:!0})};t.handleMouseLeave=function(){t.setState({hovered:!1})};t.handleMouseEnterMute=function(){t.setState({hoveringOnMute:!0,shouldShowSpeakingWhileMutedTooltip:!1});t.speakingWhileMutedTooltipTimeout.stop()};t.handleMouseLeaveMute=function(){t.setState({hoveringOnMute:!1})};t.handleCopyTag=function(){var e=t.props.currentUser,n=t.state,r=n.shouldShowNametagTooltip,a=n.copiedStreak;if(null!=e){(0,oe.copy)(e.tag);re.default.track(le.AnalyticEvents.TEXT_COPIED,{type:"User Tag"});var o={shouldShowCopiedFeedback:!0,shouldShowNametagTooltip:!0};r||(o.copiedStreak=a+1);t.setState(o,(function(){
t.copiedTimeout.start(1e3,(function(){return t.setState({shouldShowNametagTooltip:!1})}));t.copiedDecayTimeout.start(2e3,(function(){return t.setState({copiedStreak:0})}))}))}};t.handleOccludedChanged=function(){t.props.occluded&&t.setState({shouldShowNametagTooltip:!1,shouldShowSpeakingWhileMutedTooltip:!1})};t.handleSpeakingWhileMutedChanged=function(){var e=t.props,n=e.selfMute,r=e.serverMute,a=e.suppress,o=e.speakingWhileMuted,i=e.occluded,u=t.state.hoveringOnMute;if(o)u||!n||r||a||i||t.setState({shouldShowSpeakingWhileMutedTooltip:!0},(function(){t.speakingWhileMutedTooltipTimeout.start(2e3,(function(){return t.setState({shouldShowSpeakingWhileMutedTooltip:!1})}))}));else{t.setState({shouldShowSpeakingWhileMutedTooltip:!1});t.speakingWhileMutedTooltipTimeout.stop()}};t.renderStatusPickerPopout=function(e){var n=e.closePopout;return he(c.default,{onClose:function(){t.handleMouseLeave();null==n||n()}})};return t}var r=t.prototype;r.componentDidUpdate=function(e){
var t=e.speakingWhileMuted,n=e.occluded,r=this.props,a=r.speakingWhileMuted;r.occluded!==n&&this.handleOccludedChanged();a!==t&&this.handleSpeakingWhileMutedChanged()};r.componentWillUnmount=function(){this.copiedTimeout.stop();this.copiedDecayTimeout.stop();this.speakingWhileMutedTooltipTimeout.stop()};r.renderCopiedSuccess=function(){var e=this.state.copiedStreak,t=[fe.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_1,fe.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_2,fe.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_3,fe.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_4,fe.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_5,fe.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_6,fe.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_7,fe.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_8,fe.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_9,fe.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_10,fe.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_11],n=Math.min(Math.max(0,e-1),t.length-1)
;return he(H.default,{isShaking:this.isCopiedStreakGodlike},void 0,t[n])};r.renderNameTag=function(){var e=this,t=this.props,n=t.customStatusActivity,r=t.hidePrivateData,i=t.currentUser,u=this.state,l=u.hovered,s=u.shouldShowNametagTooltip,f=u.shouldShowCopiedFeedback;if(null==i)return null;var d=r?null:"#"+i.discriminator,c=null!=n?he(V.default,{hoverText:d,forceHover:l},void 0,he(O.default,{activity:n,emojiClassName:de.default.emoji,className:de.default.customStatus})):d,p=null,v=B.TooltipColors.PRIMARY;if(oe.SUPPORTS_COPY){p=fe.default.Messages.ACCOUNT_CLICK_TO_COPY;if(f){p=this.renderCopiedSuccess();v=this.isCopiedStreakGodlike?B.TooltipColors.RED:B.TooltipColors.GREEN}}return he(B.default,{text:p,forceOpen:s,"aria-label":!!oe.SUPPORTS_COPY&&fe.default.Messages.ACCOUNT_CLICK_TO_COPY,color:v,delay:500,onAnimationRest:function(t,n){f&&!s&&n.phase===le.SpringTransitionPhases.LEAVE&&e.setState({shouldShowCopiedFeedback:!1})}},void 0,(function(t){
var n,r=t.onClick,u=t.onMouseEnter,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,ce);return a.createElement(F.default,me({},l,{onMouseEnter:function(){if(f){e.copiedTimeout.stop();e.setState({shouldShowNametagTooltip:!1},u)}else null==u||u()},onClick:function(){null==r||r();e.handleCopyTag()},className:(0,o.default)(de.default.nameTag,(n={},n[de.default.canCopy]=oe.SUPPORTS_COPY,n))}),he(ne.default,{className:de.default.usernameContainer},void 0,he(ee.default,{},void 0,i.username)),null!=c?he(J.default,{className:de.default.discriminator},void 0,c):null)}))};r.renderAvatarWithPopout=function(){var e=this.props,t=e.speaking,n=e.streaming,r=e.currentUser,o=e.status;return null==r?null:he(p.default,{object:le.AnalyticsObjects.AVATAR},void 0,he(W.default,{renderPopout:this.renderStatusPickerPopout,position:W.default.Positions.BOTTOM,align:W.default.Align.LEFT,animation:W.default.Animation.FADE,
spacing:14,fixed:!0},void 0,(function(e){return a.createElement(F.default,me({},e,{"aria-label":fe.default.Messages.SET_STATUS,className:de.default.avatarWrapper}),he(Oe,{size:te.Sizes.SIZE_32,src:r.getAvatarURL(void 0,32,!1),"aria-label":r.username,status:n?le.StatusTypes.STREAMING:o,isSpeaking:t,className:de.default.avatar}))})))};r.renderSettingsGear=function(){var e=this.props.webBuildOverride;return he(Q.default,{tooltipText:null!=e?fe.default.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:e.id}):fe.default.Messages.USER_SETTINGS,onClick:this.handleOpenSettings,onContextMenu:this.handleOpenSettingsContextMenu,innerClassName:null!=e?de.default.buildOverrideButton:null,icon:z.default},void 0,null!=e?he(K.default,{width:9,height:9,className:de.default.hasBuildOverride,"aria-hidden":!0}):null)};r.render=function(){
var e,t,n=this,r=this.props,a=r.currentUser,i=r.selfDeaf,l=r.selfMute,s=r.serverMute,f=r.serverDeaf,d=r.suppress,c=r.dismissibleContents,p=this.state.shouldShowSpeakingWhileMutedTooltip;if(null==a)return null;var v=l||d||s,y=i||f;return he("div",{className:de.default.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,he(b.default,{contentTypes:c.avatar},void 0,(function(e){var t=e.content,r=e.markAsDismissed,a=he(C.default,{markAsDismissed:r});return t===u.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP?he(W.default,{position:W.default.Positions.TOP,shouldShow:!0,renderPopout:function(){return a}},void 0,(function(){return n.renderAvatarWithPopout()})):n.renderAvatarWithPopout()})),this.renderNameTag(),he(x.default,{grow:0},void 0,he(Q.default,{tooltipText:p?fe.default.Messages.ACCOUNT_SPEAKING_WHILE_MUTED:(0,_.default)(l,s,d),tooltipColor:p?B.TooltipColors.GREEN:void 0,tooltipForceOpen:p||void 0,onMouseEnter:this.handleMouseEnterMute,
onMouseLeave:this.handleMouseLeaveMute,icon:v?Z.default:q.default,iconForeground:v?de.default.strikethrough:null,onClick:this.handleToggleSelfMute,innerClassName:(0,o.default)((e={},e[de.default.redIcon]=s||d,e)),onContextMenu:this.handleInputAudioContextMenu,role:"switch","aria-label":fe.default.Messages.MUTE,"aria-checked":v}),he(Q.default,{tooltipText:(0,m.default)(i,f),icon:i?$.default:Y.default,onClick:this.handleToggleSelfDeaf,onContextMenu:this.handleOutputAudioContextMenu,innerClassName:(0,o.default)((t={},t[de.default.redIcon]=f,t)),iconForeground:y?de.default.strikethrough:null,role:"switch","aria-label":fe.default.Messages.DEAFEN,"aria-checked":y}),he(b.default,{contentTypes:c.settings},void 0,(function(e){var t=e.content,r=e.markAsDismissed,a=he(ue.default,{markAsDismissed:r});return t===u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION?he(W.default,{position:W.default.Positions.TOP,shouldShow:!0,renderPopout:function(){return a}},void 0,(function(){
return n.renderSettingsGear()})):n.renderSettingsGear()}))))};!function(e,t,n){t&&Ee(e.prototype,t);n&&Ee(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isCopiedStreakGodlike",get:function(){return this.state.copiedStreak>=10}}]);return t}(a.PureComponent);be.displayName="Account";function Ie(){var e=(0,i.useStateFromStores)([U.default],(function(){return U.default.getCurrentUser()})),t=null==e?void 0:e.id,n=(0,i.useStateFromStores)([k.default],(function(){return k.default.customStatus})),r=a.useMemo((function(){return null!=n?(0,S.default)(n):null}),[n]),o=(0,i.useStateFromStoresObject)([D.default],(function(){return{streaming:null!=D.default.findActivity((function(e){return e.type===le.ActivityTypes.STREAMING})),status:D.default.getStatus()}})),s=o.streaming,f=o.status,d=(0,i.useStateFromStores)([L.default],(function(){return null!=t&&L.default.isSpeaking(t)}),[t]),c=(0,i.useStateFromStores)([j.default],(function(){return j.default.hidePersonalInformation})),p=(0,
i.useStateFromStores)([w.default,P.default],(function(){var e=w.default.getChannelId();return null!=e?P.default.getChannel(e):null})),m=(0,A.default)(p),_=m.mute,g=m.selfMute,E=m.suppress,O=(0,T.default)(p),b=O.selfDeaf,C=O.deaf,F=(0,i.useStateFromStores)([y.default],(function(){var e;return(0,h.probablyHasBuildOverride)()?null===(e=y.default.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null})),x=(0,i.useStateFromStores)([G.default],(function(){return G.default.getPremiumTypeSubscription()})),V=(0,i.useStateFromStores)([R.default],(function(){return R.default.getEverSpeakingWhileMuted()})),W=(0,i.useStateFromStores)([M.default],(function(){return null!=M.default.getAccount(null,le.PlatformTypes.PLAYSTATION)})),H=(0,i.useStateFromStores)([N.default],(function(){return N.default.hasLayers()})),B=(0,X.useModalsStore)(X.hasAnyModalOpenSelector)||H||ae.ProcessArgs.isDisallowPopupsSet();a.useEffect((function(){I.default.trackExposure({})}))
;var z=I.default.useExperiment({}),Y=z.isMultiAccountEnabled,$=z.disableMultiAccount,K=v.default.useExperiment({}).coachMarkEnabled,q={avatar:[],settings:[]};B||null!=l.default.get(se.MULTIACCOUNT_TOOLTIP_SEEN_KEY)||!Y||$||q.avatar.push(u.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP);B||!K||W||q.settings.push(u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION);return he(be,{hidePrivateData:c,currentUser:e,selfMute:g,serverMute:_,suppress:E,serverDeaf:C,selfDeaf:b,status:f,speaking:d,streaming:s,customStatusActivity:r,webBuildOverride:F,premiumSubscription:x,speakingWhileMuted:V,occluded:B,dismissibleContents:q})}Ie.displayName="AccountConnected"},1483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(155502)),i=p(n(754416)),u=p(n(956117)),l=p(n(776360)),s=p(n(308920)),f=n(770348),d=p(n(247001)),c=p(n(573438));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){e()
;s.default.track(f.AnalyticEvents.UPSELL_CLICKED,{type:"account_connect_playstation_tooltip",action:"dismiss"})}function m(e){var t=e.markAsDismissed;a.useEffect((function(){s.default.track(f.AnalyticEvents.UPSELL_VIEWED,{type:"account_connect_playstation_tooltip"})}),[]);a.useEffect((function(){function e(e){e.keyCode===f.KeyboardKeys.ESCAPE&&h(t)}window.addEventListener("keydown",e);return function(){window.removeEventListener("keydown",e)}}),[t]);var n=a.useCallback((function(){(0,i.default)(f.PlatformTypes.PLAYSTATION,"Playstation Upsell");h(t)}),[t]);return y("div",{className:c.default.container},void 0,y("div",{className:c.default.image}),y(l.default,{className:c.default.title},void 0,d.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:o.default.get(f.PlatformTypes.PLAYSTATION).name})),y(l.default,{size:l.default.Sizes.SIZE_14,className:c.default.subTitle},void 0,d.default.Messages.PLAYSTATION_CONNECT_DESCRIPTION),y(u.default,{look:u.default.Looks.INVERTED,
fullWidth:!0,onClick:n},void 0,d.default.Messages.CONNECT),y(u.default,{color:u.default.Colors.WHITE,look:u.default.Looks.LINK,fullWidth:!0,onClick:function(){return h(t)}},void 0,d.default.Messages.NO_THANKS),y("div",{className:c.default.pointer}))}m.displayName="AccountConnectPlayStationTooltip"},52505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=_(n(496486)),i=_(n(536211)),u=n(378158),l=_(n(913914)),s=_(n(922340)),f=_(n(146411)),d=_(n(414068)),c=_(n(330445)),p=_(n(290629)),v=_(n(728429)),y=_(n(251689)),h=n(71246),m=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return S.apply(this,arguments)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).handleUserContextMenu=function(e,t){(0,u.openContextMenuLazy)(e,b(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default
;return e.abrupt("return",(function(e){return a.createElement(o,S({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))))};t.renderOverflowPopout=function(){var e=t.props.party;return E(l.default,{party:e,header:m.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:e.length})})};return t}var r=t.prototype;r.hasParty=function(e){return e.length>1};r.handleStopListening=function(){(0,s.default)()};r.renderUserPopout=function(e,t){return a.createElement(d.default,S({},e,{userId:t.id}))};r.render=function(){var e=this.props,t=e.currentUser,n=e.host,r=e.party;return this.hasParty(r)&&null!=t?E(y.default,{currentUser:t,host:n,party:r,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null};return t}(a.PureComponent);C.displayName="ListeningAlong";var T=i.default.connectStores([f.default,v.default,p.default,c.default],(function(){
var e,t,n=f.default.getSyncingWith(),r=f.default.getActivity(),a=v.default.getCurrentUser(),i=[];if(null!=n){e=v.default.getUser(n.userId);t=n.partyId}else if(null!=r&&null!=r.party&&null!=r.party.id){e=a;t=r.party.id}if(null!=t){var u;i=(0,o.default)(Array.from(null!==(u=c.default.getParty(t))&&void 0!==u?u:[])).map((function(e){return v.default.getUser(e)})).filter(h.isNotNullish).orderBy([function(t){return null==e||e.id===t.id},function(e){return p.default.isFriend(e.id)}],["desc","desc"]).value()}return{currentUser:a,host:e,party:i}}))(C);t.default=T},883901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=We(n(667294)),o=xe(n(294184)),i=xe(n(441143)),u=n(473727),l=n(536211),s=n(923387),f=xe(n(740207)),d=n(378158),c=xe(n(505437)),p=We(n(712283)),v=xe(n(367734)),y=xe(n(257175)),h=n(556470),m=n(678164),_=n(746920),g=We(n(303798)),E=n(186096),S=xe(n(198016)),O=xe(n(62954)),b=n(245546),I=xe(n(818994)),C=xe(n(932018)),T=n(678928),A=xe(n(305081)),P=xe(n(314234)),M=xe(n(379310)),N=xe(n(908921)),R=xe(n(118978)),w=xe(n(68094)),D=We(n(278352)),L=xe(n(652566)),j=n(139982),k=xe(n(915188)),U=xe(n(897191)),G=n(921867),F=n(894826),x=xe(n(373115)),V=xe(n(431388)),W=xe(n(770404)),H=We(n(336940)),B=xe(n(493051)),z=xe(n(602824)),Y=xe(n(310261)),$=xe(n(30269)),K=xe(n(960401)),q=n(645675),Z=xe(n(686305)),X=xe(n(607209)),Q=xe(n(644263)),J=xe(n(30098)),ee=xe(n(122913)),te=xe(n(635014)),ne=xe(n(689389)),re=xe(n(893160)),ae=xe(n(290629)),oe=xe(n(728429)),ie=xe(n(387692)),ue=xe(n(487372)),le=xe(n(151097)),se=xe(n(956117)),fe=xe(n(530250)),de=n(728526),ce=xe(n(160629)),pe=xe(n(567668)),ve=xe(n(730977)),ye=We(n(662197)),he=xe(n(79027)),me=xe(n(26285)),_e=xe(n(400217)),ge=xe(n(250003)),Ee=xe(n(952117)),Se=xe(n(139574)),Oe=xe(n(902060)),be=xe(n(971639)),Ie=xe(n(776360)),Ce=xe(n(308920)),Te=xe(n(550270)),Ae=n(873838),Pe=xe(n(547636)),Me=xe(n(529025)),Ne=n(770348),Re=n(439142),we=xe(n(247001)),De=xe(n(444013)),Le=xe(n(380203)),je=["unavailable","active","label","iconComponent"],ke=["onClick"],Ue=["onClick"],Ge=["onClick"],Fe=["guildId","channelId"]
;function xe(e){return e&&e.__esModule?e:{default:e}}function Ve(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ve=function(e){return e?n:t})(e)}function We(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Ve(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function He(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Be(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){He(o,r,a,i,u,"next",e)}function u(e){He(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ze(e,t){
ze=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ze(e,t)}function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(){Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ke.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function Ze(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Xe(e){var t=e.currentTarget;Ce.default.track(Ne.AnalyticEvents.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,
location:{section:Ne.AnalyticsSections.NOISE_CANCELLATION_POPOUT}})}function Qe(){var e=a.useRef(null);(0,de.useFocusLock)(e);a.useEffect((function(){return Ce.default.track(Ne.AnalyticEvents.OPEN_POPOUT,{type:Ne.AnalyticsSections.NOISE_CANCELLATION_POPOUT})}),[]);var t=(0,l.useStateFromStores)([te.default],(function(){return te.default.getNoiseCancellation()}));return a.createElement("div",{ref:e,className:De.default.noiseCancellationPopout},Ze(pe.default,{hideBorder:!0,className:Le.default.marginBottom4,value:t,onChange:function(){return f.default.setNoiseCancellation(!t,{section:Ne.AnalyticsSections.NOISE_CANCELLATION_POPOUT})},note:we.default.Messages.NOISE_CANCELLATION_POPOUT_DESCRIPTION},void 0,we.default.Messages.NOISE_CANCELLATION_POPOUT_HEADER),Ze(p.default,{title:we.default.Messages.NOISE_CANCELLATION_POPOUT_MIC_TEST_TITLE,notchBackground:p.NotchBackground.BLACK,buttonTest:we.default.Messages.NOISE_CANCELLATION_POPOUT_TEST,
buttonStop:we.default.Messages.NOISE_CANCELLATION_POPOUT_STOP,buttonClassName:De.default.micTestButton,buttonColor:se.default.Colors.GREY,location:{section:Ne.AnalyticsSections.NOISE_CANCELLATION_POPOUT}}),Ze(ye.default,{tag:ye.Tags.H5,className:(0,o.default)(Le.default.marginBottom8,Le.default.marginTop20)},void 0,we.default.Messages.NOISE_CANCELLATION_POPOUT_FOOTER),Ze(fe.default,{justify:fe.default.Justify.BETWEEN,className:De.default.footer},void 0,Ze(le.default,{href:Ne.MarketingURLs.KRISP,onClick:function(e){return Xe(e)}},void 0,Ze("div",{className:De.default.krispLogo})),Ze(le.default,{href:Te.default.getArticleURL(Ne.HelpdeskArticles.NOISE_SUPPRESSION),className:De.default.krispLink,onClick:function(e){return Xe(e)}},void 0,we.default.Messages.LEARN_MORE)))}Qe.displayName="NoiseCancellationPopout";function Je(e){var t,n=e.channel,r=(0,x.default)(),i=(0,W.default)(n),u=n.getGuildId(),s=(0,S.default)(u),d=(0,l.useStateFromStoresObject)([g.default],(function(){
return null!=g.default.getSelfEmbeddedActivityForChannel(n.id)})),c=k.default.useExperiment({guildId:null!=u?u:""}).allowSoundboard,p=(0,V.default)(n),v=p.reachedLimit,y=p.limit,h=a.useCallback((function(){(0,B.default)()}),[]),m=a.useContext(I.default),_=a.useCallback((function(e){if(te.default.isVideoEnabled()!==e){var t=function(){var t;f.default.setVideoEnabled(e);e&&(0,j.transitionTo)(Ne.Routes.CHANNEL(null!==(t=n.getGuildId())&&void 0!==t?t:Ne.ME,n.id))};e?(0,$.default)(t,m):t()}}),[n,m]),E=d||s||c,O=Ze(he.default,{className:(0,o.default)(De.default.buttonIcon,(t={},t[De.default.withText]=!E,t))});return a.createElement(q.VideoButtonWrapper,Ke({onChange:_,onCameraUnavailable:h,hasPermission:i,channelLimit:y,channelLimitReached:v},r),(function(e){var t=e.unavailable,n=e.active,r=e.label,i=(e.iconComponent,qe(e,je));return Ze(ce.default,{renderPopout:function(e){var t=e.closePopout;return Ze(C.default,{onClose:t})},position:ce.default.Positions.TOP,align:ce.default.Align.CENTER,
animation:ce.default.Animation.FADE},void 0,(function(e,u){var l=u.isShown,s=e.onClick,f=qe(e,ke);return Ze(ve.default,{text:r},void 0,(function(e){var r;return a.createElement(se.default,Ke({},i,e,f,{onClick:function(t){var n;i.onClick(t);null===(n=e.onClick)||void 0===n||n.call(e);l&&s(t)},onContextMenu:function(t){var n;s(t);null===(n=e.onContextMenu)||void 0===n||n.call(e)},size:se.default.Sizes.SMALL,className:(0,o.default)(De.default.button,De.default.buttonColor,(r={},r[De.default.buttonActive]=n,r[De.default.fauxDisabled]=t,r[De.default.disabled]=i.disabled,r)),wrapperClassName:De.default.button}),E?O:Ze(fe.default,{align:fe.default.Align.CENTER},void 0,O,we.default.Messages.VIDEO))}))}))}))}Je.displayName="ConnectedVideoButton";var et=Ze(b.FreeActivityIndicatorDot,{top:-1,right:-1});function tt(e){var t=e.channel,n=t.getGuildId(),r=(0,S.default)(n)&&null!=n;(0,m.useActivitiesRolloutExperiments)(n);var i=(0,l.useStateFromStores)([ne.default],(function(){
return ne.default.can(Ne.Permissions.USE_EMBEDDED_ACTIVITIES,t)}),[t]),u=Ye((0,l.useStateFromStores)([g.default],(function(){return null!=t.id&&""!==t.id?g.default.getEmbeddedActivitiesForChannel(t.id):g.NO_ACTIVITIES})),1)[0],s=(0,l.useStateFromStoresObject)([g.default],(function(){return{userInActivity:null!=g.default.getSelfEmbeddedActivityForChannel(t.id)}})).userInActivity,f=(0,h.useAnalyticsContext)();a.useEffect((function(){n&&(0,_.fetchEmbeddedActivities)(n)}),[n]);var d=(0,E.useFreeActivityIndicator)({guildId:n}),c=!i,p=i?we.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY:we.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS;return r?Ze(ce.default,{renderPopout:function(e){var n=e.closePopout;return Ze(O.default,{channel:t,onClose:n,locationObject:f.location})},position:ce.default.Positions.TOP,align:ce.default.Align.CENTER,animation:ce.default.Animation.FADE},void 0,(function(e){var t=e.onClick,n=qe(e,Ue);return Ze(ve.default,{text:p},void 0,(function(e){var r
;return a.createElement(se.default,Ke({},e,n,{fullWidth:!0,size:se.default.Sizes.SMALL,onClick:function(n){var r;t(n);null===(r=e.onClick)||void 0===r||r.call(e)},disabled:c,className:(0,o.default)(De.default.button,De.default.buttonColor,(r={},r[De.default.buttonActive]=s||null!=u,r[De.default.disabled]=c,r)),wrapperClassName:De.default.button}),d?et:null,Ze(ge.default,{className:De.default.buttonIcon}))}))})):null}tt.displayName="ConnectedActivityButton";function nt(e){var t,n,r=e.channel,i=e.canGoLive,u=(0,l.useStateFromStores)([oe.default],(function(){return oe.default.getCurrentUser()})),s=(0,l.useStateFromStoresArray)([X.default],(function(){return X.default.getAllActiveStreams()})),f=(0,W.default)(r),d=r.getGuildId(),c=(0,S.default)(d),p=(0,l.useStateFromStoresObject)([g.default],(function(){return null!=g.default.getSelfEmbeddedActivityForChannel(r.id)})),v=k.default.useExperiment({guildId:null!=d?d:""}).allowSoundboard,y=a.useCallback((function(){(0,
Y.default)(d,r.id,Ne.AnalyticsSections.ACTIVITY_PANEL)}),[d,r.id]),h=s.find((function(e){return e.ownerId===(null==u?void 0:u.id)})),m=(0,H.useOtherStreams)(r,u,s);n=null==h?i?y:z.default:function(){return(0,N.default)(h)};var _=null!=h||m.length>0,E=f?we.default.Messages.SHARE_YOUR_SCREEN:we.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE,O=!f,b=p||c||v,I=Ze(Ee.default,{className:(0,o.default)(De.default.buttonIcon,(t={},t[De.default.withText]=!b,t))});return Ze(ce.default,{renderPopout:function(e){var t=e.closePopout;return Ze(H.default,{channel:r,currentUser:u,activeStreams:s,onClose:t,handleGoLive:i?y:z.default})},position:ce.default.Positions.TOP,align:ce.default.Align.CENTER,animation:ce.default.Animation.FADE},void 0,(function(e){var t=e.onClick,r=qe(e,Ge);return Ze(ve.default,{text:E},void 0,(function(e){var i;return a.createElement(se.default,Ke({},e,{size:se.default.Sizes.SMALL,onClick:function(r){var a;_?t(r):n()
;null===(a=e.onClick)||void 0===a||a.call(e)},disabled:O,className:(0,o.default)(De.default.button,De.default.buttonColor,(i={},i[De.default.buttonActive]=null!=h,i[De.default.disabled]=O,i))},_?r:null,{wrapperClassName:De.default.button}),b?I:Ze(fe.default,{align:fe.default.Align.CENTER},void 0,I,we.default.Messages.GO_LIVE_SHARE_SCREEN))}))}))}nt.displayName="ConnectedStreamButton";var rt=Ze(Qe,{}),at=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ze(e,t)}(t,e);function t(){for(var t,r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];(t=e.call.apply(e,[this].concat(u))||this).canScreenshare=function(){var e=t.props,n=e.channel;return e.canGoLive&&null!=n&&null!=n.getGuildId()};t.handleNoiseCancellationClicked=function(){var e=t.props.noiseCancellationActive;f.default.setNoiseCancellation(!e,{section:Ne.AnalyticsSections.NOISE_CANCELLATION_POPOUT})};t.handleGoLive=function(){
var e=t.props,n=e.guild,r=e.channel,a=null!=r?r.getGuildId():null!=n?n.id:null;null!=a&&(0,Y.default)(a,r.id,Ne.AnalyticsLocations.VOICE_PANEL)};t.handleChannelLinkClick=function(e){var n,r=t.props,a=r.guild,o=r.channel;(0,i.default)(null!=o,"Channel is null during navigation click");e.stopPropagation();c.default.channelListScrollTo(null!==(n=null==a?void 0:a.id)&&void 0!==n?n:Ne.ME,o.id)};t.handleChannelLinkContextMenu=function(e){var r=t.props.channel;(0,d.openContextMenuLazy)(e,Be(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7771).then(n.bind(n,7771));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Ke({},e,{channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleCloseVoicePanelIntroduction=function(){D.hideHotspot(Re.HotspotLocations.VOICE_PANEL_INTRODUCTION)};t.renderVoicePanelIntroduction=function(){return Ze("div",{
className:(0,o.default)(De.default.voicePanelIntroductionWrapper,"theme-light")},void 0,Ze(be.default,{className:De.default.voicePanelIntroductionHeader,size:be.default.Sizes.SIZE_16},void 0,we.default.Messages.VOICE_PANEL_INTRODUCTION_HEADER),Ze(Ie.default,{className:De.default.voicePanelIntroductionText,size:Ie.default.Sizes.SIZE_14},void 0,we.default.Messages.VOICE_PANEL_INTRODUCTION_TEXT),Ze(se.default,{className:De.default.voicePanelIntroductionButton,color:se.default.Colors.BRAND,onClick:t.handleCloseVoicePanelIntroduction},void 0,we.default.Messages.VOICE_PANEL_INTRODUCTION_CLOSE))};return t}var r=t.prototype;r.renderConnectionStatus=function(){var e=this.props,t=e.channel,n=e.guild,r=e.rtcConnectionQuality,a=e.rtcConnectionState,o=e.rtcConnectionLastPing,i=e.hasVideo;if(null==t)return null;var l,s=(0,T.computeChannelName)(t,oe.default,ae.default,!0);if(null!=n){l=Ne.Routes.CHANNEL(n.id,t.id);s=s+" / "+n.name}else l=Ne.Routes.CHANNEL(Ne.ME,t.id);return Ze(v.default,{
statusTextClassName:De.default.statusWithPopout,quality:r,state:a,lastPing:o,hasVideo:i},void 0,Ze(P.default,{},void 0,Ze(u.Link,{to:l,onClick:this.handleChannelLinkClick,onContextMenu:this.handleChannelLinkContextMenu},void 0,Ze(Oe.default,{className:De.default.channel},void 0,s))))};r.renderNoiseCancellation=function(){var e=this.props,t=e.noiseCancellationActive,n=e.noiseCancellationError;return!e.hasLayers&&n?Ze(ve.default,{text:we.default.Messages.NOISE_CANCELLATION_CPU_OVERUSE,tooltipClassName:De.default.noiseCancellationTooltip,forceOpen:!0},void 0,(function(e){var t=e["aria-label"];return Ze(Se.default,{"aria-label":t,tooltipText:null,disabled:!0,icon:_e.default})})):Ze(ce.default,{position:ce.default.Positions.TOP,align:ce.default.Align.CENTER,renderPopout:function(){return rt}},"krisp-popout",(function(e,n){var r=n.isShown;return a.createElement(Se.default,Ke({},e,{tooltipClassName:De.default.noiseCancellationTooltip,
tooltipText:r?null:we.default.Messages.NOISE_CANCELLATION_TOOLTIP,icon:t?me.default:_e.default}))}))};r.renderVoiceStates=function(){var e=this.props,t=e.channel,n=e.voiceStates,r=e.showVoiceStates;return null!=t&&r&&0!==n.length?Ze(Me.default,{voiceStates:n,channel:t,className:De.default.voiceUsers}):null};r.renderChannelButtons=function(){var e=this.props,t=e.channel,n=e.canGoLive,r=e.canUseSoundboard;return null==t||t.type===Ne.ChannelTypes.GUILD_STAGE_VOICE?null:Ze("div",{className:De.default.actionButtons},void 0,Ze(Je,{channel:t}),Ze(nt,{channel:t,canGoLive:n}),Ze(tt,{channel:t}),r?Ze(K.default,{className:(0,o.default)(De.default.button,De.default.buttonColor),iconClassName:De.default.buttonIcon,channel:t}):null)};r.render=function(){var e=this,t=this.props,n=t.channel,r=t.enableAudioQualityUpsell,a=t.guild,o=t.noiseCancellationSupported,i=t.shouldShowVoicePanelIntroduction;if(null==n)return null;var u=Ze(Pe.default,{channel:n}),l=Ze(ce.default,{
renderPopout:this.renderVoicePanelIntroduction,position:ce.default.Positions.TOP,align:ce.default.Align.CENTER,animation:ce.default.Animation.TRANSLATE,shouldShow:i},void 0,(function(){return Ze("div",{className:De.default.container},void 0,Ze(fe.default,{className:De.default.connection,align:fe.default.Align.CENTER},void 0,Ze("div",{className:De.default.inner},void 0,e.renderConnectionStatus()),Ze(fe.default,{grow:0,shrink:0},void 0,o?e.renderNoiseCancellation():null,u)),e.renderVoiceStates(),e.renderChannelButtons())})),f=r&&null!=a&&a.premiumTier<Ne.BoostedGuildTiers.TIER_3,d=Ze(w.default,{guild:a},void 0,l);return Ze(A.default,{contentTypes:[s.DismissibleContent.VOICE_QUALITY_BOOSTING_UPSELL_TOOLTIP]},void 0,(function(e){return e.content===s.DismissibleContent.VOICE_QUALITY_BOOSTING_UPSELL_TOOLTIP&&f?d:l}))};return t}(a.PureComponent);at.displayName="RTCConnection";function ot(e){var t=(0,l.useStateFromStores)([oe.default],(function(){return oe.default.getCurrentUser()})),n=(0,
l.useStateFromStoresObject)([re.default],(function(){return{guildId:re.default.getGuildId(),channelId:re.default.getChannelId(),rtcConnectionQuality:re.default.getQuality(),rtcConnectionState:re.default.getState(),rtcConnectionLastPing:re.default.getLastPing(),rtcConnectionConnected:re.default.isConnected()}})),r=n.guildId,o=n.channelId,i=qe(n,Fe),u=(0,l.useStateFromStores)([J.default],(function(){return J.default.getGuild(r)}),[r]),s=(0,l.useStateFromStores)([Q.default],(function(){return Q.default.getChannel(o)}),[o]),f=(0,l.useStateFromStoresObject)([te.default],(function(){return{noiseCancellationSupported:te.default.isNoiseCancellationSupported(),noiseCancellationActive:te.default.getNoiseCancellation(),noiseCancellationError:te.default.isNoiseCancellationError(),canGoLive:(0,M.default)(te.default)}})),d=(0,l.useStateFromStores)([te.default,L.default],(function(){return L.default.hasHotspot(Re.HotspotLocations.VOICE_PANEL_INTRODUCTION)&&(0,
Ae.isNewUser)(t)&&!te.default.isInteractionRequired()&&!(null==s?void 0:s.isGuildStageVoice())})),c=(0,l.useStateFromStores)([ie.default],(function(){return null!=o&&ie.default.hasVideo(o)}),[o]),p=(0,l.useStateFromStores)([X.default],(function(){return null!=t?X.default.getActiveStreamForUser(t.id):null}),[t]),v=(0,l.useStateFromStores)([ee.default],(function(){return ee.default.hasLayers()})),y=(0,l.useStateFromStores)([Z.default],(function(){return Z.default.isViewingRoles(r)})),h=(0,l.useStateFromStores)([ne.default],(function(){return y&&!ne.default.can(Ne.Permissions.VIEW_CHANNEL,s)}),[y,s]),m=F.RtcPanelShowVoiceStates.useSetting(),_=Ye((0,l.useStateFromStoresArray)([ue.default,U.default],(function(){return(null==s?void 0:s.isGuildStageVoice())?[U.default.getMutableParticipants(s.id,G.StageChannelParticipantNamedIndex.SPEAKER),U.default.getParticipantsVersion(s.id),null]:[null,null,null!=s?ue.default.getVoiceStatesForChannel(s):null]
}),[s]),3),g=_[0],E=_[1],S=_[2],O=a.useMemo((function(){var e,t;return null!==(e=null!==(t=null==g?void 0:g.map((function(e){return{user:e.user,nick:e.userNick,voiceState:e.voiceState}})))&&void 0!==t?t:S)&&void 0!==e?e:[]}),[g,E,S]),b=Ye(a.useState(!1),2),I=b[0],C=b[1];a.useEffect((function(){(y||h)&&C(!1)}),[y,h,C]);var T=(0,R.default)(null!=r?r:"").enableAudioQualityUpsell,A=k.default.useExperiment({guildId:null!=r?r:""},{autoTrackExposure:!0}).allowSoundboard;return Ze("div",{className:De.default.wrapper},void 0,a.createElement(at,Ke({},e,f,i,{guild:u,channel:s,hasVideo:c,selfStream:p,hasLayers:v,voiceStates:O,showVoiceStates:m,shouldShowVoicePanelIntroduction:d,enableAudioQualityUpsell:T,canUseSoundboard:A})),!I&&y&&null!=r?Ze("div",{className:De.default.viewAsRolesWarning},void 0,Ze(Ie.default,{size:Ie.default.Sizes.SIZE_14,className:De.default.viewAsRolesWarningText
},void 0,h?we.default.Messages.VIEW_AS_ROLES_HIDDEN_VC_WARNING:we.default.Messages.VIEW_AS_ROLES_VOICE_WARNING),Ze(se.default,{className:De.default.viewAsRolesWarningButton,size:se.default.Sizes.MIN,onClick:function(){C(!0)}},void 0,we.default.Messages.DISMISS)):null)}ot.displayName="ConnectedRTCConnection";var it=(0,y.default)(ot);t.default=it},547636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel;return t.isGuildStageVoice()?y(h,{channel:t}):y(m,{channel:t})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=p(n(136873)),o=n(452453),i=p(n(435903)),u=n(559133),l=p(n(913687)),s=p(n(331546)),f=p(n(233121)),d=p(n(139574)),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.channel;return y(d.default,{tooltipText:c.default.Messages.STAGE_CHANNEL_LEAVE_BUTTON,onClick:function(){(0,l.default)(t)?(0,u.openEndStageModal)(t):a.default.disconnect()},icon:f.default})}h.displayName="DisconnectStageButton"
;function m(e){var t=e.channel;return y(d.default,{tooltipText:c.default.Messages.DISCONNECT_SELF,onClick:function(){(0,i.default)(t)?(0,o.openEndEventModal)(t):a.default.disconnect()},icon:s.default})}m.displayName="DisconnectVoiceButton"},529025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=U;var r,a=C(n(667294)),o=b(n(294184)),i=n(536211),u=n(378158),l=b(n(711195)),s=b(n(414068)),f=b(n(423046)),d=b(n(397228)),c=C(n(219849)),p=b(n(16941)),v=b(n(160629)),y=b(n(730977)),h=b(n(324582)),m=b(n(287317)),_=b(n(155393)),g=b(n(485308)),E=b(n(582945)),S=b(n(247001)),O=b(n(270711));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}var D={offset:2},L={serverDeaf:{icon:h.default,colorize:!0,getStatus:function(){return S.default.Messages.SERVER_DEAFENED}},serverMute:{icon:m.default,colorize:!0,getStatus:function(){return S.default.Messages.SERVER_MUTED}},deaf:{icon:h.default,colorize:!1,getStatus:function(){return S.default.Messages.VOICE_CHANNEL_DEAFENED}},mute:{icon:m.default,colorize:!1,getStatus:function(){return S.default.Messages.VOICE_CHANNEL_MUTED}}};function j(e){var t,r,f=e.channel,c=e.user,h=e.nick,m=e.mute,_=e.deaf,g=e.serverMute,E=e.serverDeaf,b=(0,i.useStateFromStores)([d.default],(function(){return d.default.isSpeaking(c.id)||d.default.isSoundSharing(c.id)
}),[c.id]),I=null!==(t=f.getGuildId())&&void 0!==t?t:void 0,C=c.getAvatarURL(f.guild_id,24),T=null!=h?h:c.username,A=null!==(r=E?L.serverDeaf:_?L.deaf:g?L.serverMute:m?L.mute:void 0)&&void 0!==r?r:{},P=A.icon,R=A.colorize,j=A.getStatus,k=null!=j?S.default.Messages.VOICE_PANEL_USER_TOOLTIP.format({userName:T,status:j()}):T;function U(e){null!=I?(0,u.openContextMenuLazy)(e,w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(41501),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{user:c,guildId:I,channelId:f.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)})))):(0,u.openContextMenuLazy)(e,w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{user:c,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))}return M(v.default,{preload:function(){return(0,l.default)(c.id,c.getAvatarURL(I,80),{guildId:I})},position:v.default.Positions.TOP,renderPopout:function(e){return a.createElement(s.default,N({userId:c.id,guildId:I,channelId:f.id},e))}},void 0,(function(e){return M(y.default,{text:k},void 0,(function(t){var n,r;return a.createElement(p.default,N({},t,e,{className:O.default.avatarContainer,onContextMenu:U,focusProps:D}),M("div",{className:(0,o.default)(O.default.avatar,(n={},n[O.default.speaking]=b,n)),style:{backgroundImage:"url("+C+")"}},void 0,null!=P?M(P,{className:(0,o.default)(O.default.avatarIconOverlay,(r={},r[O.default.avatarIconRed]=R,r)),width:16,height:16,foreground:O.default.avatarIconRed}):null))}))}))}j.displayName="User"
;function k(e,t){for(var n,r=[],a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(n=a()).done;){var o=n.value;if(o.user.id!==t){if(r.length>=7)return[r,!0];r.push(o)}}return[r,!1]}function U(e){var t=e.voiceStates,n=e.channel,r=e.className,u=T(a.useState(!1),2),l=u[0],s=u[1],d=l?g.default:_.default,p=M(c.default,{className:O.default.expandButton,onClick:function(){return s(!l)},color:c.CircleIconButtonColors.PRIMARY,size:c.CircleIconButtonSizes.SIZE_24,tooltip:l?S.default.Messages.VOICE_PANEL_HIDE_EXTRAS:S.default.Messages.VOICE_PANEL_SHOW_EXTRAS,icon:M(d,{width:16,height:16}),focusProps:D}),v=(0,
i.useStateFromStores)([f.default],(function(){return f.default.getId()}),[]),y=T(k(t,v),2),h=y[0],m=y[1],b=m&&l?t:h;return b.length<=0?null:M(E.default,{className:(0,o.default)(O.default.scroller,r),fade:!0},void 0,M("div",{className:O.default.voiceUsers,role:"group","aria-label":S.default.Messages.VOICE_PANEL_USERS_A11Y_LABEL},void 0,b.map((function(e){var t=e.user,r=e.nick,a=e.voiceState;return t.id!==v?M(j,{channel:n,user:t,nick:r,mute:a.isVoiceMuted(),deaf:a.isVoiceDeafened(),video:a.selfVideo,serverMute:a.mute,serverDeaf:a.deaf},t.id):null})),m?p:null))}U.displayName="RTCConnectionVoiceUsers"},913914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(378158),i=d(n(252149)),u=d(n(530250)),l=d(n(628551)),s=d(n(582945)),f=d(n(827955));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.handleContextMenu=function(e,t){(0,o.openContextMenuLazy)(e,h(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,v({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.renderUser=function(e){var t=this;return null==e?null:p(u.default,{className:f.default.user,align:u.default.Align.CENTER,onContextMenu:function(n){null!=e&&t.handleContextMenu(n,e)}},e.id,p(l.default,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:l.default.Sizes.SIZE_24,className:f.default.avatar}),p(i.default,{user:e,className:f.default.tag,usernameClass:f.default.username,discriminatorClass:f.default.discriminator}))};r.render=function(){var e=this,t=this.props,n=t.party,r=t.header,a=n.map((function(t){return e.renderUser(t)}));return p("div",{className:f.default.userList},void 0,p("div",{className:f.default.header},void 0,r),p(s.default,{className:f.default.content,fade:!0},void 0,a))};return t}(a.PureComponent)
;_.displayName="UserListPopout";var g=_;t.default=g},805918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=E(n(572935)),u=n(678928),l=n(687549),s=E(n(178504)),f=E(n(122913)),d=E(n(689389)),c=E(n(290629)),p=E(n(728429)),v=n(956506),y=n(247726),h=E(n(40049)),m=n(997988),_=n(770348),g=E(n(247001));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}
function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.className,n=e.style,r=e.channel,E=e.draftType,S=b(a.useState(!0),2),I=S[0],C=S[1],T=(0,o.useStateFromStores)([f.default],(function(){return f.default.hasLayers()})),A=(0,o.useStateFromStores)([d.default],(function(){return null!=r&&d.default.can(_.Permissions.ATTACH_FILES,r)}),[r]),P=null!=(0,o.useStateFromStores)([i.default],(function(){return i.default.getActiveCommand(r.id)})),M=r.getGuildId(),N=E===l.DraftType.FirstThreadMessage,R=a.useMemo((function(){return!T&&(r.isPrivate()&&!r.isManaged()||null!=M&&A&&s.default.canChatInGuild(M))
}),[A,r,M,T]),w=N?g.default.Messages.UPLOAD_TO_NEW_THREAD:I?g.default.Messages.UPLOAD_TO.format({destination:(0,u.computeChannelName)(r,p.default,c.default,!0)}):g.default.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION;return P||!R?null:O(h.default,{className:t,style:n,title:w,description:N?g.default.Messages.UPLOAD_AREA_NEW_THREAD_HELP:g.default.Messages.UPLOAD_AREA_HELP,icons:m.DEFAULT_FILE_UPLOAD_ICONS,onDrop:function(e){if(P)return!1;if(R&&null!=r){(0,y.promptToUpload)(e,r,E,{requireConfirm:I,showLargeMessageDialog:!1});v.ComponentDispatch.dispatch(_.ComponentActions.TEXTAREA_FOCUS)}},onDragClear:function(){return C(!0)},onDragOver:function(e){if(P)return!1;N||e.shiftKey!==I||C(!e.shiftKey)}})}C.displayName="ChannelUploadArea";var T=C;t.default=T},285209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(441143)),i=n(536211),u=v(n(939949)),l=n(825185),s=n(914905),f=v(n(816624)),d=v(n(728429)),c=v(n(784241)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.transitionState,n=e.onClose,r=(0,i.useStateFromStores)([f.default],(function(){return f.default.getErrors()})),v=(0,i.useStateFromStores)([f.default],(function(){return f.default.getFormState()})),y=(0,i.useStateFromStores)([d.default],(function(){var e=d.default.getCurrentUser();(0,o.default)(null!=e,"EmailVerificationModal: user cannot be undefined");return e})),_=null!=y.email,g=m(a.useState(!0),2),E=g[0],S=g[1],O=v===p.FormStates.SUBMITTING;function b(e){var t,n;return null!==(t=null==r||null===(n=r[e])||void 0===n?void 0:n[0])&&void 0!==t?t:""}var I=b("email"),C=b("password");return h(c.default,{transitionState:t,email:y.email,emailError:I,passwordError:C,submitting:O,canResend:E&&!O&&_&&0===I.length&&0===C.length,onChangeEmailClick:function(){S(!1)},onVerify:function(e,t){(0,l.saveAccountChanges)({email:e,password:t}).then((function(e){var t
;(null==e?void 0:e.ok)||null==(null==e||null===(t=e.body)||void 0===t?void 0:t.username)||(0,s.showInvalidUsernameToast)()}));S(!0)},onResend:function(){u.default.verifyResend()},onClose:n})};g.displayName="EmailVerificationModal";var E=g;t.default=E},403607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY=t.EMAIL_VERIFICATION_MODAL_KEY=void 0;t.default=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(47354),i=n(536211),u=M(n(118915)),l=M(n(939949)),s=n(264720),f=n(825185),d=M(n(88509)),c=M(n(145371)),p=M(n(14096)),v=M(n(185948)),y=n(947472),h=M(n(257867)),m=M(n(871778)),_=M(n(728429)),g=M(n(288800)),E=M(n(749033)),S=M(n(502197)),O=n(194322),b=M(n(776360)),I=M(n(285209)),C=M(n(54725)),T=n(770348),A=n(52656),P=M(n(247001));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j="Email Verification";t.EMAIL_VERIFICATION_MODAL_KEY=j;var k="PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY";t.PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY=k;function U(){var e=(0,i.useStateFromStoresObject)([_.default,h.default,m.default],(function(){return{user:_.default.getUser(),action:h.default.getAction(),theme:m.default.theme}})),t=e.user,n=e.action,r=e.theme,M=null!=t&&null!=t.phone,N=T.VerificationTypes.CAPTCHA;n===T.UserRequiredActions.REQUIRE_VERIFIED_EMAIL&&M?N=T.VerificationTypes.EMAIL:n===T.UserRequiredActions.REQUIRE_VERIFIED_EMAIL?N=T.VerificationTypes.EMAIL_OR_PHONE:n===T.UserRequiredActions.REQUIRE_VERIFIED_PHONE&&(N=T.VerificationTypes.PHONE);var L=D(a.useState(0),2),U=L[0],G=L[1],F=(0,c.default)(N);(0,
v.default)({type:o.ImpressionTypes.MODAL,name:o.ImpressionNames.USER_ACTION_REQUIRED,properties:{verification_type:N}},{},[N]);var x=function(){(0,f.accountDetailsInit)();(0,O.openModal)((function(e){return a.createElement(I.default,e)}),{modalKey:j,Layer:E.default})};a.useEffect((function(){p.default.disable();return function(){p.default.enable()}}),[]);a.useEffect((function(){F===T.VerificationTypes.PHONE&&N===T.VerificationTypes.EMAIL&&(0,O.openModal)((function(e){return a.createElement(d.default,w({},e,{title:P.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_TITLE,body:P.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_BODY,confirmText:P.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_CONFIRM}))}),{modalKey:k,Layer:E.default,onCloseCallback:x})}),[N,F]);return R(g.default,{type:N,captchaKey:U,onCaptchaVerify:function(e){u.default.post({url:T.Endpoints.CAPTCHA,body:{captcha_key:e},oldFormErrors:!0}).then(s.popLayer,(function(){G((function(e){return e+1}))}))},theme:r,
onClick:function(e){e===T.VerificationTypes.EMAIL_OR_PHONE||e===T.VerificationTypes.EMAIL?x():(0,O.openModal)((function(e){return a.createElement(C.default,w({reason:y.ChangePhoneReason.USER_ACTION_REQUIRED},e))}),{modalKey:A.PHONE_VERIFICATION_MODAL_KEY,Layer:E.default})},onLogout:function(){return(0,O.openModal)((function(e){return a.createElement(S.default,w({header:P.default.Messages.LOGOUT,confirmText:P.default.Messages.LOGOUT,cancelText:P.default.Messages.CANCEL,onConfirm:function(){return l.default.logout()}},e),R(b.default,{size:b.default.Sizes.SIZE_16},void 0,P.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))}),{Layer:E.default})}})}U.displayName="Verification"},259880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.close=c;t.open=function(){d=(0,i.openModal)((function(e){return r.createElement(o.default,f({title:u.default.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:u.default.Messages.CONFIRM_DISABLE_SILENCE_BODY,
minorText:u.default.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:p,onConfirm:c,confirmText:u.default.Messages.OKAY},e))}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(740207)),o=l(n(88509)),i=n(194322),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var d=null;function c(){null!==d&&(0,i.closeModal)(d);d=null}function p(){a.default.setSilenceWarning(!1);c()}},294398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return a.createElement(a.Fragment,null,D,L,j,k,U,G,F)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(747868),u=n(104144),l=n(567186),s=O(n(607209)),f=O(n(423046)),d=O(n(644263)),c=O(n(30098)),p=O(n(635014)),v=O(n(919935)),y=O(n(893160)),h=O(n(211136)),m=O(n(397228)),_=O(n(387692)),g=O(n(487372)),E=n(179379),S=n(770348);function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n){a.useEffect((function(){var r=t(),a=new o.BatchedStoreListener(e,(function(){var e=t(),a=n(r,e)
;null==a||v.default.isSoundDisabled(a)||(0,E.playSound)(a,.4);r=e}));a.attach("useSound");return function(){return a.detach()}}))}function T(){C([p.default],(function(){return{selfMute:p.default.isSelfMute(),selfDeaf:p.default.isSelfDeaf()}}),(function(e,t){var n=t.selfMute,r=t.selfDeaf;return e.selfDeaf!==r?r?"deafen":"undeafen":e.selfMute!==n?n?"mute":"unmute":void 0}));return null}function A(){C([d.default,y.default,h.default],(function(){var e=d.default.getChannel(h.default.getVoiceChannelId());return{channelType:null==e?void 0:e.type,disconnected:y.default.isDisconnected()}}),(function(e,t){var n=t.channelType,r=t.disconnected,a=e.channelType,o=e.disconnected;if(o&&o!==r){if(null!=n&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(n))return;return"user_join"}if(!o&&o!==r){if(null!=a&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(a))return;return"disconnect"}}));return null}function P(){C([m.default],(function(){return m.default.isCurrentUserSpeaking()}),(function(e,t){if(e!==t){
var n=p.default.isSelfMute();if(p.default.getMode()===S.InputModes.PUSH_TO_TALK&&!n)return t?"ptt_start":"ptt_stop"}}));return null}function M(){C([p.default],(function(){return p.default.isSelfMutedTemporarily()}),(function(e,t){if(e!==t){var n=p.default.isSelfMute();if(p.default.getMode()===S.InputModes.VOICE_ACTIVITY&&!n)return t?"ptt_stop":"ptt_start"}}));return null}function N(){C([_.default],(function(){return _.default.userHasBeenMovedVersion}),(function(e,t){if(e!==t)return"user_moved"}));return null}function R(){C([h.default,_.default],(function(){var e=h.default.getVoiceChannelId();if(null==e)return u.RequestToSpeakStates.NONE;var t=_.default.getVoiceStateForChannel(e);return(0,u.getAudienceRequestToSpeakState)(t)}),(function(e,t){if(e!==t&&t===u.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}));return null}function w(){C([h.default,s.default,f.default,_.default,d.default],(function(){
var e,t,n=h.default.getVoiceChannelId(),r=f.default.getId(),a=0,o=[],u=null,l=0,c=s.default.getAllActiveStreams();if(null!=n){var p=d.default.getChannel(n);if(null!=p){t=p.type;a=g.default.countVoiceStatesForChannel(p.id)-1;o=s.default.getAllApplicationStreamsForChannel(p.id).map((function(e){return e.ownerId}))}}var v=null;(null===(e=v=1===c.length?c[0]:null!=r?s.default.getActiveStreamForUser(r):null)||void 0===e?void 0:e.state)===S.ApplicationStreamStates.CONNECTING&&(v=null);if(null!=v){u=(0,i.encodeStreamKey)(v);l=s.default.getViewerIds(u).filter((function(e){return e!==r})).length}return{channelType:t,voiceChannelId:n,voiceChannelUserCount:a,streamingUserIds:o,singleActiveStreamKey:u,singleActiveStreamViewerCount:l,currentUserId:r,allActiveStreams:c}}),(function(e,t){var n=t.channelType,r=t.voiceChannelId,a=t.voiceChannelUserCount,o=t.streamingUserIds,i=t.singleActiveStreamKey,u=t.singleActiveStreamViewerCount,s=t.currentUserId;if(e.voiceChannelId===r&&null!=r&&!(function(e){
var t=d.default.getChannel(e);if(null==t)return!1;var n=t.getGuildId();if(null==n)return!1;var r=c.default.getGuild(n);return null!=r&&r.afkChannelId===t.id}(r)||null!=n&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(n))){var f=null!=i&&e.singleActiveStreamKey===i,p=o.some((function(t){return!e.streamingUserIds.includes(t)})),v=e.allActiveStreams.map((function(e){return e.ownerId})),y=e.streamingUserIds.some((function(e){return!o.includes(e)&&(e===s||v.includes(e))}));return p?"stream_started":y?"stream_ended":e.singleActiveStreamViewerCount<=25&&f&&u>e.singleActiveStreamViewerCount?"stream_user_joined":e.voiceChannelUserCount<=25&&a>e.voiceChannelUserCount?"user_join":e.voiceChannelUserCount<=25&&a<e.voiceChannelUserCount?"user_leave":e.singleActiveStreamViewerCount<=25&&f&&u<e.singleActiveStreamViewerCount?"stream_user_left":void 0}}));return null}var D=I(T,{}),L=I(A,{}),j=I(P,{}),k=I(M,{}),U=I(N,{}),G=I(w,{}),F=I(R,{})},244165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=function(e){var t=r.useRef(null),n=r.useCallback((function(n){if(null!=e){"function"==typeof e?e(n):e.current=n;t.current=n}}),[e]);return[t,n]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},267115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,u.useModalsStore)((function(e){return t=e,!Object.entries(t).every((function(e){var t=c(e,2);t[0];return 0===t[1].length}));var t
})),t=(0,a.useStateFromStores)([i.default],(function(){return i.default.isOpen()})),n=(0,a.useStateFromStores)([o.default],(function(){return o.default.hasLayers()})),f=c(r.useState(!1),2),d=f[0],p=f[1];r.useEffect((function(){function e(){p(!0)}function t(){p(!1)}l.ComponentDispatch.subscribe(s.ComponentActions.POPOUT_SHOW,e);l.ComponentDispatch.subscribe(s.ComponentActions.POPOUT_HIDE,t);return function(){l.ComponentDispatch.unsubscribe(s.ComponentActions.POPOUT_SHOW,e);l.ComponentDispatch.unsubscribe(s.ComponentActions.POPOUT_HIDE,t)}}),[]);return e||t||d||n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=f(n(122913)),i=f(n(433512)),u=n(194322),l=n(956506),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},345034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(null);if(!Object.is(e,n.current)){t.current=n.current;n.current=e}return t.current};var r=n(667294)},448549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.cancelAll=function(){o&&speechSynthesis.cancel()};t.createUtterance=i;t.speak=function(e,t,n){if(o){var r=i(e,n);u(r,t);return r}};t.speakUtterance=u;t.supported=void 0;var r,a=(r=n(91603))&&r.__esModule?r:{default:r};var o=null!=window.speechSynthesis;t.supported=o;function i(e,t){var n=e.replace(/(https?:\/\/[^\s]+)/g,(function(e){
var t=e.match(/^https?:\/\/(?:www\.)?([^/?#]+)(?:[/?#]|$)/i);return null!=t?t[1]:""}));null!=t&&n.length>t&&(n=(n=n.substr(0,t)).substr(0,Math.min(n.length,n.lastIndexOf(" "))));var r=new SpeechSynthesisUtterance(n);r.rate=a.default.speechRate;return r}function u(e,t){if(o){e.voice=t;speechSynthesis.speak(e)}}},635004:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(496486)),a=n(91817),o=i(n(791548));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e){var t=this;this._subscriptions={};this._unsubscriptions={};this._unsubscribe=new a.DelayedCall(6e4,(function(){return t.flushUnsubscriptions()}));this._onChange=e}var t=e.prototype;t.reset=function(){this._subscriptions={};this._unsubscriptions={};this._unsubscribe.cancel()};t.get=function(e){var t,n=null!==(t=this._subscriptions[e])&&void 0!==t?t:{};return r.default.keys(n)};t.clear=function(e){delete this._subscriptions[e];delete this._unsubscriptions[e]}
;t.subscribe=function(e,t){var n,r,a=null!==(n=this._subscriptions[e])&&void 0!==n?n:{};a[t]=(null!==(r=a[t])&&void 0!==r?r:0)+1;this._subscriptions[e]=a;1===a[t]&&this._onChange(e,this.get(e));this.checkForLeaks(e,t)};t.isSubscribed=function(e,t){return null!=this._subscriptions[e]&&null!=this._subscriptions[e][t]};t.unsubscribe=function(e,t){var n,r;if(this.isSubscribed(e,t)){var a=null!==(n=this._unsubscriptions[e])&&void 0!==n?n:{};a[t]=(null!==(r=a[t])&&void 0!==r?r:0)+1;this._unsubscriptions[e]=a;1===a[t]&&this._unsubscribe.delay(!1)}};t.checkForLeaks=function(e,t){var n,r,a,i,u=(null!==(n=null===(r=this._subscriptions[e])||void 0===r?void 0:r[t])&&void 0!==n?n:0)-(null!==(a=null===(i=this._unsubscriptions[e])||void 0===i?void 0:i[t])&&void 0!==a?a:0);u>5&&new o.default("GuildMemberSubscriptions").warn("GuildMemberSubscriptions.subscribe(...): Potential reference leak! ("+u+" subscriptions)")};t.flushUnsubscriptions=function(){var e=this
;if(!r.default.isEmpty(this._unsubscriptions)){r.default.forEach(this._unsubscriptions,(function(t,n){var a=e._subscriptions[n];r.default.forEach(t,(function(e,t){var n;a[t]=(null!==(n=a[t])&&void 0!==n?n:0)-e;a[t]<=0&&delete a[t]}));r.default.isEmpty(a)&&delete e._subscriptions[n];e._onChange(n,e.get(n))}));this._unsubscriptions={}}};return e}();t.default=u},919255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});Object.defineProperty(t,"DEFAULT_RANGES",{enumerable:!0,get:function(){return o.DEFAULT_RANGES}});Object.defineProperty(t,"MINIMUM_RANGE",{enumerable:!0,get:function(){return o.MINIMUM_RANGE}});t.default=void 0;var r=f(n(496486)),a=n(91817),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(490507)),i=f(n(635004)),u=f(n(331449)),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e){return null!=e&&"null"!==e&&e!==l.ME&&"undefined"!==e&&e!==l.FAVORITES}var p=function(){function e(e){var t=this;this._members=new i.default((function(e,n){return t._enqueue(e,{members:n})}));this._channels=new o.default((function(e,n){return t._enqueue(e,{channels:n})}));this._threadMemberLists=new u.default((function(e,n){return t._enqueue(e,{thread_member_lists:n})}));this._typing=new Set
;this._threads=new Set;this._activities=new Set;this._subscribed=new Set;this._pending={};this._flush=new a.DelayedCall(0,(function(){return t.flush()}));this._onChange=e}var t=e.prototype;t._enqueue=function(e,t){this._pending[e]=d({},this._pending[e],{},t);this._flush.delay()};t.reset=function(){this._subscribed.clear();this._pending={};this._members.reset();this._channels.reset();this._threadMemberLists.reset();this._typing.clear();this._threads.clear();this._activities.clear()};t.get=function(e){return{typing:this._typing.has(e),threads:this._threads.has(e),activities:this._activities.has(e),members:this._members.get(e),channels:this._channels.get(e),thread_member_lists:this._threadMemberLists.get(e)}};t.getSubscribedThreadIds=function(){return this._threadMemberLists.getSubscribedThreadIds()};t.forEach=function(e){this._subscribed.forEach(e)};t.clearWithoutFlushing=function(e,t){!t&&this._threads.has(e)||this._subscribed.delete(e);delete this._pending[e];this._members.clear(e)
;this._channels.clear(e);this._threadMemberLists.clear(e);this._typing.delete(e);t&&this._threads.delete(e);this._activities.delete(e)};t.flush=function(){var e=this;r.default.forEach(this._pending,(function(t,n){e._subscribed.add(n);e._onChange(n,t)}));this._pending={}};t.subscribeUser=function(e,t){c(e)&&this._members.subscribe(e,t)};t.unsubscribeUser=function(e,t){c(e)&&this._members.unsubscribe(e,t)};t.subscribeChannel=function(e,t,n){return!!c(e)&&this._channels.subscribe(e,t,n)};t.subscribeThreadMemberList=function(e,t,n){return!!c(e)&&this._threadMemberLists.subscribe(e,t,n)};t.unsubscribeThreadMemberList=function(e,t){return!!c(e)&&this._threadMemberLists.unsubscribe(e,t)};t.subscribeToGuild=function(e){this._subscribeToFeature(e,this._typing,{typing:!0});this._subscribeToFeature(e,this._activities,{activities:!0});this._subscribeToFeature(e,this._threads,{threads:!0})};t._subscribeToFeature=function(e,t,n){if(c(e)&&!t.has(e)){t.add(e);this._enqueue(e,n)}};return e}()
;t.default=p},331449:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(5387))&&r.__esModule?r:{default:r};function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
var u=function(){function e(e){this._subscriptions={};this._onChange=e}var t=e.prototype;t.reset=function(){this._subscriptions={}};t.get=function(e){return this._get(e).keys()};t.getSubscribedThreadIds=function(){var e=new Set;for(var t in this._subscriptions)for(var n,r=o(this._subscriptions[t].keys());!(n=r()).done;){var a=n.value;e.add(a)}return e};t._get=function(e){var t;return null!==(t=this._subscriptions[e])&&void 0!==t?t:new a.default({max:3,updateAgeOnGet:!0})};t.clear=function(e){if(e in this._subscriptions){delete this._subscriptions[e];this._onChange(e,[])}};t.subscribe=function(e,t,n){var r=this._get(e);if(r.has(t)){r.set(t,Date.now());return!1}null!=n&&r.has(n)&&r.set(n,Date.now());r.set(t,Date.now());this._subscriptions[e]=r;this._onChange(e,r.keys());return!0};t.unsubscribe=function(e,t){if(!(e in this._subscriptions))return!1;var n=this._subscriptions[e];if(n.has(t)){n.del(t);this._onChange(e,n.keys());return!0}return!1};return e}();t.default=u},697255:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.analyze=d;t.createASTHighlighter=function(e){var t=new Set(d(e));return function(e){return p(e,t)}};t.highlightAST=p;t.shouldHighlight=c;var r=o(n(496486)),a=o(n(470661));function o(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function u(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function l(e){return e.toLowerCase()}function s(e){return i.has(e)}function f(e){return 0===e.length}function d(e){return(0,r.default)(e.split(/\W+/)).map(u).reject(f).map(l).reject(s).map(a.default).value()}function c(e,t){return!f(e=l(u(e)))&&!s(e)&&t.has((0,a.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach((function(e){return p(e,t)}));else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r=""
;e.content.split(/(\W+)/g).forEach((function(e){if(c(e,t)){r.length>0&&n.push({type:"text",content:r});n.push({type:"highlight",content:e});r=""}else r+=e}));if(n.length>0){r.length>0&&n.push({type:"text",content:r});"text"===e.type?e.content=n:e.content=[{type:"text",content:n}]}}else null!=e.content&&p(e.content,t);return e}},678164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createRolloutExperiment=void 0;t.useActivitiesRolloutExperiments=function(e){r.useEffect((function(){null!=e&&u.forEach((function(t){t.trackExposure({guildId:e})}))}),[e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var i=function(e,t){return(0,a.createExperiment)({kind:"guild",id:t,label:"Exposure tracking for "+e+" (do not override)",defaultConfig:{},treatments:[]})};t.createRolloutExperiment=i;var u=[i("Watch Together","2021-09_watch_together_rollout")]},463821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=h(n(636602)),o=h(n(234161)),i=h(n(177230)),u=h(n(423046)),l=h(n(644263)),s=h(n(893160)),f=h(n(211136)),d=h(n(308920)),c=n(746920),p=h(n(303798)),v=n(770348),y=h(n(247001));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E={},S={},O={};function b(e){var t,n=e.channelId,a=e.embeddedActivity.application_id,o=l.default.getChannel(n);if(null!=o){null===(t=O[a])||void 0===t||t.stop();var i=new r.Timeout;i.start(12e4,(function(){(0,c.stopEmbeddedActivity)(n,a)}));O[a]=i;S[a]=function(e){E[a]=e
;d.default.track(v.AnalyticEvents.ACTIVITY_SESSION_JOINED,{channel_id:o.id,guild_id:o.getGuildId(),media_session_id:e.mediaSessionId,activity_session_id:e.activitySessionId,application_id:a})}}}function I(e){var t,n=e.channelId,r=e.applicationId,a=E[r],o=l.default.getChannel(n),i=p.default.getEmbeddedActivityDurationMs(n,r);if(null!=a&&null!=o){d.default.track(v.AnalyticEvents.ACTIVITY_SESSION_LEFT,{channel_id:o.id,guild_id:o.getGuildId(),media_session_id:a.mediaSessionId,activity_session_id:a.activitySessionId,application_id:r,duration_ms:i});delete S[r];delete E[r];null===(t=O[r])||void 0===t||t.stop();delete O[r]}}function C(e){var t,n,r=e.embeddedActivity,a=e.users,o=u.default.getId();if(a.includes(o)){var i=s.default.getMediaSessionId(),l=r.application_id,f=r.activity_id;if(null!=i&&null!=l&&null!=f){null===(t=S[l])||void 0===t||t.call(S,{mediaSessionId:i,activitySessionId:f});delete S[l];null===(n=O[l])||void 0===n||n.stop();delete O[l]}}}function T(){
for(var e,t=f.default.getVoiceChannelId(),n=function(){var n=e.value,r=n.channelId,o=n.application_id;r!==t&&a.default.wait((function(){return(0,c.stopEmbeddedActivity)(r,o)}))},r=_(p.default.getSelfEmbeddedActivities().values());!(e=r()).done;)n()}function A(e){var t,n=e.channelId,r=e.applicationId,a=e.intent;if(f.default.getVoiceChannelId()===n){var i=p.default.getEmbeddedActivitiesForChannel(n).find((function(e){return e.application_id===r}));(null==i||null===(t=i.secrets)||void 0===t?void 0:t.join)?o.default.joinWithSecret(r,i.secrets.join,n,a,!0):(0,c.startEmbeddedActivity)(n,{application_id:r})}}var P=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).handleActivityLaunchFail=function(e){var n=e.error,r=y.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_GENERIC;switch(n.code){
case v.AbortCodes.INVALID_ACTIVITY_LAUNCH_NO_ACCESS:r=y.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_ACCESS;break;case v.AbortCodes.INVALID_ACTIVITY_LAUNCH_CONCURRENT_ACTIVITIES:r=y.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_CONCURRENT;break;case v.AbortCodes.INVALID_ACTIVITY_LAUNCH_PREMIUM_TIER:r=y.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_PREMIUM;break;case v.AbortCodes.INVALID_PERMISSIONS:r=y.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS}t.showLaunchErrorModal(r)};t.handleRPCDisconnect=function(e){var n=e.reason,r=e.application.id;if(null!=r&&null!=n){for(var o,i=function(){var e=o.value,t=e.application_id,n=e.channelId;t===r&&a.default.wait((function(){return(0,c.stopEmbeddedActivity)(n,r)}))},u=_(p.default.getSelfEmbeddedActivities().values());!(o=u()).done;)i();n.code!==v.RPCCloseCodes.CLOSE_NORMAL&&t.showErrorModal(n,r)}};return t}var n=t.prototype;n._initialize=function(){f.default.addChangeListener(T)
;a.default.subscribe(v.ActionTypes.EMBEDDED_ACTIVITY_LAUNCH_FAIL,this.handleActivityLaunchFail);a.default.subscribe(v.ActionTypes.EMBEDDED_ACTIVITY_OPEN,b);a.default.subscribe(v.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,I);a.default.subscribe(v.ActionTypes.EMBEDDED_ACTIVITY_INBOUND_UPDATE,C);a.default.subscribe(v.ActionTypes.EMBEDDED_ACTIVITY_DEFERRED_OPEN,A);a.default.subscribe(v.ActionTypes.RPC_APP_DISCONNECTED,this.handleRPCDisconnect)};n._terminate=function(){f.default.removeChangeListener(T);a.default.unsubscribe(v.ActionTypes.EMBEDDED_ACTIVITY_LAUNCH_FAIL,this.handleActivityLaunchFail);a.default.unsubscribe(v.ActionTypes.EMBEDDED_ACTIVITY_OPEN,b);a.default.unsubscribe(v.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,I);a.default.unsubscribe(v.ActionTypes.EMBEDDED_ACTIVITY_INBOUND_UPDATE,C);a.default.unsubscribe(v.ActionTypes.EMBEDDED_ACTIVITY_DEFERRED_OPEN,A);a.default.unsubscribe(v.ActionTypes.RPC_APP_DISCONNECTED,this.handleRPCDisconnect)};return t}(i.default);t.default=P},698462:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useBeb=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=(r=n(30098))&&r.__esModule?r:{default:r},u=n(929659),l=n(746920),s=n(770348);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}t.useBeb=function(e){var t=(0,o.useStateFromStores)([i.default],(function(){return i.default.getGuild(e)})),n=u.ActivitiesBebExperiment.useExperiment({guildId:null!=e?e:""}),r=n.enableBeb,f=n.exposedToBeb;a.useEffect((function(){
null!=e&&u.ActivitiesBebExperiment.trackExposure({guildId:e})}),[e]);a.useEffect((function(){var e=setTimeout((function(){f&&null!=t&&!t.features.has(s.GuildFeatures.EXPOSED_TO_ACTIVITIES_WTP_EXPERIMENT)&&(0,l.enableWtpGuildFeature)(t.id)}),1e4+1e4*Math.random());return function(){return clearTimeout(e)}}),[t,f]);return r}},186096:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useFreeActivityIndicator=void 0;var r=n(536211),a=l(n(30098)),o=n(929659),i=l(n(303798)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}t.useFreeActivityIndicator=function(e){var t=e.guildId,n=e.appId,l=(0,r.useStateFromStores)([a.default],(function(){return a.default.getGuild(t)})),s=null!=l&&l.premiumTier===u.BoostedGuildTiers.NONE,f=o.ActivitiesBebExperiment.useExperiment({guildId:null!=t?t:""}).hasRotatingActivity;return(0,r.useStateFromStores)([i.default],(function(){return f&&s&&i.default.shouldShowIndicatorForActivity(n)}))}},845260:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){void 0===n&&(n=window);var a=(0,o.useStateFromStores)([u.default],(function(){return u.default.keyboardModeEnabled})),f=(0,i.default)(),d=(h=r.useState(!1),m=2,function(e){if(Array.isArray(e))return e}(h)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(h,m)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(h,m)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=d[0],y=d[1];var h,m;r.useEffect((function(){if(t){n.addEventListener("blur",e);return function(){return n.removeEventListener("blur",e)}}function e(){if(f){l.ComponentDispatch.dispatch(s.ComponentActions.POPOUT_CLOSE);l.ComponentDispatch.dispatch(s.ComponentActions.CONTEXT_MENU_CLOSE)}}}),[n,f,t]);r.useEffect((function(){var r,o;if(!a&&v&&t){var i=f;null===(r=e.current)||void 0===r||r.addEventListener("focusout",l);if("IFRAME"!==(null===(o=n.document.activeElement)||void 0===o?void 0:o.tagName)&&!i){var u;null===(u=e.current)||void 0===u||u.focus()}return function(){var t;null===(t=e.current)||void 0===t||t.removeEventListener("focusout",l);i=!0}}function l(t){var n=t.relatedTarget;setTimeout((function(){null!=n&&"BUTTON"!==n.tagName||i||p(e)}),100)}}),[t,v,a,e,n,f]);return y};var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486),o=n(536211),i=f(n(267115)),u=f(n(235879)),l=n(956506),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,a.debounce)((function(e){setTimeout((function(){var t;null===(t=e.current)||void 0===t||t.focus()}),0)}),50)},198016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0
});t.default=function(e){return(0,r.useStateFromStoresArray)([i.default,a.default],(function(){return f(e)})).length>0};t.getEnabledActivities=f;var r=n(536211),a=u(n(424099)),o=n(71246),i=u(n(303798));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return null===e?[]:[].concat(l(i.default.getEnabledAppIds(e)),l([a.default.testModeEmbeddedApplicationId].filter(o.isNotNullish)))}},645068:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.allowPopups,a=e.allowPointerLock,o=r;t&&(o=[].concat(r,["allow-popups","allow-popups-to-escape-sandbox"]));a&&(o=[].concat(function(e){if(Array.isArray(e))return n(e)}(i=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);return"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(i)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["allow-pointer-lock"]));var i;return o.join(" ")};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r=["allow-scripts","allow-same-origin"]},335166:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(496486)),i=u(n(740414));function u(e){return e&&e.__esModule?e:{default:e
}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(){var e=a.useMemo((function(){return{titleWidth:o.default.random(60,120),subtitleWidth:o.default.random(200,600)}}),[]),t=e.titleWidth,n=e.subtitleWidth,r=function(e){return e/16+"rem"};return s("div",{className:i.default.wrapper},void 0,s("div",{className:i.default.image}),s("div",{className:i.default.infoWrapper},void 0,s("div",{style:{maxWidth:r(t)},className:i.default.titleWrapper}),s("div",{style:{maxWidth:r(n)},
className:i.default.subtitle})))};f.displayName="ActivityLoadingItem";var d=f;t.default=d},62954:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=F;var r,a=R(n(667294)),o=M(n(496486)),i=n(536211),u=M(n(469487)),l=M(n(818994)),s=M(n(526098)),f=R(n(145122)),d=M(n(288356)),c=M(n(30098)),p=M(n(424099)),v=M(n(776360)),y=M(n(308920)),h=n(71246),m=n(929659),_=R(n(746920)),g=R(n(303798)),E=M(n(93879)),S=M(n(335166)),O=R(n(651649)),b=M(n(205990)),I=M(n(777787)),C=n(418173),T=n(770348),A=M(n(247001)),P=M(n(929211));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e){return e>0?A.default.Messages.EMBEDDED_ACTIVITIES_MAX_PARTICIPANTS.format({count:e}):A.default.Messages.EMBEDDED_ACTIVITIES_UNLIMITED_PARTICIPANTS}var k=w(S.default,{}),U=w(S.default,{}),G=w(f.MenuSeparator,{});function F(e){var t,n=e.channel,r=e.locationObject,S=e.onClose,M=e.onSelect,N=(0,E.default)();a.useEffect((function(){y.default.track(T.AnalyticEvents.OPEN_POPOUT,{type:"Activity Menu",channel_id:n.id,guild_id:n.getGuildId()})}),[n]);var R=null!==(t=n.getGuildId())&&void 0!==t?t:"",L=(0,
i.useStateFromStores)([c.default],(function(){return c.default.getGuild(R)})),F=null==L?void 0:L.premiumTier,x=a.useContext(l.default),V=m.ActivitiesBebExperiment.useExperiment({guildId:null!=R?R:""}).treatmentBucket,W=(0,i.useStateFromStoresObject)([g.default],(function(){return{enabledApplicationIds:g.default.getEnabledAppIds(R),isFetching:g.default.isFetchingEmbeddedApps(R)}})),H=W.enabledApplicationIds,B=W.isFetching,z=(0,i.useStateFromStores)([p.default],(function(){return p.default.testModeEmbeddedApplicationId}));null==z||H.includes(z)||H.push(z);var Y,$=(0,i.useStateFromStores)([g.default],(function(){return g.default.getSelfEmbeddedActivityForChannel(n.id)})),K=(0,u.default)(H),q=K.find((function(e){return(null==e?void 0:e.id)===(null==$?void 0:$.application_id)})),Z=(0,i.useStateFromStores)([g.default],(function(){return null!=n.id&&""!==n.id?g.default.getEmbeddedActivitiesForChannel(n.id):g.NO_ACTIVITIES})).filter((function(e){
return e.application_id!==(null==$?void 0:$.application_id)})),X=Z.map((function(e){var t=e.application_id;return d.default.getGame(t)})),Q=new Set(X.filter(h.isNotNullish).map((function(e){return e.id}))),J=K.filter(h.isNotNullish).filter((function(e){return e.id!==(null==q?void 0:q.id)&&!Q.has(e.id)}));if(null==F||F===T.BoostedGuildTiers.NONE){var ee=J.filter((function(e){var t=e.getPremiumTierLevelForTreatment(V);return null!=t&&t>T.BoostedGuildTiers.NONE}));Y=J.filter((function(e){var t=e.getPremiumTierLevelForTreatment(V);return null==t||t===T.BoostedGuildTiers.NONE})).concat(ee)}else Y=J;var te=null;te=0===H.length&&B?D(Array(o.default.random(2,6))).map((function(e,t){return w(f.MenuItem,{id:"load-"+t,render:function(){return k}})})):a.createElement(a.Fragment,null,w(f.MenuGroup,{},void 0,null!=$?w(f.MenuItem,{id:"stop-"+$.application_id,action:function(){return _.stopEmbeddedActivity(n.id,$.application_id)},render:function(){
var e,t=null!==(e=null==q?void 0:q.getMaxParticipants())&&void 0!==e?e:0,n=null==q?void 0:q.getPremiumTierLevelForTreatment(V);return w(O.default,{activityPremiumTierLevel:n,application:q,subtitle:j(t),showActionIcon:!0,activityAction:O.ActivityAction.LEAVE,guild:L})}},"stop-"+$.application_id):null,Z.map((function(e,t){var a=X[t];return w(f.MenuItem,{id:"join-"+e.application_id,action:function(){(0,b.default)(e,!0,N,n.id,C.ActivityIntent.PLAY,r,x)},render:function(){var t,n,r=null!==(t=null==a?void 0:a.getMaxParticipants())&&void 0!==t?t:0,o=null==a?void 0:a.getPremiumTierLevelForTreatment(V);return w(O.default,{activityPremiumTierLevel:o,application:a,subtitle:j(r),showActionIcon:!0,activityAction:O.ActivityAction.JOIN,guild:L,joinSecret:null===(n=e.secrets)||void 0===n?void 0:n.join})}},"join-"+e.application_id)})),Y.map((function(e,t){var n,a;return w(f.MenuItem,{id:null!==(a=null==e?void 0:e.id)&&void 0!==a?a:String(t),action:function(){(0,I.default)(e,q,r,x,V)},render:function(){
var t,n=null!==(t=null==e?void 0:e.getMaxParticipants())&&void 0!==t?t:0,r=null==e?void 0:e.getPremiumTierLevelForTreatment(V);return null!=e.name?w(O.default,{activityPremiumTierLevel:r,application:e,subtitle:j(n),showActionIcon:!1,guild:L}):U}},null!==(n=null==e?void 0:e.id)&&void 0!==n?n:t)}))),G,w(f.MenuItem,{id:"beta",render:function(){return w("div",{className:P.default.beta},void 0,w(s.default,{className:P.default.betaTag}),w(v.default,{className:P.default.subtitle,size:v.default.Sizes.SIZE_12},void 0,A.default.Messages.EMBEDDED_ACTIVITIES_FEEDBACK_SURVEY.format({surveyURL:T.EMBEDDED_ACTIVITY_WTP_FEEDBACK_SURVEY_URL})))}}));return w(f.default,{navId:"activity-popout",style:f.MenuStyle.FIXED,className:P.default.menu,onClose:S,"aria-label":"Activity Menu",onSelect:M},void 0,te)}F.displayName="ActivityMenu"},651649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ActivityAction=void 0;t.default=A
;var r,a,o=O(n(667294)),i=E(n(294184)),u=E(n(197737)),l=E(n(956117)),s=E(n(562475)),f=E(n(730977)),d=E(n(782732)),c=E(n(434663)),p=E(n(776360)),v=O(n(746920)),y=n(186096),h=n(245546),m=n(770348),_=E(n(247001)),g=E(n(340913));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.ActivityAction=a;!function(e){e.LEAVE="LEAVE";e.JOIN="JOIN"}(a||(t.ActivityAction=a={}));function A(e){
var t,n,r=e.activityPremiumTierLevel,E=e.application,S=e.subtitle,O=e.showActionIcon,T=e.guild,A=e.activityAction,P=e.joinSecret,M=null==T?void 0:T.premiumTier,N=null!=r&&r>m.BoostedGuildTiers.NONE,R=N&&null!=M&&M>=r,w=N&&null!=M&&M<r,D=A===a.JOIN&&null==P,L=D?g.default.disabledItem:g.default.enabledItem,j=D?g.default.disabledOpacity:g.default.enabledOpacity,k=C(o.useState(!1),2),U=k[0],G=k[1],F=(0,y.useFreeActivityIndicator)({guildId:null!==(t=null==T?void 0:T.id)&&void 0!==t?t:"",appId:null!==(n=null==E?void 0:E.id)&&void 0!==n?n:""});o.useEffect((function(){if(F){G(!0);v.dismissFreeActivityIndicator()}}),[F,G]);return I("div",{className:(0,i.default)(g.default.activityItem,L)},void 0,I("div",{style:{position:"relative"}},void 0,I(s.default,{game:E,className:(0,i.default)(g.default.activityIcon,j)}),U?I(h.FreeActivityIndicatorDot,{alert:!0,left:-2,top:6,right:void 0,maskColor:h.MaskColor.POPOUT}):null),I("div",{className:(0,i.default)(g.default.activityItemTextContainer,j)
},void 0,I("div",{className:g.default.activityHeader},void 0,R?I(f.default,{color:f.default.Colors.CUSTOM,tooltipClassName:g.default.premiumActivityTooltip,text:_.default.Messages.PREMIUM_GUILD_INCLUDED},void 0,(function(e){return o.createElement(d.default,b({},e,{className:g.default.guildBoostingIconPink}))})):null,I(p.default,{className:g.default.activityHeaderText,size:p.default.Sizes.SIZE_16},void 0,null==E?void 0:E.name)),I(p.default,{className:g.default.subtitle,size:p.default.Sizes.SIZE_12},void 0,S)),!O&&w?I(u.default,{activityPremiumTierLevel:r}):null,O?I("div",{className:g.default.activityActionIcon},void 0,A===a.LEAVE?I(f.default,{text:_.default.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY},void 0,(function(e){return o.createElement(c.default,b({},e,{width:24,height:24}))})):null,A===a.JOIN?I(l.default,{size:l.default.Sizes.TINY,hover:l.default.Hovers.TRANSPARENT,disabled:D},void 0,_.default.Messages.JOIN):null):null)}A.displayName="ActivityMenuItem"},71805:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.url,n=e.className,r=e.style,y=e.onLoad,h=e.shouldRefocus,g=e.queryParams,E=e.allowPointerLock,S=void 0!==E&&E,O=e.allowPopups,b=void 0!==O&&O,I=e.referrerPolicy,C=void 0===I?"origin":I,T=(0,u.useStateFromStores)([l.default],(function(){return l.default.getWindow(v.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),A=(0,o.useMemoOne)((function(){return i.default.v4()}),[t]),P=a.useRef(null),M=(0,d.default)(P,h,null==T?window:T),N=_({},g,{frame_id:A,platform:p.ActivityPlatform.DESKTOP});a.useEffect((function(){f.ComponentDispatch.dispatch(v.ComponentActions.IFRAME_MOUNT,{id:A});return function(){f.ComponentDispatch.dispatch(v.ComponentActions.IFRAME_UNMOUNT,{id:A})}}),[A]);return t?m("iframe",{style:r,allow:"autoplay",referrerPolicy:C,onLoad:function(e){var n;null==y||y(e.target);P.current=e.target;M(!0);null===(n=e.target.contentWindow)||void 0===n||n.postMessage([s.default.HELLO,N],null!=t?t:"")},
sandbox:(0,c.default)({allowPopups:b,allowPointerLock:S}),className:n,src:t+"?"+new URLSearchParams(N)}):null};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(551163),i=y(n(468811)),u=n(536211),l=y(n(902305)),s=y(n(676606)),f=n(956506),d=y(n(845260)),c=y(n(645068)),p=n(418173),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}},769195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=f(n(636602)),i=n(720409),u=f(n(902305)),l=n(956506),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var c=function(e,t){return o.default.wait((function(){(0,i.updateRect)(e,t)}))};function p(e){var t,n=e.embedId,o=e.className,i=e.style,f=(0,a.useStateFromStores)([u.default],(function(){return u.default.getWindow(s.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),d=null!==(t=null==f?void 0:f.window)&&void 0!==t?t:window,p=r.useRef(null),v=r.useMemo((function(){var e=null;return function(){null==e&&(e=d.requestAnimationFrame((function(){var t,r;c(n,null!==(t=null===(r=p.current)||void 0===r?void 0:r.getBoundingClientRect())&&void 0!==t?t:null);e=null})))}}),[n,d]);r.useEffect((function(){d.addEventListener("resize",v)
;l.ComponentDispatch.subscribe(s.ComponentActions.REMEASURE_TARGET,v);return function(){d.removeEventListener("resize",v);l.ComponentDispatch.unsubscribe(s.ComponentActions.REMEASURE_TARGET,v)}}),[v,d]);r.useLayoutEffect((function(){var e=p.current;if(null!=e){var t=e.ownerDocument.defaultView;if(null!=t){v();var r=new t.ResizeObserver(v);r.observe(e);return function(){r.disconnect();c(n,null)}}}}),[n,v]);return r.createElement("div",{ref:p,style:i,className:o})}p.displayName="EmbedTarget"},600198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(88509)),o=n(194322),i=l(n(463821)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var c=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.showErrorModal=function(e){var t=e.code,n=e.message;(0,o.openModal)((function(e){return r.createElement(a.default,f({
title:u.default.Messages.EMBEDDED_ACTIVITIES_ERROR_TITLE.format({code:t}),body:n},e))}))};n.showLaunchErrorModal=function(e){(0,o.openModal)((function(t){return r.createElement(a.default,f({title:u.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAILURE,body:e},t))}))};return t}(i.default));t.default=c},245546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MaskColor=t.FreeActivityIndicatorDot=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=u(n(294184)),i=u(n(250242));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.MaskColor=a;!function(e){e[e.POPOUT=0]="POPOUT";e[e.SECONDARY=1]="SECONDARY";e[e.BLACK=2]="BLACK"}(a||(t.MaskColor=a={}));var f=function(e){var t,n=e.left,r=void 0===n?void 0:n,u=e.top,l=void 0===u?0:u,f=e.right,d=void 0===f?0:f,c=e.bottom,p=void 0===c?void 0:c,v=e.size,y=void 0===v?8:v,h=e.alert,m=void 0!==h&&h,_=e.maskColor,g=void 0===_?a.SECONDARY:_;return s("span",{className:(0,o.default)(i.default.dot,(t={},t[i.default.alert]=m,
t[i.default.maskPopout]=g===a.POPOUT,t[i.default.maskSecondary]=g===a.SECONDARY,t[i.default.maskBlack]=g===a.BLACK,t)),style:{height:y,width:y,left:r,top:l,right:d,bottom:p}})};t.FreeActivityIndicatorDot=f;f.displayName="FreeActivityIndicatorDot"},765304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=g(n(636602)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(720409)),i=g(n(177230)),u=g(n(902305)),l=g(n(644263)),s=g(n(122913)),f=g(n(218843)),d=g(n(893160)),c=g(n(211136)),p=g(n(790597)),v=g(n(387692)),y=g(n(303798)),h=g(n(322946)),m=n(770348)
;function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function S(){var e=d.default.getChannelId(),t=y.default.getSelfEmbeddedActivityForChannel(null!=e?e:""),n=l.default.getChannel(e);return null==e||null==n||null==t?function(){var e=r;if(null!=e&&f.default.isOpen(e)){a.default.wait((function(){return o.close(e)}));r=null}}():function(e,t){if(f.default.isOpen(t))return!1;a.default.wait((function(){return o.open(t,m.PictureInPictureComponents.EMBED_IFRAME,{channel:e})}));r=t}(n,(0,h.default)(n.id,t.application_id))}function O(){var e;return s.default.hasLayers()?void(null!=(e=r)&&f.default.isOpen(e)&&a.default.wait((function(){return o.hide(e)}))):function(){var e=r;null!=e&&f.default.isOpen(e)&&a.default.wait((function(){return o.show(e)}))}()}var b=new(function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){c.default.addChangeListener(S);p.default.addChangeListener(S);d.default.addChangeListener(S);v.default.addChangeListener(S);u.default.addChangeListener(S);y.default.addChangeListener(S);s.default.addChangeListener(O)};n._terminate=function(){c.default.removeChangeListener(S);p.default.removeChangeListener(S);d.default.removeChangeListener(S);v.default.removeChangeListener(S);u.default.removeChangeListener(S);y.default.removeChangeListener(S);s.default.removeChangeListener(O)};return t}(i.default));t.default=b},321405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=R(n(294184)),i=n(536211),u=R(n(229132)),l=R(n(505437)),s=n(264720),f=R(n(825724)),d=R(n(902305)),c=n(139982),p=R(n(611456)),v=n(421622),y=R(n(625905)),h=R(n(30098)),m=R(n(218843)),_=R(n(211136)),g=R(n(949898)),E=R(n(80828)),S=R(n(303798)),O=R(n(71805)),b=n(982784),I=n(648927),C=n(418173),T=n(770348),A=n(859089),P=R(n(544009)),M=R(n(201768)),N=["channel"];function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])
}return e};return D.apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=new Set([C.YOUTUBE_APPLICATION_ID,C.WATCH_YOUTUBE_DEV_APP_ID,C.WATCH_YOUTUBE_PROD_APP_ID]),G=new Set([C.PUTT_PARTY_APPLICATION_DEV_ID,C.PUTT_PARTY_APPLICATION_STG_ID,C.PUTT_PARTY_APPLICATION_QA_ID,C.PUTT_PARTY_APPLICATION_ID]),F=new Set([C.WATCH_YOUTUBE_DEV_APP_ID,C.WATCH_YOUTUBE_PROD_APP_ID]);function x(e){var t=e.channel,n=e.isLoading,r=j(a.useState(!1),2),I=r[0],C=r[1],N=(0,i.useStateFromStores)([S.default],(function(){return S.default.getSelfEmbeddedActivityForChannel(t.id)})),R=null==N?void 0:N.activity_id,w=(0,
i.useStateFromStores)([_.default],(function(){return _.default.getChannelId()===t.id})),D=(0,i.useStateFromStoresObject)([m.default],(function(){var e=m.default.pipWindow;return{dockedRect:null!=e?m.default.getDockedRect(e.id):null,isHidden:m.default.isEmbeddedActivityHidden()}})),k=D.dockedRect,x=D.isHidden,V=(0,i.useStateFromStoresObject)([d.default,g.default],(function(){var e=d.default.getWindow(T.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return{popoutWindow:e,windowWidth:d.default.getWindowOpen(T.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&null!=e?e.innerWidth:g.default.windowSize().width-T.LEFT_PANEL_WIDTH}})),W=V.popoutWindow,H=V.windowWidth,B=(0,i.useStateFromStoresObject)([f.default],(function(){return{activityParticipant:null!=N?f.default.getParticipant(t.id,N.application_id):null,selectedParticipant:f.default.getSelectedParticipant(t.id),participantsOpen:f.default.getParticipantsOpen(t.id),layout:f.default.getLayout(t.id,T.AppContext.APP)}
})),z=B.activityParticipant,Y=B.selectedParticipant,$=B.participantsOpen,K=B.layout,q=(0,i.useStateFromStores)([h.default],(function(){return h.default.getGuild(t.guild_id)}),[t.guild_id]),Z=null==q?void 0:q.hasFeature(T.GuildFeatures.TEXT_IN_VOICE_ENABLED),X=H<=v.FORCE_HIDE_PARTICIPANTS_WIDTH,Q=w||null!=W,J=Q&&(null==Y?void 0:Y.type)!==A.ParticipantTypes.ACTIVITY&&null==k,ee=(!Q||J)&&!x,te=!X&&!Z&&![T.ChannelLayouts.MINIMUM,T.ChannelLayouts.NORMAL].includes(K),ne=te&&$;function re(){null!=N&&u.default.selectParticipant(t.id,N.application_id);if(null==W){(0,s.popAllLayers)();var e=t.getGuildId()||T.ME;l.default.channelListScrollTo(e,t.id);(0,c.transitionToGuild)(e,t.id)}}function ae(){C(!I)}return null==N||null==R||null==z?null:L(y.default,{timeout:2e3},void 0,(function(e){var r,i,u,l,s,f=e.idle,d=e.onActive;return L(p.default,{className:(0,o.default)(P.default.root,(i={},i[P.default.pipMode]=ee,i[M.default.idle]=f&&!(null===(r=N.config)||void 0===r?void 0:r.useInteractivePIP),
i[P.default.pipModeShort]=ee&&!I,i[P.default.pipModeTall]=ee&&I,i[P.default.hidden]=x,i)),noBorder:!ne&&!ee},void 0,function(e,n){var r;return ee&&null!=N&&(null==z?void 0:z.type)===A.ParticipantTypes.ACTIVITY?(null===(r=N.config)||void 0===r?void 0:r.useInteractivePIP)?L(b.InteractivePIPHeader,{onJumpToChannel:re,applicationId:N.application_id,channel:t,showControls:!n,onMouseMove:e,onMouseEnter:e,onToggleHeight:ae,isExpanded:I}):a.createElement(a.Fragment,null,L("div",{onMouseMove:e,onMouseDown:e,className:P.default.clickShield,onDoubleClick:re}),L(b.PIPOverlay,{idle:n,onJumpToChannel:re,channel:t,applicationId:N.application_id,selectedParticipant:z})):null}(d,f),n?L(E.default,{className:(0,o.default)(P.default.iframe,(u={},u[P.default.pipModeShort]=ee&&!I,u[P.default.pipModeTall]=ee&&I,u))}):L(O.default,{allowPopups:U.has(N.application_id),allowPointerLock:G.has(N.application_id),referrerPolicy:F.has(N.application_id)?"no-referrer":"origin",url:N.url,queryParams:{instance_id:R,
channel_id:t.id,guild_id:t.guild_id},className:(0,o.default)(P.default.iframe,(s={},s[P.default.pipModeShort]=ee&&!I,s[P.default.pipModeTall]=ee&&I,s[P.default.pipNonInteractive]=ee&&!(null===(l=N.config)||void 0===l?void 0:l.useInteractivePIP),s)),shouldRefocus:!ee&&w}),!ee&&L(b.TileOverlay,{participantsOpen:$,showToggleParticipants:te,channelId:t.id}))}))}x.displayName="PersistentIFrame";var V=function(e){var t=e.channel,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,N),r=(0,I.useEmbeddedActivityLifecycle)(t).isLoading;return a.createElement(x,D({channel:t,isLoading:r},n))};V.displayName="PictureInPictureEmbeddedActivity";var W=V;t.default=W},982784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.InteractivePIPHeader=j;t.PIPOverlay=L;t.TileOverlay=function(e){var t=e.channelId,n=e.participantsOpen;return e.showToggleParticipants?w(_.default,{channelId:t,
isParticipantsOpen:n,className:A.default.participantsButton}):null};var r,a=R(n(667294)),o=M(n(294184)),i=n(536211),u=M(n(740207)),l=M(n(469487)),s=M(n(310268)),f=R(n(8475)),d=M(n(770404)),c=M(n(493051)),p=M(n(134893)),v=n(244612),y=M(n(143414)),h=M(n(67286)),m=M(n(866219)),_=M(n(715801)),g=M(n(645675)),E=M(n(635014)),S=M(n(530250)),O=M(n(160490)),b=M(n(775803)),I=n(746920),C=n(478036),T=M(n(247001)),A=M(n(844203)),P=M(n(201768));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e){var t,n=e.onClick,r=e.isExpanded;return w(y.default,{iconClassName:(0,o.default)(A.default.arrowIcon,(t={},t[A.default.arrowIconExpanded]=r,t)),onClick:n,iconComponent:O.default,label:r?T.default.Messages.PICTURE_IN_PICTURE_COLLAPSE:T.default.Messages.PICTURE_IN_PICTURE_EXPAND})}D.displayName="TogglePIPHeightButton";function L(e){var t,n,r=e.channel,a=e.applicationId,o=e.onJumpToChannel,y=e.idle,_=e.selectedParticipant,O=(0,
i.useStateFromStores)([E.default],(function(){return E.default.isVideoEnabled()})),b=(0,i.useStateFromStores)([E.default],(function(){return Object.values(E.default.getVideoDevices())[0]})),T=!1===(null===(t=null==b?void 0:b.disabled)||void 0===t||t),M=(0,l.default)([a])[0],N=(0,d.default)(r),R=function(e){u.default.setVideoEnabled(e)};return w("div",{className:P.default.videoControls},void 0,w("div",{className:P.default.topControls},void 0,w(v.PictureInPictureHeader,{idle:y,title:null!==(n=null==M?void 0:M.name)&&void 0!==n?n:r.name,onJumpToChannel:o,preventIdleComponent:p.default})),w("div",{className:P.default.bottomControls},void 0,w(S.default,{grow:0,shrink:1,basis:"50%",align:S.default.Align.CENTER},void 0,w(g.default,{className:A.default.leftPipIcon,enabled:O,cameraUnavailable:!T,hasPermission:N,onChange:R,onCameraUnavailable:function(){T?R(!0):(0,c.default)()}}),w(p.default,{},void 0,w(s.default,{channelId:r.id,guildId:r.getGuildId(),className:P.default.leftTrayIcon,
participant:_,compact:!0}))),w(S.default,{grow:0,shrink:1,justify:S.default.Justify.END,basis:"50%",align:S.default.Align.CENTER},void 0,w(m.default,{className:A.default.rightPipIcon,popoutOpen:!1,onOpenPopout:function(){f.openChannelCallPopout(r)},onClosePopout:C.NOOP_NULL}),w(h.default,{className:A.default.rightPipIcon,onClick:function(){return(0,I.stopEmbeddedActivity)(r.id,a)}}))))}L.displayName="PIPOverlay";function j(e){var t,n,r=e.onMouseMove,i=e.onMouseEnter,u=e.showControls,s=e.applicationId,f=e.channel,d=e.onJumpToChannel,c=e.onToggleHeight,y=e.isExpanded,m=(0,l.default)([s])[0];return w("div",{className:A.default.pipHeader,onMouseMove:r,onMouseEnter:i},void 0,w("div",{className:(0,o.default)(P.default.topControls,A.default.pipHeaderContent,(t={},t[A.default.pipHeaderContentOpen]=u,t))},void 0,!u&&w(b.default,{className:A.default.menuIcon,width:12,height:12}),u&&a.createElement(a.Fragment,null,w(v.PictureInPictureHeader,{idle:!u,
title:null!==(n=null==m?void 0:m.name)&&void 0!==n?n:f.name,onJumpToChannel:d,preventIdleComponent:p.default}),w("div",{className:A.default.pipHeaderButtonsRight},void 0,w(D,{isExpanded:y,onClick:c}),w(h.default,{iconClassName:A.default.leaveActivityIcon,onClick:function(){return(0,I.stopEmbeddedActivity)(f.id,s)}})))))}j.displayName="InteractivePIPHeader"},777787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,a,o){void 0===o&&(o=null);var i=s.default.getVoiceChannelId(),f=u.default.getChannel(i),d=null==f?void 0:f.getGuildId(),p=l.default.getGuild(d);if(null==i||null==d||null==p)return Promise.resolve(!1);var y=p.premiumTier,m=null!==o?null==e?void 0:e.getPremiumTierLevelForTreatment(o):null==e?void 0:e.activityPremiumTierLevel;if(null!=y){h.BoostedGuildFeatures[y].limits.maxConcurrentActivities,c.default.getEmbeddedActivitiesForGuild(d).length;if(null!=m&&y<m){(0,r.default)({analyticsSourceLocation:n,guild:p,targetBoostedGuildTier:m})
;return Promise.resolve(!1)}0}return null!=t?new Promise((function(r){(0,v.default)(t,e,(function(){r(S(i,d,n,e))}),(function(){return r(!1)}),a)})):S(i,d,n,e)};var r=_(n(567563)),a=_(n(902305)),o=_(n(736632)),i=n(139982),u=_(n(644263)),l=_(n(30098)),s=_(n(211136)),f=_(n(728429)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(746920)),c=_(n(303798)),p=_(n(118685)),v=_(n(575532)),y=(_(n(713463)),n(770348)),h=n(265517);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}
}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function S(e,t,n,r){return O.apply(this,arguments)}function O(){return(O=E(regeneratorRuntime.mark((function e(t,n,r,u){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(l=f.default.getCurrentUser())&&null!=u){e.next=3;break}return e.abrupt("return",!1);case 3:e.next=5;return d.startEmbeddedActivity(t,{application_id:u.id,name:u.name});case 5:a.default.getWindowOpen(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT)?(0,o.default)(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT):(0,i.transitionTo)(y.Routes.CHANNEL(n,t));(0,p.default)({type:y.AnalyticsGameOpenTypes.LAUNCH,userId:l.id,applicationId:u.id,locationObject:r});return e.abrupt("return",!0)
;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},480831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,o.hasFlag)(null!==(t=e.flags)&&void 0!==t?t:0,i.ApplicationFlags.EMBEDDED),r=a.default.getWindowOpen(i.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return n&&r};var r,a=(r=n(902305))&&r.__esModule?r:{default:r},o=n(685677),i=n(770348)},322946:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return"activityembed:"+e+":"+t}},713463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){(0,a.openModalLazy)(s(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(29041)]).then(n.bind(n,29041));case 2:a=t.sent;i=a.default;return t.abrupt("return",(function(t){return r.createElement(i,u({},t,{targetBoostedGuildTier:(0,
o.getTargetBoostTierForConcurrentActivities)(e.targetConcurrentActivities),guild:e.guild,channelId:e.channelId,analyticsLocation:e.analyticsLocation}))}));case 5:case"end":return t.stop()}}),t)}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(194322),o=n(682937);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return u.apply(this,arguments)}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)}))}}},648927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useEmbeddedActivityLifecycle=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=l(n(423046)),i=n(746920),u=l(n(303798));function l(e){
return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.useEmbeddedActivityLifecycle=function(e){var t=o.default.getId(),n=(0,a.useStateFromStoresObject)([u.default],(function(){var n,r=u.default.getSelfEmbeddedActivityForChannel(e.id),a=null===(n=u.default.getEmbeddedActivitiesForChannel(e.id).find((function(e){return e.application_id===(null==r?void 0:r.application_id)})))||void 0===n?void 0:n.userIds,o=null==a?void 0:a.has(t);return{userActivity:r,inActivity:null!=o&&o}})),l=n.userActivity,s=n.inActivity;r.useEffect((function(){s||(0,i.launchEmbeddedActivity)(e.id)}),[null==l?void 0:l.application_id,e.id,s]);r.useEffect((function(){return function(){(null==l?void 0:l.application_id)&&(0,i.disconnectEmbeddedActivity)(e.id,null==l?void 0:l.application_id)}}),[e.id,null==l?void 0:l.application_id]);return{isLoading:!s}}},723220:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.closeAgeGateModal=function(){r.default.wait((function(){return r.default.dispatch({type:i.ActionTypes.AGE_GATE_MODAL_CLOSE})}))};t.closeFailedAgeGate=function(){r.default.dispatch({type:i.ActionTypes.LOGOUT});(0,a.transitionTo)(i.Routes.LOGIN)};t.openAgeGateModal=function(e){o.default.track(i.AnalyticEvents.OPEN_MODAL,{type:"Enter Your Birthday",source:{section:e}});r.default.dispatch({type:i.ActionTypes.AGE_GATE_MODAL_OPEN,source:e})};t.openFailureAgeGateModal=function(e){r.default.wait((function(){r.default.dispatch({type:i.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,underageMessage:e})}))};t.openSuccessAgeGateModal=function(){r.default.wait((function(){r.default.dispatch({type:i.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN})}))};var r=u(n(636602)),a=n(139982),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},160866:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.AgeRestrictedGuildsExperiment=void 0;t.userNeedsAgeGate=function(){var e=a.default.getCurrentUser();return null!=e&&o.default.extractTimestamp(e.id)>u.getTime()&&!e.isClaimed()&&null==e.nsfwAllowed};var r=n(373505),a=i(n(728429)),o=i(n(71636));function i(e){return e&&e.__esModule?e:{default:e}}var u=new Date("06/16/2020");var l=(0,r.createExperiment)({id:"2021-05_age_restricted_guilds",label:"Process age restricted guilds",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"On",config:{enabled:!0}}]});t.AgeRestrictedGuildsExperiment=l},676817:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=h(n(636602)),o=h(n(177230)),i=h(n(644263)),u=h(n(211136)),l=h(n(790597)),s=h(n(728429)),f=n(194322),d=n(723220),c=h(n(632062)),p=h(n(242049)),v=n(78330),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){
g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function O(e,t){var n;if(null!=e){var r=s.default.getCurrentUser();(null===(n=i.default.getChannel(t))||void 0===n?void 0:n.isNSFW())&&null!=r&&null==r.nsfwAllowed&&(0,d.openAgeGateModal)(v.AgeGateSource.NSFW_CHANNEL)}}var b=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var o=t.prototype;o._initialize=function(){a.default.subscribe(y.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);a.default.subscribe(y.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect);a.default.subscribe(y.ActionTypes.AGE_GATE_MODAL_OPEN,this.handleAgeGateModalOpen);a.default.subscribe(y.ActionTypes.AGE_GATE_MODAL_CLOSE,this.handleAgeGateModalClose);a.default.subscribe(y.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN,this.handleAgeGateSuccess)
;a.default.subscribe(y.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,this.handleAgeGateFailure)};o._terminate=function(){a.default.unsubscribe(y.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);a.default.unsubscribe(y.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect);a.default.unsubscribe(y.ActionTypes.AGE_GATE_MODAL_OPEN,this.handleAgeGateModalOpen);a.default.unsubscribe(y.ActionTypes.AGE_GATE_MODAL_CLOSE,this.handleAgeGateModalClose);a.default.unsubscribe(y.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN,this.handleAgeGateSuccess);a.default.unsubscribe(y.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,this.handleAgeGateFailure)};o.handleChannelSelect=function(e){O(e.guildId,e.channelId)};o.handleConnectionOpen=function(){O(l.default.getGuildId(),u.default.getChannelId())};o.handleAgeGateModalOpen=function(){(0,f.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(73167)]).then(n.bind(n,273167));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:v.EXISTING_USER_AGE_GATE_MODAL_KEY,onCloseRequest:y.NOOP})};o.handleAgeGateSuccess=function(){(0,f.updateModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY,(function(e){return r.createElement(p.default,e)}))};o.handleAgeGateFailure=function(e){var t=e.underageMessage;(0,f.updateModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY,(function(e){return r.createElement(c.default,_({underageMessage:t},e))}))};o.handleAgeGateModalClose=function(){(0,f.closeModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY)};return t}(o.default));t.default=b},632062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;_(n(667294));var r,a=n(47354),o=n(139982),i=_(n(956117)),u=n(354479),l=n(3400),s=h(n(971639)),f=h(n(776360)),d=h(n(550270)),c=n(723220),p=n(770348),v=h(n(247001)),y=h(n(987953))
;function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.underageMessage,r=e.transitionState,h=(0,u.useUID)();return g(l.ModalRoot,{transitionState:r,size:l.ModalSize.SMALL,"aria-labelledby":h,impressionName:a.ImpressionNames.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0}},void 0,g(l.ModalContent,{},void 0,g("div",{className:y.default.container},void 0,g("img",{alt:"",src:n(697694),className:y.default.img}),g(s.default,{size:s.default.Sizes.SIZE_24,className:y.default.title,id:h},void 0,v.default.Messages.AGE_GATE_UNDERAGE_EXISTING_HEADER),g(f.default,{color:f.default.Colors.HEADER_SECONDARY,className:y.default.subtitle},void 0,v.default.Messages.AGE_GATE_UNDERAGE_BODY.format({underageMessage:t||v.default.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_MESSAGE,helpURL:d.default.getArticleURL(p.HelpdeskArticles.AGE_GATE)})),g(f.default,{color:f.default.Colors.HEADER_SECONDARY,className:y.default.subtitle
},void 0,v.default.Messages.AGE_GATE_UNDERAGE_EXISTING_BODY_DELETION_WITH_DAYS.format({days:30})))),g(l.ModalFooter,{},void 0,g(i.default,{size:i.ButtonSizes.SMALL,fullWidth:!0,onClick:function(){(0,c.closeAgeGateModal)();(0,o.transitionTo)(p.Routes.LOGIN)}},void 0,v.default.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN)))}E.displayName="ExistingUserAgeGateUnderage"},242049:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;y(n(667294));var r,a=n(47354),o=y(n(956117)),i=n(354479),u=n(3400),l=p(n(971639)),s=p(n(776360)),f=n(723220),d=p(n(247001)),c=p(n(206052));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.transitionState,r=(0,i.useUID)();return h(u.ModalRoot,{transitionState:t,size:u.ModalSize.SMALL,"aria-labelledby":r,impressionName:a.ImpressionNames.USER_AGE_GATE,impressionProperties:{existing_user:!0}},void 0,h(u.ModalContent,{},void 0,h("div",{className:c.default.container},void 0,h("img",{alt:"",src:n(145911),
className:c.default.img}),h(l.default,{size:l.default.Sizes.SIZE_24,className:c.default.title,id:r},void 0,d.default.Messages.AGE_GATE_AGE_VERIFIED),h(s.default,{color:s.default.Colors.HEADER_SECONDARY,className:c.default.subtitle},void 0,d.default.Messages.AGE_GATE_AGE_VERIFIED_BODY))),h(u.ModalFooter,{},void 0,h(o.default,{size:o.ButtonSizes.SMALL,fullWidth:!0,onClick:function(){(0,f.closeAgeGateModal)()},autoFocus:!0},void 0,d.default.Messages.CLOSE)))}m.displayName="ExistingUserAgeGateVerified"},108101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.REPORT_MESSAGE_MODAL_KEY=void 0;var r,a=v(n(667294)),o=c(n(598694)),i=c(n(268660)),u=n(3400),l=v(n(174687)),s=c(n(817105)),f=c(n(247001)),d=c(n(50710));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E;t.REPORT_MESSAGE_MODAL_KEY="REPORT_MESSAGE";!function(e){e[e.REPORT_MESSAGE=0]="REPORT_MESSAGE";e[e.SUCCESS=1]="SUCCESS"}(E||(E={}));var S=[E.REPORT_MESSAGE,E.SUCCESS],O=y(l.ErrorState,{}),b=function(e){var t=e.message,n=e.channel,r=e.onClose,c=e.transitionState,p=_(a.useState(!1),2),v=p[0],h=p[1],g=_(a.useState(null),2),b=g[0],I=g[1],C=_(a.useState(E.REPORT_MESSAGE),2),T=C[0],A=C[1],P=_(a.useState(null),2),M=P[0],N=P[1],R=_(a.useState(null),2),w=R[0],D=R[1];a.useEffect((function(){var e=function(){var e=m(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.tokenizeReportedMessage(n.id,t.id);case 3:r=e.sent
;I(r);e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);h(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=m(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return o.default.getOptions();case 2:t=e.sent;n=t.typeOptions;r=t.subTypeOptions;N(n);D(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();v||r()}),[n.id,v,t.id]);var L=y(l.default,{token:b,message:t,channel:n,onClose:r,onSuccess:function(){A(E.SUCCESS)},typeOptions:M,subTypeOptions:w}),j=y(s.default,{message:t,channel:n,onClose:r});return y(u.ModalRoot,{transitionState:c,size:u.ModalSize.DYNAMIC,className:d.default.modal,"aria-label":f.default.Messages.REPORT_MODAL_REPORT_MESSAGE},void 0,v?O:y(i.default,{step:T,steps:S},void 0,T===E.REPORT_MESSAGE?null==M||null==w||null==b?null:L:j))}
;b.displayName="ReportMessageModal";var I=b;t.default=I},174687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.REPORT_MESSAGE_MODAL_KEY=t.ErrorState=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=S(n(598694)),i=n(483559),u=S(n(844784)),l=S(n(2914)),s=S(n(956117)),f=S(n(682473)),d=S(n(39118)),c=S(n(279950)),p=n(688388),v=n(3400),y=S(n(971639)),h=n(967965),m=S(n(582945)),_=n(770348),g=S(n(247001)),E=S(n(50710));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.REPORT_MESSAGE_MODAL_KEY="REPORT_MESSAGE";var A=function(e){var t=e.className;return T(f.default,{className:t},void 0,g.default.Messages.REPORT_MODAL_ERROR.format({tnsReportUrl:"https://dis.gd/request"}))};t.ErrorState=A;A.displayName="ErrorState";var P=function(e){
var t,n,r=e.token,f=e.channel,S=e.message,O=e.typeOptions,C=e.subTypeOptions,P=e.onClose,M=e.onSuccess,N=I(a.useState(null),2),R=N[0],w=N[1],D=I(a.useState(null),2),L=D[0],j=D[1],k=I(a.useState(""),2),U=k[0],G=k[1],F=I(a.useState(""),2),x=F[0],V=F[1],W=I(a.useState(!1),2),H=W[0],B=W[1],z=I(a.useState(!1),2),Y=z[0],$=z[1],K=null!=R&&null!=C[R],q=null!=L||!K,Z=function(e){if(R!==e){w(e);j(null)}},X=function(e){L!==e&&j(e)},Q=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=R){e.next=2;break}return e.abrupt("return");case 2:B(!0);e.prev=3;e.next=6;return(0,i.fetchProfile)(f.getRecipientId(),{withMutualGuilds:!0});case 6:n=e.sent;a=null==n||null===(t=n.mutual_guilds)||void 0===t?void 0:t.map((function(e){return e.id}));u.default.trackWithMetadata(_.AnalyticEvents.MESSAGE_REPORTED,{report_type:R,report_sub_type:L,subject:U,description:x,location_object:"report_message_modal",
guild_id:f.getGuildId(),channel_id:f.id,message_id:S.id,mutual_guild_ids:a});e.next=11;return o.default.submitReport(r,R,L,U,x);case 11:B(!1);M();e.next=19;break;case 15:e.prev=15;e.t0=e.catch(3);B(!1);$(!0);case 19:case"end":return e.stop()}}),e,null,[[3,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),J=T(c.default,{value:U,onChange:G}),ee=T(d.default,{value:x,onChange:V});return a.createElement(a.Fragment,null,T(v.ModalContent,{className:E.default.content},void 0,T(y.default,{className:E.default.modalHeader,size:y.default.Sizes.SIZE_24},void 0,g.default.Messages.REPORT_MODAL_REPORT_MESSAGE),Y&&T(A,{className:E.default.formItem}),T(p.FormItem,{title:g.default.Messages.REPORT_MODAL_MESSAGE_SELECTED,className:E.default.formItem},void 0,T(m.default,{className:E.default.message},void 0,T(l.default,{
channel:f,message:S,animateAvatar:!1,disableInteraction:!0}))),(t=O.find((function(e){return e.value===R})),n=null!=t?t.description:null,a.createElement(a.Fragment,null,T(p.FormItem,{className:E.default.formItem,title:g.default.Messages.REPORT_MODAL_TYPE_TITLE,required:!0},void 0,T(h.SingleSelect,{placeholder:g.default.Messages.REPORT_MODAL_SELECT_ONE,options:O,value:R,onChange:Z,maxVisibleItems:6})),T(p.FormText,{type:p.FormText.Types.DESCRIPTION,className:E.default.description},void 0,n))),null!=R&&K?T(p.FormItem,{title:C[R].subTypeQuestion,className:E.default.formItem,required:!0},void 0,T(h.SingleSelect,{placeholder:g.default.Messages.REPORT_MODAL_SELECT_ONE,options:C[R].subTypes,value:L,onChange:X})):null,null!=R&&q?a.createElement(a.Fragment,null,T(p.FormItem,{title:g.default.Messages.REPORT_MODAL_SUBJECT,className:E.default.formItem,required:!0},void 0,J),T(p.FormItem,{title:g.default.Messages.REPORT_MODAL_DESCRIPTION,className:E.default.formItem,required:!0
},void 0,ee,T(p.FormText,{type:p.FormText.Types.DESCRIPTION,className:E.default.description},void 0,g.default.Messages.REPORT_MODAL_DESCRIPTION_MIN_MAX.format({min:0,max:800})),x.length>800?T(p.FormText,{type:p.FormText.Types.DESCRIPTION,className:E.default.descriptionError},void 0,g.default.Messages.REPORT_MODAL_DESCRIPTION_MAX_EXCEEDED):null)):null),T(v.ModalFooter,{className:E.default.footer},void 0,T(s.default,{color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK,onClick:P},void 0,g.default.Messages.CANCEL),T(s.default,{onClick:Q,disabled:!q||0===U.length||x.length<0||x.length>800,submitting:H},void 0,g.default.Messages.REPORT_MODAL_SUBMIT)))};t.default=P},817105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(786345)),i=h(n(237923)),u=h(n(2914)),l=h(n(956117)),s=n(688388),f=n(3400),d=h(n(971639)),c=h(n(582945)),p=n(770348),v=h(n(247001)),y=h(n(50710));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.onClose,n=e.message,r=e.channel,h=null==r.guild_id,m=h?v.default.Messages.REPORT_MODAL_SHOULD_BLOCK:v.default.Messages.REPORT_MODAL_SHOULD_DELETE,g=h?v.default.Messages.REPORT_MODAL_BLOCK_USER:v.default.Messages.DELETE_MESSAGE;return a.createElement(a.Fragment,null,_(f.ModalContent,{className:y.default.successModalContent},void 0,_(d.default,{size:d.default.Sizes.SIZE_24},void 0,v.default.Messages.REPORT_MODAL_SUBMITTED),_(s.FormText,{type:s.FormText.Types.DESCRIPTION,className:y.default.successModalText},void 0,v.default.Messages.REPORT_MODAL_SUBMITTED_EMAIL_CONFIRMATION),_(s.FormItem,{className:y.default.messageFormItem,title:m},void 0,_(c.default,{className:y.default.message},void 0,_(u.default,{channel:r,message:n,animateAvatar:!1,disableInteraction:!0})))),_(f.ModalFooter,{className:y.default.footer},void 0,_(l.default,{color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:t
},void 0,v.default.Messages.CLOSE),_(l.default,{look:l.default.Looks.FILLED,color:l.default.Colors.RED,onClick:function(){h?i.default.addRelationship(n.author.id,{location:"Report Modal"},p.RelationshipTypes.BLOCKED):o.default.deleteMessage(r.id,n.id);t()}},void 0,g)))};t.default=g},504010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(392820).Z;t.default=r},392820:(e,t)=>{"use strict";({value:!0});t.Z=function(){return{}}},621287:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.makeAuthenticated=function(e,t,n){var r=p(t,{});void 0===n&&(n={passProps:!0});function a(a){if(!(0,s.isAuthenticated)()&&!(0,s.isGuest)()&&l.default.getLoginStatus()!==f.LoginStates.LOGGING_IN&&l.default.allowLogoutRedirect()){if(null!=t)return r;var c=location.pathname+location.search,v=d.CONFERENCE_MODE_ENABLED?f.Routes.REGISTER:(0,u.getLoginPath)(c,!1);return p(i.Redirect,{to:v})}return o.createElement(e,n.passProps?a:null)}
a.displayName="Authenticated("+(e.displayName||e.name||"<Unknown>")+")";return a};var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=n(505977),u=n(904312),l=(r=n(423046))&&r.__esModule?r:{default:r},s=n(549186),f=n(770348),d=n(27577);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},892057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchBlockedDomainList=function(){return s.apply(this,arguments)};var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}function s(){return(s=l(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.get({
url:"https://cdn.discordapp.com/bad-domains/hashes.json"});case 2:t=e.sent;n=t.body;a.default.dispatch({type:o.ActionTypes.BLOCKED_DOMAIN_LIST_FETCHED,list:n});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},694450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(177230))&&r.__esModule?r:{default:r},o=n(892057);function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){(0,o.fetchBlockedDomainList)();this.intervalID=setInterval(o.fetchBlockedDomainList,144e5)};n._terminate=function(){clearInterval(this.intervalID)};return t}(a.default));t.default=u},322785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={setCallChatToastsEnabled:function(e,t){a.default.dispatch({type:o.ActionTypes.CALL_CHAT_TOASTS_SET_ENABLED,channelId:e,toastsEnabled:t})}};t.default=i},316309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(177230)),a=d(n(796608)),o=d(n(27245)),i=d(n(919935)),u=d(n(663303)),l=d(n(387692)),s=d(n(487372)),f=n(179379);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=(0,f.createSoundForPack)("call_calling",a.default.getSoundpack()),v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){o.default.addChangeListener(this.handleRingUpdate);i.default.addChangeListener(this.handleRingUpdate)
;u.default.addChangeListener(this.handleRingUpdate);l.default.addChangeListener(this.handleRingUpdate);a.default.addChangeListener(this.handleSoundpackUpdate)};n._terminate=function(){o.default.removeChangeListener(this.handleRingUpdate);i.default.removeChangeListener(this.handleRingUpdate);u.default.removeChangeListener(this.handleRingUpdate);l.default.removeChangeListener(this.handleRingUpdate);a.default.removeChangeListener(this.handleSoundpackUpdate)};n.handleSoundpackUpdate=function(){p.stop();p=(0,f.createSoundForPack)("call_calling",a.default.getSoundpack())};n.handleRingUpdate=function(){var e=o.default.getCalls().filter((function(e){return e.ringing.length>0&&l.default.getCurrentClientVoiceChannelId(null)===e.channelId})),t=l.default.getCurrentClientVoiceChannelId(null);!(null!=t&&s.default.countVoiceStatesForChannel(t)>=2)&&e.length>0&&!i.default.isSoundDisabled("call_calling")&&!u.default.disableSounds?p.loop():p.stop()};return t}(r.default));t.default=v},845607:(e,t)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SelfStreamAndVideoAlertType=void 0;var n;t.SelfStreamAndVideoAlertType=n;!function(e){e[e.STREAM=0]="STREAM";e[e.VIDEO=1]="VIDEO"}(n||(t.SelfStreamAndVideoAlertType=n={}))},235398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(177230)),a=i(n(893160)),o=i(n(825724));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){o.default.addChangeListener(this.handleFocusParticipant)};n._terminate=function(){o.default.removeChangeListener(this.handleFocusParticipant)};n.handleFocusParticipant=function(){var e=a.default.getChannelId();if(null!=e){
var t,n,r=o.default.getSelectedParticipantId(e),i=o.default.getVideoParticipants(e);null===(t=a.default.getRTCConnection())||void 0===t||t.setSelectedParticipant(null===(n=i.find((function(e){return e.id===r&&!e.localVideoDisabled})))||void 0===n?void 0:n.id)}};return t}(r.default));t.default=l},915502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t)return a.default.Messages.SERVER_DEAFENED_DIALOG_TITLE;return e?a.default.Messages.UNDEAFEN:a.default.Messages.DEAFEN};var r,a=(r=n(247001))&&r.__esModule?r:{default:r}},945926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){if(n)return a.default.Messages.SUPPRESSED;if(t)return a.default.Messages.SERVER_MUTED_DIALOG_TITLE;return e?a.default.Messages.UNMUTE:a.default.Messages.MUTE};var r,a=(r=n(247001))&&r.__esModule?r:{default:r}},66384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
return i[e]};var r,a=n(859089),o=n(376293),i=Object.freeze(((r={})[a.ParticipantTypes.STREAM]=o.MediaEngineContextTypes.STREAM,r[a.ParticipantTypes.HIDDEN_STREAM]=o.MediaEngineContextTypes.STREAM,r[a.ParticipantTypes.USER]=o.MediaEngineContextTypes.DEFAULT,r[a.ParticipantTypes.ACTIVITY]=o.MediaEngineContextTypes.DEFAULT,r))},831566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(0,r.useStateFromStores)([i.default],(function(){return i.default.getId()})),u=(0,r.useStateFromStores)([o.default],(function(){var t=o.default.getStreamForUser(n);return null!=t&&t.channelId===e}),[e,n]),l=(0,r.useStateFromStores)([o.default],(function(){return o.default.isSelfStreamHidden(e)}),[e]);return[(null==t||t===n)&&u,l,function(t){(0,a.toggleSelfStreamHidden)(e,t)}]};var r=n(536211),a=n(123516),o=u(n(607209)),i=u(n(423046));function u(e){return e&&e.__esModule?e:{default:e}}},25077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=function(e,t){void 0===t&&(t=u.MediaEngineContextTypes.DEFAULT);var n=(0,r.useStateFromStores)([o.default],(function(){return o.default.getId()})),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.supports(u.Features.DISABLE_VIDEO)&&i.default.isVideoEnabled()})),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.isLocalVideoDisabled(n,t)}),[n,t]);return[(null==e||e===n)&&(l||s),s,function(e){a.default.setDisableLocalVideo(n,e,t)}]};var r=n(536211),a=l(n(740207)),o=l(n(423046)),i=l(n(635014)),u=n(376293);function l(e){return e&&e.__esModule?e:{default:e}}},190320:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;m(n(667294));var r,a=y(n(284382)),o=m(n(145122)),i=y(n(989546)),u=y(n(197105)),l=y(n(793963)),s=y(n(441072)),f=y(n(16505)),d=y(n(815267)),c=n(770348),p=y(n(247001)),v=y(n(741937));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){
var t=e.onClose,n=e.renderOutputDevices,r=void 0!==n&&n,y=e.renderInputDevices,h=void 0!==y&&y,m=e.renderInputModes,g=void 0!==m&&m,E=e.renderInputVolume,S=void 0!==E&&E,O=e.renderOutputVolume,b=void 0!==O&&O,I=e.onSelect,C=(0,d.default)(),T=(0,s.default)(),A=(0,f.default)(),P=(0,i.default)(),M=(0,u.default)(),N=(0,l.default)();return _(a.default,{object:c.AnalyticsObjects.CONTEXT_MENU},void 0,_(o.default,{onSelect:I,className:v.default.menu,onClose:t,navId:"audio-device-context","aria-label":p.default.Messages.AUDIO_DEVICE_ACTIONS},void 0,h?_(o.MenuGroup,{label:p.default.Messages.INPUT_DEVICE},void 0,T):null,r?_(o.MenuGroup,{label:p.default.Messages.OUTPUT_DEVICE},void 0,A):null,g?_(o.MenuGroup,{label:p.default.Messages.FORM_LABEL_INPUT_MODE},void 0,P):null,_(o.MenuGroup,{},void 0,S?M:null,b?N:null,C)))}g.displayName="AudioDeviceMenu"},803121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i=Oe(n(667294)),u=Ee(n(294184)),l=Ee(n(441143)),s=n(536211),f=n(91817),d=Ee(n(636602)),c=Ee(n(229132)),p=n(378158),v=Ee(n(136873)),y=n(123516),h=Ee(n(929031)),m=Ee(n(833692)),_=Ee(n(989418)),g=Ee(n(284382)),E=Ee(n(673997)),S=Oe(n(33273)),O=Ee(n(198016)),b=n(844784),I=n(747868),C=n(385753),T=Oe(n(8475)),A=Ee(n(902305)),P=n(139982),M=Ee(n(174508)),N=Ee(n(839166)),R=Ee(n(828839)),w=Ee(n(531334)),D=Ee(n(625905)),L=Ee(n(134893)),j=Ee(n(48102)),k=Ee(n(430251)),U=Ee(n(116790)),G=Ee(n(146529)),F=Ee(n(278851)),x=Ee(n(336156)),V=Ee(n(866219)),W=Ee(n(861891)),H=Ee(n(561603)),B=Ee(n(607209)),z=Ee(n(423046)),Y=Ee(n(938199)),$=Ee(n(27245)),K=Ee(n(30098)),q=Ee(n(689389)),Z=Ee(n(191391)),X=Ee(n(211136)),Q=Ee(n(728429)),J=Ee(n(387692)),ee=Ee(n(530250)),te=n(248685),ne=n(598671),re=Ee(n(308920)),ae=n(319986),oe=n(956506),ie=n(864489),ue=n(518802),le=Ee(n(922629)),se=n(245838),fe=Ee(n(825724)),de=Ee(n(66384)),ce=Ee(n(818994)),pe=Ee(n(368464)),ve=Ee(n(789659)),ye=Ee(n(310268)),he=n(859089),me=n(770348),_e=Ee(n(247001)),ge=Ee(n(661073))
;function Ee(e){return e&&e.__esModule?e:{default:e}}function Se(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Se=function(e){return e?n:t})(e)}function Oe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Se(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function be(){be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return be.apply(this,arguments)}function Ie(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ce(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ie(o,r,a,i,u,"next",e)}function u(e){Ie(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Ae(e,t){Ae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ae(e,t)}function Pe(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Re=((r={})[me.ChannelLayouts.NORMAL]=ge.default.normal,
r[me.ChannelLayouts.MINIMUM]=ge.default.minimum,r[me.ChannelLayouts.NO_CHAT]=ge.default.noChat,r[me.ChannelLayouts.FULL_SCREEN]=ge.default.fullScreen,r),we=((a={})[me.AppContext.POPOUT]=ge.default.popout,a[me.AppContext.APP]=null,a[me.AppContext.OVERLAY]=null,a);function De(e){var t=e.resizableNode,n=e.onResize,r=e.onResizeEnd,a=e.maxHeight,o=Me(i.useState(null),2),u=o[0],l=o[1];i.useEffect((function(){var e,n;l(null!==(e=null===(n=t.current)||void 0===n?void 0:n.offsetHeight)&&void 0!==e?e:null)}),[t]);return Pe("div",{onMouseDown:(0,S.default)({initialElementDimension:u,minDimension:200,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:S.ResizeOrientation.VERTICAL}),className:ge.default.resizeHandle})}De.displayName="ResizeHandle";var Le=Pe(te.AppLayerContainer,{}),je=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ae(e,t)}(t,e);function t(){
for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this)._prevLayout=me.ChannelLayouts.MINIMUM;t._wrapperRef=i.createRef();t._contentRef=i.createRef();t._videoBackgroundTooltipTimeout=new f.Timeout;t._lastIdleProps=null;t.state={resizedHeight:M.default.callHeaderHeight};t.handleFullScreenChange=function(){var e=t.getRootNode();null!=e&&((0,se.isFullScreen)(e,t.currentDocument)||t.props.layout!==me.ChannelLayouts.FULL_SCREEN||t.handleFullScreen())};t.handleFullScreen=function(){var e=t.getRootNode();if(null!=e)if(t.props.layout!==me.ChannelLayouts.FULL_SCREEN){t._prevLayout=t.props.layout;t.handleChangeLayout(me.ChannelLayouts.FULL_SCREEN);(0,se.requestFullScreen)(e,m.default.resized)}else t.maybeLeaveFullScreen()};t.maybeLeaveFullScreen=function(){var e=t.getRootNode();if(null!=e&&t.props.layout===me.ChannelLayouts.FULL_SCREEN){t.handleChangeLayout(t._prevLayout);(0,se.exitFullScreen)(e,m.default.resized,t.currentDocument)}}
;t.handleToggleLayout=function(){t.handleChangeLayout(t.props.layout===me.ChannelLayouts.NORMAL?me.ChannelLayouts.NO_CHAT:me.ChannelLayouts.NORMAL)};t.handleChangeLayout=function(e){var n=t.props,r=n.channel,a=n.appContext;if(n.layout!==e){c.default.updateLayout(r.id,e,a);e===me.ChannelLayouts.FULL_SCREEN&&r.isPrivate()&&oe.ComponentDispatch.dispatch(me.ComponentActions.TEXTAREA_BLUR)}};t.handleDisconnect=function(){t.props.layout===me.ChannelLayouts.FULL_SCREEN&&t.handleFullScreen()};t.handleContextMenu=function(e,r){var a,o,u=t.props,s=u.channel,f=u.appContext,d=u.layout,c=!(d===me.ChannelLayouts.FULL_SCREEN)&&!t.inPopout,v={onClose:function(){var e;return null===(e=t._lastIdleProps)||void 0===e?void 0:e.onAllowIdle("menu")},context:f};null===(a=t._lastIdleProps)||void 0===a||a.onPreventIdle("menu");null===(o=t._lastIdleProps)||void 0===o||o.onActive();switch(e.type){case he.ParticipantTypes.HIDDEN_STREAM:case he.ParticipantTypes.STREAM:(0,
p.openContextMenuLazy)(r,Ce(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return n.e(96434).then(n.bind(n,596434));case 2:a=r.sent;o=a.default;return r.abrupt("return",(function(n){return i.createElement(o,be({},n,{stream:e.stream,exitFullscreen:t.maybeLeaveFullScreen,appContext:f}))}));case 5:case"end":return r.stop()}}),r)}))),v);return;case he.ParticipantTypes.USER:var y=Q.default.getUser(e.id);if(null!=y)switch(s.type){case me.ChannelTypes.DM:return(0,p.openContextMenuLazy)(r,Ce(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(81085)]).then(n.bind(n,81085));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return Pe(ce.default.Provider,{value:f},void 0,i.createElement(r,be({},e,{showChannelCallItems:!0,showMediaItems:!0,user:y,channel:s,
showModalItems:c})))}));case 5:case"end":return e.stop()}}),e)}))),v);case me.ChannelTypes.GROUP_DM:return(0,p.openContextMenuLazy)(r,Ce(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(66822)]).then(n.bind(n,566822));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return Pe(ce.default.Provider,{value:f},void 0,i.createElement(r,be({},e,{showChannelCallItems:!0,showMediaItems:!0,showChatItems:d===me.ChannelLayouts.MINIMUM||d===me.ChannelLayouts.NORMAL,user:y,channel:s,showModalItems:c})))}));case 5:case"end":return e.stop()}}),e)}))),v);case me.ChannelTypes.GUILD_VOICE:var h=s.getGuildId();(0,l.default)(null!=h,"GuildID null for guild voice channel");return(0,p.openContextMenuLazy)(r,Ce(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(41501),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return Pe(ce.default.Provider,{value:f},void 0,i.createElement(r,be({},e,{showMediaItems:!0,showChannelCallItems:!0,showChatItems:!1,user:y,channelId:s.id,guildId:h,showModalItems:c})))}));case 5:case"end":return e.stop()}}),e)}))),v)}}};t.handleCallResize=function(e){t.setState({resizedHeight:e})};t.handleSelectParticipant=function(e,n){var r=t.props,a=r.channel,o=r.selectedParticipant,i=r.allActiveStreams,u=r.inCall,l=r.mode;if((0,he.isStreamParticipant)(e)){v.default.selectVoiceChannel(a.id);if(0===i.filter((function(t){return(0,I.encodeStreamKey)(t)===e.id&&t.state!==me.ApplicationStreamStates.ENDED})).length){if(!(0,C.canWatchStream)(a,J.default,K.default,q.default))return;(0,y.watchStream)((0,I.decodeStreamKey)(e.id),{forceMultiple:n.shiftKey})}}
u&&l===me.ChannelModes.VIDEO&&((null==o?void 0:o.id)===e.id?c.default.selectParticipant(a.id,null):c.default.selectParticipant(a.id,e.id))};t.handleOpenPopout=function(){var e=t.props.channel,n=e.getGuildId();null!=n&&(0,P.transitionTo)((0,ae.previousTextChannelRouteForGuild)(n));T.openChannelCallPopout(e)};t.handleStayOnTop=function(e){T.setAlwaysOnTop(me.PopoutWindowKeys.CHANNEL_CALL_POPOUT,e)};t.handleClosePopout=function(){T.close(me.PopoutWindowKeys.CHANNEL_CALL_POPOUT)};t.handleFullscreenParticipant=function(e,n){var r=t.props,a=r.layout,o=r.selectedParticipant,i=a===me.ChannelLayouts.FULL_SCREEN;(!i&&(null==o?void 0:o.id)!==e.id||i&&(null==o?void 0:o.id)===e.id)&&t.handleSelectParticipant(e,n);t.handleFullScreen()};t.renderRegionSelect=function(){var e,n=t.props,r=n.call,a=n.channel,o=n.layout;t.inPopout||o===me.ChannelLayouts.FULL_SCREEN||null==r||a.isManaged()||(e=Pe(_.default,{call:r}));return Pe(ee.default,{justify:ee.default.Justify.END},void 0,e)}
;t.renderBottomCenter=function(){var e=t.props,n=e.channel,r=e.mode,a=e.inCall,o=e.layout;return a||o===me.ChannelLayouts.MINIMUM||o===me.ChannelLayouts.NORMAL?Pe(N.default,{exitFullScreen:t.maybeLeaveFullScreen,channel:n,mode:r,onDisconnectCall:t.handleDisconnect}):null};t.renderBottomLeft=function(){var e=t.props,n=e.layout,r=e.mentionCount,a=e.channel,o=e.appContext,u=e.useNewInviteButton,l=e.selectedParticipant;if(!e.inCall)return null;var s=n===me.ChannelLayouts.NO_CHAT?U.default.Directions.UP:U.default.Directions.DOWN,f=[me.ChannelLayouts.FULL_SCREEN,me.ChannelLayouts.NO_CHAT].includes(n),d=n===me.ChannelLayouts.FULL_SCREEN?function(){t._prevLayout=me.ChannelLayouts.NORMAL;t.handleFullScreen()}:t.handleToggleLayout,c=t.viewProperties,p=c.canChangeLayout,v=c.canInvite,y=u?Pe(w.default,{channel:a,stream:(null==l?void 0:l.type)===he.ParticipantTypes.STREAM?(0,I.decodeStreamKey)(l.id):void 0,applicationId:(null==l?void 0:l.type)===he.ParticipantTypes.ACTIVITY?l.id:void 0,
appContext:o,className:ge.default.leftTrayIcon,exitFullScreen:t.maybeLeaveFullScreen,analyticsLocation:a.type===me.ChannelTypes.GUILD_VOICE?me.AnalyticsPages.GUILD_CHANNEL:me.AnalyticsPages.DM_CHANNEL}):Pe(x.default,{channel:a,stream:(null==l?void 0:l.type)===he.ParticipantTypes.STREAM?(0,I.decodeStreamKey)(l.id):void 0,appContext:o,className:ge.default.leftTrayIcon,exitFullScreen:t.maybeLeaveFullScreen,analyticsLocation:a.type===me.ChannelTypes.GUILD_VOICE?me.AnalyticsPages.GUILD_CHANNEL:me.AnalyticsPages.DM_CHANNEL});return i.createElement(i.Fragment,null,v?y:null,p?Pe(ee.default,{className:ge.default.iconWrapper,align:ee.default.Align.CENTER,grow:0},void 0,Pe(U.default,{label:f?_e.default.Messages.SHOW_CHAT:_e.default.Messages.HIDE_CHAT,direction:s,className:ge.default.leftTrayIcon,onClick:d}),f&&r>0?Pe(ne.NumberBadge,{className:ge.default.badge,count:r
}):null):null,(null==l?void 0:l.type)===he.ParticipantTypes.STREAM||(null==l?void 0:l.type)===he.ParticipantTypes.ACTIVITY?Pe(L.default,{},void 0,Pe(ye.default,{className:ge.default.viewersButton,participant:l,maxVisibleUsers:4,guildId:a.getGuildId(),channelId:a.id,disableInteraction:t.inPopout||n===me.ChannelLayouts.FULL_SCREEN})):null)};t.renderBottomRight=function(){var e=t.props,n=e.popoutWindow,r=e.popoutWindowAlwaysOnTop,a=e.currentUserId,o=e.selectedParticipant,u=t.viewProperties,l=u.canFullscreen,s=u.canStayOnTop,f=u.canPopout,d=u.useTheme;return i.createElement(i.Fragment,null,null!=o&&o.type!==he.ParticipantTypes.ACTIVITY&&o.user.id!==a?Pe(H.default,{context:(0,de.default)(o.type),userId:o.user.id,currentWindow:t.inPopout?null!=n?n:void 0:window,sliderClassName:ge.default.volumeSlider}):null,s?Pe(W.default,{className:ge.default.rightTrayIcon,popoutWindowAlwaysOnTop:r,onToggleStayOnTop:t.handleStayOnTop}):null,f?Pe(V.default,{themeable:d,popoutOpen:t.popoutOpen,
className:ge.default.rightTrayIcon,onOpenPopout:t.handleOpenPopout,onClosePopout:t.handleClosePopout}):null,l?Pe(F.default,{themeable:d,node:t.getRootNode(),guestWindow:n,className:ge.default.rightTrayIcon,onClick:t.handleFullScreen}):null)};t.renderChatButton=function(e){var n=e.className,r=e.showingClassName,a=t.props,o=a.channel;return a.chatOpen||t.popoutOpen&&!t.inPopout?null:Pe(G.default,{channelId:o.id,className:n,showingClassName:r})};t.renderChatToasts=function(){var e=t.props,n=e.showChatToasts,r=e.chatOpen,a=e.channel;return!n||r||t.popoutOpen&&!t.inPopout?null:Pe(j.default,{className:ge.default.chatToasts,channelId:a.id})};t.renderHeader=function(){var e=t.props,n=e.renderExternalHeader,r=e.channel,a=e.appContext,o=e.layout,i=e.chatOpen,u=e.inCall,l=t.viewProperties,s=l.useExternalHeader,f=l.canSelectRegion,d=l.renderHeader,c=o===me.ChannelLayouts.FULL_SCREEN;return d?Pe(L.default,{},void 0,Pe("div",{className:ge.default.headerWrapper
},void 0,s?null==n?void 0:n():Pe(ve.default,{channel:r,appContext:a,inCall:u,inPopout:t.inPopout,isFullScreen:c,isChatOpen:i||t.popoutOpen&&!t.inPopout,exitFullScreen:t.maybeLeaveFullScreen})),f?t.renderRegionSelect():null):null};return t}var r=t.prototype;r.getRootNode=function(){var e,t;return(null!==(e=null===(t=this.props.popoutWindow)||void 0===t?void 0:t.window)&&void 0!==e?e:window).document.getElementById("app-mount")};r.componentDidMount=function(){var e=this.props,t=e.channel,n=e.layout;this.currentDocument.addEventListener(se.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange);re.default.track(me.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,be({video_layout:this.inPopout?"popout":n},(0,b.collectVoiceAnalyticsMetadata)(t.id)))};r.componentWillUnmount=function(){this._videoBackgroundTooltipTimeout.stop();this.currentDocument.removeEventListener(se.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange);this.inPopout&&(0,ie.isOSX)()||this.maybeLeaveFullScreen()}
;r.componentDidUpdate=function(e){var t=this,n=this.props,r=n.participantsOpen,a=n.inCall,o=n.mode,i=n.layout,u=this.getRootNode();null!=u&&e.mode===me.ChannelModes.VIDEO&&o===me.ChannelModes.VOICE&&(0,se.isFullScreen)(u,this.currentDocument)&&(0,se.exitFullScreen)(u,m.default.resized,this.currentDocument);if(e.participantsOpen!==r||i!==e.layout){var l;null===(l=this._contentRef.current)||void 0===l||l.triggerResize()}e.inCall&&!a&&this.inPopout&&d.default.wait((function(){return t.handleClosePopout()}))};r.renderContent=function(e){var t=this.props,n=t.selectedParticipant,r=t.inCall,a=t.mode,o=t.popoutWindow,u=t.participantsOpen,l=t.participants,s=t.filteredParticipants,f=t.participantsVersion,d=t.channel,c=t.guild,p=t.layout,v=t.appContext,y=p===me.ChannelLayouts.MINIMUM,h=y||p===me.ChannelLayouts.NORMAL,m=r&&a===me.ChannelModes.VIDEO,_=d.isGuildVoice()&&(null==c?void 0:c.hasFeature(me.GuildFeatures.TEXT_IN_VOICE_ENABLED));this._lastIdleProps=e;return Pe(ce.default.Provider,{value:v
},void 0,i.createElement(k.default,be({renderHeader:this.renderHeader,renderBottomLeft:this.renderBottomLeft,renderBottomCenter:this.renderBottomCenter,renderBottomRight:this.renderBottomRight,renderChatButton:_?this.renderChatButton:void 0,renderChatToasts:_?this.renderChatToasts:void 0},e,{screenMessage:this.screenMessage,disableGradients:y,idle:r&&!y&&e.idle}),!this.popoutOpen||this.inPopout?i.createElement(R.default,{ref:this._contentRef,inCall:r,paused:this.paused,channel:d,guild:c,participants:l,filteredParticipants:s,participantsVersion:f,selectedParticipant:m?n:null,layout:p,idle:e.idle,mode:a,onSelectParticipant:this.handleSelectParticipant,onContextMenuParticipant:this.handleContextMenu,showParticipants:u&&!h,popoutWindow:this.inPopout?o:null}):null))};r.render=function(){
var e,t,n=this,r=this.props,a=r.layout,o=r.channel,l=r.guild,s=r.mode,f=r.chatOpen,d=r.appContext,c=r.width,p=r.maxHeight,v=this.state.resizedHeight,y=s===me.ChannelModes.VIDEO,h=c-550,m=a!==me.ChannelLayouts.NO_CHAT&&a!==me.ChannelLayouts.FULL_SCREEN&&null!=p;return i.createElement("div",{className:(0,u.default)(ge.default.wrapper,Re[a],we[d],(e={},e[ge.default.poppedOut]=this.popoutOpen&&!this.inPopout&&a!==me.ChannelLayouts.NO_CHAT&&o.isPrivate(),e[ge.default.video]=y,e[ge.default.chatSidebarOpen]=f,e)),ref:function(e){n._wrapperRef.current=e;n.props.wrapperRef.current=e},style:m&&null!=v?{minHeight:200,maxHeight:p,height:v}:void 0},Pe("div",{className:(0,u.default)(ge.default.callContainer,(t={},t[(0,ue.getThemeClass)(me.ThemeTypes.DARK)]=y,t))},void 0,Pe(D.default,{timeout:2e3},void 0,(function(e){return n.viewProperties.usePositionLayer?Pe(te.AppLayerProvider,{},void 0,n.renderContent(e),Le):n.renderContent(e)}))),m&&Pe(De,{maxHeight:p,resizableNode:this._wrapperRef,
onResize:this.handleCallResize,onResizeEnd:this.props.updateStoredCallHeaderHeight}),f&&(!this.popoutOpen||this.inPopout)&&Pe(pe.default,{channel:o,guild:l,maxWidth:h}))};!function(e,t,n){t&&Te(e.prototype,t);n&&Te(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"nativePopoutSupported",get:function(){return ie.isPlatformEmbedded&&le.default.supportsFeature(me.NativeFeatures.POPOUT_WINDOWS)}},{key:"popoutSupported",get:function(){return!ie.isPlatformEmbedded||this.nativePopoutSupported}},{key:"popoutOpen",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}},{key:"currentDocument",get:function(){var e=this.props.popoutWindow;return null!=e&&this.popoutOpen&&this.inPopout?e.document:document}},{key:"screenMessage",get:function(){return this.popoutOpen&&!this.inPopout?{mainText:_e.default.Messages.POPOUT_PLAYER_OPENED}:null}},{key:"paused",get:function(){return this.popoutOpen&&!this.inPopout}},{key:"inPopout",get:function(){
return this.props.appContext===me.AppContext.POPOUT}},{key:"viewProperties",get:function(){var e=this.props,t=e.layout,n=e.mode,r=e.channel,a=e.inCall,o=n===me.ChannelModes.VIDEO&&a&&!(this.popoutOpen&&!this.inPopout),i=n===me.ChannelModes.VIDEO&&a&&!this.inPopout&&this.popoutSupported,u=n!==me.ChannelModes.VOICE&&r.isPrivate()&&!this.inPopout&&a,l=r.type===me.ChannelTypes.GUILD_VOICE,s=t===me.ChannelLayouts.MINIMUM||t===me.ChannelLayouts.NORMAL,f=this.inPopout&&this.nativePopoutSupported,d={renderHeader:!0,useTheme:!1,usePositionLayer:!1,useExternalHeader:s,canInvite:l,canPopout:i,canFullscreen:o,canSelectRegion:r.isPrivate(),canChangeLayout:u,canStayOnTop:f};if(!a)return be({},d,{canFullscreen:o,useTheme:!0});switch(t){case me.ChannelLayouts.FULL_SCREEN:return be({},d,{canPopout:!this.inPopout&&this.popoutOpen&&d.canPopout,usePositionLayer:!0});case me.ChannelLayouts.MINIMUM:return be({},d,{canPopout:!1});case me.ChannelLayouts.NO_CHAT:case me.ChannelLayouts.NORMAL:return be({},d)}}
}]);return t}(i.PureComponent);je.displayName="ChannelCall";function ke(e){var t,n=e.channel,r=e.appContext,a=e.renderExternalHeader,o=e.maxHeight,u=(0,E.default)(),l=u.width,f=void 0===l?0:l,d=u.ref,c=(0,s.useStateFromStores)([X.default],(function(){return X.default.getVoiceChannelId()===n.id})),p=(0,s.useStateFromStoresObject)([fe.default],(function(){var e=r===me.AppContext.POPOUT,t=fe.default.getMode(n.id);e&&(t=me.ChannelModes.VIDEO);var a=t===me.ChannelModes.VIDEO?fe.default.getLayout(n.id,r):me.ChannelLayouts.MINIMUM;e&&a!==me.ChannelLayouts.FULL_SCREEN&&(a=me.ChannelLayouts.NO_CHAT);return{mode:t,layout:a,selectedParticipant:t!==me.ChannelModes.VOICE?fe.default.getSelectedParticipant(n.id):null,participants:fe.default.getParticipants(n.id),filteredParticipants:fe.default.getFilteredParticipants(n.id),participantsOpen:fe.default.getParticipantsOpen(n.id),chatOpen:fe.default.getChatOpen(n.id),participantsVersion:fe.default.getParticipantsVersion(n.id)}
}),[n.id,n.type,c]),v=p.participants,y=p.filteredParticipants,m=p.participantsVersion,_=p.mode,S=p.layout,b=p.participantsOpen,I=p.chatOpen,C=p.selectedParticipant,T=(0,s.useStateFromStoresArray)([B.default],(function(){return B.default.getAllActiveStreams()})),P=(0,s.useStateFromStoresObject)([B.default],(function(){return{selectedStream:null!=C?B.default.getActiveStreamForStreamKey(C.id):null}}),[C]).selectedStream,N=(0,s.useStateFromStores)([K.default],(function(){return K.default.getGuild(n.getGuildId())})),R=(0,s.useStateFromStores)([$.default],(function(){return $.default.getCall(n.id)}),[n.id]),w=(0,s.useStateFromStores)([Z.default],(function(){return Z.default.getMentionCount(n.id)}),[n.id]),D=(0,s.useStateFromStores)([z.default],(function(){return z.default.getId()})),L=(0,s.useStateFromStoresObject)([A.default],(function(){return{popoutWindow:A.default.getWindow(me.PopoutWindowKeys.CHANNEL_CALL_POPOUT),
popoutWindowAlwaysOnTop:A.default.getIsAlwaysOnTop(me.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}})),j=L.popoutWindow,k=L.popoutWindowAlwaysOnTop,U=(0,s.useStateFromStores)([Y.default],(function(){return Y.default.getToastsEnabled(n.id)})),G=(0,s.useStateFromStores)([M.default],(function(){return M.default.callHeaderHeight})),F=i.useCallback((function(e){h.default.updatedUnsyncedSettings({callHeaderHeight:e})}),[]),x=null!==(t=null==N?void 0:N.id)&&void 0!==t?t:null,V=(0,O.default)(x);i.useEffect((function(){var e=!1,t=null,n=function(){var n=Ce(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!c||_!==me.ChannelModes.VIDEO){n.next=5;break}n.next=3;return le.default.blockDisplaySleep();case 3:t=n.sent;e&&null!=t&&le.default.unblockDisplaySleep(t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n();return function(){null!=t?le.default.unblockDisplaySleep(t):e=!0}}),[c,_])
;return Pe(g.default,{page:me.AnalyticsPages.CHANNEL_CALL},void 0,Pe(je,{channel:n,guild:N,participantsOpen:b,renderExternalHeader:a,appContext:r,call:R,popoutWindow:j,popoutWindowAlwaysOnTop:k,mentionCount:w,selectedStream:P,mode:_,inCall:c,participants:v,filteredParticipants:y,participantsVersion:m,layout:S,chatOpen:I,currentUserId:D,selectedParticipant:C,allActiveStreams:T,useNewInviteButton:V,showChatToasts:U,storedCallHeaderHeight:G,updateStoredCallHeaderHeight:F,wrapperRef:d,width:f,maxHeight:o}))}ke.displayName="ChannelCallConnected";var Ue=ke;t.default=Ue},368464:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=I(n(667294)),o=n(536211),i=O(n(229132)),u=O(n(914789)),l=I(n(174851)),s=O(n(805918)),f=n(856746),d=n(687549),c=O(n(893160)),p=O(n(37985)),v=O(n(259530)),y=n(598671),h=O(n(878556)),m=O(n(825724)),_=n(770348),g=O(n(247001)),E=O(n(798123)),S=O(n(974290));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e){
var t=e.channel,n=e.guild,r=e.maxWidth,O=(0,o.useStateFromStores)([m.default,c.default],(function(){var e;if(m.default.getChatHistoryCollapsed(t.id)&&c.default.getChannelId()===t.id)return null===(e=c.default.getRTCConnection())||void 0===e?void 0:e.getCreatedTime()})),b=T(a.useState((function(){return null!=O})),1)[0],I=a.createElement(a.Fragment,null,C(h.default.Icon,{icon:v.default,tooltip:g.default.Messages.CLOSE,onClick:function(){return i.default.updateChatOpen(t.id,!1)}}));return C(l.default,{sidebarType:l.ChatSidebarType.CallChatSidebar,maxWidth:r},void 0,C(s.default,{channel:t,draftType:d.DraftType.ChannelMessage}),C(h.default,{toolbar:I,"aria-label":g.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,C(h.default.Icon,{icon:p.default,disabled:!0,"aria-label":g.default.Messages.TEXT_CHANNEL}),C(h.default.Title,{onContextMenu:function(){},onClick:function(){}},void 0,t.name),C(y.TextBadge,{text:"BETA",className:E.default.betaTag,color:_.Colors.BRAND_NEW_500})),C("div",{
className:S.default.chat},void 0,C(u.default,{channel:t,guild:n,chatInputType:f.ChatInputTypes.SIDEBAR,filterAfterTimestamp:b?O:void 0},t.id)))}P.displayName="ChannelCallChatSidebar";var M=P;t.default=M},789659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=G;var r,a=P(n(667294)),o=n(536211),i=P(n(538930)),u=T(n(125327)),l=T(n(469487)),s=T(n(678928)),f=T(n(786661)),d=n(902399),c=T(n(891036)),p=T(n(116780)),v=T(n(562475)),y=T(n(878556)),h=T(n(776360)),m=n(864489),_=n(518802),g=T(n(922629)),E=T(n(825724)),S=T(n(156511)),O=n(859089),b=n(478036),I=T(n(247001)),C=T(n(34973));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}
i(void 0)}))}}function L(){return j.apply(this,arguments)}function j(){return(j=D(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,m.isOSX)()||!m.isPlatformEmbedded){e.next=14;break}e.next=3;return null===(n=(r=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===n?void 0:n.call(r);case 3:e.t1=t=e.sent;e.t0=null!==e.t1;if(!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t;e.next=12;break;case 11:e.t2="Maximize";case 12:"Minimize"===(a=e.t2)?g.default.minimize():"Maximize"===a&&g.default.maximize();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t=e.user,n=e.channel,r=e.stream,o=(0,p.default)(n,t,r);return null==t||null==r?null:a.createElement(a.Fragment,null,R(i.default,{className:C.default.avatar,size:i.Sizes.SIZE_24,user:t,animate:!1}),R(h.default,{className:C.default.playingText,size:h.default.Sizes.SIZE_16,
color:h.default.Colors.CUSTOM},void 0,o))}function U(e){var t,n=e.focusedApplication,r=e.focusedParticipant,o=e.channel,i=(0,d.useActiveEvent)(o.id),l=null!=i;if((null==r?void 0:r.type)===O.ParticipantTypes.ACTIVITY)null!=n&&(t=a.createElement(a.Fragment,null,R(y.default.Divider,{className:C.default.divider}),R(v.default,{game:n,className:C.default.activityIcon}),R(h.default,{className:C.default.playingText,size:h.default.Sizes.SIZE_16,color:h.default.Colors.CUSTOM},void 0,(0,u.default)(n.name,r.activityType))));else if((null==r?void 0:r.type)===O.ParticipantTypes.STREAM){var s=r.user,f=r.stream;t=a.createElement(a.Fragment,null,R(y.default.Divider,{className:C.default.divider}),R(k,{user:s,channel:o,stream:f}))}else l&&(t=R(c.default,{guildEvent:i}));return R("div",{className:C.default.container},void 0,t)}U.displayName="ChannelTitle";function G(e){var t=e.channel,n=e.appContext,r=e.inCall,a=e.inPopout,i=e.isFullScreen,u=e.isChatOpen,d=e.exitFullScreen,c=(0,
o.useStateFromStoresObject)([E.default],(function(){return{focusedParticipant:E.default.getSelectedParticipant(t.id),participantsOpen:E.default.getParticipantsOpen(t.id)}}),[t.id]).focusedParticipant,p=(0,s.default)(t),v=(0,f.default)(t),h=M((0,l.default)((null==c?void 0:c.type)===O.ParticipantTypes.ACTIVITY?[c.id]:[]),1)[0],m=I.default.Messages.VOICE_CHANNEL;t.isDM()?m=I.default.Messages.DM:t.isGroupDM()&&(m=I.default.Messages.GROUP_DM);return R(y.default,{onDoubleClick:L,transparent:!0,className:(0,_.getThemeClass)(b.ThemeTypes.DARK),toolbar:R(S.default,{channel:t,appContext:n,inCall:r,inPopout:a,isFullScreen:i,isChatOpen:u,exitFullScreen:d})},void 0,null!=v?R(y.default.Icon,{icon:v,disabled:!0,"aria-label":m}):null,R(y.default.Title,{},void 0,p),R(U,{focusedApplication:h,focusedParticipant:c,channel:t}))}G.displayName="ChannelCallHeader"},156511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.channel,n=e.appContext,r=e.inCall,o=e.inPopout,i=e.isFullScreen,d=e.isChatOpen,S=e.exitFullScreen,b=t.id,C=(0,u.useStateFromStoresObject)([A.default],(function(){return{selectedParticipant:A.default.getSelectedParticipant(b),voiceParticipantsHidden:A.default.getVoiceParticipantsHidden(b),userParticipantCount:A.default.getUserParticipantCount(b)}}),[t.id]),w=C.voiceParticipantsHidden,L=C.selectedParticipant,j=C.userParticipantCount,F=function(e){return(0,u.useStateFromStores)([E.default],(function(){var t;return null===(t=E.default.getGuild(e.guild_id))||void 0===t?void 0:t.hasFeature(R.GuildFeatures.TEXT_IN_VOICE_ENABLED)}),[e])}(t),x=(0,p.usePreventIdle)("popup"),V=x.preventIdle,W=x.allowIdle,H=[];w&&H.push(k(G,{channelId:b,guildId:t.guild_id},"current-speaker"));if((null==L?void 0:L.type)===N.ParticipantTypes.STREAM){H.push(k(c.default,{className:D.default.button,participant:L},"warning"));H.push(k(l.default,{size:T.default.Sizes.LARGE,className:D.default.button,
participant:L,showQuality:!0},"live-indicator"))}var B=k(v.default,{},void 0,k(M.default,{channel:t}));w&&H.push(k(O.default,{position:O.default.Positions.BOTTOM,renderPopout:function(){return B}},"call-members-popout",(function(e,t){var n=t.isShown;return a.createElement(_.default,U({},e,{active:n,count:j,key:"call-members",className:D.default.button}))})));H.push(k(s.default,{guildId:t.guild_id},"guild-events-browser-button"));r&&H.push(null!=L?k(m.default,{className:D.default.button,channelId:b},"deselect-participant"):k(g.default,{className:D.default.button,channelId:b,isHorizontal:F},"select-participant"));F&&H.push(k(f.default,{onOpen:V,onClose:W,className:D.default.button},"recents"));H.push(k(O.default,{position:O.default.Positions.BOTTOM,renderPopout:function(e){var t=e.closePopout;return k(v.default,{},void 0,k(P.default,{channelId:b,onClose:t,appContext:n,exitFullScreen:S}))}},"more-options-popout",(function(e,t){var n=t.isShown;return a.createElement(h.default,U({},e,{
key:"more-options",active:n,className:D.default.lastButton}))})));if(F){if(!d){H.push(k(I.default.Divider,{className:D.default.divider},"divider"));H.push(k(y.default,{channelId:t.id,className:D.default.chatButtonSpacer}))}}else if(!o&&!i){H.push(k(I.default.Divider,{className:D.default.divider},"divider"));H.push(k(f.default,{className:D.default.button,onOpen:V,onClose:W},"recents"))}return a.createElement(a.Fragment,null,H)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=L(n(294184)),i=L(n(496486)),u=n(536211),l=L(n(57697)),s=L(n(981706)),f=L(n(386195)),d=L(n(183612)),c=L(n(697252)),p=n(134893),v=L(n(222935)),y=L(n(146529)),h=L(n(928221)),m=L(n(56396)),_=L(n(975577)),g=L(n(727012)),E=L(n(30098)),S=L(n(397228)),O=L(n(160629)),b=L(n(730977)),I=L(n(878556)),C=L(n(528739)),T=L(n(528175)),A=L(n(825724)),P=L(n(948861)),M=L(n(252986)),N=n(859089),R=n(770348),w=L(n(247001)),D=L(n(942751));function L(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e){var t=e.channelId,n=e.guildId,r=Date.now(),l=(0,u.useStateFromStores)([S.default,A.default],(function(){return(0,i.default)(S.default.getSpeakers()).map((function(e){return A.default.getParticipant(t,e)})).filter((function(e){return null!=e&&e.type===N.ParticipantTypes.USER&&!(0,d.default)(e)&&e.speaking})).sortBy((function(e){return-S.default.getSpeakingDuration(e.user.id,r)})).slice(0,3).value()}));return 0===l.length?null:a.createElement(a.Fragment,null,l.map((function(e,t){return k(b.default,{position:b.default.Positions.BOTTOM,color:b.default.Colors.GREY,text:w.default.Messages.CHANNEL_CALL_CURRENT_SPEAKER.format({username:e.user.username})},e.id,(function(r){var i;return a.createElement(C.default,U({},r,{
className:(0,o.default)(D.default.speaker,(i={},i[D.default.last]=t===l.length-1,i)),user:e.user,speaking:!0,collapsed:!0,guildId:n}))}))})))}},121791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=c(n(636602)),a=c(n(740207)),o=c(n(177230)),i=c(n(902305)),u=c(n(635014)),l=c(n(834162)),s=c(n(949898)),f=n(770348),d=n(376293);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)
}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=new Set,m=new Set,_=null;function g(){for(var e,t=v(h);!(e=t()).done;){var n=e.value;a.default.setDisableLocalVideo(n,!1,d.MediaEngineContextTypes.DEFAULT,!1)}m.clear();h.clear()}var E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleWindowFocus=function(e){e.focused&&g()};t.handleVoiceChannelSelect=function(e){var t=e.channelId;if(t!==_){g();_=t}};t.handlePopoutChange=function(){
i.default.getWindowFocused(f.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&g()};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(f.ActionTypes.RTC_CONNECTION_VIDEO,this.handleIncomingVideo);r.default.subscribe(f.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED,this.handleManualLocalVideoToggle);r.default.subscribe(f.ActionTypes.WINDOW_FOCUS,this.handleWindowFocus);r.default.subscribe(f.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect);i.default.addChangeListener(this.handlePopoutChange)};n._terminate=function(){r.default.unsubscribe(f.ActionTypes.RTC_CONNECTION_VIDEO,this.handleIncomingVideo);r.default.unsubscribe(f.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED,this.handleManualLocalVideoToggle);r.default.unsubscribe(f.ActionTypes.WINDOW_FOCUS,this.handleWindowFocus);r.default.unsubscribe(f.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect);i.default.removeChangeListener(this.handlePopoutChange);g();_=null};n.handleIncomingVideo=function(e){
var t=e.userId,n=e.context,r=e.streamId;if(n===d.MediaEngineContextTypes.DEFAULT&&null!=r){var o=null!=l.default.getCurrentGame(),c=s.default.isFocused(),p=i.default.getWindowFocused(f.PopoutWindowKeys.CHANNEL_CALL_POPOUT),v=u.default.isLocalVideoDisabled(t,n),y=m.has(t);if(o&&!c&&!p&&!v&&!y){h.add(t);a.default.setDisableLocalVideo(t,!0,n,!1)}}};n.handleManualLocalVideoToggle=function(e){var t=e.userId;if(e.persist){m.add(t);h.delete(t)}};return t}(o.default));t.default=E},948861:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;h(n(667294));var r,a=n(536211),o=h(n(145122)),i=v(n(825724)),u=v(n(856015)),l=v(n(48712)),s=v(n(845442)),f=v(n(681064)),d=v(n(630601)),c=n(859089),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.channelId,n=e.onClose,r=e.appContext,v=e.exitFullScreen,y=e.onSelect,h=(0,a.useStateFromStores)([i.default],(function(){
return i.default.getSelectedParticipant(t)})),_=(null==h?void 0:h.type)===c.ParticipantTypes.STREAM?h.stream:null;return m(o.default,{navId:"channel-call-overflow-popout",style:o.MenuStyle.FLEXIBLE,onClose:n,"aria-label":p.default.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,onSelect:y},void 0,(0,u.default)(t),(0,s.default)(),(0,l.default)(t),(0,d.default)(t),(0,f.default)(_,r,v))}_.displayName="ChannelCallOverflowMenu"},252986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=c(n(692244)),i=c(n(487372)),u=c(n(776360)),l=c(n(582945)),s=n(770348),f=c(n(247001)),d=c(n(498082));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.channel,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getVoiceStatesForChannel(t)}));return v("div",{className:d.default.root},void 0,v(u.default,{size:u.default.Sizes.SIZE_12,className:d.default.header
},void 0,f.default.Messages.CHANNEL_CALL_MEMBERS_POPOUT_HEADER.format({count:n.length})),v(l.default,{className:d.default.scroller},void 0,v(o.default,{allowDragging:!1,allowPreviews:!1,className:d.default.voiceUsers,channel:t,voiceStates:n,collapsed:!1,location:s.AnalyticsLocations.CHANNEL_CALL})))}y.displayName="ChannelCallParticipantsPopout"},297452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=te;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=W(n(294184)),i=n(248088),u=n(536211),l=W(n(88500)),s=W(n(72690)),f=W(n(136873)),d=W(n(61689)),c=n(460784),p=W(n(678928)),v=n(139982),y=n(659022),h=n(700192),m=W(n(712594)),_=W(n(373115)),g=W(n(770404)),E=W(n(493051)),S=n(143414),O=W(n(643779)),b=W(n(645675)),I=W(n(635014)),C=W(n(728429)),T=W(n(949898)),A=W(n(956117)),P=W(n(160629)),M=W(n(80828)),N=W(n(259530)),R=W(n(57754)),w=W(n(776360)),D=n(518802),L=W(n(825724)),j=W(n(932018)),k=n(770348),U=n(942675),G=n(376293),F=W(n(247001)),x=W(n(299005)),V=W(n(480798));function W(e){return e&&e.__esModule?e:{default:e}}function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var K={width:232,height:315},q={width:232,height:267},Z=475,X=267,Q=$(M.default,{});function J(e){var t=e.header,n=I.default.getCameraComponent(),r=(0,u.useStateFromStores)([I.default],(function(){return I.default.getVideoDeviceId()})),o=(0,m.default)();a.useEffect((function(){var e=C.default.getCurrentUser();if(o&&null!=e){var t=(0,y.getLastUsedVideoBackgroundOption)(e);(0,h.applyBackgroundOptionPreview)(t,r,{track:!1}).catch(k.NOOP)}}),[o,r]);return $("div",{className:x.default.previewRoot},void 0,Q,$("div",{className:x.default.preview},void 0,$(n,{disabled:!1,deviceId:r,width:Z,height:X})),$("div",{className:x.default.previewChannelHeader},void 0,t))}
J.displayName="CameraPreview";function ee(e){var t=e.canVideo,n=e.channel,r=e.numVideoDevices,a=(0,_.default)(),i=a.cameraUnavailable,u=a.enabled,s=(0,g.default)(n);return $("div",{className:x.default.actions},void 0,$(S.CenterControlButton,{iconComponent:N.default,color:"red",className:x.default.actionButton,label:F.default.Messages.DISMISS,onClick:function(){return l.default.stopRinging(n.id)}}),t&&$(P.default,{renderPopout:function(e){var t=e.closePopout;return $(j.default,{onClose:t})},position:P.default.Positions.TOP,align:P.default.Align.CENTER,animation:P.default.Animation.FADE},void 0,(function(e,t){var a=e.onClick,o=t.isShown;return $(b.default,{join:!0,enabled:u,color:"green",centerButton:!0,hasPermission:s,cameraUnavailable:i,channel:n,onPopoutClick:r>1?a:null,className:x.default.actionButton,popoutOpen:o,onCameraUnavailable:E.default,onChange:function(){f.default.selectVoiceChannel(n.id,!0);(0,v.transitionToGuild)(k.ME,n.id)}})})),$(O.default,{channel:n,color:"green",
centerButton:!0,className:(0,o.default)(x.default.actionButton,x.default.last),onClick:function(){return f.default.selectVoiceChannel(n.id)}}))}ee.displayName="CallActionButtons";function te(e){var t,n=e.animatedStyle,r=e.y,f=e.x,v=e.channel,y=z(a.useState(!1),2),h=y[0],m=y[1],_=(0,c.getChannelIconURL)(v),g=(0,p.default)(v),E=z((0,u.useStateFromStoresArray)([I.default],(function(){return[I.default.supports(G.Features.VIDEO),Object.keys(I.default.getVideoDevices()).length]})),2),S=E[0],O=E[1],b=(0,u.useStateFromStores)([T.default],(function(){return T.default.isFocused()})),C=(0,u.useStateFromStores)([L.default],(function(){return L.default.getMode(v.id)})),P=a.useCallback((function(e){null!=e.top&&null!=e.left&&s.default.move(e.left,e.top)}),[]),M=(0,i.useSpring)({value:h?1:0,config:B({},i.config.stiff,{clamp:!0})});a.useEffect((function(){var e=function(e){e.keyCode===k.KeyboardKeys.ESCAPE&&l.default.stopRinging(v.id)};window.addEventListener("keydown",e);return function(){
return window.removeEventListener("keydown",e)}}),[v]);var N=C===k.ChannelModes.VIDEO&&S&&O>0,j=a.createElement(a.Fragment,null,$(R.default,{className:x.default.icon,ringing:b,src:null!=_?_:"",ringingType:R.default.RingingType.INCOMING,size:h?U.Sizes.SIZE_40:U.Sizes.SIZE_80}),$("div",{className:x.default.titleGroup},void 0,$(w.default,{color:w.default.Colors.CUSTOM,className:x.default.title,size:h?w.default.Sizes.SIZE_16:w.default.Sizes.SIZE_20},void 0,g),$(w.default,{color:w.default.Colors.CUSTOM,className:x.default.subtitle,size:h?w.default.Sizes.SIZE_14:w.default.Sizes.SIZE_16},void 0,C===k.ChannelModes.VOICE?F.default.Messages.INCOMING_CALL_ELLIPSIS:F.default.Messages.INCOMING_VIDEO_CALL_ELLIPSIS))),W=N?K:q;return $(d.default,{className:x.default.wrapper,selector:"."+x.default.root,initialPosition:{left:f,top:r},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:P,dragAnywhere:!0},void 0,a.createElement(a.Fragment,null,$(i.animated.div,{className:(0,
o.default)(x.default.root,V.default.elevationHigh,(t={},t[x.default.previewCamera]=h,t),h?(0,D.getThemeClass)("dark"):null),style:B({},n,{width:M.value.interpolate([0,1],[W.width,Z]),minHeight:M.value.interpolate([0,1],[W.height,X]),translateX:M.value.interpolate([0,1],[0,-1*Math.abs(Z-W.width)/2])})},void 0,h?$(J,{header:j}):$("div",{className:x.default.mainChannelInfo},void 0,j),$(ee,{canVideo:N,channel:v,numVideoDevices:O}),N&&!h?$(A.default,{size:A.default.Sizes.SMALL,fullWidth:!0,look:A.default.Looks.LINK,color:A.default.Colors.PRIMARY,className:x.default.previewButton,onClick:function(){return m(!0)}},void 0,F.default.Messages.INCOMING_CALL_PREVIEW_CAMERA):null)))}te.displayName="IncomingCallModal"},310268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=F;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=A(n(294184)),i=A(n(496486)),u=n(536211),l=n(91817),s=n(378158),f=A(n(762921)),d=A(n(284382)),c=A(n(607209)),p=A(n(728429)),v=A(n(265851)),y=A(n(160629)),h=n(730977),m=A(n(268478)),_=A(n(628551)),g=A(n(971639)),E=A(n(582945)),S=n(71246),O=A(n(29652)),b=n(859089),I=n(770348),C=A(n(247001)),T=A(n(168088));function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}
function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e,t){switch(e){case b.ParticipantTypes.ACTIVITY:return C.default.Messages.EMBEDDED_ACTIVITIES_NUM_PARTICIPANTS.format({numUsers:t});case b.ParticipantTypes.STREAM:
return C.default.Messages.SPECTATORS.format({numViewers:t});default:throw new Error("Unknown participant type.")}}function k(e){var t=e.users,n=e.disableInteraction,r=e.guildId,a=e.participantType,i=e.channelId,u=e.handleUserContextMenu,l=j(a,t.length);return L(v.default,{"aria-label":l,className:T.default.popoutWrapper},void 0,L(E.default,{className:T.default.scroller},void 0,L(g.default,{size:g.default.Sizes.SIZE_12,className:T.default.memberListHeader},void 0,l),L("div",{},void 0,t.map((function(e){var t;return L(f.default,{guildId:r||void 0,className:(0,o.default)(T.default.memberListItem,(t={},t[T.default.popoutDisabled]=n,t)),textClassName:T.default.memberListItemText,user:e,disablePopout:n,nick:O.default.getNickname(r,i,e),onContextMenu:function(t){return n?null:u(t,e)}},e.id)})))))}k.displayName="PopoutList";function U(e){var t=e.users,n=e.guildId,r=e.channelId,a=e.maxVisibleUsers,i=void 0===a?3:a,u=e.className,l=j(e.participantType,t.length),s=t.length<i?t.map((function(e){
return L("div",{className:T.default.viewersTooltipItem},e.id,O.default.getName(n,r,e))})):l;return L(h.TooltipContainer,{text:s,"aria-label":l},void 0,L("div",{className:(0,o.default)(T.default.viewers,u)},void 0,L(m.default,{className:T.default.viewersIcon}),L("span",{"aria-hidden":"true"},void 0,t.length)))}U.displayName="CompactUsers";var G=[];function F(e){var t=e.channelId,r=e.guildId,f=e.participant,v=e.className,h=e.compact,m=void 0!==h&&h,g=e.disableInteraction,E=void 0!==g&&g,O=e.maxVisibleUsers,C=void 0===O?3:O,A=w(a.useState(!1),2),P=A[0],N=A[1],D=a.useRef(new l.DelayedCall(150,(function(){return N(!1)}))),j=(0,u.useStateFromStoresArray)([c.default,p.default],(function(){if(f.type===b.ParticipantTypes.STREAM){var e=c.default.getViewerIds(f.id);return e.length>0?e.map((function(e){return p.default.getUser(e)})).filter(S.isNotNullish):G}return f.type===b.ParticipantTypes.ACTIVITY&&f.participants.size>0?Array.from(f.participants).map((function(e){return p.default.getUser(e)
})).filter(S.isNotNullish):G}),[f]),F=a.useCallback((function(){D.current.cancel();N(!0)}),[]),x=a.useCallback((function(){D.current.delay()}),[]),V=a.useCallback((function(e,t){F();(0,s.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,M({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:x})}),[x,F]);if(0===j.length)return null;if(m)return L(U,{maxVisibleUsers:C,users:j,guildId:r,channelId:t,className:v,participantType:f.type});var W=(0,i.default)(j).take(C).map((function(e){return L(_.default,{src:e.getAvatarURL(r||void 0,24),"aria-label":e.username,size:_.default.Sizes.SIZE_24,className:T.default.viewer},e.id)})).value();j.length>C&&(W[W.length-1]=L("div",{className:T.default.overflow
},"overflow","+",j.length-C+1));return L(d.default,{section:I.AnalyticsSections.STREAM_VIEWER_POPOUT},void 0,L("div",{onMouseEnter:F,onMouseLeave:x},void 0,L(y.default,{renderPopout:function(){return L(k,{participantType:f.type,handleUserContextMenu:V,guildId:r,channelId:t,users:j,disableInteraction:E})},shouldShow:P,position:y.default.Positions.TOP},void 0,(function(){return L("div",{className:(0,o.default)(T.default.viewers,v)},void 0,W)}))))}F.displayName="ParticipantsForSelectedParticipant"},932018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;y(n(667294));var r,a=p(n(441143)),o=n(536211),i=p(n(284382)),u=y(n(145122)),l=p(n(728429)),s=p(n(161409)),f=p(n(376638)),d=n(770348),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.onClose,n=e.onSelect,r=(0,o.useStateFromStores)([l.default],(function(){var e=l.default.getCurrentUser();(0,
a.default)(null!=e,"VideoDeviceMenu: currentUser cannot be undefined");return e})),p=(0,s.default)(),v=(0,f.default)(r.id);return h(i.default,{object:d.AnalyticsObjects.CONTEXT_MENU},void 0,h(u.default,{onClose:t,navId:"video-device-context","aria-label":c.default.Messages.FORM_LABEL_VIDEO_DEVICE,onSelect:n},void 0,h(u.MenuGroup,{label:c.default.Messages.FORM_LABEL_VIDEO_DEVICE},void 0,p),h(u.MenuGroup,{},void 0,v)))}m.displayName="VideoDeviceMenu"},936353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=_(n(294184)),i=_(n(74854)),u=n(536211),l=_(n(550024)),s=_(n(213847)),f=_(n(949898)),d=_(n(57754)),c=n(859089),p=n(770348),v=n(942675),y=_(n(25578)),h=_(n(3066)),m=_(n(476600));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}var O=23,b=17,I=26,C={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,
EASING_IN:i.default.Easing.inOut(i.default.Easing.back()),EASING_OUT:i.default.Easing.quad},T=200,A=125,P=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).scaleAnimation=new i.default.Value(0);t.spriteAnimation=new i.default.Value(0);t.spriteOpacity=new i.default.Value(0);t.widthAnimation=new i.default.Value(0);return t}var n=t.prototype;n.componentDidMount=function(){this.componentDidAppear()};n.componentDidAppear=function(){var e=this.scaleAnimation,t=this.widthAnimation;e.setValue(1);t.setValue(1)};n.componentWillEnter=function(e){var t=this.scaleAnimation,n=this.widthAnimation;t.setValue(0);n.setValue(0);i.default.parallel([i.default.timing(t,{toValue:1,duration:C.DURATION_IN,easing:C.EASING_IN}),i.default.timing(n,{toValue:1,duration:T})]).start(e)};n.componentWillLeave=function(e){
var t=this.scaleAnimation,n=this.spriteAnimation,r=this.spriteOpacity,a=this.widthAnimation;r.setValue(1);n.setValue(0);for(var o=[],u=0;u<O;u++)o.push(i.default.timing(n,{toValue:-I*u,duration:b}));i.default.sequence([i.default.timing(t,{toValue:0,duration:C.DURATION_OUT,easing:C.EASING_OUT}),i.default.sequence(o),i.default.timing(a,{toValue:0,duration:A})]).start(e)};n.getScaleStyle=function(){var e=this.scaleAnimation;return i.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[C.SCALE_MIN,C.SCALE_MAX]})}],opacity:e})};n.getSpriteStyle=function(){return{backgroundPosition:this.spriteAnimation,opacity:this.spriteOpacity}};n.getWidthStyle=function(){return{width:this.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px",this.props.width+"px"]})}};n.render=function(){var e,t=this.props,n=t.theme,r=t.children,a=t.className,u=n===p.ThemeTypes.DARK,l=(0,o.default)(y.default.sprite,((e={})[m.default.crossWhite]=u,e[m.default.crossGrey]=!u,e))
;return E(i.default.div,{className:(0,o.default)(y.default.transition,a),style:this.getWidthStyle()},void 0,E("div",{className:(0,o.default)(y.default.spriteWrapper,h.default.horizontal,h.default.justifyCenter,h.default.alignCenter)},void 0,E(i.default.div,{className:l,style:this.getSpriteStyle()})),E(i.default.div,{style:this.getScaleStyle()},void 0,r))};return t}(a.PureComponent);P.displayName="AvatarTransition";function M(e){var t=e.participants,n=e.onContextMenu,r=e.className,a=e.onClick,i=e.width,p=e.guildId,h=(0,s.default)(),m=function(e,t){return((0,v.getAvatarSize)(v.Sizes.SIZE_80)+16)*t>e?v.Sizes.SIZE_40:v.Sizes.SIZE_80}(i,t.length),_=(0,u.useStateFromStores)([f.default],(function(){return f.default.isFocused()})),g=t.map((function(e){var t,r;if(e.type!==c.ParticipantTypes.USER)return null;var o=e.user,i=e.voiceState,u=e.speaking,l=e.ringing;return E(P,{className:y.default.participant,width:(0,v.getAvatarSize)(m),theme:h},o.id,E(d.default,{
src:o.getAvatarURL(p,v.SizeSpecs[m].size,u&&_),size:m,muted:null!==(t=null==i?void 0:i.isVoiceMuted())&&void 0!==t&&t,deafen:null!==(r=null==i?void 0:i.isVoiceDeafened())&&void 0!==r&&r,speaking:u,ringing:l,onClick:function(t){return null==a?void 0:a(e,t)},onContextMenu:function(t){return null==n?void 0:n(e,t)}},e.id))}));return E(l.default,{component:"div",className:(0,o.default)(y.default.root,r)},void 0,g)}M.displayName="VoiceCallParticipants"},330493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(e){(0,i.openModal)((function(e){return r.createElement(o.default,f({},e,{title:u.default.Messages.SERVER_DEAFENED_DIALOG_TITLE,body:u.default.Messages.SERVER_DEAFENED_DIALOG_BODY}))}));return}a.default.toggleSelfDeaf()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(740207)),o=l(n(88509)),i=n(194322),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}},590087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t&&(0,i.isRTCConnectedInHub)()){(0,u.openModalLazy)(p(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2422)]).then(n.bind(n,202422));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))));return}if(t){(0,u.openModal)((function(e){return r.createElement(o.default,d({},e,{title:l.default.Messages.SUPPRESSED,body:l.default.Messages.SUPPRESSED_PERMISSION_BODY}))}));return}if(e){(0,u.openModal)((function(e){return r.createElement(o.default,d({},e,{title:l.default.Messages.SERVER_MUTED_DIALOG_TITLE,body:l.default.Messages.SERVER_MUTED_DIALOG_BODY}))}));return}a.default.toggleSelfMute()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(740207)),o=s(n(88509)),i=n(864227),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}},893146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=c;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(929031)),o=s(n(88509)),i=n(845607),u=s(n(247001)),l=["type","onConfirm"];function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e){var t=e.type,n=e.onConfirm,s=function(e,t){
if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),f=t===i.SelfStreamAndVideoAlertType.STREAM?u.default.Messages.HIDE_SELF_STREAM_CONFIRMATION_HEADER:u.default.Messages.HIDE_SELF_VIDEO_CONFIRMATION_HEADER,c=t===i.SelfStreamAndVideoAlertType.STREAM?u.default.Messages.HIDE_SELF_STREAM_CONFIRMATION_BODY:u.default.Messages.HIDE_SELF_VIDEO_CONFIRMATION_BODY;return r.createElement(o.default,d({confirmText:u.default.Messages.CONFIRM,minorText:u.default.Messages.DONT_ASK_AGAIN,title:f,cancelText:u.default.Messages.CANCEL,onConfirm:n,onConfirmSecondary:function(){a.default.updatedUnsyncedSettings({disableHideSelfStreamAndVideoConfirmationAlert:!0});n()},body:c},s))}c.displayName="HideSelfStreamAndVideoConfirmationAlert"},856015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=s(n(229132)),i=n(145122),u=s(n(825724)),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function c(e){var t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getVoiceParticipantsHidden(e)}));return d(i.MenuCheckboxItem,{id:"no-video-hide",label:l.default.Messages.STREAM_SHOW_NON_VIDEO,checked:!t,action:function(){return o.default.toggleVoiceParticipantsHidden(e,!t)}})}c.displayName="useHideNoVideoParticipantsItem"},48712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(145122),u=p(n(174508)),l=n(194322),s=p(n(831566)),f=p(n(893146)),d=n(845607),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=m((0,s.default)(e,t),3),r=n[0],p=n[1],v=n[2],_=(0,
o.useStateFromStores)([u.default],(function(){return u.default.disableHideSelfStreamAndVideoConfirmationAlert}));return r?y(i.MenuCheckboxItem,{id:"self-stream-hide",label:c.default.Messages.SHOW_SELF_STREAM,checked:!p,action:function(){if(_||p)return v(!p);(0,l.openModal)((function(e){return a.createElement(f.default,h({},e,{type:d.SelfStreamAndVideoAlertType.STREAM,onConfirm:function(){return v(!p)}}))}))}}):null}g.displayName="useHideSelfStreamItem"},845442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(145122),u=v(n(174508)),l=n(194322),s=v(n(25077)),f=v(n(893146)),d=n(845607),c=n(376293),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){
void 0===t&&(t=c.MediaEngineContextTypes.DEFAULT);var n=_((0,s.default)(e,t),3),r=n[0],v=n[1],y=n[2],g=(0,o.useStateFromStores)([u.default],(function(){return u.default.disableHideSelfStreamAndVideoConfirmationAlert}));return r?h(i.MenuCheckboxItem,{id:"self-video-hide",label:p.default.Messages.SHOW_SELF_VIDEO,checked:!v,action:function(){if(g||v)return y(!v);(0,l.openModal)((function(e){return a.createElement(f.default,m({},e,{type:d.SelfStreamAndVideoAlertType.VIDEO,onConfirm:function(){return y(!v)}}))}))}}):null}E.displayName="useHideSelfVideoItem"},441072:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getInputDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getInputDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return f(i.MenuRadioItem,{id:"input-"+n,group:"input-devices",disabled:r,label:a,
checked:n===t,action:function(){return o.default.setInputDevice(n)}},"input-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},161409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getVideoDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getVideoDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return f(i.MenuRadioItem,{group:"video-devices",id:"video-device-"+n,disabled:r,label:a,checked:n===t,action:function(){return o.default.setVideoDevice(n)}},"video-device-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},16505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,
a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getOutputDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getOutputDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return f(i.MenuRadioItem,{group:"output-devices",id:"output-"+n,disabled:r,label:a,checked:n===t,action:function(){return o.default.setOutputDevice(n)}},"output-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},376638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(199649),u=h(n(712594)),l=h(n(423046)),s=h(n(635014)),f=n(194322),d=h(n(818994)),c=n(770348),p=n(371621),v=h(n(247001)),y=h(n(352062));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}function O(e){var t=a.useContext(d.default),r=(0,o.useStateFromStores)([s.default],(function(){return s.default.isVideoEnabled()})),h=(0,o.useStateFromStores)([l.default],(function(){return l.default.getId()===e})),m=(0,u.default)();return r&&!m||!h?null:_(i.MenuItem,{id:"change-video-background",label:_("div",{className:y.default.item},void 0,r?v.default.Messages.CAMERA_CHANGE_VIDEO_BACKGROUND_MENU_ITEM:v.default.Messages.CAMERA_PREVIEW_MENU_ITEM),action:function(){(0,f.openModalLazy)(S(regeneratorRuntime.mark((function e(){var t,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(93198),n.e(46603)]).then(n.bind(n,635390));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,g({},e,{videoEnabled:r}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:"camera-preview",contextKey:t===c.AppContext.POPOUT?p.POPOUT_MODAL_CONTEXT:p.DEFAULT_MODAL_CONTEXT})}})}O.displayName="usePreviewVideoItem"},630601:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(145122),i=c(n(938199)),u=c(n(644263)),l=c(n(30098)),s=c(n(322785)),f=n(770348),d=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getChannel(e)})),n=(0,a.useStateFromStores)([l.default],(function(){return l.default.getGuild(null==t?void 0:t.guild_id)
})),r=(null==t?void 0:t.isGuildVoice())&&(null==n?void 0:n.hasFeature(f.GuildFeatures.TEXT_IN_VOICE_ENABLED)),c=(0,a.useStateFromStores)([i.default],(function(){return i.default.getToastsEnabled(e)}));return r?v(o.MenuCheckboxItem,{id:"show-call-chat-toasts",label:d.default.Messages.SHOW_NEW_MESSAGE_PREVIEWS,checked:c,action:function(){return s.default.setCallChatToastsEnabled(e,!c)}}):null}y.displayName="useShowChatToastsItem"},815267:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=s(n(226800)),o=n(145122),i=s(n(634230)),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return d(o.MenuItem,{id:"voice-settings",label:l.default.Messages.VOICE_SETTINGS,action:function(){return a.default.open(u.UserSettingsSections.VOICE)},icon:i.default})}c.displayName="useVoiceSettingsItem"},216672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e){var t=e.channelId,r=e.baseChannelId,T=(0,o.useStateFromStores)([h.default],(function(){return h.default.getChannel(t)})),A=(0,o.useStateFromStores)([_.default],(function(){return _.default.getGuild(null==T?void 0:T.getGuildId())})),N=(0,O.default)(T),w=(0,o.useStateFromStores)([p.default],(function(){return null!=(null==A?void 0:A.id)&&p.default.isLurking(A.id)}),[A]),D=a.useRef(!1);a.useEffect((function(){if(null!=T&&!D.current){D.current=!0;(0,s.trackWithMetadata)(b.AnalyticEvents.CHANNEL_OPENED,{channel_id:T.id,guild_id:T.guild_id,parent_id:T.parent_id,channel_view:"Split View"})}}),[T]);if(null==T||null==A)return null;var L=[];w||L.push(P(d.default,{channel:T},"notifications"));L.push(P(S.default.Icon,{icon:E.default,tooltip:I.default.Messages.CLOSE,onClick:function(){return y.default.closeChannelSidebar(r)}},"close"));return a.createElement(a.Fragment,null,P(l.default,{channel:T,draftType:m.DraftType.ChannelMessage}),P(S.default,{toolbar:L,
"aria-label":I.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},void 0,(0,c.renderTitle)({channel:T,channelName:N,guild:A,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(32318)]).then(n.bind(n,532318));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,M({},e,{channel:T,guild:A}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){var e=g.default.getMessages(T.id);(0,v.transitionToGuild)(T.guild_id,T.id,e.jumpTargetId)}})),P("div",{className:C.default.chat},void 0,P(u.default,{channel:T,guild:A,chatInputType:f.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=T(n(914789)),l=T(n(805918)),s=n(844784),f=n(856746),d=T(n(818378)),c=n(451115),p=T(n(930409)),v=n(139982),y=T(n(546914)),h=T(n(644263)),m=n(687549),_=T(n(30098)),g=T(n(201292)),E=T(n(259530)),S=T(n(878556)),O=T(n(678928)),b=n(770348),I=T(n(247001)),C=T(n(895383));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}},691692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n,r,b=(0,i.useStateFromStores)([m.default],(function(){return m.default.getGuild(e.guild_id)})),I=(0,y.useCanManageThread)(e),A=(0,
y.useCanUnarchiveThread)(e),P=(0,y.useIsThreadModerator)(e),M=T({},a.useContext(_.AnalyticsContext).location,{object:E.AnalyticsObjects.CONTEXT_MENU}),N=(0,l.useIsForumPost)(e),R=(0,s.useTrackThreadArchivalDurationUpsell)(M,b,e);if(!(!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)?A:I))return;var w=new Date((0,h.default)(e)).toLocaleString(S.default.getLocale(),{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"});return(null===(n=e.threadMetadata)||void 0===n?void 0:n.archived)?C(c.MenuItem,{id:"unarchive-thread",label:N?S.default.Messages.UNARCHIVE_FORUM_POST:S.default.Messages.UNARCHIVE_THREAD,action:function(){return p.default.unarchiveThread(e,P)}}):C(c.MenuItem,{id:"auto-archive-thread",label:S.default.Messages.ARCHIVE,subtext:S.default.Messages.AUTO_ARCHIVE_THREAD_AT.format({time:w}),onFocus:R},void 0,C(c.MenuGroup,{},void 0,C(c.MenuItem,{id:"archive-thread",label:N?S.default.Messages.ARCHIVE_FORUM_POST:S.default.Messages.ARCHIVE_THREAD,
action:function(){return p.default.archiveThread(e,!1)}}),P&&!(null===(r=e.threadMetadata)||void 0===r?void 0:r.locked)?C(c.MenuItem,{id:"archive-lock-thread",label:N?S.default.Messages.LOCK_FORUM_POST:S.default.Messages.LOCK_THREAD,action:function(){return p.default.archiveThread(e,!0)}}):null),C(c.MenuGroup,{label:S.default.Messages.AUTO_ARCHIVE_AFTER},void 0,(0,v.getAutoArchiveOptions)(b).map((function(t){var n,r=t.value,a=t.label,i=t.guildFeature,l=t.enabled;return C(c.MenuCheckboxItem,{id:String(r),label:function(){return function(e,t,n){var r;return null==t||null==b?e:C("div",{className:(0,o.default)(O.default.label,(r={},r[O.default.disabled]=!n,r))},void 0,C("span",{className:O.default.labelText},void 0,e),C(f.default,{guild:b,guildFeature:t,className:O.default.availabilityIndicator,hideTooltip:!0}))}(a,i,l)},checked:r===(null===(n=e.threadMetadata)||void 0===n?void 0:n.autoArchiveDuration),className:O.default.menuItem,focusedClassName:O.default.focused,action:function(){(0,
u.closeContextMenu)();if(l)return p.default.setAutoArchiveDuration(e,r);if(null!=i){var t=(0,g.minimumRequiredTierForGuildFeature)(i);null!=b&&null!=t&&(0,d.default)({analyticsSourceLocation:T({},M,{section:E.AnalyticsSections.THREAD_CONTEXT_MENU,object:E.AnalyticsObjects.CONTEXT_MENU_ITEM,objectType:(0,g.boostedGuildTierToAnalyticsObjectType)(t)}),guild:b,targetBoostedGuildTier:t})}}},r)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=b(n(294184)),i=n(536211),u=n(378158),l=n(973523),s=n(321248),f=b(n(872134)),d=b(n(58941)),c=n(145122),p=b(n(887174)),v=n(192751),y=n(819235),h=b(n(447840)),m=b(n(30098)),_=n(308920),g=n(682937),E=n(770348),S=b(n(247001)),O=b(n(313657));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}},609510:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=v(n(968494)),u=n(973523),l=n(145122),s=v(n(689389)),f=n(194322),d=n(770348),c=n(474477),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e){var t=(0,o.useStateFromStores)([s.default],(function(){
return!s.default.can(e.isThread()?d.Permissions.MANAGE_THREADS:d.Permissions.MANAGE_CHANNELS,e)||!s.default.can(e.accessPermissions,e)}),[e]),r=(0,u.useIsForumPost)(e);return t?null:h(l.MenuItem,{id:"delete-channel",label:e.type===d.ChannelTypes.GUILD_CATEGORY?p.default.Messages.DELETE_CATEGORY:e.isThread()?r?p.default.Messages.DELETE_FORUM_POST:p.default.Messages.DELETE_THREAD:p.default.Messages.DELETE_CHANNEL,color:c.MenuItemColor.DANGER,action:function(){return(0,f.openModalLazy)(g(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(87466)]).then(n.bind(n,59337));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,m({},t,{onConfirm:function(){t.onClose();i.default.deleteChannel(e.id)},channel:e}))}));case 5:case"end":return t.stop()}}),t)}))))}})}E.displayName="useChannelDeleteItem"},894630:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r=(0,a.useStateFromStores)([u.default],(function(){return u.default.hasJoined(e.id)})),f=(0,o.useIsForumPost)(e);return(null===(n=e.threadMetadata)||void 0===n?void 0:n.archived)?null:c(i.MenuItem,r?{id:"leave-thread",label:f?s.default.Messages.LEAVE_FORUM_POST:s.default.Messages.LEAVE_THREAD,action:function(){return l.default.leaveThread(e,t)}}:{id:"join-thread",label:f?s.default.Messages.JOIN_FORUM_POST:s.default.Messages.JOIN_THREAD,action:function(){return l.default.joinThread(e,t)}})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(973523),i=n(145122),u=f(n(730451)),l=f(n(887174)),s=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},783938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,a.useStateFromStores)([f.default],(function(){return f.default.getChannel(e.parent_id)})),r=(0,s.useIsThreadModerator)(e),p=(0,i.useExistingPin)(e)
;if(!(null==n?void 0:n.isForumChannel()))return null;if(!r)return null;if(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)return null;return e.hasFlag(d.ChannelFlags.PINNED)?y(u.MenuItem,{id:"unpin-thread",label:c.default.Messages.UNPIN_POST,action:function(){return l.default.unpin(e)}}):y(u.MenuItem,{id:"pin-thread",label:c.default.Messages.PIN_POST,action:function(){null!=p?o.default.show({title:c.default.Messages.FORUM_PIN_CONFIRM_TITLE,body:c.default.Messages.FORUM_PIN_CONFIRM_BODY,onConfirm:(n=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return l.default.unpin(p);case 2:l.default.pin(e);case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}),function(){return n.apply(this,arguments)})}):l.default.pin(e);var t,n}})}
;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(896108)),i=n(973523),u=n(145122),l=p(n(887174)),s=n(819235),f=p(n(644263)),d=n(173652),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}},326348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(968494)),o=n(973523),i=n(145122),u=n(819235),l=n(194322),s=f(n(247001));function f(e){return e&&e.__esModule?e:{
default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t,n=(0,u.useCanManageThread)(e),r=(0,o.useIsForumPost)(e);return!n||(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)||__OVERLAY__?null:c(i.MenuItem,{id:"edit-thread",label:r?s.default.Messages.EDIT_FORUM_POST:s.default.Messages.EDIT_THREAD,action:function(){(0,l.closeAllModals)();a.default.open(e.id)}})}p.displayName="useThreadEditItem"},233557:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(145122),o=s(n(887174)),i=n(895431),u=n(64072),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=(0,i.useThreadNotificationSetting)(e);return e.isArchivedThread()?null:d(a.MenuItem,{id:"thread-notifications",label:l.default.Messages.NOTIFICATION_SETTINGS},void 0,(0,u.getThreadNotificationOptions)().map((function(n){var r=n.setting,i=n.label;return d(a.MenuRadioItem,{group:"thread-notifications",id:""+r,label:i,action:function(){return o.default.setNotificationSettings(e,{flags:r})},checked:r===t},r)})))}c.displayName="useThreadNotificationItem"},730205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(145122),o=s(n(887174)),i=n(819235),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t,n;if(!(0,
i.useIsThreadModerator)(e)||e.type!==u.ChannelTypes.PRIVATE_THREAD)return null;var r=null===(t=null===(n=e.threadMetadata)||void 0===n?void 0:n.invitable)||void 0===t||t;return d(a.MenuCheckboxItem,{id:"toggle-thread-invitable",label:l.default.Messages.THREAD_INVITABLE_TOGGLE_LABEL,checked:r,action:function(){return o.default.setInvitable(e,!r)}})}c.displayName="useToggleThreadInvitableItem"},918667:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=y(n(496486)),i=y(n(844784)),u=y(n(956117)),l=y(n(16941)),s=y(n(259530)),f=y(n(776360)),d=y(n(308920)),c=n(770348),p=y(n(247001)),v=y(n(76889));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=o.default.debounce(i.default.trackWithMetadata,500),g=function(e){var t=e.guild,n=e.message,r=e.image,o=e.type,y=e.imageMarginX,h=e.imageMarginTop,g=e.trackingSource,E=e.undismissable,S=e.onDismissed,O=e.onClick,b=e.cta
;a.useEffect((function(){_(c.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:o,guild_id:t.id})}),[t.id,o]);var I=null;"function"==typeof b?I=b():null!=b&&(I=m(u.default,{className:v.default.btn,size:u.default.Sizes.SMALL,onClick:function(){null!=o&&d.default.track(c.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{source:g,guild_id:t.id,notice_type:o});null==O||O()},fullWidth:!0},void 0,b));var C=null!=y?y+"px":"16px";return m("div",{className:v.default.channelNotice},void 0,!0===E?null:m(l.default,{onClick:function(){i.default.trackWithMetadata(c.AnalyticEvents.CHANNEL_NOTICE_CLOSED,{notice_type:o});null==S||S()},className:v.default.close,"aria-label":p.default.Messages.DISMISS},void 0,m(s.default,{className:v.default.closeIcon})),m("div",{className:v.default.imageContainer,style:{marginTop:h+"px",marginLeft:C,marginRight:C}},void 0,m("img",{className:v.default.image,src:r,alt:""})),m("div",{className:v.default.message},void 0,m(f.default,{},void 0,n),I))};g.displayName="ChannelNotice"
;var E=g;t.default=E},35333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(923387),u=k(n(972247)),l=n(233271),s=k(n(305081)),f=k(n(408692)),d=k(n(578628)),c=k(n(91836)),p=k(n(559759)),v=k(n(734495)),y=k(n(195849)),h=n(873976),m=n(157949),_=k(n(513696)),g=k(n(185836)),E=k(n(126515)),S=k(n(666280)),O=k(n(751122)),b=k(n(689389)),I=k(n(329669)),C=k(n(535711)),T=k(n(24e4)),A=n(682937),P=n(42031),M=k(n(264271)),N=k(n(71685)),R=k(n(198883)),w=k(n(715458)),D=n(7812),L=n(770348),j=n(583551);function k(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}
return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function V(e){e.stopPropagation()}var W=function(e){var t=e.guild,n=(0,o.useStateFromStoresObject)([O.default],(function(){return{appliedGuildBoosts:O.default.getAppliedGuildBoostsForGuild(t.id),lastFetchedAt:O.default.getLastFetchedAtForGuild(t.id)}})),r=n.appliedGuildBoosts,i=n.lastFetchedAt,u=(0,o.useStateFromStoresObject)([I.default],(function(){return{lastDismissedGracePeriod:I.default.getLastDismissedGracePeriodForGuild(t.id),isGracePeriodVisible:I.default.isVisible(t.id)}})),s=u.lastDismissedGracePeriod,d=u.isGracePeriodVisible,c=(0,o.useStateFromStores)([E.default],(function(){return E.default.isVisible(t)})),p=(0,o.useStateFromStoresObject)([T.default],(function(){return{channelNoticeType:T.default.getNoticeType(t),isMaxMemberNoticeVisible:T.default.isVisible(t)}})),g=p.channelNoticeType,N=p.isMaxMemberNoticeVisible,w=(0,o.useStateFromStores)([b.default],(function(){return b.default.can(L.Permissions.ADMINISTRATOR,t)
})),D=null!=s&&Date.now()-s<=L.GRACE_PERIOD_CHANNEL_NOTICE_SHOW_DELAY,j=null!=t?t.premiumSubscriberCount:0,k=(0,A.getGuildTierFromAppliedBoostCount)(j,t.id)!==L.BoostedGuildTiers.NONE,U=null!=i&&Date.now()-i<=432e5,G=!D&&w&&k&&!U,F=(0,m.useGuildHasLiveChannelNotice)(t.id),V=(0,o.useStateFromStores)([C.default],(function(){return C.default.isVisible(t)})),W=v.default.useExperiment({guildId:t.id}).enabled,B=(0,o.useStateFromStores)([y.default],(function(){return y.default.isEligible(t)}));a.useEffect((function(){G&&(0,l.fetchAppliedGuildBoostsForGuild)(t.id)}),[t.id,G]);if(c)return x(S.default,{guild:t});if(d)return x(f.default,{guild:t,appliedGuildBoosts:r});if(N&&null!=g)return x(R.default,{guild:t,channelNoticeType:g});if(F)return x(_.default,{guild:t});if(V)return x(M.default,{guild:t});if(B){v.default.trackExposure({guildId:t.id});if(W)return x(h.GuildNotificationDefaultsNotice,{guild:t})}return P.ProcessArgs.isDisallowPopupsSet()?null:x(H,{guild:e.guild})}
;W.displayName="ConnectedNotices";function H(e){var t,n=e.guild,r=G(a.useState(null!==(t=u.default.get(D.LAST_HIDDEN_CHANNEL_NOTICE))&&void 0!==t?t:0),2),l=r[0],f=r[1],v=(0,o.useStateFromStoresArray)(D.CHANNEL_NOTICE_STORES,(function(){return D.CHANNEL_NOTICES.filter((function(e){return e.store.channelNoticePredicate(n,l)})).map((function(e){return e.dismissibleContentType}))}));return x("div",{onContextMenu:V},void 0,x(s.default,{contentTypes:v,groupName:j.DismissibleContentGroupName.CHANNEL_NOTICES},void 0,(function(e){var t=e.content,r=e.markAsDismissed,a=function(){!function(e){u.default.set(D.LAST_HIDDEN_CHANNEL_NOTICE,e);f(e)}(Date.now());r()};switch(t){case i.DismissibleContent.CHANNEL_NOTICE_HUBLINK:return x(g.default,{guild:n,markAsDismissed:a});case i.DismissibleContent.CHANNEL_NOTICE_INVITE:return x(N.default,{guild:n,markAsDismissed:a});case i.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION_AFFINITY:return x(c.default,{guild:n,markAsDismissed:a})
;case i.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:return x(p.default,{guild:n,markAsDismissed:a});case i.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER:return x(w.default,{guild:n,markAsDismissed:a});case i.DismissibleContent.CHANNEL_NOTICE_GUILD_BANNER:return x(d.default,{guild:n,markAsDismissed:a});default:return null}})))}H.displayName="ChannelNoticesGuard";var B=W;t.default=B},7812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LAST_HIDDEN_CHANNEL_NOTICE=t.CHANNEL_NOTICE_STORES=t.CHANNEL_NOTICES=void 0;var r=n(923387),a=d(n(523946)),o=d(n(538647)),i=d(n(742373)),u=d(n(20446)),l=d(n(735653)),s=d(n(477566)),f=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}t.LAST_HIDDEN_CHANNEL_NOTICE="lastHiddenChannelNotice";var c=[{type:f.ChannelNoticeTypes.INVITE,store:s.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_INVITE},{type:f.ChannelNoticeTypes.HUB_LINK,store:l.default,
dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_HUBLINK},{type:f.ChannelNoticeTypes.GUILD_BOOSTING_GUILD_AFFINITY,store:i.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION_AFFINITY},{type:f.ChannelNoticeTypes.GUILD_BOOSTING,store:u.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{type:f.ChannelNoticeTypes.QUICKSWITCHER,store:a.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER},{type:f.ChannelNoticeTypes.GUILD_BANNER,store:o.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_GUILD_BANNER}];t.CHANNEL_NOTICES=c;var p=c.map((function(e){return e.store}));t.CHANNEL_NOTICE_STORES=p},264271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(226800)),i=f(n(918667)),u=n(770348),l=f(n(247001)),s=f(n(785538));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){
p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return c(i.default,{guild:this.props.guild,onClick:function(){return o.default.open(u.UserSettingsSections.ACCOUNT)},message:l.default.Messages.TWO_FA_GUILD_MFA_WARNING_MESSAGE_WITH_SPACING.format(),cta:l.default.Messages.TWO_FA_GUILD_MFA_WARNING_RESOLVE_BUTTON,trackingSource:u.ChannelNoticeCtaSources.GUILD_MFA_WARNING,type:u.ChannelNoticeTypes.MFA_WARNING,image:s.default,imageMarginX:54,undismissable:!0})};return t}(a.PureComponent);v.displayName="GuildMFAWarning";var y=v;t.default=y},71685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(786345)),i=c(n(211136)),u=n(194322),l=c(n(918667)),s=n(770348),f=c(n(247001)),d=c(n(947079));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,r=arguments.length,l=new Array(r),d=0;d<r;d++)l[d]=arguments[d];(t=e.call.apply(e,[this].concat(l))||this).handleInvite=function(){var e=t.props.guild;(0,
u.openModalLazy)(m(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,y({},t,{guild:e,source:s.InstantInviteSources.INVITE_NOTICE}))}));case 5:case"end":return t.stop()}}),t)}))))};t.handleClose=function(){var e=i.default.getChannelId();t.props.markAsDismissed();e&&o.default.sendBotMessage(e,f.default.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:f.default.Messages.INVITE_PEOPLE}))};return t}t.prototype.render=function(){var e=f.default.Messages.INVITE_NOTICE_MESSAGE+"\n"+f.default.Messages.INVITE_NOTICE_MESSAGE_PART_2;return v(l.default,{guild:this.props.guild,onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:f.default.Messages.INVITE_PEOPLE,trackingSource:s.ChannelNoticeCtaSources.INVITE_NOTICE,
type:s.ChannelNoticeTypes.INVITE,image:d.default,imageMarginX:46})};return t}(a.PureComponent);g.displayName="InviteNotice";var E=g;t.default=E},198883:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=d(n(550270)),u=d(n(918667)),l=n(770348),s=d(n(247001)),f=d(n(389515));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.guild,n=e.channelNoticeType,r=a.useCallback((function(){(0,o.hideMaxMemberCountChannelNotice)(t.id,n)}),[t.id,n]);return p(u.default,{guild:t,onDismissed:r,message:s.default.Messages.NOTICE_CHANNEL_MAX_MEMBERS_CAP_REACHED_MESSAGE.format({maxMemberCount:t.maxMembers,maxMembersUrl:i.default.getArticleURL(l.HelpdeskArticles.MAX_MEMBERS)}),type:n,image:f.default,imageMarginX:61})};v.displayName="MaxMemberCountNotice";var y=v;t.default=y},715458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(221107),o=n(749666),i=n(835282),u=d(n(918667)),l=n(770348),s=d(n(247001)),f=d(n(10439));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=a.QUICKSWITCHER_SHOW.binds[0].split("+").map((function(e){return o.PRETTY_KEYS[e]?o.PRETTY_KEYS[e]():e})).join(" + ").toUpperCase();return p(u.default,{guild:e.guild,onDismissed:e.markAsDismissed,onClick:function(){return(0,i.show)("CHANNEL_NOTICE")},message:s.default.Messages.QUICKSWITCHER_NOTICE,cta:t,trackingSource:l.ChannelNoticeCtaSources.QUICK_SWITCHER_NOTICE,type:l.ChannelNoticeTypes.QUICKSWITCHER,image:f.default,imageMarginX:50})};v.displayName="QuickSwitcherNotice";var y=v;t.default=y},739889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TrackExposureLocations=t.SettingMode=t.RowType=t.MEMBER_REQUEST_COUNT=t.AddMembersSections=t.ADVANCED_MODE_ON_KEY=void 0;t.getChannelPermissionSpecMap=function(e,t,n){var r;return(r={})[u.Permissions.VIEW_CHANNEL.toString()]={
title:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL:l.default.Messages.VIEW_CHANNEL,description:function(){if(t)switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY_EVERYONE;case u.ChannelTypes.GUILD_VOICE:case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_VOICE_EVERYONE;default:return l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_TEXT_EVERYONE}return e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CHANNEL}(),flag:u.Permissions.VIEW_CHANNEL},r[u.Permissions.MANAGE_CHANNELS.toString()]={title:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.MANAGE_CHANNELS:l.default.Messages.MANAGE_CHANNEL,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:
return l.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_VOICE;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_TEXT}}(),flag:u.Permissions.MANAGE_CHANNELS},r[u.Permissions.MANAGE_ROLES.toString()]={title:l.default.Messages.MANAGE_PERMISSIONS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CHANNEL}}(),flag:u.Permissions.MANAGE_ROLES},r[u.Permissions.MANAGE_WEBHOOKS.toString()]={title:l.default.Messages.MANAGE_WEBHOOKS,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CHANNEL,flag:u.Permissions.MANAGE_WEBHOOKS},r[u.Permissions.CREATE_INSTANT_INVITE.toString()]={title:l.default.Messages.CREATE_INSTANT_INVITE,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_VOICE:case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_VOICE;default:return l.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_TEXT}}(),flag:u.Permissions.CREATE_INSTANT_INVITE},r[u.Permissions.SEND_MESSAGES.toString()]={
title:e===u.ChannelTypes.GUILD_FORUM?l.default.Messages.CREATE_FORUM_POSTS:n&&e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.SEND_MESSAGES_AND_CREATE_FORUM_POSTS:l.default.Messages.SEND_MESSAGES,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return n?l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_FORUM:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_TEXT;case u.ChannelTypes.GUILD_ANNOUNCEMENT:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:i.default.getArticleURL(u.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)});default:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_TEXT}}(),flag:u.Permissions.SEND_MESSAGES},r[u.Permissions.EMBED_LINKS.toString()]={title:l.default.Messages.EMBED_LINKS,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_TEXT,flag:u.Permissions.EMBED_LINKS},r[u.Permissions.ATTACH_FILES.toString()]={title:l.default.Messages.ATTACH_FILES,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_TEXT,flag:u.Permissions.ATTACH_FILES},r[u.Permissions.ADD_REACTIONS.toString()]={title:l.default.Messages.ADD_REACTIONS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_TEXT,flag:u.Permissions.ADD_REACTIONS},r[u.Permissions.USE_EXTERNAL_EMOJIS.toString()]={title:l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_TEXT,flag:u.Permissions.USE_EXTERNAL_EMOJIS},r[u.Permissions.USE_EXTERNAL_STICKERS.toString()]={title:l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_TEXT,flag:u.Permissions.USE_EXTERNAL_STICKERS},r[u.Permissions.MENTION_EVERYONE.toString()]={title:l.default.Messages.MENTION_EVERYONE,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_TEXT,flag:u.Permissions.MENTION_EVERYONE},r[u.Permissions.MANAGE_MESSAGES.toString()]={title:l.default.Messages.MANAGE_MESSAGES,
description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_ANNOUNCEMENT:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:i.default.getArticleURL(u.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)});default:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_TEXT}}(),flag:u.Permissions.MANAGE_MESSAGES},r[u.Permissions.READ_MESSAGE_HISTORY.toString()]={title:l.default.Messages.READ_MESSAGE_HISTORY,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_TEXT,flag:u.Permissions.READ_MESSAGE_HISTORY},r[u.Permissions.SEND_TTS_MESSAGES.toString()]={title:l.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_TEXT,flag:u.Permissions.SEND_TTS_MESSAGES},r[u.Permissions.USE_APPLICATION_COMMANDS.toString()]={title:l.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_TEXT,flag:u.Permissions.USE_APPLICATION_COMMANDS},r[u.Permissions.CONNECT.toString()]={title:l.default.Messages.CONNECT,description:function(){if(t)switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY_EVERYONE;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE_EVERYONE;default:
return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE_EVERYONE}switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE}}(),flag:u.Permissions.CONNECT},r[u.Permissions.SPEAK.toString()]={title:l.default.Messages.SPEAK,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_VOICE}}(),flag:u.Permissions.SPEAK},r[u.Permissions.STREAM.toString()]={title:l.default.Messages.VIDEO,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_VOICE,flag:u.Permissions.STREAM},r[u.Permissions.USE_EMBEDDED_ACTIVITIES.toString()]={title:l.default.Messages.USE_EMBEDDED_ACTIVITIES,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_USE_EMBEDDED_ACTIVITIES_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_USE_EMBEDDED_ACTIVITIES_DESCRIPTION_VOICE,flag:u.Permissions.USE_EMBEDDED_ACTIVITIES},r[u.Permissions.USE_VAD.toString()]={title:l.default.Messages.USE_VAD,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_VOICE}}(),flag:u.Permissions.USE_VAD},
r[u.Permissions.PRIORITY_SPEAKER.toString()]={title:l.default.Messages.PRIORITY_SPEAKER,description:function(){0;var t={keybind:l.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY,onClick:function(){o.default.open(u.UserSettingsSections.KEYBINDS)}};return e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_CATEGORY.format(t):l.default.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_VOICE.format(t)}(),flag:u.Permissions.PRIORITY_SPEAKER},r[u.Permissions.MUTE_MEMBERS.toString()]={title:l.default.Messages.MUTE_MEMBERS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_VOICE}}(),flag:u.Permissions.MUTE_MEMBERS},r[u.Permissions.DEAFEN_MEMBERS.toString()]={
title:l.default.Messages.DEAFEN_MEMBERS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_VOICE,flag:u.Permissions.DEAFEN_MEMBERS},r[u.Permissions.MOVE_MEMBERS.toString()]={title:l.default.Messages.MOVE_MEMBERS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return l.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_STAGE_VOICE:return l.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_STAGE;default:return l.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_VOICE}}(),flag:u.Permissions.MOVE_MEMBERS},r[u.Permissions.REQUEST_TO_SPEAK.toString()]={title:l.default.Messages.REQUEST_TO_SPEAK,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_STAGE,
flag:u.Permissions.REQUEST_TO_SPEAK},r[u.Permissions.MANAGE_THREADS.toString()]={title:e===u.ChannelTypes.GUILD_FORUM?l.default.Messages.MANAGE_FORUM_POSTS:n&&e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.MANAGE_THREADS_AND_FORUM_POSTS:l.default.Messages.MANAGE_THREADS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:return n?l.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_FORUM:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_TEXT;default:return l.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_TEXT}}(),flag:u.Permissions.MANAGE_THREADS},r[u.Permissions.CREATE_PUBLIC_THREADS.toString()]={title:l.default.Messages.CREATE_PUBLIC_THREADS,
description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_TEXT,flag:u.Permissions.CREATE_PUBLIC_THREADS},r[u.Permissions.CREATE_PRIVATE_THREADS.toString()]={title:l.default.Messages.CREATE_PRIVATE_THREADS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_TEXT,flag:u.Permissions.CREATE_PRIVATE_THREADS},r[u.Permissions.SEND_MESSAGES_IN_THREADS.toString()]={title:e===u.ChannelTypes.GUILD_FORUM?l.default.Messages.SEND_MESSAGES_IN_FORUM_POSTS:n&&e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS:l.default.Messages.SEND_MESSAGES_IN_THREADS,description:function(){switch(e){case u.ChannelTypes.GUILD_CATEGORY:
return n?l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_CATEGORY;case u.ChannelTypes.GUILD_FORUM:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_TEXT;default:return l.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_TEXT}}(),flag:u.Permissions.SEND_MESSAGES_IN_THREADS},r[u.Permissions.MANAGE_EVENTS.toString()]={title:l.default.Messages.MANAGE_EVENTS,description:e===u.ChannelTypes.GUILD_CATEGORY?l.default.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CATEGORY:l.default.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CHANNEL,flag:u.Permissions.MANAGE_EVENTS},r};var r,a,o=s(n(226800)),i=s(n(550270)),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}t.RowType=r;!function(e){e[e.EMPTY_STATE=0]="EMPTY_STATE";e[e.ADMINISTRATOR=1]="ADMINISTRATOR";e[e.ROLE=2]="ROLE"
;e[e.OWNER=3]="OWNER";e[e.MEMBER=4]="MEMBER"}(r||(t.RowType=r={}));t.AddMembersSections=a;!function(e){e[e.ROLES=0]="ROLES";e[e.MEMBERS=1]="MEMBERS"}(a||(t.AddMembersSections=a={}));t.MEMBER_REQUEST_COUNT=20;var f,d;t.ADVANCED_MODE_ON_KEY="channelPermissionSettingsAdvancedModeOn";t.TrackExposureLocations=f;!function(e){e.SETTINGS_PAGE="settings-page";e.MEMBERS_LIST="members-list";e.EMPTY_STATE="empty-state";e.CREATE_CHANNEL="create-channel"}(f||(t.TrackExposureLocations=f={}));t.SettingMode=d;!function(e){e.BASIC="basic";e.ADVANCED="advanced"}(d||(t.SettingMode=d={}))},421910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchDirectoryEntries=void 0;var r=l(n(23279)),a=l(n(118915)),o=l(n(636602)),i=n(218044),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var f=(0,r.default)(function(){
var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_START});e.next=4;return a.default.get({url:u.Endpoints.DIRECTORY_CHANNEL_ENTRIES(t),query:{type:i.DirectoryEntryTypes.GUILD_SCHEDULED_EVENT}});case 4:n=e.sent;o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_SUCCESS,channelId:t,entries:n.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(0);o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_FAILURE});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),200);t.fetchDirectoryEntries=f},435625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.addDirectoryGuildEntry=function(e,t,n,r){return h.apply(this,arguments)};t.fetchGuildEntriesForIds=t.fetchDirectoryEntries=t.fetchDirectoryCounts=t.clearDirectorySearch=void 0;t.removeDirectoryGuildEntry=function(e,t){u.default.delete({url:f.Endpoints.DIRECTORY_CHANNEL_ENTRY(e,t),trackedActionData:{event:a.NetworkActionNames.DIRECTORY_GUILD_ENTRY_DELETE,properties:{directory_channel_id:e,guild_id:t}}});i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_ENTRY_DELETE,channelId:e,guildId:t})};t.updateDirectoryEntry=t.selectDirectoryCategory=t.searchDirectoryEntries=void 0;var r=d(n(23279)),a=n(47354),o=d(n(118915)),i=d(n(636602)),u=d(n(351772)),l=d(n(917582)),s=n(218044),f=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){
c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}var v=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_FETCH_START});e.next=4;return o.default.get({url:f.Endpoints.DIRECTORY_CHANNEL_ENTRIES(t),query:{category_id:n}});case 4:r=e.sent;i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_FETCH_SUCCESS,channelId:t,entries:r.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(0);i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_FETCH_FAILURE});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),200);t.fetchDirectoryEntries=v;var y=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.get({
url:f.Endpoints.DIRECTORY_CHANNEL_CATEGORY_COUNTS(t)});case 3:n=e.sent;i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS,channelId:t,counts:n.body});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),200);t.fetchDirectoryCounts=y;function h(){return(h=p(regeneratorRuntime.mark((function e(t,n,r,o){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===o&&(o=s.DirectoryEntryCategories.UNCATEGORIZED);e.next=3;return u.default.post({url:f.Endpoints.DIRECTORY_CHANNEL_ENTRY(t,n),body:{description:r,primary_category_id:o},trackedActionData:{event:a.NetworkActionNames.DIRECTORY_GUILD_ENTRY_CREATE,properties:{directory_channel_id:t,guild_id:n,primary_category_id:o}}});case 3:l=e.sent;i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_ENTRY_CREATE,channelId:t,entry:l.body});case 5:case"end":return e.stop()}}),e)
})))).apply(this,arguments)}var m=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.default.shouldFetch(t,n)){e.next=4;break}i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_CACHED_SEARCH,channelId:t,query:n});return e.abrupt("return");case 4:e.prev=4;i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_SEARCH_START,channelId:t,query:n});e.next=8;return o.default.get({url:f.Endpoints.DIRECTORY_ENTRIES_SEARCH(t),query:{query:n}});case 8:r=e.sent;i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_SEARCH_SUCCESS,channelId:t,query:n,results:r.body});e.next=15;break;case 12:e.prev=12;e.t0=e.catch(4);i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_FETCH_FAILURE});case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}(),200);t.searchDirectoryEntries=m;t.clearDirectorySearch=function(e){
i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_SEARCH_CLEAR,channelId:e})};var _=function(){var e=p(regeneratorRuntime.mark((function e(t,n,r,a){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===a&&(a=s.DirectoryEntryCategories.UNCATEGORIZED);e.next=3;return o.default.patch({url:f.Endpoints.DIRECTORY_CHANNEL_ENTRY(t,n),body:{description:r,primary_category_id:a}});case 3:u=e.sent;i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_ENTRY_UPDATE,channelId:t,entry:u.body});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.updateDirectoryEntry=_;t.selectDirectoryCategory=function(e,t){i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_CATEGORY_SELECT,channelId:e,categoryId:t})};var g=function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.get({
url:f.Endpoints.DIRECTORY_CHANNEL_LIST_BY_ID(t),query:{entity_ids:n}});case 3:r=e.sent;i.default.dispatch({type:f.ActionTypes.GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS,channelId:t,entries:r.body});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();t.fetchGuildEntriesForIds=g},917582:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=n(448406),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var d={},c={};var p=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getSearchState=function(e){var t;return null!==(t=d[e])&&void 0!==t?t:{mostRecentQuery:"",fetching:!1}};n.getSearchResults=function(e,t){var n,r,a;return null!==(n=null===(r=c[e])||void 0===r||null===(a=r[t])||void 0===a?void 0:a.results)&&void 0!==n?n:[]};n.shouldFetch=function(e,t){var n,r,a=null===(n=c[e])||void 0===n||null===(r=n[t])||void 0===r?void 0:r.lastSearchedAt;return null==a||Date.now()-a>12e4};return t}(a.default.Store))(o.default,((r={})[u.ActionTypes.GUILD_DIRECTORY_SEARCH_START]=function(e){var t=e.channelId,n=e.query;d[t]={fetching:!0,mostRecentQuery:n}},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_SUCCESS]=function(e){var t,n=e.channelId,r=e.query,a=e.results;d[n]=f({},d[n],{fetching:!1});var o=[];a.forEach((function(e){var t=(0,i.guildDirectoryEntryFromServer)(e);o.push(t)}));c[n]=f({},c[n],((t={})[r]={results:(0,i.orderByTotalMemberCount)(o),
lastSearchedAt:Date.now()},t))},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_FAILURE]=function(e){var t=e.channelId;d[t]=f({},d[t],{fetching:!1})},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_CLEAR]=function(e){var t=e.channelId;d[t]={fetching:!1,mostRecentQuery:""}},r[u.ActionTypes.GUILD_DIRECTORY_CACHED_SEARCH]=function(e){var t=e.channelId,n=e.query;d[t]={fetching:!1,mostRecentQuery:n}},r[u.ActionTypes.GUILD_DIRECTORY_ENTRY_DELETE]=function(e){var t,n,r=e.channelId,a=e.guildId,o=null===(t=d[r])||void 0===t?void 0:t.mostRecentQuery;if(null!=o){var i=c[r][o];if(null!=i){var u=i.results.filter((function(e){return e.guildId!==a}));c[r]=f({},c[r],((n={})[d[r].mostRecentQuery]=f({},i,{results:u}),n))}}},r));t.default=p},229164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,r.useStateFromStores)([o.default],(function(){return o.default.getGuild(e.guildId)})),n=(0,r.useStateFromStores)([a.default],(function(){
return a.default.getChannel(e.channelId)})),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.ADMINISTRATOR,t)})),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.MANAGE_MESSAGES,n)}));return{isEntryAdmin:l,canEdit:l||s,canRemove:l||s}};t.useCanCreateOrAddGuildInDirectory=function(e){return(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.SEND_MESSAGES,e)}))};var r=n(536211),a=l(n(644263)),o=l(n(30098)),i=l(n(689389)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},63608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=T(n(667294)),o=n(536211),i=n(508510),u=I(n(97982)),l=I(n(191391)),s=I(n(80828)),f=n(194322),d=I(n(308920)),c=T(n(421910)),p=T(n(435625)),v=I(n(917582)),y=I(n(447364)),h=n(229164),m=I(n(434324)),_=I(n(308607)),g=n(1698),E=I(n(670539)),S=n(218044),O=n(770348),b=I(n(447763));function I(e){
return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function M(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,u,"next",e)}function u(e){M(o,r,a,i,u,"throw",e)}i(void 0)}))}}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=function(e){var t,r=e.channel,I=e.guild,C=(0,o.useStateFromStoresObject)([y.default],(function(){var e=y.default.getCurrentCategoryId(r.id);return{currentCategoryId:e,directoryEntries:y.default.getDirectoryEntries(r.id,e===S.DirectoryEntryCategories.ALL?null:e),categoryCounts:y.default.getDirectoryCategoryCounts(r.id),allEntriesCount:y.default.getDirectoryAllEntriesCount(r.id),isLoading:y.default.isFetching()}
})),T=C.currentCategoryId,M=C.directoryEntries,w=C.categoryCounts,D=C.allEntriesCount,L=C.isLoading;a.useEffect((function(){return function(){var e=l.default.lastMessageId(r.id);null!=e&&(0,i.ack)(r.id,!0,!0,e)}}),[r.id]);var j=a.useMemo((function(){return null!=M?(0,g.generateDirectoryRows)(Object.values(M),T):null}),[M,T]),k=(0,o.useStateFromStoresObject)([v.default],(function(){var e=v.default.getSearchState(r.id),t=e.mostRecentQuery;return{mostRecentQuery:t,searchFetching:e.fetching,searchResults:v.default.getSearchResults(r.id,t)}})),U=k.mostRecentQuery,G=k.searchFetching,F=k.searchResults,x=R(a.useState(U),2),V=x[0],W=x[1],H=""!==U,B=u.default.useExperiment({guildId:null!==(t=I.id)&&void 0!==t?t:""}).showHubEventsList;a.useEffect((function(){p.fetchDirectoryEntries(r.id);p.fetchDirectoryCounts(r.id);B&&c.fetchDirectoryEntries(r.id);W(U)}),[r.id]);a.useEffect((function(){d.default.track(O.AnalyticEvents.GUILD_DIRECTORY_CHANNEL_VIEWED,{directory_channel_id:r.id,
directory_guild_id:I.id,primary_category_id:T})}),[r.id,I.id,T]);var z=(0,h.useCanCreateOrAddGuildInDirectory)(r)?function(){(0,f.openModalLazy)(N(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(62884),n.e(87248)]).then(n.bind(n,887248));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,P({},e,{directoryGuildName:I.name,directoryGuildId:I.id,directoryChannelId:r.id,currentCategoryId:T===S.DirectoryEntryCategories.ALL?null:T}))}));case 5:case"end":return e.stop()}}),e)}))))}:void 0,Y=function(e){if(0!==V.trim().length&&e.charCode===O.KeyboardKeys.ENTER){p.searchDirectoryEntries(r.id,V);d.default.track(O.AnalyticEvents.GUILD_DIRECTORY_SEARCH,{directory_channel_id:r.id,directory_guild_id:I.id})}},$=function(){W("");p.clearDirectorySearch(r.id)};return H?A(E.default,{searchQuery:V,setSearchQuery:W,mostRecentQuery:U,
handleSearchKeyPress:Y,handleClearSearch:$,handleCreateOrAddGuild:z,searchResults:F,searchFetching:G}):null==j&&null==T?A("div",{className:b.default.pageContainer},void 0,A(s.default,{className:b.default.spinner})):0===(null==j?void 0:j.length)&&null==T?A("div",{className:b.default.pageContainer},void 0,A(m.default,{guild:I,onAddGuild:z})):A(_.default,{channel:r,searchQuery:V,setSearchQuery:W,handleSearchKeyPress:Y,handleClearSearch:$,handleCreateOrAddGuild:z,currentCategoryId:T,handleSelectCategory:function(e){p.selectDirectoryCategory(r.id,e)},directoryEntries:j,categoryCounts:w,allEntriesCount:D,isLoading:L})};D.displayName="GuildDirectory";var L=D;t.default=L},434324:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(888746),i=n(194322),u=c(n(971639)),l=c(n(776360)),s=n(770348),f=c(n(247001)),d=c(n(889775));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var _=function(e){var t=e.guild,r=e.onAddGuild,c=a.useCallback((function(){(0,i.openModalLazy)(m(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,y({},e,{guild:t,source:s.InstantInviteSources.HUB_DIRECTORY,analyticsLocation:{
section:s.AnalyticsSections.HUB_WELCOME_CTA}}))}));case 5:case"end":return e.stop()}}),e)}))))}),[t]);return v("div",{className:d.default.emptyWrapper},void 0,v("img",{className:d.default.emptyImage,alt:"",src:n(655916)}),v(u.default,{className:d.default.emptyTitle,size:u.default.Sizes.SIZE_24},void 0,f.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_TITLE.format({guildName:t.name})),v(l.default,{size:l.default.Sizes.SIZE_16,className:d.default.emptySubtitle},void 0,f.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_SUBTITLE),null!=r?v(o.WelcomeMessageCTA,{className:d.default.emptyCTA,iconUrl:n(755645),header:f.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_ADD_SERVER,completed:!1,onClick:r}):null,v(o.WelcomeMessageCTA,{className:d.default.emptyCTA,iconUrl:n(930519),header:f.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_INVITE,completed:!1,onClick:c}))};_.displayName="DirectoryEmptyState";var g=_;t.default=g},923117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=t.AddEntryCard=void 0;var r,a=U(n(667294)),o=j(n(294184)),i=n(536211),u=n(378158),l=j(n(415275)),s=n(800055),f=n(139982),d=j(n(539563)),c=j(n(30098)),p=j(n(211136)),v=j(n(956117)),y=j(n(16941)),h=j(n(189950)),m=j(n(380439)),_=j(n(730977)),g=j(n(775803)),E=j(n(975165)),S=n(194322),O=j(n(272544)),b=U(n(962989)),I=j(n(776360)),C=j(n(692711)),T=j(n(229164)),A=j(n(71472)),P=n(770348),M=j(n(247001)),N=j(n(423973)),R=j(n(928793)),w=["onClick"],D=["onClick"],L=["onClick"];function j(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return G.apply(this,arguments)}function F(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,u,"next",e)}function u(e){F(o,r,a,i,u,"throw",e)}i(void 0)}))}}function V(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z=B("img",{alt:"",src:R.default}),Y=function(e){var t=e.onClick;return B(y.default,{onClick:t,className:N.default.addEntryCard},void 0,z,B(I.default,{size:I.default.Sizes.SIZE_14,color:I.default.Colors.HEADER_PRIMARY,className:N.default.addServerText},void 0,M.default.Messages.HUB_ADD_SERVER_CTA))};t.AddEntryCard=Y;Y.displayName="AddEntryCard";function $(e){var t,r=e.entry,i=W(a.useState(!1),2),u=i[0],l=i[1],s=(0,T.default)(r).canEdit;return B("div",{className:(0,o.default)(N.default.actionButtonsContainer,(t={},t[N.default.forceButtonsShow]=u,t))},void 0,B(b.default,{},void 0,s?B(_.default,{text:M.default.Messages.HUB_ENTRY_UPDATE,hideOnClick:!0},void 0,(function(e){var t=e.onClick,o=V(e,w);return a.createElement(b.Button,G({},o,{
onClick:function(){null==t||t();(0,S.openModalLazy)(x(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(50012)]).then(n.bind(n,950012));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,G({},e,{entry:r}))}));case 5:case"end":return e.stop()}}),e)}))))},"aria-label":M.default.Messages.HUB_ENTRY_UPDATE}),B(E.default,{className:N.default.overflowIcon}))})):null,B(A.default,{onRequestOpen:function(){return l(!0)},onRequestClose:function(){return l(!1)},entry:r,hideEditButton:!0},void 0,(function(e){var t=e.onClick,n=V(e,D);return B(_.default,{text:M.default.Messages.MORE,hideOnClick:!0},void 0,(function(e){var r=e.onClick,o=V(e,L);return a.createElement(b.Button,G({},n,o,{onClick:function(e){null==r||r();t(e)},"aria-label":M.default.Messages.MORE}),B(g.default,{className:N.default.overflowIcon}))}))}))))}
$.displayName="ActionButtons";var K=function(e){var t,r=e.entry,o=W(a.useState(!1),2),y=o[0],g=o[1],E=null!=(0,i.useStateFromStores)([c.default],(function(){return c.default.getGuild(r.guildId)})),S=function(){var e=x(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0);e.prev=1;if(E){e.next=7;break}e.next=5;return l.default.joinGuild(r.guildId,{source:P.JoinGuildSources.DIRECTORY_ENTRY});case 5:e.next=8;break;case 7:(0,f.transitionToGuild)(r.guildId,p.default.getChannelId(r.guildId));case 8:e.prev=8;g(!1);return e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,,8,11]])})));return function(){return e.apply(this,arguments)}}(),b=C.default.getGuildSplashURL({id:r.guildId,splash:r.splash,size:300*(0,s.getDevicePixelRatio)()}),T=null!==(t=C.default.getGuildIconURL({id:r.guildId,icon:r.icon,size:40}))&&void 0!==t?t:void 0,A=M.default.Messages.JOIN
;E&&(A=M.default.Messages.HUB_DIRECTORY_CARD_JOINED_GUILD_BUTTON);return B("div",{className:N.default.card,onContextMenu:function(e){(0,u.openContextMenuLazy)(e,x(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,88020));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,G({},e,{entry:r}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,B("div",{className:N.default.cardHeader},void 0,B("div",{className:N.default.splash},void 0,null!=b&&B("img",{src:b,alt:"",className:N.default.splashImage})),B("div",{className:N.default.guildIcon},void 0,B(O.default,{mask:O.default.Masks.SQUIRCLE,width:48,height:48},void 0,B("div",{className:N.default.iconMask},void 0,B(m.default,{className:N.default.icon,iconSrc:T,guild:new d.default(r),size:m.default.Sizes.MEDIUM,active:!0}))))),B("div",{className:N.default.guildInfo
},void 0,B("div",{className:N.default.title},void 0,B(h.default,{className:N.default.guildBadge,guild:r,tooltipColor:_.default.Colors.PRIMARY}),B(I.default,{className:N.default.guildName,size:I.default.Sizes.SIZE_16,color:I.default.Colors.HEADER_PRIMARY},void 0,r.name)),B(I.default,{className:N.default.description,size:I.default.Sizes.SIZE_14,color:I.default.Colors.HEADER_SECONDARY},void 0,r.description),B("div",{className:N.default.memberInfo},void 0,null!=r.approximatePresenceCount&&B("div",{className:N.default.memberCount},void 0,B("div",{className:N.default.dotOnline}),B(I.default,{size:I.default.Sizes.SIZE_12,color:I.default.Colors.HEADER_SECONDARY},void 0,M.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:r.approximatePresenceCount}))),null!=r.approximateMemberCount&&B("div",{className:N.default.memberCount},void 0,B("div",{className:N.default.dotOffline}),B(I.default,{size:I.default.Sizes.SIZE_12,color:I.default.Colors.HEADER_SECONDARY
},void 0,M.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:r.approximateMemberCount})))),B(v.default,{submitting:y,className:N.default.joinButton,color:E?v.default.Colors.GREY:v.default.Colors.GREEN,onClick:S},void 0,A)),B($,{entry:r}))};K.displayName="GuildDirectoryEntryCard";var q=K;t.default=q},88020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I;var r,a=g(n(667294)),o=n(378158),i=m(n(730487)),u=n(837797),l=g(n(145122)),s=m(n(907509)),f=m(n(502197)),d=n(194322),c=m(n(776360)),p=g(n(435625)),v=m(n(229164)),y=n(474477),h=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.entry,r=e.onSelect,m=e.closePopout,_=e.forceLightTheme,g=e.hideEditButton,E=void 0!==g&&g,I=(0,v.default)(t),C=I.isEntryAdmin,T=I.canEdit,A=I.canRemove,P=(0,i.default)(t.guildId,void 0,void 0,m);a.useEffect((function(){T||A||null!=P||(0,o.closeContextMenu)()}));var M=function(){p.removeDirectoryGuildEntry(t.channelId,t.guildId)};function N(){(0,o.closeContextMenu)();null==m||m()}return b(l.default,{className:_?"theme-light":null,navId:"guild-entry-context",onClose:N,"aria-label":h.default.Messages.GUILD_ACTIONS_MENU_LABEL,onSelect:r},void 0,b(l.MenuGroup,{},void 0,T&&!E?b(l.MenuItem,{id:"update-entry",label:h.default.Messages.HUB_ENTRY_UPDATE,action:function(){(0,d.openModalLazy)(S(regeneratorRuntime.mark((function e(){
var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(50012)]).then(n.bind(n,950012));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,O({},e,{entry:t}))}));case 5:case"end":return e.stop()}}),e)}))));N()}}):null,A?b(l.MenuItem,{id:"remove-from-hub",label:h.default.Messages.HUB_ENTRY_REMOVE,action:function(){(0,d.openModal)((function(e){return a.createElement(f.default,O({header:h.default.Messages.HUB_ENTRY_REMOVE,confirmText:h.default.Messages.REMOVE,cancelText:h.default.Messages.CANCEL,onConfirm:M},e),b(c.default,{size:c.default.Sizes.SIZE_16},void 0,h.default.Messages.HUB_ENTRY_REMOVE_BODY.format({guildName:t.name})))}));N()},color:y.MenuItemColor.DANGER}):null,C?null:a.createElement(a.Fragment,null,b(l.MenuItem,{id:"report-server-listing",label:h.default.Messages.REPORT_SERVER_NO_NAME,action:function(){if(null!=t){(0,u.showReportModalForGuildDirectoryEntry)(t);N()
}},icon:s.default,color:y.MenuItemColor.DANGER}))),b(l.MenuGroup,{},void 0,P))}I.displayName="GuildDirectoryEntryContextMenu"},71472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(160629)),o=i(n(88020));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.entry,n=e.forceLightTheme,r=e.hideEditButton,i=e.children,u=e.onRequestOpen,s=e.onRequestClose;return l(a.default,{onRequestOpen:u,onRequestClose:s,animation:a.default.Animation.NONE,position:a.default.Positions.BOTTOM,spacing:4,align:a.default.Align.RIGHT,renderPopout:function(e){var a=e.closePopout;return l(o.default,{entry:t,closePopout:a,forceLightTheme:n,hideEditButton:r})}},void 0,i)};s.displayName="GuildDirectoryEntryOptionsMenu";var f=s;t.default=f},308607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=O(n(667294)),o=E(n(294184)),i=E(n(864345)),u=E(n(535813)),l=E(n(80828)),s=E(n(186465)),f=E(n(971639)),d=E(n(776360)),c=n(235742),p=O(n(923117)),v=n(218044),y=E(n(247001)),h=E(n(447763)),m=E(n(552564)),_=E(n(324752)),g=E(n(315879));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=(0,i.default)((function(e){var t,n=e.searchQuery,r=e.setSearchQuery,a=e.handleClearSearch,i=e.handleSearchKeyPress,l=e.width,s=null!=l&&l<=780;return b("div",{className:m.default.header},void 0,b("img",{alt:"",className:m.default.headerImage,src:s?g.default:_.default}),b("div",{className:m.default.headerContentWrapper},void 0,b("div",{className:(0,o.default)(m.default.headerContent,(t={},t[m.default.headerContentSmall]=s,t))},void 0,b(f.default,{size:f.default.Sizes.SIZE_24,className:m.default.searchTitle},void 0,y.default.Messages.HUB_DIRECTORY_SEARCH_TITLE),b(d.default,{size:d.default.Sizes.SIZE_16,className:m.default.searchSubtitle
},void 0,y.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE),b(u.default,{searchTerm:n,className:m.default.searchBox,inputClassName:m.default.searchBoxInput,closeIconClassName:m.default.closeIcon,searchIconClassName:m.default.searchIcon,label:y.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:y.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:r,onClear:a,onKeyPress:i,cta:null!=n&&n.length>0?y.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null}))))})),C=function(e){var t=e.channel,n=e.directoryEntries,r=e.handleCreateOrAddGuild,o=e.searchQuery,i=e.setSearchQuery,u=e.handleClearSearch,f=e.handleSearchKeyPress,_=e.currentCategoryId,g=e.handleSelectCategory,E=e.categoryCounts,S=e.allEntriesCount,O=e.isLoading,C=b(p.AddEntryCard,{onClick:r});return b("div",{className:h.default.pageContainer},void 0,b(c.AdvancedScrollerAuto,{className:h.default.scroller},void 0,b(I,{searchQuery:o,setSearchQuery:i,handleClearSearch:u,handleSearchKeyPress:f}),b(c.AdvancedScrollerThin,{
orientation:"horizontal"},void 0,b(s.default,{className:m.default.tabBar,type:s.default.Types.TOP,look:s.default.Looks.BRAND,selectedItem:_,onItemSelect:function(e){g(e)}},void 0,b(s.default.Item,{className:m.default.tabBarItem,id:v.DirectoryEntryCategories.ALL},v.DirectoryEntryCategories.ALL,y.default.Messages.DIRECTORY_CATEGORY_ALL+" ("+S+")"),(0,v.getHubCategories)(t.id).map((function(e){var t=e.value,n=e.label;return b(s.default.Item,{className:m.default.tabBarItem,id:t},t,n+" "+(null!=E[t]?"("+E[t]+")":""))})))),O&&null==n?b(l.default,{className:h.default.spinner}):null==n?void 0:n.map((function(e){return a.createElement(a.Fragment,null,void 0!==e.header?b(d.default,{size:d.default.Sizes.SIZE_16,className:m.default.sectionHeader},void 0,e.header):null,b("div",{className:h.default.cardsContainer},void 0,e.entries.map((function(e){return b(p.default,{entry:e},e.guildId)})),e.appendEndCard&&null!=r?C:null))}))))};C.displayName="GuildDirectoryLanding";var T=C;t.default=T},
1698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.generateDirectoryRows=function(e,t){if(t!==o.DirectoryEntryCategories.ALL)return[{entries:(0,a.rankGuildEntries)(e),appendEndCard:!0}];var n=[],r=(0,a.rankByDateAdded)(e),u=new Set(r.map((function(e){return e.guildId})));r.length>0&&n.push({header:i.default.Messages.SEARCH_NEWEST,entries:r,appendEndCard:!1});var l=e.filter((function(e){return!u.has(e.guildId)}));(l=(0,a.orderByTotalMemberCount)(l)).length>0&&n.push({header:i.default.Messages.ALL_SERVERS,entries:l,appendEndCard:!0});return n};var r,a=n(448406),o=n(218044),i=(r=n(247001))&&r.__esModule?r:{default:r}},670539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=m(n(151097)),o=m(n(16941)),i=m(n(535813)),u=m(n(80828)),l=m(n(204014)),s=m(n(971639)),f=m(n(776360)),d=n(582945),c=m(n(923117)),p=m(n(247001)),v=m(n(447763)),y=m(n(885735)),h=m(n(123451));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}var E=function(e){var t,n=e.searchQuery,r=e.setSearchQuery,m=e.mostRecentQuery,_=e.handleClearSearch,E=e.handleSearchKeyPress,S=e.handleCreateOrAddGuild,O=e.searchResults;if(e.searchFetching)t=g("div",{className:v.default.pageContainer},void 0,g(u.default,{className:v.default.spinner}));else if(0===O.length){var b=null!=S?p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_SUBTITLE.format({addServerHook:function(e,t){return g(a.default,{onClick:S},t,e)}}):p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_NO_ADD;t=g("div",{className:y.default.emptySearchWrapper},void 0,g("img",{className:y.default.emptySearchImage,alt:"",src:h.default}),g(s.default,{size:s.default.Sizes.SIZE_24,color:f.default.Colors.HEADER_PRIMARY,className:y.default.emptySearchTitle},void 0,p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_TITLE),g(f.default,{size:f.default.Sizes.SIZE_16,color:f.default.Colors.HEADER_SECONDARY,className:y.default.emptySearchSubtitle},void 0,b))}else t=g("div",{
className:v.default.cardsContainer},void 0,O.map((function(e){return g(c.default,{entry:e},e.guildId)})));return g("div",{className:v.default.pageContainer},void 0,g(d.ScrollerAuto,{className:v.default.scroller},void 0,g("div",{className:y.default.searchHeader},void 0,g("div",{className:y.default.headerTitleWrapper},void 0,g(o.default,{onClick:_,className:y.default.arrow},void 0,g(l.default,{direction:l.default.Directions.LEFT})),g(s.default,{size:s.default.Sizes.SIZE_24,className:y.default.searchPageTitle},void 0,p.default.Messages.DIRECTORY_SEARCH_RESULTS_HEADER.format({numResults:O.length,query:m}))),g(i.default,{searchTerm:n,className:y.default.searchPageBox,inputClassName:y.default.searchPageInput,label:p.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:p.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:r,onClear:_,onKeyPress:E,cta:null!=n&&n.length>0?p.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})),t))};E.displayName="GuildDirectorySearchResults";var S=E
;t.default=S},523024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryInAppReportingExperiment=void 0;t.useCanSeeDiscoveryContextMenu=function(){var e=u.useExperiment({}).canSeeInAppReportingButtons,t=o.DeveloperMode.useSetting(),n=e||t;r.useEffect((function(){u.trackExposure({})}),[]);return n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505),o=n(894826);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var u=(0,a.createExperiment)({kind:"user",
id:"2022-01_discovery_iar",label:"Ability to report servers in Server Discovery",defaultConfig:{canSeeInAppReportingButtons:!1},treatments:[{id:1,label:"Show IAR buttons in Server Discovery",config:{canSeeInAppReportingButtons:!0}}]});t.DiscoveryInAppReportingExperiment=u},328092:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryTagsExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_discovery_tags",label:"Discovery Tags",defaultConfig:{shouldDisplayTags:!1,shouldDisplayRecommendedSearchTags:!1},treatments:[{id:1,label:"Show keyword tags on home and search result pages",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!1}},{id:2,label:"Show keyword tags on home and search result pages and under the search bar",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!0}}]});t.DiscoveryTagsExperiment=r},177634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.DiscoveryLandingExperimentRedirect=void 0;t.useGuildDiscoveryLandingExperimentConfig=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(473727),i=n(536211),u=n(373505),l=d(n(30098)),s=d(n(834162)),f=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=(0,u.createExperiment)({kind:"user",id:"2021-09_guild_discovery_landing",label:"Land app opens on the Guild Discovery page",defaultConfig:{isActive:!1},treatments:[{id:1,label:"Default app open to discovery page",config:{isActive:!0}}]});function y(){var e=(0,i.useStateFromStores)([l.default],(function(){return l.default.getGuildCount()})),t=(0,i.useStateFromStores)([s.default],(function(){return s.default.getGamesSeen(!1)})).some((function(e){return e.verified})),n=e<4&&!t;a.useEffect((function(){n&&v.trackExposure({})}),[n]);return v.useExperiment({},{disable:!n})}t.DiscoveryLandingExperimentRedirect=function(e){var t=e.defaultRouteFallback,n=y().isActive;return p(o.Redirect,n?{to:f.Routes.GUILD_DISCOVERY}:{to:t})}},332743:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(803949)),i=h(n(965419)),u=h(n(161679)),l=h(n(450474)),s=h(n(167646)),f=h(n(332282)),d=h(n(890422)),c=h(n(97751)),p=n(71246),v=n(227445),y=h(n(596964));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=_(o.default,{}),E=_(i.default,{}),S=_(u.default,{}),O=_(l.default,{}),b=_(s.default,{}),I=_(f.default,{height:22,width:22}),C=_(d.default,{}),T=function(e){switch(e){case v.CategoryIcons.Activity:return g;case v.CategoryIcons.Discover:return E;case v.CategoryIcons.Education:return S;case v.CategoryIcons.Music:return O;case v.CategoryIcons.Science:return b;case v.CategoryIcons.Stage:return I;case v.CategoryIcons.Television:return C;default:(0,p.assertNever)(e)}},A=function(e){var t=e.categories,n=e.currentCategoryId,r=e.handleCategorySelect,o=e.shouldDisplaySelectedCategory,i=void 0===o||o;return a.createElement(a.Fragment,null,t.map((function(e){
return _(c.default,{avatar:T(e.icon),name:e.name,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){return r(e.categoryId)},wrapContent:!0,selected:i&&e.categoryId===n,className:y.default.categoryItem,selectedClassName:y.default.selectedCategoryItem,innerClassName:y.default.itemInner},e.categoryId)})))};A.Icons=v.CategoryIcons;var P=A;t.default=P},841354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoverySidebarHeader=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(971639)),o=i(n(45622));function i(e){return e&&e.__esModule?e:{
default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.text;return l(a.default,{tag:a.default.Tags.H2,size:a.default.Sizes.SIZE_24,className:o.default.discoverHeader},void 0,t)}s.displayName="DiscoverySidebarHeader"},734696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(636602)),i=n(531254),u=v(n(275198)),l=v(n(2022)),s=v(n(971639)),f=v(n(776360)),d=v(n(684631)),c=n(770348),p=v(n(922179));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var _=[[1696,20],[1432,16],[1168,12],[0,8]],g=[[1696,30],[1432,24],[1168,18],[0,12]],E=function(e){var t=e.title,n=e.subtitle,r=e.guildsData,v=e.analyticsContext,y=e.theme,E=e.onViewGuild,S=e.fetchGuilds,O=e.onGuildCardSeen,b=e.currentCategoryId,I=e.loadId,C=e.onTagClick,T=e.showMoreCards,A=void 0!==T&&T;a.useEffect((function(){o.default.wait((function(){return S()}))}),[b]);var P=A?g:_,M=(0,d.default)(P);if(null==r)return null;var N=r.guilds,R=r.loading,w=null==N||0===N.length;if(!R&&w)return null;var D,L=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,i.isAtGuildCapAndNonPremium)()){e.next=4;break}(0,u.default)({analyticsSource:{page:c.AnalyticsPages.GUILD_DISCOVERY},analyticsLocation:{
page:c.AnalyticsPages.GUILD_DISCOVERY,section:c.AnalyticsSections.GUILD_CAP_UPSELL_MODAL}});e.next=7;break;case 4:n=N.findIndex((function(e){return e.id===t}));e.next=7;return E(t,n,v,I);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(R||null==N){for(var j=[],k=0;k<M;k++)j.push(h(l.default.Placeholder,{},k));D=j}else D=N.slice(0,M).map((function(e){return h(l.default,{className:p.default.guildCard,guild:e,onView:L,theme:y,onGuildCardSeen:O,onTagClick:C},e.id)}));return h("section",{className:p.default.guildListSection},void 0,h(s.default,{className:p.default.title,size:s.default.Sizes.SIZE_20},void 0,t),null!=n&&h(f.default,{className:p.default.subtitle,size:f.default.Sizes.SIZE_14,color:f.default.Colors.HEADER_SECONDARY},void 0,n),h("div",{
className:p.default.guildList},void 0,D))};E.displayName="DiscoverFeaturedGuildsSection";var S=E;t.default=S},473124:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MAX_GUILDS_PER_PAGE=void 0;var r,a=I(n(667294)),o=O(n(496486)),i=O(n(817673)),u=n(536211),l=I(n(598319)),s=O(n(815428)),f=O(n(651386)),d=O(n(55027)),c=n(139982),p=O(n(199846)),v=O(n(16941)),y=O(n(204014)),h=O(n(971639)),m=O(n(776360)),_=I(n(465537)),g=n(227445),E=O(n(247001)),S=O(n(691288));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=12;t.MAX_GUILDS_PER_PAGE=P;var M=function(){var e=(0,c.getHistory)().location.search;return null!=e&&e.length>0&&e.startsWith("?")?i.default.parse(e):{}},N=function(e){
var t=e.categoryId,n=e.categoryName,r=e.onClick,a=t===g.DISCOVERY_ALL_CATEGORIES_ID,o=a?E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_HEADER:E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_HEADER.format({categoryName:n}),i=a?E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_BODY:E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_BODY.format({onClick:r});return A("div",{className:S.default.emptyContainer},void 0,A("div",{className:S.default.emptyImage}),A(h.default,{size:h.default.Sizes.SIZE_24,className:S.default.emptyHeader},void 0,o),A(m.default,{size:m.default.Sizes.SIZE_16,color:m.default.Colors.HEADER_SECONDARY},void 0,i))};N.displayName="EmptySearchResults";var R=function(){return A("div",{className:S.default.emptyContainer},void 0,A("div",{className:S.default.errorImage}),A(m.default,{size:m.default.Sizes.SIZE_16,color:m.default.Colors.HEADER_SECONDARY,className:S.default.emptyHeader},void 0,E.default.Messages.GUILD_DISCOVERY_SEARCH_ERROR))}
;R.displayName="ErrorState";var w=A(R,{}),D=function(e){var t=e.loadId,n=e.searchResults,r=e.mostRecentQuery,i=e.defaultLanguage,c=e.availableLanguages,m=e.isFetchingSearch,O=e.scroller,b=e.loadingGuildId,I=e.theme,T=e.currentCategoryId,R=e.currentCategoryName,D=e.onViewGuild,L=e.onGuildCardSeen,j=e.placeholder,k=e.onTagClick,U=o.default.uniqueId("GuildDiscovery"),G=n.guilds,F=n.loading,x=n.total,V=C(a.useState(!1),2),W=V[0],H=V[1],B=M().tag,z=C(a.useState(B),2),Y=z[0],$=z[1],K=(0,u.useStateFromStores)([p.default],(function(){return p.default.hasSearchError()})),q=function(e,t,n){l.doAlgoliaSearch(r,{categoryId:n?g.DISCOVERY_ALL_CATEGORIES_ID:T,preferredLocale:i.code,offset:e,length:t,filters:{approximate_member_count:_.MINIMUM_MEMBER_COUNT}});H(!1)};a.useEffect((function(){var e=M(),t=e.offset,n=e.tag,r=null!=t?Math.floor(parseInt(t,10)/P)+1:1;$(!!n);1===r&&H(!0)}),[r]);var Z=T===g.DISCOVERY_ALL_CATEGORIES_ID?E.default.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_HEADER.format({
count:null!=x?x.toLocaleString():"0",query:r}):E.default.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_CATEGORY_HEADER.format({count:null!=x?x.toLocaleString():"0",query:r,category:R});return A("div",{className:S.default.container},void 0,A("div",{className:S.default.searchHeader},void 0,A(v.default,{onClick:function(){l.clearSearch();_.trackSearchClosed(t)},className:S.default.arrow,"aria-label":E.default.Messages.BACK},void 0,A(y.default,{direction:y.default.Directions.LEFT})),A(h.default,{size:h.default.Sizes.SIZE_24,className:S.default.header},void 0,Z)),A(f.default,{loadId:t,searchResults:n,mostRecentQuery:r,isFetchingSearch:m,defaultLanguage:i,placeholder:j,availableLanguages:c,isSearchPage:!0,currentCategoryId:T,isTagSearch:Y}),K?w:x<=0?A(N,{categoryId:T,categoryName:R,onClick:function(){l.selectCategory(g.DISCOVERY_ALL_CATEGORIES_ID);q(0,P,!0)}}):A("div",{className:S.default.results},void 0,A(s.default,{pageSize:P,totalCount:x,resetCurrentPage:W,onPageChange:function(e){q((e-1)*P,P)
;null==O||O.scrollTo({to:0})}},void 0,(function(e){var t=e.controller;return A("section",{"aria-labelledby":U},void 0,A(d.default,{guilds:G,loading:F,loadingPlaceholderCount:P,onViewGuild:D,loadingGuildId:b,theme:I,analyticsContext:_.AnalyticsContexts.SEARCH,onGuildCardSeen:L,onTagClick:k}),t)}))))};D.displayName="DiscoverSearchResults";var L=D;t.default=L},184767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildDiscoveryMenuPopout=void 0;t.default=S;g(n(667294));var r,a=n(536211),o=n(378158),i=m(n(730487)),u=n(837797),l=g(n(145122)),s=m(n(30098)),f=m(n(689389)),d=m(n(160629)),c=m(n(907509)),p=n(523024),v=n(770348),y=n(474477),h=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){var t=e.guild,n=e.shiftId,r=e.onSelect,d=e.closePopout,m=e["aria-label"],_=(0,i.default)(t.id,n,void 0,d),g=(0,a.useStateFromStores)([s.default],(function(){return s.default.getGuild(t.id)}),[t.id]),S=(0,
a.useStateFromStores)([f.default],(function(){return f.default.can(v.Permissions.ADMINISTRATOR,g)})),O=p.DiscoveryInAppReportingExperiment.useExperiment({}).canSeeInAppReportingButtons;return E(l.default,{onSelect:r,navId:"guild-discovery-context-menu","aria-label":null!=m?m:h.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:o.closeContextMenu},void 0,E(l.MenuGroup,{},void 0,!S&&O?E(l.MenuItem,{id:"report-guild-discovery-listing",label:h.default.Messages.REPORT_SERVER_NO_NAME,action:function(){(0,u.showReportModalForDiscoverableGuild)(t);!function(){(0,o.closeContextMenu)();null==d||d()}()},icon:c.default,color:y.MenuItemColor.DANGER}):null),E(l.MenuGroup,{},void 0,_))}S.displayName="GuildDiscoveryContextMenu";var O=function(e){var t=e.guild,n=e.children,r=e.onRequestOpen,a=e.onRequestClose;return E(d.default,{onRequestOpen:r,onRequestClose:a,animation:d.default.Animation.NONE,position:d.default.Positions.BOTTOM,spacing:4,align:d.default.Align.RIGHT,renderPopout:function(e){
var n=e.closePopout;return E(S,{guild:t,closePopout:n})}},void 0,n)};t.GuildDiscoveryMenuPopout=O;O.displayName="GuildDiscoveryMenuPopout"},638098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(956117)),i=c(n(971639)),u=c(n(776360)),l=n(294126),s=n(583551),f=c(n(247001)),d=c(n(812099));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.onClick,n=e.onSecondaryClick,r=e.onComponentMount,c=e.markAsDismissed;a.useEffect((function(){null==r||r()}),[r]);var p=a.useCallback((function(e){t(e);null==c||c(s.ContentDismissActionType.PRIMARY)}),[t,c]),y=a.useCallback((function(){null==n||n();null==c||c(s.ContentDismissActionType.SECONDARY)}),[n,c]);return v("div",{className:d.default.tooltipWrapper},void 0,v(i.default,{className:d.default.tooltipHeader,size:i.default.Sizes.SIZE_16},void 0,f.default.Messages.SERVER_DISCOVERY_TOOLTIP_TITLE),v(u.default,{className:d.default.tooltipText,
size:u.default.Sizes.SIZE_14},void 0,f.default.Messages.SERVER_DISCOVERY_TOOLTIP_DESCRIPTION.format({count:l.LOWERED_MINIMUM_SIZE})),v("div",{className:d.default.buttonsContainer},void 0,v(o.default,{fullWidth:!0,size:o.default.Sizes.SMALL,color:o.default.Colors.BRAND,onClick:p},void 0,f.default.Messages.LEARN_MORE),v(o.default,{fullWidth:!0,size:o.default.Sizes.SMALL,look:o.default.Looks.BLANK,onClick:y},void 0,f.default.Messages.NO_THANKS)))}y.displayName="GuildHeaderDiscoveryTooltip"},648831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.DiscoverSearchResultPlaceholder=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=A(n(294184)),i=n(378158),u=n(263996),l=n(800055),s=n(531254),f=A(n(275198)),d=A(n(16941)),c=A(n(189950)),p=A(n(80828)),v=A(n(971639)),y=A(n(272544)),h=A(n(776360)),m=A(n(692711)),_=n(465537),g=n(523024),E=n(328092),S=A(n(886836)),O=n(770348),b=A(n(247001)),I=A(n(895889)),C=A(n(860321)),T=A(n(145792));function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){
var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var j=function(){return L("div",{className:I.default.placeholder})};t.DiscoverSearchResultPlaceholder=j;j.displayName="DiscoverSearchResultPlaceholder";var k=function(e){var t,r,A,P=e.guild,N=e.theme,D=e.onView,j=e.onTagClick,k=P.id,U=P.discoverySplash,G=P.icon,F=P.name,x=P.description,V=P.presenceCount,W=P.memberCount,H=P.keywords,B=w(a.useState(!1),2),z=B[0],Y=B[1],$=w(a.useState(!1),2),K=$[0],q=$[1],Z=m.default.getGuildDiscoverySplashURL({id:k,splash:U,size:240*(0,
l.getDevicePixelRatio)()}),X=null!=Z?Z:function(e){switch(e){case O.ThemeTypes.DARK:return C.default;case O.ThemeTypes.LIGHT:return T.default}}(N),Q=m.default.getGuildIconURL({id:k,icon:G,size:32})||void 0,J=function(){var e=R(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target;if(!n.className.includes("Menu")){e.next=3;break}return e.abrupt("return");case 3:if(!(0,s.isAtGuildCapAndNonPremium)()){e.next=6;break}(0,f.default)({analyticsSource:{page:O.AnalyticsPages.GUILD_DISCOVERY},analyticsLocation:{page:O.AnalyticsPages.GUILD_DISCOVERY,section:O.AnalyticsSections.GUILD_CAP_UPSELL_MODAL}});return e.abrupt("return");case 6:q(!0);e.prev=7;e.t0=null!=D;if(!e.t0){e.next=12;break}e.next=12;return D(P.id);case 12:e.prev=12;q(!1);return e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[7,,12,15]])})));return function(t){return e.apply(this,arguments)}}();a.useEffect((function(){
return E.DiscoveryTagsExperiment.trackExposure({})}));var ee=E.DiscoveryTagsExperiment.useExperiment({}).shouldDisplayTags,te=(0,g.useCanSeeDiscoveryContextMenu)();return a.createElement(a.Fragment,null,L("div",{className:I.default.card},void 0,K?L(p.default,{type:p.default.Type.PULSING_ELLIPSIS,className:I.default.spinner}):null,L(d.default,{className:(0,o.default)(I.default.container,(t={},t[I.default.hover]=z,t[I.default.submitting]=K,t)),onClick:J,onContextMenu:function(e){(0,i.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,184767));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,M({},e,{guild:P}))}));case 5:case"end":return e.stop()}}),e)}))))},onMouseEnter:function(){return Y(!0)},onMouseLeave:function(){return Y(!1)}},void 0,L("div",{className:(0,
o.default)(I.default.splashContainer,(r={},r[I.default.splashContainerWithTags]=ee,r))},void 0,L("img",{src:X,alt:"",className:I.default.splashImage,width:240})),L("div",{className:(0,o.default)(I.default.content,(A={},A[I.default.contentWithTags]=ee,A))},void 0,L("div",{className:I.default.header},void 0,L(y.default,{mask:y.default.Masks.SQUIRCLE,width:32,height:32},void 0,L("img",{src:Q,alt:"",className:I.default.avatar})),L("div",{className:I.default.headerName},void 0,L(c.default,{guild:P,className:I.default.guildBadge}),L(v.default,{size:v.default.Sizes.SIZE_16},void 0,F))),L(h.default,{className:I.default.description},void 0,x),ee&&H&&j&&L(u.DiscoveryTags,{guildId:P.id,discoveryTagStyle:u.DiscoveryTagStyle.ALT,onTagClick:function(e){return j(e,P.id)},tags:H,section:_.AnalyticsContexts.SEARCH}),L("div",{className:I.default.memberInfo},void 0,null!=V&&L("div",{className:I.default.memberCount},void 0,L(h.default,{size:h.default.Sizes.SIZE_12,color:h.default.Colors.HEADER_SECONDARY
},void 0,b.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:V}))),null!=W&&a.createElement(a.Fragment,null,L("div",{className:I.default.dotSeparator}),L("div",{className:I.default.memberCount},void 0,L(h.default,{size:h.default.Sizes.SIZE_12,color:h.default.Colors.HEADER_SECONDARY},void 0,b.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:W})))))),te?L("div",{className:I.default.actionButtons},void 0,L(S.default,{guild:P})):null)),L("hr",{className:I.default.separator}))};t.default=k},886836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=h(n(667294)),o=v(n(294184)),i=v(n(730977)),u=v(n(775803)),l=h(n(962989)),s=n(184767),f=v(n(247001)),d=v(n(498154)),c=["onClick"],p=["onClick"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t,n=e.guild,r=E(a.useState(!1),2),v=r[0],y=r[1],h=a.useCallback((function(){return y(!0)}),[y]),S=a.useCallback((function(){return y(!0)}),[y]);return _("div",{className:(0,o.default)(d.default.actionButtonsContainer,(t={},t[d.default.forceButtonsShow]=v,t))},void 0,_(l.default,{},void 0,_(s.GuildDiscoveryMenuPopout,{onRequestOpen:h,onRequestClose:S,guild:n},void 0,(function(e){var t=e.onClick,n=g(e,c);return _(i.default,{text:f.default.Messages.MORE,hideOnClick:!0},void 0,(function(e){var r=e.onClick,o=g(e,p);return a.createElement(l.Button,m({},n,o,{onClick:function(e){e.stopPropagation();null==r||r();t(e)},"aria-label":f.default.Messages.MORE}),_(u.default,{className:d.default.overflowIcon}))}))}))))
}O.displayName="DiscoveryCardActionButtons";var b=O;t.default=b},684631:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=o(r.useState(0),2),n=t[0],a=t[1],u=r.useCallback((function(){for(var t,n=window.innerWidth,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=r()).done;){var u=o(t.value,2),l=u[0],s=u[1];if(n>=l){a(s);return}}}),[e]);r.useEffect((function(){u()}),[u]);r.useEffect((function(){window.addEventListener("resize",u);return function(){window.removeEventListener("resize",u)}}));return n};var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||i(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},730034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(684769),i=n(770348);var u={init:function(){a.default.subscribe(i.ActionTypes.CONNECTION_OPEN,(function(){(0,o.reset)()}));a.default.subscribe(i.ActionTypes.LOGOUT,(function(){(0,o.reset)()}))}};t.default=u},802922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.DismissibleContentNotices=void 0;var r,a=C(n(667294)),o=n(536211),i=n(923387),u=n(483559),l=b(n(226800)),s=b(n(155502)),f=b(n(754416)),d=b(n(877454)),c=b(n(296005)),p=b(n(41024)),v=b(n(11888)),y=n(194322),h=C(n(177101)),m=b(n(308920)),_=b(n(305081)),g=n(215758),E=n(770348),S=b(n(247001)),O=b(n(202192));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(){T=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}function u(e){A(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e){var t=e.children;g.DownloadNagbarColorExperiment.trackExposure({})
;var n=g.DownloadNagbarColorExperiment.getCurrentConfig({}).updatedColor;return M(h.default,{color:n},void 0,t)}N.displayName="DownloadNagColor";var R=function(e){var t=e.dismissibleContent,r=e.noticeType,g=(0,o.useStateFromStores)([c.default],(function(){return c.default.getNotice()}));return M(_.default,{contentTypes:[t]},void 0,(function(e){var t=e.content,o=e.markAsDismissed;switch(t){case i.DismissibleContent.NAGBAR_NOTICE_DOWNLOAD:return M(N,{},void 0,M(h.NoticeCloseButton,{onClick:o,noticeType:r}),S.default.Messages.NOTICE_NATIVE_APPS_2020_06,M("i",{className:O.default.iconApple}),M("i",{className:O.default.iconAndroid}),M("i",{className:O.default.iconWindows}),M(h.PrimaryCTANoticeButton,{noticeType:r,onClick:function(){(0,y.openModalLazy)(P(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default
;return e.abrupt("return",(function(e){return a.createElement(r,T({source:"Top Bar Nag"},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,S.default.Messages.DOWNLOAD));case i.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY:return M(h.default,{color:h.NoticeColors.SPOTIFY},void 0,M(h.NoticeCloseButton,{onClick:o,noticeType:r}),M(v.default,{className:O.default.platformIcon}),S.default.Messages.NOTICE_CONNECT_SPOTIFY,M(h.PrimaryCTANoticeButton,{onClick:function(){return(0,f.default)(E.PlatformTypes.SPOTIFY,"Notice Bar")},noticeType:r},void 0,S.default.Messages.CONNECT));case i.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return M(h.default,{color:h.NoticeColors.PLAYSTATION},void 0,M(h.NoticeCloseButton,{onClick:o}),M("img",{alt:"",className:O.default.platformIcon,src:s.default.get(E.PlatformTypes.PLAYSTATION).icon.whiteSVG}),S.default.Messages.NOTICE_CONNECT_PLAYSTATION,M(h.NoticeButton,{onClick:function(){return(0,f.default)(E.PlatformTypes.PLAYSTATION,"Notice Bar")}
},void 0,S.default.Messages.CONNECT));case i.DismissibleContent.NAGBAR_NOTICE_MFA_SMS_BACKUP:return M(h.default,{color:h.NoticeColors.NOTIFICATION},void 0,M(h.NoticeCloseButton,{onClick:o,noticeType:r}),S.default.Messages.NOTICE_MFA_SMS_BACKUP,M(h.PrimaryCTANoticeButton,{onClick:function(){return l.default.open(E.UserSettingsSections.ACCOUNT)},noticeType:r},void 0,S.default.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON));case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_PROMO:return M(h.default,{color:h.NoticeColors.DARK},void 0,M("span",{className:O.default.premiumLogo}),M("span",{className:O.default.premiumText},void 0,S.default.Messages.NOTICE_PREMIUM_PROMO_MESSAGE),M(h.PrimaryCTANoticeButton,{className:O.default.premiumAction,noticeType:r,onClick:function(){m.default.track(E.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:E.AnalyticsSections.NOTIFICATION_BAR,location_object:E.AnalyticsObjects.BUTTON_CTA});l.default.open(E.UserSettingsSections.PREMIUM)}
},void 0,S.default.Messages.NOTICE_PREMIUM_PROMO_ACTION),M(h.NoticeCloseButton,{onClick:function(){o();(0,u.setFlag)(E.UserFlags.PREMIUM_PROMO_DISMISSED,!0)},noticeType:r}));case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING:return M(d.default,{dismissCurrentNotice:o});case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_REACTIVATE:return M(h.default,{color:h.NoticeColors.PREMIUM_TIER_2},void 0,M(h.NoticeCloseButton,{noticeType:r,onClick:o}),S.default.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_TEXT,M(h.PrimaryCTANoticeButton,{noticeType:r,onClick:function(){o();l.default.open(E.UserSettingsSections.PREMIUM)}},void 0,S.default.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_BUTTON_TEXT));case i.DismissibleContent.NAGBAR_NOTICE_LOCALIZED_PRICING:var c=null!=g&&null!=g.metadata.premiumSubscription;return M(h.default,{color:c?h.NoticeColors.BRAND_1:h.NoticeColors.PREMIUM_TIER_2},void 0,M(h.NoticeCloseButton,{onClick:o,noticeType:r
}),c?S.default.Messages.NOTICE_NITRO_PRICE_CHANGED.format({countryName:S.default.Messages.COUNTRY_NAME_AU}):M(a.Fragment,{},void 0,M(p.default,{className:O.default.premiumIcon}),S.default.Messages.LOCALIZED_PRICING_NOTICE_AU),M(h.PrimaryCTANoticeButton,{onClick:function(){o();l.default.open(E.UserSettingsSections.PREMIUM)},noticeType:r},void 0,S.default.Messages.LEARN_MORE))}}))};t.DismissibleContentNotices=R;R.displayName="DismissibleContentNotices"},215758:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DownloadNagbarColorExperiment=void 0;var r=n(373505),a=n(177101),o=(0,r.createExperiment)({kind:"user",id:"2022-02_download_nagbar_color",label:"update background color for download nagbar",defaultConfig:{updatedColor:a.NoticeColors.DEFAULT},treatments:[{id:1,label:"nagbar uses link (blue) background color",config:{updatedColor:a.NoticeColors.LINK}},{id:2,label:"nagbar uses green background color",config:{updatedColor:a.NoticeColors.GREEN}},{id:3,
label:"nagbar uses brand background color",config:{updatedColor:a.NoticeColors.BRAND_2}}]});t.DownloadNagbarColorExperiment=o},207052:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DMSpamAccept=void 0;t.useAndTrackDMSpamAccept=function(e,t){void 0===t&&(t=!0);var n=(0,o.useIsEligibleForUserDMSpamBannerExperiment)(e),a=i.useExperiment(null,{disable:!n});(0,r.useEffect)((function(){n&&t&&i.trackExposure(null)}),[t,n]);return a};var r=n(667294),a=n(373505),o=n(777795),i=(0,a.createExperiment)({kind:"user",id:"2021-10_spam_dm_redaction",label:"DM Spam Redaction",defaultConfig:{showSpamBanner:!1},treatments:[{id:1,label:"Warn receiver that DM may contain spam and hide messages",config:{showSpamBanner:!0}}]});t.DMSpamAccept=i},841175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.acceptFirstMessage=function(e){a.default.dispatch({type:o.ActionTypes.ACCEPT_FIRST_DM_MESSAGE,channelId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r
},o=n(770348)},747199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new Set;var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(s=new Set(e))};n.isMessageAccepted=function(e){return s.has(e)};n.getState=function(){return s};return t}(a.default.PersistedStore);f.persistKey="FirstMessageAcceptStore";var d=new f(o.default,((r={})[i.ActionTypes.ACCEPT_FIRST_DM_MESSAGE]=function(e){var t=e.channelId;s.add(t)},r));t.default=d},192071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NonFriendDMAccept=void 0;t.useAndTrackNonFriendDMAccept=function(e,t){void 0===t&&(t=!0)
;var n=(0,o.useIsEligibleForNonFriendDMAcceptExperiment)(e),a=(0,i.useIsEligibleForUserDMSpamBannerExperiment)(e),l=n&&!a,s=u.useExperiment(null,{disable:!l});(0,r.useEffect)((function(){l&&t&&u.trackExposure(null)}),[t,l]);return s};var r=n(667294),a=n(373505),o=n(156750),i=n(777795),u=(0,a.createExperiment)({kind:"user",id:"2021-08_1st_dm_accept__report",label:"1st DM Accept & Report ",defaultConfig:{showBanner:!1},treatments:[{id:1,label:"Allow receiver to accept, ignore, or report non-friend DMs",config:{showBanner:!0}}]});t.NonFriendDMAccept=u},528831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.allowMessagesFromSpamUser=function(e){a.default.dispatch({type:o.ActionTypes.ALLOW_SPAM_MESSAGES_FOR_USER,userId:e})};t.hideMessagesFromSpamUser=function(e){a.default.dispatch({type:o.ActionTypes.HIDE_SPAM_MESSAGES_FOR_USER,userId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},448673:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new Set;var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(s=new Set(e))};n.hasAllowedSpamUser=function(e){return s.has(e)};n.getState=function(){return s};return t}(a.default.PersistedStore);f.persistKey="SpamMessageAcceptStore";var d=new f(o.default,((r={})[i.ActionTypes.ALLOW_SPAM_MESSAGES_FOR_USER]=function(e){var t=e.userId;s.add(t)},r[i.ActionTypes.HIDE_SPAM_MESSAGES_FOR_USER]=function(e){var t=e.userId;s.delete(t)},r));t.default=d},156750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.useIsEligibleForNonFriendDMAcceptExperiment=function(e){var t=(0,o.useShowConvoStarterInDM)(e),n=(0,a.useIsRelationshipTypeSpamReportable)(e.getRecipientId()),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.getMessages(e.id).length>0}),[e]),s=(0,r.useStateFromStores)([u.default],(function(){return u.default.isMessageAccepted(e.id)}),[e]);return n&&t&&l&&!s};var r=n(536211),a=n(67060),o=n(11710),i=l(n(201292)),u=l(n(747199));function l(e){return e&&e.__esModule?e:{default:e}}},777795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useIsEligibleForUserDMSpamBannerExperiment=function(e){var t=e.isDM()&&!e.isSystemDM()&&!e.rawRecipients.some((function(e){return e.bot})),n=(0,r.useStateFromStores)([o.default],(function(){var t;return!0===(null===(t=o.default.getUser(e.getRecipientId()))||void 0===t?void 0:t.hasFlag(u.UserFlags.SPAMMER))}),[e]),l=(0,r.useStateFromStores)([a.default],(function(){return a.default.getMessages(e.id).length>0
}),[e]),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.hasAllowedSpamUser(e.getRecipientId())}),[e]);return t&&n&&l&&!s};var r=n(536211),a=l(n(201292)),o=l(n(728429)),i=l(n(448673)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},838574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FirstDMReportSpamBanner=O;var r,a=_(n(667294)),o=h(n(709403)),i=h(n(618825)),u=n(960736),l=h(n(956117)),s=_(n(730977)),f=h(n(308920)),d=n(841175),c=n(770348),p=h(n(247001)),v=h(n(157358)),y=["onMouseEnter","onMouseLeave"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=n(513157);function O(e){var t=e.channel,n=t.getRecipientId(),r=function(){f.default.track(c.AnalyticEvents.DM_SAFETY,{channel_id:t.id,
channel_type:t.type,safety_prompt:"FirstDMSpamExperiment",response:"hide"});o.default.closePrivateChannel(t.id,!0)},h=function(){f.default.track(c.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"FirstDMSpamExperiment",response:"report_click"})},m=function(){f.default.track(c.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"FirstDMSpamExperiment",response:"report_submit"})};return E(u.MessageNoticeBanner,{bannerIcon:S,bannerHeader:p.default.Messages.ACCEPT_DM_HEADER,bannerSubtext:p.default.Messages.ACCEPT_DM_SUBTEXT},void 0,E(s.default,{tooltipClassName:v.default.tooltip,text:p.default.Messages.REPORT_DM_TOOLTIP,color:s.TooltipColors.BRAND},void 0,(function(e){var r=e.onMouseEnter,a=e.onMouseLeave;return E(i.default,{channel:t,otherUserId:n,buttonSize:l.default.Sizes.MEDIUM,onReportClick:h,onReportSubmit:m,onMouseEnter:function(){null==r||r()},onMouseLeave:function(){null==a||a()}})})),E(s.default,{
tooltipClassName:v.default.tooltip,text:p.default.Messages.CLOSE_DM_TOOLTIP,color:s.TooltipColors.BRAND},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,y);return a.createElement(l.default,g({},o,{className:v.default.smallButton,size:l.default.Sizes.MEDIUM,color:l.default.Colors.GREY,onClick:r,onMouseEnter:function(){null==t||t()},onMouseLeave:function(){null==n||n()}}),p.default.Messages.FRIEND_REQUEST_IGNORE)})),E(l.default,{className:v.default.smallButton,size:l.default.Sizes.MEDIUM,onClick:function(){f.default.track(c.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"FirstDMSpamExperiment",response:"accept"});(0,d.acceptFirstMessage)(t.id)}},void 0,p.default.Messages.ACCEPT))}O.displayName="FirstDMReportSpamBanner"},105149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.SenderSpammerBanner=C;E(n(667294));var r,a=n(536211),o=_(n(190040)),i=_(n(709403)),u=_(n(237923)),l=n(960736),s=_(n(728429)),f=E(n(956117)),d=n(767019),c=n(143586),p=_(n(308920)),v=n(528831),y=n(770348),h=_(n(247001)),m=_(n(157358));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}var I=n(513157);function C(e){var t=e.channel,n=t.getRecipientId(),r=(0,a.useStateFromStores)([s.default],(function(){var e=s.default.getUser(n);return null!=e?e.username:null})),_=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"block_modal_cancel_click"});e.next=3;return i.default.closePrivateChannel(t.id,!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"block_modal_block_click"});e.next=3;return u.default.addRelationship(n,{location:"DMSpamModal"},y.RelationshipTypes.BLOCKED);case 3:e.next=5;return i.default.closePrivateChannel(t.id,!0);case 5:(0,c.showToast)((0,d.createToast)(h.default.Messages.SPAMMER_BLOCKED.format({username:r}),d.ToastType.SUCCESS));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return S(l.MessageNoticeBanner,{
bannerIcon:I,bannerHeader:h.default.Messages.ACCEPT_SPAM_DM_HEADER,bannerSubtext:h.default.Messages.ACCEPT_SPAM_DM_SUBTEXT},void 0,S(f.default,{className:m.default.largeButton,look:f.default.Looks.LINK,size:f.default.Sizes.SMALL,color:f.default.Colors.TRANSPARENT,onClick:function(){p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"not_spam"});(0,v.allowMessagesFromSpamUser)(n)}},void 0,h.default.Messages.REPORT_NOT_SPAM),S(f.default,{className:m.default.largeButton,look:f.default.Looks.FILLED,size:f.default.Sizes.SMALL,color:f.ButtonColors.RED,onClick:function(){p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"close_channel_click"});o.default.show({title:h.default.Messages.BLOCK_SPAMMER_HEADER,body:h.default.Messages.BLOCK_SPAMMER_SUBHEADER.format({username:r}),onCancel:_,cancelText:h.default.Messages.CANCEL,onConfirm:g,
confirmText:h.default.Messages.BLOCK});i.default.closePrivateChannel(t.id,!0)}},void 0,h.default.Messages.CLOSE_DM))}C.displayName="SenderSpammerBanner"},916239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=[{keybinds:["Spacebar","Enter"],name:d.default.Messages.DND_OPERATION_LABEL_DROP},{keybinds:["up","down"],name:d.default.Messages.DND_OPERATION_LABEL_MOVE},{keybinds:["ESC"],name:d.default.Messages.DND_OPERATION_LABEL_CANCEL}],t=(0,i.useStateFromStores)([u.default],(function(){return u.default.useReducedMotion})),n=(0,f.useDndMode)();return(0,o.useTransition)(n,{enter:{from:{opacity:0,y:t?0:80},to:{opacity:1,y:0}},leave:{opacity:0,y:t?0:80},config:o.config.stiff})((function(t,n){return n?y("div",{className:c.default.positioner},void 0,y(o.animated.div,{className:c.default.container,style:t},void 0,e.map((function(t,n){var r=t.keybinds,o=t.name;return y(a.Fragment,{},o,y(s.default,{size:s.default.Sizes.SIZE_16,
className:c.default.bindName},void 0,o),r.map((function(e){return y(l.default,{shortcut:e,className:c.default.shortcut},e)})),n<e.length-1?y("span",{className:c.default.separator}):null)})))):null}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(248088),i=n(536211),u=p(n(235879)),l=p(n(749666)),s=p(n(776360)),f=n(412317),d=p(n(247001)),c=p(n(923947));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},480519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(177230)),o=n(754126),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(e){var t=e.channel.id;(0,o.removeFavoriteChannel)(t)}var f=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){
r.default.subscribe(i.ActionTypes.CHANNEL_DELETE,s)};n._terminate=function(){r.default.unsubscribe(i.ActionTypes.CHANNEL_DELETE,s)};return t}(a.default));t.default=f},526098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(598671),i=n(770348),u=(r=n(247001))&&r.__esModule?r:{default:r},l=["className"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function d(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l);return a.createElement(o.TextBadge,f({},n,{text:u.default.Messages.BETA,color:i.Colors.BRAND,className:t}))}d.displayName="BetaTag"},455002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FeedbackTypePrecedence=t.FeedbackType=t.FeedbackRating=t.FEEDBACK_FREEFORM_LENGTH=void 0;function n(){n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return n.apply(this,arguments)}var r;t.FeedbackRating=r;!function(e){e.BAD="bad";e.NEUTRAL="neutral";e.GOOD="good"}(r||(t.FeedbackRating=r={}));var a;t.FEEDBACK_FREEFORM_LENGTH=1024
;t.FeedbackType=a;!function(e){e[e.VOICE=0]="VOICE";e[e.STREAM=1]="STREAM";e[e.VIDEO_BACKGROUND=2]="VIDEO_BACKGROUND";e[e.ACTIVITY=3]="ACTIVITY"}(a||(t.FeedbackType=a={}));var o=[a.VIDEO_BACKGROUND,a.ACTIVITY,a.STREAM,a.VOICE].reduce((function(e,t,r){var a;return n({},e,((a={})[t]=r,a))}),{});t.FeedbackTypePrecedence=o},755540:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(496486)),o=d(n(972247)),i=d(n(177230)),u=n(6505),l=d(n(652566)),s=d(n(893160)),f=n(455002);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v={chance:.2,cooldown:864e5},y=((r={})[f.FeedbackType.VOICE]=p({},v,{hotspot:u.HotspotLocations.VOICE_CALL_FEEDBACK,
storageKey:"lastVoiceFeedback",eligibilityChecks:[function(e){if(!s.default.getWasEverRtcConnected())return!0;return s.default.getWasEverMultiParticipant()}]}),r[f.FeedbackType.STREAM]=p({},v,{hotspot:u.HotspotLocations.REPORT_PROBLEM_POST_STREAM}),r[f.FeedbackType.VIDEO_BACKGROUND]=p({},v,{hotspot:u.HotspotLocations.VIDEO_BACKGROUND_FEEDBACK,storageKey:"lastVideoBackgroundFeedback"}),r[f.FeedbackType.ACTIVITY]={cooldown:0,chance:1,hotspot:u.HotspotLocations.POST_ACTIVITY_FEEDBACK,storageKey:"lastActivityFeedback"},r);function h(e){return l.default.hasHotspot(e.hotspot)}function m(e){return Math.random()<e.chance}function _(e){if(null!=e.storageKey){var t=o.default.get(e.storageKey);if(null!=t&&Date.now()-t<e.cooldown)return!1}return!0}function g(e){var t=y[e];null!=t.storageKey&&o.default.set(t.storageKey,Date.now())}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).feedbackTypeToShow=null;t.showFeedbackModalDebounced=a.default.debounce((function(e){if(null!=t.feedbackTypeToShow){g(t.feedbackTypeToShow);t.feedbackTypeToShow=null;e()}}),200);return t}t.prototype.possiblyShowFeedbackModal=function(e,t){if(function(e){var t,n=y[e],r=[_,m,h],a=null!==(t=n.eligibilityChecks)&&void 0!==t?t:[];return r.every((function(e){return e(n)}))&&a.every((function(e){return e(n)}))}(e)&&!(null!=this.feedbackTypeToShow&&f.FeedbackTypePrecedence[this.feedbackTypeToShow]<f.FeedbackTypePrecedence[e])){this.feedbackTypeToShow=e;this.showFeedbackModalDebounced(t)}};return t}(i.default);t.default=E},697786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=S(n(667294)),a=g(n(636602)),o=n(747868),i=n(10614),u=g(n(902305)),l=g(n(423046)),s=g(n(644263)),f=g(n(288356)),d=g(n(788739)),c=g(n(893160)),p=g(n(359973)),v=S(n(194322)),y=g(n(755540)),h=n(455002),m=n(770348),_=n(371621);function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var T=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,a=arguments.length,y=new Array(a),g=0;g<a;g++)y[g]=arguments[g];(t=e.call.apply(e,[this].concat(y))||this).handleVoiceChannelFeedback=function(e){var a=e.analyticsData;t.possiblyShowFeedbackModal(h.FeedbackType.VOICE,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(11956)]).then(n.bind(n,411956));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,O({},e,{analyticsData:a}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleStreamClose=function(e){var a=e.streamKey,u=e.canShowFeedback,s=(0,o.decodeStreamKey)(a),f=(0,i.getStreamerApplication)(s,d.default),c={media_session_id:p.default.getActiveMediaSessionId(),rtc_connection_id:p.default.getActiveRTCConnectionId()};u&&t.possiblyShowFeedbackModal(h.FeedbackType.STREAM,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(20070)]).then(n.bind(n,20070));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,O({stream:s,streamApplication:f,isStreamer:s.ownerId===l.default.getId()},e,{
analyticsData:c}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleVideoBackgroundShowFeedback=function(e){var a=e.analyticsData;t.possiblyShowFeedbackModal(h.FeedbackType.VIDEO_BACKGROUND,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(95159)]).then(n.bind(n,995159));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,O({},e,{analyticsData:a}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleActivityClose=function(e){var a=e.applicationId,o=e.channelId,i=e.showFeedback,l=f.default.getGame(a),d=s.default.getChannel(o),p={rtc_connection_id:c.default.getRTCConnectionId(),media_session_id:c.default.getMediaSessionId()},y=u.default.getWindowOpen(m.PopoutWindowKeys.CHANNEL_CALL_POPOUT)?_.POPOUT_MODAL_CONTEXT:_.DEFAULT_MODAL_CONTEXT
;null!=l&&null!=d&&i&&t.possiblyShowFeedbackModal(h.FeedbackType.ACTIVITY,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(79020)]).then(n.bind(n,879020));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,O({},e,{activityApplication:l,channel:d,analyticsData:p}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:y})}))};return t}var y=t.prototype;y._initialize=function(){a.default.subscribe(m.ActionTypes.VOICE_CHANNEL_SHOW_FEEDBACK,this.handleVoiceChannelFeedback);a.default.subscribe(m.ActionTypes.STREAM_CLOSE,this.handleStreamClose);a.default.subscribe(m.ActionTypes.VIDEO_BACKGROUND_SHOW_FEEDBACK,this.handleVideoBackgroundShowFeedback);a.default.subscribe(m.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,this.handleActivityClose)};y._terminate=function(){
a.default.unsubscribe(m.ActionTypes.VOICE_CHANNEL_SHOW_FEEDBACK,this.handleVoiceChannelFeedback);a.default.unsubscribe(m.ActionTypes.STREAM_CLOSE,this.handleStreamClose);a.default.unsubscribe(m.ActionTypes.VIDEO_BACKGROUND_SHOW_FEEDBACK,this.handleVideoBackgroundShowFeedback);a.default.unsubscribe(m.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,this.handleActivityClose)};return t}(y.default));t.default=T},853289:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=te
;var r,a=$(n(667294)),o=z(n(294184)),i=z(n(441143)),u=z(n(95298)),l=n(536211),s=z(n(186705)),f=z(n(55189)),d=$(n(538930)),c=z(n(707842)),p=z(n(805918)),v=n(844784),y=z(n(271180)),h=n(856746),m=z(n(907616)),_=n(907932),g=z(n(422207)),E=n(770755),S=z(n(887174)),O=n(192110),b=z(n(521595)),I=z(n(387812)),C=$(n(687549)),T=z(n(30098)),A=z(n(689389)),P=z(n(680873)),M=z(n(728429)),N=z(n(956117)),R=z(n(16941)),w=$(n(279950)),D=z(n(688599)),L=z(n(129321)),j=z(n(776360)),k=n(993442),U=n(956506),G=n(905835),F=n(871382),x=n(247726),V=z(n(649563)),W=n(770348),H=z(n(247001)),B=z(n(172953));function z(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function $(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function K(){K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return K.apply(this,arguments)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){X(o,r,a,i,u,"next",e)}function u(e){X(o,r,a,i,u,"throw",e)}i(void 0)}))}}function J(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ee=h.ChatInputTypes.CREATE_FORUM_POST;function te(e){return J(k.ComponentDispatchGroupProvider,{},void 0,a.createElement(ne,e))}te.displayName="CreateForumPostForm";function ne(e){var t,n,r,i=e.parentChannel,f=e.location,d=e.onChange,c=a.useContext(k.ComponentDispatchGroupContext),v=a.useCallback((function(){c.bumpDispatchPriority()}),[c]),y=(0,l.useStateFromStores)([A.default],(function(){return A.default.can(W.Permissions.ATTACH_FILES,i)})),h=function(e){var t=q(a.useState({}),2),n=t[0],r=t[1],o=q(a.useState({textValue:"",richValue:u.default.deserialize("")}),2),i=o[0],l=o[1],f=a.useCallback((function(t){r((function(e){return K({},e,{},t)}));s.default.changeThreadSettings(e.id,t)}),[e.id]);a.useEffect((function(){function t(t){var n,a=C.default.getDraft(e.id,C.DraftType.FirstThreadMessage);0!==a.length&&!0!==t||l({
textValue:a,richValue:u.default.deserialize(a)});r(null!==(n=C.default.getThreadSettings(e.id))&&void 0!==n?n:{})}t(!0);C.default.addChangeListener(t);return function(){C.default.removeChangeListener(t)}}),[e.id]);return{threadSettings:n,setThreadSettings:r,updateThreadSettings:f,textAreaState:i,setTextAreaState:l}}(i),m=h.threadSettings,_=h.updateThreadSettings,b=h.textAreaState,M=h.setTextAreaState,N=function(e,t,n,r){var o=(0,l.useStateFromStores)([T.default],(function(){return T.default.getGuild(e.guild_id)})),i=q(a.useState(!1),2),u=i[0],s=i[1],f=q(a.useState(!1),2),d=f[0],c=f[1],p=(0,I.default)(e,void 0,o,t,O.PrivateThreadMode.Disabled,r,S.default.openThreadSidebarForViewing),v=a.useCallback((function(r,a,o){var i;null==r&&(r=n.textValue);r=r.trim();if(null==a||0===a.length){var u;a=null===(u=g.default.getStickerPreview(e.id,ee.drafts.type))||void 0===u?void 0:u.map((function(e){return e.id}))}null!=o&&0!==o.length||(o=P.default.getUploads(e.id,C.DraftType.FirstThreadMessage))
;return{content:r,stickers:a,uploads:o,hasNameError:0===(null!==(i=t.name)&&void 0!==i?i:"").length,hasMessageError:!(null!=r&&""!==r||null!=a&&0!==a.length||0!==o.length)}}),[e.id,n.textValue,t.name]),y=a.useCallback(function(){var t=Q(regeneratorRuntime.mark((function t(n,r,a){var o,i,u,l,f,d,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=v(n,r,a),i=o.content,u=o.stickers,l=o.uploads,f=o.hasNameError,d=o.hasMessageError;s(f);c(d);if(!f&&!d){t.next=5;break}return t.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 5:t.next=7;return(0,F.applyChatRestrictions)({content:i,stickers:u,uploads:l,type:ee,channel:e});case 7:y=t.sent;if(y.valid){t.next=11;break}return t.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 11:t.next=13;return p(i,u,l);case 13:V.default.resort(e.id);(0,E.clearStickerPreview)(e.id,ee.drafts.type);return t.abrupt("return",{shouldClear:!0,shouldRefocus:!1});case 16:case"end":return t.stop()}}),t)})))
;return function(e,n,r){return t.apply(this,arguments)}}(),[p,v,e]),h=v(),m=!h.hasNameError&&!h.hasMessageError;return{hasNameError:u,hasMessageError:d,submit:y,isCurrentlyValid:m}}(i,m,b,f),w=N.hasNameError,D=N.hasMessageError,L=N.submit,j=(0,l.useStateFromStoresArray)([P.default],(function(){return P.default.getUploads(i.id,C.DraftType.FirstThreadMessage)})),U=j.length>0||b.textValue.length>0||(null!==(t=null===(n=m.name)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>0,G=re(i,m,U),x=G.clickableRef,z=G.inputRef,Y=G.expandForm,$=G.setExpandForm,Z=G.handleBlur,X=G.handleClick,te=G.afterSubmit,ne=a.useCallback(Q(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return L.apply(void 0,n);case 2:(t=e.sent).shouldClear&&te();return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),[te,L]);a.useLayoutEffect(d,[Y,b,j,d]);return a.createElement(a.Fragment,null,J(p.default,{channel:i,
draftType:C.DraftType.FirstThreadMessage}),J(R.default,{innerRef:x,"aria-label":H.default.Messages.NEW_FORUM_POST,className:(0,o.default)(B.default.container,(r={},r[B.default.collapsed]=!Y,r)),onClick:Y?void 0:X},void 0,J("form",{onMouseDown:v,onFocus:v,onSubmit:function(e){e.preventDefault();ne()},className:B.default.form},void 0,J(ae,{parentChannel:i,threadSettings:m,updateThreadSettings:_,hasError:w,expandForm:Y,setExpandForm:$,onBlur:Z,inputRef:z}),Y?a.createElement(a.Fragment,null,J(oe,{parentChannel:i,textAreaState:b,setTextAreaState:M,submit:ne,hasError:D,canAttachFiles:y,onBlur:Z}),J(ie,{parentChannel:i,canAttachFiles:y})):null)))}function re(e,t,n){var r,o=a.useRef(null),i=q(a.useState((null!==(r=t.name)&&void 0!==r?r:"").length>0),2),u=i[0],l=i[1],s=a.useRef(null),f=a.useRef(!1);a.useEffect((function(){!u&&n&&l(!0)}),[u,n]);var d=a.useCallback((function(){u&&!n&&setTimeout((function(){var e=document.activeElement;null!=o.current&&(null!=e&&o.current.contains(e)||l(!1))}),0)
}),[u,n]),c=a.useCallback((function(){f.current=!1}),[]);return{clickableRef:o,inputRef:s,expandForm:u,setExpandForm:l,handleBlur:d,handleClick:function(t){var n;u||l(!0);if(t.target!==s.current){null===(n=s.current)||void 0===n||n.focus();if(!f.current){f.current=!0;(0,v.trackWithMetadata)(W.AnalyticEvents.THREAD_CREATION_STARTED,{location,channel_id:e.id,guild_id:e.guild_id})}}},afterSubmit:c}}function ae(e){var t,n=e.parentChannel,r=e.threadSettings,a=e.updateThreadSettings,o=e.hasError,u=e.expandForm,s=e.setExpandForm,d=e.onBlur,c=e.inputRef,p=null!==(t=r.name)&&void 0!==t?t:"",v=(0,l.useStateFromStores)([M.default],(function(){return M.default.getCurrentUser()}));(0,i.default)(null!=v,"current user cannot be null");return J("div",{className:B.default.titleContainer},void 0,J(w.default,{className:B.default.title,value:p,placeholder:u?H.default.Messages.FORUM_POST_TITLE_PLACEHOLDER_FOCUSED:H.default.Messages.FORUM_POST_TITLE_PLACEHOLDER,maxLength:W.MAX_CHANNEL_NAME_LENGTH,
onChange:function(e){a({name:(0,b.default)(e,!1)});""!==e?f.default.startTyping(n.id):f.default.stopTyping(n.id)},onFocus:function(){return s(!0)},onBlur:function(){var e=(0,b.default)(p,!0);e!==p&&a({name:e});d()},error:o&&0===p.trim().length?H.default.Messages.FORM_THREAD_NAME_REQUIRED_ERROR:null,inputRef:c}),u?null:se)}ae.displayName="ForumPostTitle";function oe(e){var t,n=e.parentChannel,r=e.textAreaState,u=e.setTextAreaState,c=e.submit,p=e.hasError,v=e.canAttachFiles,h=e.onBlur,g=(0,l.useStateFromStores)([M.default],(function(){return M.default.getCurrentUser()}));(0,i.default)(null!=g,"current user cannot be null");var E=(0,_.useUserNickAndColor)(g,n),S=E.nick,O=E.colorString,b=q(a.useState(!1),2),I=b[0],T=b[1],A=a.useCallback((function(){T(!0)}),[]),P=a.useCallback((function(){T(!1);h()}),[h]),N=a.useCallback((function(e,t,r){s.default.saveDraft(n.id,t,C.DraftType.FirstThreadMessage);u((function(e){
""!==t&&e.textValue!==t?f.default.startTyping(n.id):""===t&&f.default.stopTyping(n.id);return{textValue:t,richValue:r}}))}),[n.id,u]),R=a.useCallback((function(e,t,n){return c(e,n,t)}),[c]);(0,k.useComponentAction)({event:W.ComponentActions.TEXTAREA_FOCUS,handler:A});(0,k.useComponentAction)({event:W.ComponentActions.TEXTAREA_BLUR,handler:P});var D=p&&0===r.textValue.trim().length;return J("div",{className:B.default.bodyContainer},void 0,J("div",{className:B.default.avatarContainer},void 0,J(d.default,{className:B.default.avatar,user:g,size:d.Sizes.SIZE_40})),J("div",{className:B.default.authorContainer},void 0,J(j.default,{size:j.default.Sizes.SIZE_16,color:j.default.Colors.HEADER_PRIMARY,className:B.default.authorName,style:{color:O}},void 0,S)),J("div",{onClick:A},void 0,J(y.default,{type:ee,channel:n,placeholder:H.default.Messages.FORUM_POST_MESSAGE_PLACEHOLDER,textValue:r.textValue,richValue:r.richValue,focused:I,className:B.default.channelTextArea,innerClassName:(0,
o.default)(B.default.channelTextAreaInner,(t={},t[B.default.channelTextAreaInnerError]=D,t)),onFocus:A,onBlur:P,onChange:N,onSubmit:R,promptToUpload:x.promptToUpload})),J(w.Error,{error:D?H.default.Messages.FORM_THREAD_STARTER_MESSAGE_REQUIRED_ERROR:null}),J(m.default,{channelId:n.id,type:ee,canAttachFiles:v}))}oe.displayName="ForumPostBody";function ie(e){var t=e.parentChannel,n=e.canAttachFiles;return J("div",{className:B.default.controlsContainer},void 0,le,n&&J(fe,{parentChannel:t}))}ie.displayName="ForumPostControls";function ue(){return J(N.default,{className:B.default.submitButton,type:"submit"},void 0,J(D.default,{className:B.default.submitIcon,width:16,height:16,strokeWidth:"2.5"}),J(j.default,{className:B.default.submitText,size:j.default.Sizes.SIZE_16,color:j.default.Colors.CUSTOM},void 0,H.default.Messages.SUBMIT_POST))}ue.displayName="ForumPostSubmitButton";var le=J(ue,{}),se=J(ue,{});function fe(e){var t=e.parentChannel,n=a.useRef(null)
;return a.createElement(a.Fragment,null,a.createElement(c.default,{className:B.default.uploadInput,ref:n,onChange:function(e){(0,x.promptToUpload)(e.currentTarget.files,t,C.DraftType.FirstThreadMessage,{requireConfirm:!0});U.ComponentDispatch.dispatch(W.ComponentActions.TEXTAREA_FOCUS);e.currentTarget.value=""},multiple:t.rateLimitPerUser<=0,tabIndex:-1,"aria-hidden":!0,maxSize:(0,G.maxFileSize)(t.getGuildId())}),J(N.default,{onClick:function(){var e;return null===(e=n.current)||void 0===e?void 0:e.activateUploadDialogue()},className:B.default.mediaButton,look:N.default.Looks.OUTLINED,"aria-label":H.default.Messages.ADD_ATTACHMENT_FORUM_POST},void 0,J(L.default,{className:B.default.uploadIcon,width:20,height:20})))}},646422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=j
;var r,a=R(n(667294)),o=M(n(294184)),i=n(536211),u=n(139982),l=M(n(887174)),s=n(651510),f=n(819235),d=M(n(502546)),c=M(n(644263)),p=M(n(16941)),v=M(n(971639)),y=M(n(776360)),h=n(521358),m=R(n(997847)),_=M(n(408643)),g=M(n(649563)),E=n(973523),S=M(n(853289)),O=M(n(396805)),b=M(n(134875)),I=M(n(927510)),C=n(770348),T=n(64072),A=M(n(247001)),P=M(n(831013));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function w(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e){return E.GuildForumExperiment.useExperiment({guildId:e.guild.id}).enabled?a.createElement(U,e):L("div",{className:(0,o.default)(P.default.container,P.default.outOfDate)},void 0,L(y.default,{color:y.default.Colors.STANDARD,size:y.default.Sizes.SIZE_16},void 0,"Your client is too old to view this channel. Please update at your convenience."))}j.displayName="GatedForumChannel";var k=L(O.default,{});function U(e){var t,n=e.channel,r=w(a.useState(m.SortOrder.LastMessage),1)[0],u=a.useRef(null),l=function(e,t){var n=(0,i.useStateFromStores)([m.default],(function(){
return m.default.getThreadIds(e.id,t)})),r=(0,s.useArchivedThreads)(e,s.PrivacyTab.Public,!1),a=r.threadIds,o=r.canLoadMore,u=r.loadMore;(0,E.useLoadForumUnreadCounts)(e);return{activeThreadIds:n,archivedThreadIds:a,canLoadMore:o,loadMore:u}}(n,r),p=l.activeThreadIds,y=l.archivedThreadIds,_=l.canLoadMore,g=l.loadMore,S=function(){var e=a.useRef(64),t=w(a.useState({}),2),n=(t[0],t[1]),r=a.useCallback((function(t){if(t!==e.current){e.current=t;n({})}}),[]);return{editorHeight:e,setEditorHeight:r}}(),O=S.editorHeight,T=S.setEditorHeight,M=function(e){var t=(0,f.useIsThreadModerator)(e),n=(0,i.useStateFromStores)([d.default],(function(){return d.default.getSection(e.id)===C.ChannelSections.SEARCH||null!=d.default.getSidebarState(e.id)})),r=null!=e.topic&&e.topic.length>0;return!n&&(r||t)}(n),N=(0,f.useCanStartThread)(n),R=p.length>0,D=a.useCallback((function(e){return 2===e.section&&R?L("div",{className:(0,o.default)(P.default.row,P.default.archivedDividerRow)},"section-divider",L("div",{
className:P.default.emptyMainCard},void 0,L(v.default,{size:v.default.Sizes.SIZE_12,className:P.default.archivedDivider,uppercase:!0},void 0,A.default.Messages.FORUM_SECTION_ARCHIVED)),L("div",{className:P.default.subCardSpacer})):null}),[R]),j=a.useCallback((function(e){if(0===e.section)return N?L("div",{className:P.default.row},"create-form",L(x,{className:P.default.mainCard,channel:n,setHeight:T},e.section),L("div",{className:P.default.subCardSpacer},void 0,L(b.default,{channel:n,className:P.default.subCard}))):L("div",{className:P.default.row},"empty-state",L("div",{className:P.default.mainCard}),L("div",{className:P.default.subCardSpacer}),L(b.default,{channel:n,className:P.default.subCard}));var t=1===e.section?p[e.row].channelId:y[e.row];return L("div",{className:P.default.row},e.section+"-"+t,L(I.default,{className:P.default.mainCard,threadId:t,gotoThread:G,sortOrder:r}),L("div",{className:P.default.subCardSpacer}))}),[n,p,y,r,T,N]),U=a.useCallback((function(){
var e,t,n=null===(e=u.current)||void 0===e?void 0:e.getScrollerState();if(null!=n){var r=c.default.getChannel(y[y.length-1]);if(null!=r){var a=null===(t=r.threadMetadata)||void 0===t?void 0:t.archiveTimestamp;if(null!=a){var o=n.scrollTop+n.offsetHeight;n.scrollHeight-o<200&&g(a)}}}}),[y,g]);return 0===p.length&&0===y.length?L("div",{className:P.default.container},void 0,L("div",{className:(0,o.default)(P.default.row,P.default.emptyStateRow)},"empty-state",L(x,{className:P.default.mainCard,channel:n,setHeight:function(){}})),k):L("div",{className:(0,o.default)(P.default.container,(t={},t[P.default.showTopicCard]=M,t))},void 0,L(F,{channel:n}),a.createElement(h.ListAuto,{ref:u,className:P.default.list,sections:[1,p.length,y.length],sectionHeight:function(e){return 2===e?129:0},rowHeight:function(e){return 0===e?N?O.current+24+16:24:178},renderRow:j,renderSection:D,chunkSize:15,onScroll:_?U:void 0,paddingBottom:24}))}U.displayName="ForumChannel";function G(e,t){t?(0,
u.transitionToThread)(e.guild_id,e.id,T.OpenThreadAnalyticsLocations.BROWSER):l.default.openThreadSidebarForViewing(e)}function F(e){var t=e.channel,n=a.useCallback((function(){g.default.resort(t.id)}),[t.id]),r=(0,i.useStateFromStores)([_.default],(function(){return _.default.newThreadCount()}));return 0===r?null:L(p.default,{className:P.default.newPostsButton,onClick:n},void 0,L(y.default,{className:P.default.newPostsButtonText,color:y.default.Colors.BRAND,size:y.default.Sizes.SIZE_16},void 0,A.default.Messages.NEW_FORUM_POST_COUNT.format({count:r})))}F.displayName="NewPostsButton";function x(e){var t=e.className,n=e.channel,r=e.setHeight,i=(0,f.useCanStartThread)(n),u=a.useRef(null),l=a.useCallback((function(){i?null!=u.current&&r(u.current.clientHeight):r(0)}),[i,r]);return i?a.createElement("div",{className:(0,o.default)(t,P.default.header),ref:u},L(S.default,{parentChannel:n,location:"Forum Channel",onChange:l})):null}x.displayName="ForumChannelHeader"},396805:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(294184)),o=f(n(547058)),i=f(n(571830)),u=f(n(971639)),l=f(n(776360)),s=f(n(170471));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=c(o.default,{width:36,height:36});function v(){return c("div",{className:s.default.container,style:{justifyContent:"normal"}},void 0,c("div",{className:s.default.iconContainer},void 0,c("div",{className:(0,a.default)(s.default.icon,s.default.dark)},void 0,p),c(i.default,{className:s.default.stars})),c(u.default,{className:s.default.header,size:u.default.Sizes.SIZE_24},void 0,"There are no discussions right now."),c(l.default,{color:l.default.Colors.HEADER_SECONDARY,size:l.default.Sizes.SIZE_16},void 0,"Forum channels help organize and surface active discussions or support requests."))}v.displayName="ForumChannelEmptyState"},134875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.channel,n=e.className,r=m(a.useState(!1),2),v=r[0],y=r[1],_=m(a.useState(!1),2),g=_[0],E=_[1],S=a.useRef(null);a.useLayoutEffect((function(){if(null!=S.current){var e=S.current.clientHeight>=162;e!==g&&E(e)}}),[v,g,t.topic]);return null!=t.topic&&t.topic.length>0?h("div",{className:n},void 0,h(f.default,{size:f.default.Sizes.SIZE_16},void 0,c.default.Messages.FORUM_CHANNEL_TOPIC_HEADING),h(d.default,{selectable:!0,size:d.default.Sizes.SIZE_14,color:d.default.Colors.HEADER_SECONDARY,className:p.default.guidelines,style:v?{}:{maxHeight:162}},void 0,a.createElement("div",{ref:S},i.default.parseTopic(t.topic,!0,{channelId:t.id}))),!v&&g?h(l.default,{className:p.default.showMore,onClick:function(){return y(!0)}},void 0,h(d.default,{size:d.default.Sizes.SIZE_14,color:d.default.Colors.BRAND,className:p.default.showMoreText},void 0,c.default.Messages.FORUM_CHANNEL_TOPIC_SHOW_MORE,h(s.default,{className:p.default.showMoreIcon,width:16,height:16}))):null):h("div",{className:n
},void 0,h(f.default,{size:f.default.Sizes.SIZE_16},void 0,c.default.Messages.FORUM_CHANNEL_TOPIC_MISSING_HEADING),h(d.default,{size:d.default.Sizes.SIZE_14,color:d.default.Colors.HEADER_SECONDARY,className:p.default.description},void 0,c.default.Messages.FORUM_CHANNEL_TOPIC_MISSING_DESCRIPTION),h(u.default,{className:p.default.cta,onClick:function(){return o.default.open(t.id)}},void 0,c.default.Messages.FORUM_CHANNEL_TOPIC_MISSING_CTA))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=v(n(968494)),i=v(n(268389)),u=v(n(956117)),l=v(n(16941)),s=v(n(738133)),f=v(n(971639)),d=v(n(776360)),c=v(n(247001)),p=v(n(381900));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},324935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=(0,o.useStateFromStores)([h.default],(function(){return h.default.getChannel(t)})),b=(0,
o.useStateFromStores)([_.default],(function(){return _.default.getGuild(null==r?void 0:r.getGuildId())})),I=(0,f.default)(r),T=a.useRef(!1);a.useEffect((function(){if(null!=r&&!T.current){T.current=!0;var e=(0,s.collectThreadMetadata)(h.default.getChannel(r.id),!0);(0,s.trackWithMetadata)(E.AnalyticEvents.CHANNEL_OPENED,P({},e,{channel_id:r.id,guild_id:r.guild_id,parent_id:r.parent_id,channel_view:"Split View"}))}}),[r]);if(null==r||null==b)return null;var M=C(y.default,{channel:r});return a.createElement(a.Fragment,null,C(l.default,{channel:r,draftType:m.DraftType.ChannelMessage}),C(g.default,{toolbar:M,"aria-label":S.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,(0,c.renderTitle)({channel:r,channelName:I,guild:b,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,A(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:t=e.sent
;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,P({},e,{channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){null!=r&&(0,p.transitionToGuild)(r.guild_id,r.id)}})),C("div",{className:O.default.chat},void 0,C(v.default,{channel:r,narrow:!0}),C(u.default,{channel:r,guild:b,chatInputType:d.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(378158),u=b(n(914789)),l=b(n(805918)),s=n(844784),f=b(n(678928)),d=n(856746),c=n(451115),p=n(139982),v=b(n(734239)),y=b(n(621688)),h=b(n(644263)),m=n(687549),_=b(n(30098)),g=b(n(878556)),E=n(770348),S=b(n(247001)),O=b(n(452159));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}},651473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={fetch:function(){r.default.get(o.Endpoints.FRIEND_SUGGESTIONS).then((function(e){return a.default.dispatch({type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS,suggestions:e.body})}),(function(){return a.default.dispatch({type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE})}))},ignore:function(e){r.default.delete(o.Endpoints.FRIEND_SUGGESTION(e))}};t.default=u},677520:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(496486)),o=d(n(536211)),i=d(n(636602)),u=d(n(759027)),l=d(n(728429)),s=d(n(651473)),f=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h={},m=0,_=!1,g=!1;function E(e){var t;return{key:e.suggested_user.id,name:null===(t=a.default.first(e.reasons))||void 0===t?void 0:t.name,user:new u.default(e.suggested_user)}}var S=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default)}
;n.getSuggestionCount=function(){return m};n.getSuggestions=function(){return Object.entries(h).map((function(e){var t=c(e,2);t[0];return t[1]}))};n.getSuggestion=function(e){return h[e]};return t}(o.default.Store))(i.default,((r={})[f.ActionTypes.CONNECTION_OPEN]=function(e){h={};if((m=e.friendSuggestionCount)>0){g=!0;!function(){if(!_&&g){_=!0;g=!1;s.default.fetch()}}()}},r[f.ActionTypes.FRIEND_SUGGESTION_CREATE]=function(e){var t,n=E(e.suggestion);if(null!=h[n.key])return!1;m++;h=y({},h,((t={})[n.key]=n,t))},r[f.ActionTypes.FRIEND_SUGGESTION_DELETE]=function(e){m=Math.max(0,--m);delete h[e.suggestedUserId]},r[f.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS]=function(e){_=!1;h=a.default.chain(e.suggestions).map(E).keyBy((function(e){return e.key})).value();m=a.default.keys(h).length},r[f.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE]=function(){_=!1;h={}},r));t.default=S},344368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=l(n(636602)),a=l(n(234161)),o=l(n(791548)),i=l(n(288356)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={};function c(e){
var t=e.name,n=e.hash,r=e.missingData;i.default.markGameReported(t);for(var u,l=s(r);!(u=l()).done;){var f=u.value;if("icon"===f){var c=d[t];null!=c&&a.default.uploadIcon(t,n,c);return}new o.default("GameStoreIconManager").log("Could not find missing data key: "+f)}}function p(e){var t=e.gameName,n=e.icon;d[t]=n}var v={initialize:function(){r.default.subscribe(u.ActionTypes.UNVERIFIED_GAME_UPDATE,c);r.default.subscribe(u.ActionTypes.GAME_ICON_UPDATE,p)}};t.default=v},735592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(636602)),a=f(n(234161)),o=n(671694),i=f(n(177230)),u=f(n(423046)),l=f(n(191839)),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var c=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).handleConnectionOpen=function(){var e=u.default.isGuest();l.default.fetched||e||(0,o.fetchLibrary)();a.default.getDetectableGames()};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(s.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};n._terminate=function(){r.default.unsubscribe(s.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};return t}(i.default));t.default=c},829392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.checkLaunchableGame=s;t.default=void 0;var r=l(n(636602)),a=l(n(288356)),o=l(n(188023)),i=l(n(703124)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=i.default.launchableGames[e],n=a.default.getGame(e);return(null!=n?o.default.isLaunchable(n):o.default.isGameLaunchable(e)).then((function(n){n!==t&&r.default.dispatch({type:u.ActionTypes.GAME_LAUNCHABLE_UPDATE,
gameId:e,isLaunchable:n})}))}function f(e){s(e.gameId)}var d={initialize:function(){r.default.subscribe(u.ActionTypes.CHECK_LAUNCHABLE_GAME,f)}};t.default=d},519386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(446637),a=i(n(191839)),o=i(n(424099));function i(e){return e&&e.__esModule?e:{default:e}}var u={init:function(){a.default.whenInitialized((function(){null!=o.default.testModeApplicationId&&(0,r.authorizeAndSetTestModeApplication)(o.default.testModeApplicationId,o.default.testModeOriginURL)}))}};t.default=u},782950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(636602)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(27555)),o=s(n(423046)),i=n(539331),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function f(){if((0,i.isSupportedPlatform)()){var e=o.default.getToken(),t=o.default.getId();if(null==e)throw new Error("missing user token");a.init(e,t)}}function d(){a.destroy()}var c={init:function(){r.default.subscribe(u.ActionTypes.CONNECTION_OPEN,f);r.default.subscribe(u.ActionTypes.LOGOUT,d)}};t.default=c},279235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_instream_gifting",label:"In-stream gifting",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Shows in stream gifting upsell",config:{enabled:!0}}]})
;t.default=r},58659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=v(n(636602)),o=n(123516),i=v(n(607209)),u=v(n(423046)),l=v(n(644263)),s=v(n(290482)),f=v(n(211136)),d=v(n(359973)),c=n(747868),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=new r.Timeout,_=new r.Timeout,g=null;function E(e,t){var n=l.default.getChannel(e),r=i.default.getActiveStreamForUser(t);if((null==n?void 0:n.isDM())&&f.default.getVoiceChannelId()===e&&null==r){var a=i.default.getStreamForUser(t);if(null==a)return!1;var u=(0,c.encodeStreamKey)(a);if(u===g)return!1;g=u;(0,o.watchStream)(a,{noFocus:!0});return!0}return!1}function S(e,t){var n=null!=t?t:s.default.getPreferredRegion();null!=n&&n!==s.default.getRegion(d.default.getHostname())&&(0,o.changeStreamRegion)(e,n)}var O={init:function(){var e=function(e){d.default.getAllActiveStreamKeys().includes(e)||_.start(5e3,(function(){a.default.dispatch({type:p.ActionTypes.STREAM_TIMED_OUT,streamKey:e})}))}
;a.default.subscribe(p.ActionTypes.STREAM_WATCH,(function(t){var n=t.streamKey;e(n)}));a.default.subscribe(p.ActionTypes.STREAM_START,(function(t){var n=t.streamType,r=t.guildId,a=t.channelId;e((0,c.encodeStreamKey)({streamType:n,guildId:r,channelId:a,ownerId:u.default.getId()}))}));a.default.subscribe(p.ActionTypes.STREAM_CREATE,(function(){_.stop()}));a.default.subscribe(p.ActionTypes.STREAM_UPDATE,(function(){_.stop()}));a.default.subscribe(p.ActionTypes.STREAM_DELETE,(function(){_.stop()}));a.default.subscribe(p.ActionTypes.STREAM_CLOSE,(function(){m.stop();_.stop()}));a.default.subscribe(p.ActionTypes.VOICE_CHANNEL_SELECT,(function(e){var t=e.channelId;if(null!=t){g=null;var n=i.default.getAllApplicationStreamsForChannel(t).filter((function(e){return e.ownerId!==u.default.getId()}))[0];null!=n&&E(t,n.ownerId)}}));a.default.subscribe(p.ActionTypes.VOICE_STATE_UPDATES,(function(e){e.voiceStates.forEach((function(e){var t=e.userId,n=e.channelId,r=e.selfStream
;if(t!==u.default.getId()&&null!=n){if(r&&E(n,t))return;var a=i.default.getActiveStreamForUser(t);if(null!=a&&a.channelId===n){r||a.state===p.ApplicationStreamStates.ENDED||m.start(18e4,(function(){return(0,o.closeStream)((0,c.encodeStreamKey)(a),!1)}));if(r&&a.state===p.ApplicationStreamStates.ENDED){m.stop();var l=i.default.getStreamForUser(t);if(null==l)return;(0,o.watchStream)(l)}}}}))}));a.default.subscribe(p.ActionTypes.CALL_UPDATE,(function(e){var t=e.channelId,n=e.region,r=i.default.getActiveStreamForUser(u.default.getId());(null==r?void 0:r.channelId)===t&&S((0,c.encodeStreamKey)(r),n)}));a.default.subscribe(p.ActionTypes.CHANNEL_UPDATES,(function(e){var t=e.updates,n=i.default.getActiveStreamForUser(u.default.getId());if(null!=n)for(var r,a=y(t);!(r=a()).done;){var o=r.value;n.channelId===o.channel.id&&S((0,c.encodeStreamKey)(n),o.channel.rtcRegion)}}))}};t.default=O},428319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.useStreamQualityIndicatorExperiment=t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var o=(0,n(373505).createExperiment)({kind:"user",id:"2021-03_stream_quality_indicator",label:"Stream Quality Indicator",defaultConfig:{showIndicator:!1},treatments:[{id:1,label:"Shows a quality indicator on go live streams",config:{showIndicator:!0}}]});t.useStreamQualityIndicatorExperiment=function(e){r.useEffect((function(){e&&o.trackExposure({})
}),[e]);return o.useExperiment({})};var i=o;t.default=i},910333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,u.getMaxQuality)(e),n=e.stream.ownerId;return(0,r.useStateFromStores)([i.default,o.default,a.default],(function(){return null!=n?(0,l.default)(i.default.getQuality(),i.default.getStatsHistory(n,n===a.default.getId()),null!=o.default.getHookError(s.MediaEngineHookTypes.SOUND),t):null}),[t,n])};var r=n(536211),a=f(n(423046)),o=f(n(438567)),i=f(n(359973)),u=n(143369),l=f(n(571425)),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}},939790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SUPPORTED_HARDWARE_ACCEL_VENDORS=void 0;t.default=function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var a=r[t],o=e[a];if(null!=o&&null==o.error&&n.has(a))return!0}return!1};var n=new Set(["nvidia"]);t.SUPPORTED_HARDWARE_ACCEL_VENDORS=n},925013:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,i){if(e.state===a.ApplicationStreamStates.ENDED||e.state===a.ApplicationStreamStates.FAILED)return null;if(e.state===a.ApplicationStreamStates.RECONNECTING)return{mainText:o.default.Messages.STREAM_RECONNECTING_ERROR,supportingText:o.default.Messages.STREAM_RECONNECTING_ERROR_SUBTEXT};if(e.state===a.ApplicationStreamStates.PAUSED)return n?{mainText:o.default.Messages.STREAM_CAPTURE_PAUSED,supportingText:o.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS}:{mainText:o.default.Messages.STREAM_CAPTURE_PAUSED,supportingText:o.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS_VIEWER.format({username:r.default.getName(e.guildId,e.channelId,t)})};if(i)return{mainText:o.default.Messages.STREAM_PREVIEW_PAUSED,supportingText:o.default.Messages.STREAM_PREVIEW_PAUSED_SUBTEXT};return null};var r=i(n(29652)),a=n(770348),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}},571425:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r){if(n)return c(u.default.Messages.STREAM_SOUNDSHARE_FAILED,s.SOUNDSHARE_FAILED);if(null!=t){var a=d(t,5),o=d(t,30);if(o.numDatapoints>=5){var l;return null!==(l=p(a,null==r?void 0:r.maxFrameRate))&&void 0!==l?l:p(o,null==r?void 0:r.maxFrameRate)}}if(e===i.RTCConnectionQuality.BAD)return c(u.default.Messages.STREAM_NETWORK_QUALITY_ERROR,s.BAD_CONNECTION);return null};var r,a=n(862728),o=n(71246),i=n(770348),u=(r=n(247001))&&r.__esModule?r:{default:r};function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s;!function(e){e.PACKET_LOSS="Packet Loss";e.FRAME_RATE_INPUT="Frame Rate Encode";e.FRAME_RATE_NETWORK="Frame Rate Decode";e.SOUNDSHARE_FAILED="Soundshare Failed";e.BAD_CONNECTION="Bad Connection"}(s||(s={}));function f(e){void 0===e&&(e=30)
;return e<=5?3:e<=15?10:15}function d(e,t){var n={packetsSentOrReceived:0,packetsLost:0,packetLossRate:0,frameRate:0,resolution:0,numDatapoints:0},r=e.slice(-1*t).filter(o.isNotNullish);if(0===r.length)return l({type:"streamer"},n);r.forEach((function(e,t,r){n.packetsSentOrReceived+=t>0?r[t].packetsSentOrReceived-r[t-1].packetsSentOrReceived:0;n.packetsLost+=t>0?r[t].packetsLost-r[t-1].packetsLost:0;n.frameRate+=e.frameRate;n.resolution+=e.resolution}));var a=r[0].type,i=r.length;return{type:a,packetsSentOrReceived:n.packetsSentOrReceived,packetsLost:n.packetsLost,packetLossRate:n.packetsLost/(n.packetsLost+n.packetsSentOrReceived),frameRate:n.frameRate/i,resolution:n.resolution/i,numDatapoints:i}}var c=(0,a.cachedFunction)((function(e,t){return{message:e,errorType:t}}));function p(e,t){if("streamer"===e.type){if(100*e.packetLossRate>10)return c(u.default.Messages.STREAM_BAD_STREAMER,s.PACKET_LOSS);if(e.frameRate<=f(t))return c(u.default.Messages.STREAM_BAD_STREAMER,s.FRAME_RATE_INPUT)
}else{if(100*e.packetLossRate>10)return c(u.default.Messages.STREAM_BAD_SPECTATOR,s.PACKET_LOSS);if(e.frameRate<=f(t))return c(u.default.Messages.STREAM_BAD_SPECTATOR,s.FRAME_RATE_NETWORK)}return null}},729136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=void 0;t.default=function(e){var t=u[(0,i.getPlatform)()];if(null==t)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n],l=e[a],s=t[a];if(null!=l&&null!=s&&null==l.error){var f=(c=void 0,p=void 0,(null!==(c=(d=l).major)&&void 0!==c?c:0)+"."+(null!==(p=d.minor)&&void 0!==p?p:0)+".0");if(!o.default.satisfies(f,s))return!0}}var d,c,p;return!1};var r,a,o=(r=n(236625))&&r.__esModule?r:{default:r},i=n(864489);var u=((a={})[i.PlatformTypes.WINDOWS]={nvidia:">=397.93.0"},a);t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=u},100223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=O(n(667294)),a=n(496486),o=E(n(636602)),i=E(n(740207)),u=n(123516),l=n(894826),s=E(n(607209)),f=E(n(423046)),d=E(n(311492)),c=E(n(893160)),p=E(n(728429)),v=O(n(194322)),y=E(n(58659)),h=n(747868),m=E(n(908921)),_=n(739898),g=n(770348);function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}var C=(0,a.debounce)(u.notifyStreamStart,1e3),T={init:function(){y.default.init();o.default.subscribe(g.ActionTypes.MEDIA_ENGINE_VIDEO_STATE_CHANGED,(function(e){var t=e.videoState,n=s.default.getActiveStreamForUser(f.default.getId());if(null!=n){var r=t===g.MediaEngineVideoStates.PAUSED;(0,u.setStreamPaused)(n,r)}}));o.default.subscribe(g.ActionTypes.STREAM_DELETE,(function(e){if(e.reason===g.ApplicationStreamDeleteReasons.STREAM_FULL){(0,u.closeStream)(e.streamKey,!1);v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(26495)]).then(n.bind(n,126495));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":
return e.stop()}}),e)}))))}}));o.default.subscribe(g.ActionTypes.STREAM_WATCH,(function(e){var t=e.streamKey;if(!e.allowMultiple){var n=(0,h.decodeStreamKey)(t);s.default.getAllActiveStreams().forEach((function(e){if(e.ownerId!==n.ownerId&&e.ownerId!==f.default.getId()){e.ownerId===f.default.getId()&&i.default.setDesktopSource(null);(0,u.closeStream)((0,h.encodeStreamKey)(e),!1)}}))}}));o.default.subscribe(g.ActionTypes.VOICE_STATE_UPDATES,(function(e){e.voiceStates.forEach((function(e){if(e.userId===f.default.getId()){var t=s.default.getAllActiveStreams(),n=c.default.getChannelId();t.forEach((function(e){e.channelId!==n&&(0,m.default)(e,!1)}))}}))}));o.default.subscribe(g.ActionTypes.STREAM_CREATE,(function(e){var t,n=e.streamKey,r=(0,h.decodeStreamKey)(n),a=r.ownerId,o=r.guildId;if(null!=o&&null!=a&&a===(null===(t=p.default.getCurrentUser())||void 0===t?void 0:t.id)){var i=d.default.getMemberCount(o)
;null==i||i<2||i>_.STREAM_NOTIFY_GUILD_MAX_SIZE||l.NotifyFriendsOnGoLive.getSetting()&&C(n)}}))}};t.default=T},57697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=x(n(667294)),o=G(n(294184)),i=n(248088),u=n(425916),l=n(536211),s=n(556470),f=n(836233),d=n(6505),c=n(62638),p=G(n(715419)),v=G(n(711195)),y=G(n(728429)),h=G(n(956117)),m=G(n(16941)),_=G(n(160629)),g=G(n(730977)),E=G(n(447522)),S=G(n(41024)),O=n(194322),b=n(598671),I=G(n(971639)),C=G(n(776360)),T=x(n(528175)),A=G(n(308920)),P=G(n(838583)),M=n(143369),N=G(n(279235)),R=n(428319),w=G(n(910333)),D=n(770348),L=n(265517),j=G(n(247001)),k=G(n(214156)),U=G(n(592551));function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return B.apply(this,arguments)}function z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){z(o,r,a,i,u,"next",e)}function u(e){z(o,r,a,i,u,"throw",e)}i(void 0)}))}}var $=(0,u.cssValueToNumber)(U.default.borderRadius),K={opacity:0,transform:"translate3d(100%, 0, 0)"},q={opacity:1,transform:"translate3d(0%, 0, 0)"},Z={opacity:0},X={opacity:1},Q={borderRadius:$+"px "+$+"px "+$+"px "+$+"px"},J={borderRadius:"0px "+$+"px "+$+"px 0px"},ee={mass:1,tension:500,friction:18,clamp:!0},te=function(e){var t,r,i=e.participant,u=e.isUpsellEnabled,f=e.shape,d=e.size,c=e.didTrackUpsellViewed,p=e.setDidTrackUpsellViewed,v=e.inStreamGiftingEnabled,h=e.handleGiftingCheckout,_=e.className,E=(0,M.getMaxQuality)(i),I=null!=(0,w.default)(i);try{t=(0,M.isPremiumFPS)(E)}catch(e){t=!1}try{r=(0,M.isPremiumResolution)(E)}catch(e){r=!1}
var C=t||r,N=(0,s.useAnalyticsContext)().location,R=(0,l.useStateFromStores)([y.default],(function(){return y.default.getCurrentUser()})),U=u&&!P.default.isPremium(R,D.PremiumTypes.TIER_1),G=a.useCallback((function(){U&&C&&(0,O.openModalLazy)(Y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(21438)]).then(n.bind(n,421438));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,B({},e,{analyticsSource:N}))}));case 5:case"end":return e.stop()}}),e)}))))}),[U,C,N]);a.useEffect((function(){if(!c&&C){A.default.track(D.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:L.PremiumUpsellTypes.STREAM_QUALITY_INDICATOR,has_premium_stream_fps:t,has_premium_stream_resolution:r});p(!0)}}),[t,r,C,c,p]);if(null==E)return null;var F=H(g.default,{
text:v?null:I?j.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_REDUCED:C?j.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_PREMIUM:j.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_NORMAL,position:g.default.Positions.BOTTOM,color:g.default.Colors.GREY},void 0,(function(e){var t;return a.createElement(m.default,B({},e,{onClick:v?h:G,className:(0,o.default)(k.default.qualityIndicator,d,T.LiveIndicatorShapes[f],I?k.default.qualityIndicatorLowQuality:k.default.qualityIndicatorFullQuality,(t={},t[k.default.clickable]=U&&C||v,t))}),C?H(S.default,{className:k.default.premiumStreamIcon}):null,H("span",{className:k.default.qualityResolution},void 0,(0,M.getResolutionText)(E.maxResolution)),H("span",{},void 0,(0,M.getFPSText)(E.maxFrameRate)))}));return H(b.TextBadge,{text:F,className:(0,o.default)(_,k.default.qualityIndicatorBadge),color:D.Colors.PRIMARY_DARK_500,shape:f})};te.displayName="StreamQualityIndicator";var ne=function(e){
var t=e.participant,n=e.showQuality,r=e.isUpsellEnabled,u=void 0===r||r,s=e.size,g=e.className,O=V(a.useState(!1),2),w=O[0],U=O[1],G=V(a.useState(!1),2),F=G[0],x=G[1],W=V(a.useState(!1),2),z=W[0],Y=W[1],$=(0,M.getMaxQuality)(t),ne=a.useContext(f.AccessibilityPreferencesContext).reducedMotion,re=(0,R.useStreamQualityIndicatorExperiment)(null!=$).showIndicator,ae=n&&re&&null!=$,oe=N.default.useExperiment({}).enabled,ie=(0,l.useStateFromStores)([y.default],(function(){return y.default.getCurrentUser()}));a.useEffect((function(){(0,v.default)(t.stream.ownerId,t.user.getAvatarURL(t.stream.guildId,80),{dispatchWait:!0})}),[t]);var ue=(0,l.useStateFromStores)([p.default],(function(){return p.default.getUserProfile(t.stream.ownerId)}),[t.stream.ownerId]),le=P.default.isPremium(ie)&&null!=ue&&null==ue.premiumSince;a.useEffect((function(){u&&le&&N.default.trackExposure({})}),[u,le]);var se=u&&oe&&le,fe=ae&&se&&d.HotspotStore.hasHotspot(d.HotspotLocations.IN_STREAM_GIFTING_UPSELL),de=(0,
i.useTransition)(ae,{enter:{from:ne.enabled?Z:K,to:ne.enabled?X:q},leave:ne.enabled?Z:K,config:ee}),ce=(0,i.useSpring)({to:ae?J:Q,config:ee}),pe=V(a.useState(!1),2),ve=pe[0],ye=pe[1],he=V(a.useState(0),2),me=he[0],_e=he[1],ge=function(e){clearTimeout(me);_e(setTimeout((function(){ye(e)}),100))};if(se&&!F){A.default.track(D.AnalyticEvents.PREMIUM_GIFT_UPSELL_VIEWED,{type:L.PremiumUpsellTypes.STREAM_QUALITY_INDICATOR,location_section:D.AnalyticsSections.STREAM_QUALITY_INDICATOR,location_object_type:D.AnalyticsObjectTypes.GIFT,location_object:D.AnalyticsObjects.BUTTON_ICON});x(!0)}var Ee=function(e){Se();(0,c.openPremiumSelectPlanModal)({isGift:!0,giftMessage:j.default.Messages.PREMIUM_PAYMENT_IS_GIFT_STREAM_QUALITY_UPSELL,initialPlanId:null,subscriptionTier:D.PremiumSubscriptionSKUs.TIER_2,analyticsObject:{section:D.AnalyticsSections.STREAM_QUALITY_INDICATOR,object:e,objectType:D.AnalyticsObjectTypes.GIFT}})},Se=function(){(0,d.hideHotspot)(d.HotspotLocations.IN_STREAM_GIFTING_UPSELL)
},Oe=function(e){var n=e.className,r=e.popoutProps;return a.createElement("div",B({className:(0,o.default)(k.default.streamQualityIndicator,n)},r),se?H(m.default,{onClick:function(){return Ee(D.AnalyticsObjects.BUTTON_ICON)},className:(0,o.default)(k.default.qualityIndicator,k.default.clickable)},void 0,H(E.default,{className:k.default.giftIcon})):null,de((function(e,n){return n?H(i.animated.div,{style:e},void 0,H(te,{className:k.default.liveQualityIndicator,participant:t,size:s,shape:b.BadgeShapes.ROUND_LEFT,isUpsellEnabled:u,didTrackUpsellViewed:w,setDidTrackUpsellViewed:U,inStreamGiftingEnabled:se,handleGiftingCheckout:function(){return Ee(D.AnalyticsObjects.BUTTON_ICON)}})):null})),H(i.animated.div,{style:ce,className:k.default.liveIndicator},void 0,H(T.default,{look:T.LiveIndicatorLooks.RED,size:s,shape:ae?b.BadgeShapes.ROUND_RIGHT:b.BadgeShapes.ROUND})))};return fe?H("div",{className:(0,o.default)(g,k.default.qualityIndicatorHighlightWrapper),onMouseEnter:function(){return ge(!0)
},onMouseLeave:function(){return ge(!1)}},void 0,H(_.default,{shouldShow:ve,animation:_.default.Animation.NONE,position:_.default.Positions.BOTTOM,align:_.default.Align.CENTER,autoInvert:!1,onRequestClose:function(){return ye(!1)},renderPopout:function(){if(!z){A.default.track(D.AnalyticEvents.TOOLTIP_VIEWED,{type:L.PremiumUpsellTypes.GIFT_STREAM_QUALITY_INDICATOR,location_section:D.AnalyticsSections.STREAM_QUALITY_INDICATOR,location_object_type:D.AnalyticsObjectTypes.GIFT,location_object:D.AnalyticsObjects.TOOLTIP});Y(!0)}return H("div",{className:k.default.streamGiftingPopout},void 0,H("div",{className:k.default.streamGiftingPopoutHeader},void 0,H(S.default,{className:k.default.premiumStreamIconLarge}),H(I.default,{size:I.default.Sizes.SIZE_14,color:C.default.Colors.HEADER_PRIMARY},void 0,j.default.Messages.SCREENSHARE_STREAM_GIFTING_HEADER)),H(C.default,{className:k.default.streamGiftingPopoutText,size:C.default.Sizes.SIZE_16,color:C.default.Colors.HEADER_PRIMARY
},void 0,j.default.Messages.SCREENSHARE_STREAM_GIFTING_BODY),H("div",{className:k.default.streamGiftingPopoutCTA},void 0,H(h.default,{onClick:Se,size:h.default.Sizes.SMALL},void 0,j.default.Messages.SCREENSHARE_STREAM_GIFTING_DISMISS),H(h.default,{className:k.default.streamGiftingPopoutButton,innerClassName:k.default.giftButton,onClick:function(){return Ee(D.AnalyticsObjects.TOOLTIP)},size:h.default.Sizes.SMALL,color:h.default.Colors.WHITE},void 0,H(E.default,{className:k.default.giftIconBrand}),H(C.default,{className:k.default.streamGiftingPopoutButtonText,size:C.default.Sizes.SIZE_14},void 0,j.default.Messages.SCREENSHARE_STREAM_GIFTING_CTA))))}},void 0,(function(e){return Oe({popoutProps:e})}))):Oe({className:g})};t.default=ne},587840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(536211)),o=d(n(636602)),i=n(864489),u=d(n(922629)),l=d(n(939790)),s=d(n(729136)),f=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}
function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=!1,y=!0;var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e=this;i.isPlatformEmbedded&&!__OVERLAY__&&u.default.getGPUDriverVersions().then((function(t){v=(0,s.default)(t);y=(0,l.default)(t);e.emitChange()}))};n.getState=function(){return{GPUDriversOutdated:v,canUseHardwareAcceleration:y}};!function(e,t,n){t&&c(e.prototype,t);n&&c(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"GPUDriversOutdated",get:function(){return v}},{key:"canUseHardwareAcceleration",get:function(){return y}}]);return t
}(a.default.Store))(o.default,((r={})[f.ActionTypes.OVERLAY_INITIALIZE]=function(e){var t=e.streamingCapabilitiesStoreState;v=t.GPUDriversOutdated;y=t.canUseHardwareAcceleration},r));t.default=h},937196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){void 0===e&&(e=!0);var t=d.default.getCurrentUser();if(!(0,v.default)(u.default))return!1;if(null!=t&&null!=a.default.getActiveStreamForUser(t.id))return!1;var n=(0,y.default)(s.default,c.default);if(null==n)return!1;if(n.isLauncher&&!e)return!1;var h=f.default.getVoiceChannelId(),m=o.default.getChannel(h);if(null==m)return!1;var _=m.getGuildId();if(!(0,p.canStreamInChannel)(m,i.default,l.default,!1))return!1;(0,r.startStream)(_,m.id,{pid:n.pid});return!0};var r=n(123516),a=h(n(607209)),o=h(n(644263)),i=h(n(30098)),u=h(n(635014)),l=h(n(689389)),s=h(n(834162)),f=h(n(211136)),d=h(n(728429)),c=h(n(765287)),p=n(385753),v=h(n(379310)),y=h(n(343898));function h(e){return e&&e.__esModule?e:{default:e}
}},460703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildPrompts=void 0;var r;var a=(0,((r=n(213192))&&r.__esModule?r:{default:r}).default)({REAL_NAME_PROMPT:null});t.GuildPrompts=a},780815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useGuildHeaderPopoutStore=t.showGuildHeaderPopout=void 0;var r,a=(r=n(219548))&&r.__esModule?r:{default:r};var o=Object.freeze({isPopoutOpen:!1}),i=(0,a.default)((function(e){return o}));t.showGuildHeaderPopout=function(e){i.setState((function(){return{isPopoutOpen:e}}))};var u=i;t.useGuildHeaderPopoutStore=u},689626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.viewPrompt=i;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t){a.default.wait((function(){a.default.dispatch({type:o.ActionTypes.GUILD_PROMPT_VIEWED,prompt:e,guildId:t})}))}var u={viewPrompt:i};t.default=u},81026:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){for(var t in e){var n=e[t];s[t]=new Set(n)}};n.hasViewedPrompt=function(e,t){var n=s[t];return null!=n&&!!n.has(e)};n.getState=function(){return s};return t}(a.default.PersistedStore);f.persistKey="GuildPromptsStore";var d=new f(o.default,((r={})[i.ActionTypes.GUILD_PROMPT_VIEWED]=function(e){var t=e.prompt,n=e.guildId,r=s[n];if(null==r){s[n]=new Set;s[n].add(t);return!0}if(r.has(t))return!1;r.add(t);return!0},r[i.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;if(null==s[t.id]||t.unavailable)return!1;delete s[t.id]
;return!0},r));t.default=d},967523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){var t;return null!==(t=o.default.getChannels(e)[o.GUILD_SELECTABLE_CHANNELS_KEY])&&void 0!==t?t:[]}),[e]);return 0===t.length?0:t.filter((function(e){var t=e.channel;return i.default.can(r.default.combine(u.Permissions.SEND_MESSAGES,u.Permissions.VIEW_CHANNEL),t)})).length};var r=s(n(267258)),a=n(536211),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(517286)),i=s(n(689389)),u=n(770348);function l(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}},118978:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){(0,r.useEffect)((function(){a.trackExposure({guildId:e})}),[e]);return a.getCurrentConfig({guildId:e})};var r=n(667294),a=(0,n(373505).createExperiment)({kind:"guild",id:"2022-01_audio_quality_boosting_upsell",label:"Enables an upsell for audio quality in calls",defaultConfig:{enableAudioQualityUpsell:!1},treatments:[{id:1,label:"Display audio quality upsell",config:{enableAudioQualityUpsell:!0}}]})},275363:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"guild",id:"2021-12_guild_banner_tooltip",label:"Guild Banner Tooltip",defaultConfig:{enableGuildBannerTooltip:!1},treatments:[{id:1,label:"Show guild banner tooltip upsell",config:{
enableGuildBannerTooltip:!0}}]});t.default=r},197737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(782732)),i=n(598671),u=n(682937),l=s(n(550262));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.activityPremiumTierLevel;return d(i.TextBadge,{className:l.default.requiredBoostingTierBadge,disableColor:!0,text:a.createElement(a.Fragment,null,d(o.default,{className:l.default.guildBoostingIconNormal}),d("span",{},void 0,(0,u.getShortenedTierName)(t)))})}c.displayName="BoostingTierBadge"},567563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){(0,a.default)(i({},e,{perks:(0,o.embeddedActivitiesUpsellPerks)()}),"Premium Activity Upsell - Tier "+e.targetBoostedGuildTier)};var r,a=(r=n(58941))&&r.__esModule?r:{default:r},o=n(665984);function i(){i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return i.apply(this,arguments)}},68094:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(294184)),i=n(536211),u=n(923387),l=n(203847),s=E(n(122913)),f=E(n(956117)),d=E(n(160629)),c=E(n(776360)),p=E(n(308920)),v=E(n(58941)),y=n(665984),h=n(770348),m=n(265517),_=E(n(247001)),g=E(n(377574));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=n(393270),I=n(319927);function C(){(0,l.markDismissibleContentAsDismissed)(u.DismissibleContent.VOICE_QUALITY_BOOSTING_UPSELL_TOOLTIP);window.removeEventListener("keydown",T)}function T(e){e.keyCode===h.KeyboardKeys.ESCAPE&&C()}function A(e){var t=e.guild,n=e.children,r=(0,i.useStateFromStores)([s.default],(function(){return s.default.hasLayers()}));a.useEffect((function(){p.default.track(h.AnalyticEvents.PREMIUM_GUILD_UPSELL_VIEWED,{type:m.PremiumUpsellTypes.AUDIO_QUALITY,location:{
page:h.AnalyticsPages.CHANNEL_CALL,section:h.AnalyticsSections.BOOST_AUDIO_QUALITY_UPSELL}})}),[]);a.useEffect((function(){r?window.removeEventListener("keydown",T):window.addEventListener("keydown",T);return function(){window.removeEventListener("keydown",T)}}),[r]);var u=[_.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_SUBTITLE_LVL_1,_.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_SUBTITLE_LVL_2,_.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_SUBTITLE_LVL_3],l=O("div",{className:g.default.container},void 0,O("img",{className:g.default.cloudImage,src:b,alt:""}),O("img",{className:g.default.image,src:I,alt:""}),O(c.default,{className:g.default.title,size:c.default.Sizes.SIZE_16},void 0,_.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_TITLE),O(c.default,{size:c.default.Sizes.SIZE_14,className:g.default.subTitle},void 0,u[t.premiumTier]),O(f.default,{className:(0,o.default)(g.default.button,g.default.topButton),look:f.default.Looks.INVERTED,fullWidth:!0,
onClick:function(){(0,v.default)({analyticsSourceLocation:{section:h.AnalyticsSections.BOOST_AUDIO_QUALITY_UPSELL},guild:t,targetBoostedGuildTier:t.premiumTier+1,perks:(0,y.audioQualityUpsell)(t.premiumTier+1)});C()}},void 0,_.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_CTA),O(f.default,{className:g.default.button,look:f.default.Looks.FILLED,color:f.default.Colors.BRAND,fullWidth:!0,onClick:C},void 0,_.default.Messages.GUILD_BOOSTING_AUDIO_QUALITY_UPSELL_DISMISS),O("div",{className:g.default.pointer}));return O(d.default,{renderPopout:function(){return l},align:d.default.Align.CENTER,position:d.default.Positions.TOP,animation:d.default.Animation.FADE,spacing:15,shouldShow:!r},void 0,(function(){return n}))}A.displayName="GuildBoostingAudioQualityUpsell"},408692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=y(n(964285)),u=y(n(956117)),l=y(n(16941)),s=y(n(259530)),f=y(n(308920)),d=n(682937),c=n(770348),p=y(n(247001)),v=y(n(258771));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.guild,n=e.appliedGuildBoosts,r=t.id;a.useEffect((function(){f.default.track(c.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:c.ChannelNoticeTypes.GUILD_BOOSTING_GRACE_PERIOD,guild_id:r})}),[r]);return null==n||(0,d.appliedGuildBoostsRequiredForPerks)(n,r)<=0?null:m("div",{className:v.default.channelNotice},void 0,m(l.default,{onClick:function(){(0,o.hidePremiumGuildGracePeriodNotice)(r)},className:v.default.close,"aria-label":p.default.Messages.DISMISS},void 0,m(s.default,{className:v.default.closeIcon})),m("div",{className:v.default.message},void 0,p.default.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE),m(u.default,{fullWidth:!0,color:u.default.Colors.GREY,size:u.default.Sizes.SMALL,onClick:function(){f.default.track(c.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{
source:c.ChannelNoticeCtaSources.GRACE_PERIOD_NOTICE,guild_id:r,notice_type:c.ChannelNoticeTypes.GUILD_BOOSTING_GRACE_PERIOD});i.default.open(r,c.GuildSettingsSections.GUILD_PREMIUM)},className:v.default.checkStatusButton},void 0,p.default.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE_BUTTON))};_.displayName="AppliedGuildBoostGracePeriodNotice";var g=_;t.default=g},578628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=d(n(918667)),o=d(n(58941)),i=n(682937),u=n(770348),l=n(665984),s=d(n(247001)),f=d(n(484771));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t=e.guild,n=e.markAsDismissed,r=(0,i.getNumberOfAppliedBoostsNeededForTier)(t,u.BoostedGuildTiers.TIER_2);return p(a.default,{guild:t,onDismissed:n,cta:s.default.Messages.GUILD_BANNER_NOTICE_CTA,message:s.default.Messages.GUILD_BANNER_NOTICE.format({boostsNeeded:r}),
type:u.ChannelNoticeTypes.GUILD_BANNER,image:f.default,onClick:function(){return(0,o.default)({analyticsSourceLocation:{section:u.AnalyticsSections.CHANNEL_NOTICE,object:u.AnalyticsObjects.SERVER_BANNER_TOOLTIP},guild:t,targetBoostedGuildTier:u.BoostedGuildTiers.TIER_2,perks:(0,l.guildBannerUpsellPerks)()})},imageMarginTop:15,imageMarginX:22})}v.displayName="GuildBannerNotice"},91836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=n(923387),i=n(203847),u=n(283894),l=n(75639),s=_(n(311492)),f=_(n(956117)),d=_(n(16941)),c=n(604753),p=_(n(259530)),v=_(n(308920)),y=n(770348),h=_(n(247001)),m=_(n(863981));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=(0,u.registerUserExperiment)({id:u.Experiments.GUILD_AFFINITY_PREMIUM_GUILD_SUBSCRIPTION_CTA,title:"Premium guild subscription for high-affinity guilds",
description:["Show premium guild subscription CTA","Control: No CTA.","Treatment 1: Show CTA."],buckets:[u.ExperimentBuckets.CONTROL,u.ExperimentBuckets.TREATMENT_1]}),O=function(e){var t=e.guild,n=e.markAsDismissed,r=(0,u.useAndTrackExposureToUserExperiment)(S),_=(0,a.useStateFromStores)([s.default],(function(){return s.default.getMemberCount(t.id)}));if(r!==u.ExperimentBuckets.TREATMENT_1)return null;var g=null==_||_<y.SMALL_GUILD_MEMBER_THRESHOLD;return E("div",{className:m.default.channelNotice},void 0,E(d.default,{onClick:function(){n();(0,i.markDismissibleContentAsDismissed)(o.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)},className:m.default.close,"aria-label":h.default.Messages.DISMISS},void 0,E(p.default,{className:m.default.closeIcon})),E("div",{className:m.default.guildBoostingAnimationWrapper},void 0,E(c.PremiumPaymentGuildAnimation,{className:m.default.guildBoostingAnimation,nextScene:c.PremiumPaymentGuildAnimation.Scenes.IDLE})),E("div",{
className:m.default.message},void 0,g?h.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_GUILD_AFFINITY_NOTICE_SMALL_GUILD:h.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_GUILD_AFFINITY_NOTICE,E(f.default,{fullWidth:!0,color:f.default.Colors.BRAND,size:f.default.Sizes.SMALL,className:m.default.guildAffinityPremiumSubscriptionButton,onClick:function(){v.default.track(y.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{source:y.ChannelNoticeCtaSources.GUILD_AFFINITY_SUGGESTION,guild_id:t.id,notice_type:y.ChannelNoticeTypes.GUILD_BOOSTING_GUILD_AFFINITY});(0,l.openGuildBoostingMarketingModal)({guildId:t.id,location:{section:y.AnalyticsSections.CHANNEL_NOTICE,object:y.AnalyticsObjects.BOOST_SERVER_CTA}})}},void 0,h.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_GUILD_AFFINITY_NOTICE_BUTTON)))};O.displayName="GuildBoostingAffinityNotice";var b=O;t.default=b},559759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(536211)),i=c(n(918667)),u=n(75639),l=c(n(311492)),s=n(770348),f=c(n(247001)),d=c(n(727869));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleButtonClick=function(){var e=t.props.guild;(0,u.openGuildBoostingMarketingModal)({guildId:e.id,location:{section:s.AnalyticsSections.CHANNEL_NOTICE,object:s.AnalyticsObjects.SERVER_STATUS_CTA}})};return t}t.prototype.render=function(){var e=this.props,t=e.guild,n=e.memberCount,r=e.markAsDismissed,a=null==n||n<s.SMALL_GUILD_MEMBER_THRESHOLD;return v(i.default,{guild:t,onDismissed:r,onClick:this.handleButtonClick,
message:a?f.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_SMALL_GUILD:f.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE,cta:f.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_BUTTON,trackingSource:s.ChannelNoticeCtaSources.GUILD_SUBSCRIPTION_NOTICE,type:s.ChannelNoticeTypes.GUILD_BOOSTING,image:d.default,imageMarginX:26})};return t}(a.PureComponent);h.displayName="GuildBoostingNotice";var m=o.default.connectStores([l.default],(function(e){var t=e.guild;return{memberCount:l.default.getMemberCount(t.id)}}))(h);t.default=m},873113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(636602)),a=f(n(177230)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(876874)),i=f(n(728429)),u=n(457676),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var p=null,v=function(e,t){var n,a,s,f,d,p,v,y,h,m=o.default.getMember(e,t),_=i.default.getUser(t);if(null!=m&&null!=_&&!(0,u.isMemberCommunicationDisabled)(m)){var g=c({},m,{guildId:e,nick:null!==(n=m.nick)&&void 0!==n?n:_.username,avatar:null!==(a=m.avatar)&&void 0!==a?a:void 0,
banner:null!==(s=m.banner)&&void 0!==s?s:void 0,bio:null!==(f=m.bio)&&void 0!==f?f:void 0,premiumSince:null!==(d=m.premiumSince)&&void 0!==d?d:void 0,isPending:null!==(p=m.isPending)&&void 0!==p&&p,user:c({},_,{email:null!==(v=_.email)&&void 0!==v?v:void 0,phone:null!==(y=_.phone)&&void 0!==y?y:void 0,banner:null!==(h=_.banner)&&void 0!==h?h:void 0}),communicationDisabledUntil:null});r.default.dispatch(c({type:l.ActionTypes.GUILD_MEMBER_UPDATE},g))}},y=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).clearGuildMemberTimeout=v;return t}var n=t.prototype;n._initialize=function(){p=setInterval((function(){return e=o.default.getCommunicationDisabledUserMap(),void Object.keys(e).forEach((function(t){var n=t,r=(0,o.getGuildIdFromCommunicationDisabledUserKey)(n),a=(0,
o.getUserIdFromCommunicationDisabledUserKey)(n),i=e[n];(0,u.isCommunicationDisabled)(i)||v(r,a)}));var e}),1e4)};n._terminate=function(){clearInterval(p)};return t}(a.default));t.default=y},646832:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCommunicationDisabledCountdownCleanup=function(e){var t=null!=e?e:{},n=t.communicationDisabledUntil,i=t.userId,u=t.guildId,l=(0,a.default)(n?Date.parse(n):Date.now()),s=l.seconds,f=(0,r.useRef)(null);(0,r.useEffect)((function(){if(null!=e&&null!=u&&null!=i){s<=0&&null==f.current&&(f.current=setTimeout((function(){o.default.clearGuildMemberTimeout(u,i)}),1e3));return function(){if(null!=f.current){clearTimeout(f.current);f.current=null}}}clearTimeout(f.current)}),[u,i,s,n,e]);return l};var r=n(667294),a=i(n(683767)),o=i(n(873113));function i(e){return e&&e.__esModule?e:{default:e}}},62017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CommunicationDisabledBanner=O;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(960736),i=m(n(423046)),u=m(n(876874)),l=m(n(240469)),s=m(n(346200)),f=m(n(776360)),d=n(646832),c=n(576458),p=m(n(257917)),v=n(397769),y=m(n(247001)),h=m(n(146615));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.guild,n=e.disabledUntil,r=E((0,c.useCommunicationDisabledNoticeStore)(t.id),2),m=r[0],_=r[1],S=(0,a.useStateFromStores)([u.default,i.default],(function(){return u.default.getMember(t.id,i.default.getId())}),[t.id]);(0,d.useCommunicationDisabledCountdownCleanup)(S);return g("div",{},void 0,m?g(p.default,{onClose:function(){return _(t.id)},guildName:t.name}):null,g(o.MessageNoticeBanner,{bannerIcon:g(s.default,{className:h.default.bannerIcon}),bannerHeader:y.default.Messages.GUILD_COMMUNICATION_DISABLED_NOTICE_HEADER,bannerSubtext:y.default.Messages.GUILD_COMMUNICATION_DISABLED_CHAT_NOTICE_DESCRIPTION.format({link:v.GUILD_COMMUNICATION_DISABLED_RESOURCE_LINK}),
containerStyles:h.default.bannerContainer,headerStyles:h.default.bannerHeader},void 0,g(f.default,{strong:!0},void 0,g(l.default,{deadline:new Date(n),showUnits:!0,stopAtOneSec:!0}))))}O.displayName="CommunicationDisabledBanner"},257917:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(956117)),o=f(n(346200)),i=f(n(971639)),u=f(n(776360)),l=f(n(247001)),s=f(n(430294));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.onClose,n=e.guildName;return c("div",{className:s.default.container},void 0,c("div",{className:s.default.iconContainer},void 0,c(o.default,{className:s.default.icon,width:20,height:20})),c("div",{className:s.default.header},void 0,c(i.default,{size:i.default.Sizes.SIZE_16,className:s.default.headerText},void 0,l.default.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_HEADER),c(u.default,{},void 0,l.default.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_SUBHEADER.format({
guildName:n})),c(a.default,{onClick:t,className:s.default.button},void 0,l.default.Messages.OKAY)))}p.displayName="CommunicationDisabledPopout"},742965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildFeed=function(e){return m.apply(this,arguments)};t.hideItemFromGuildFeed=function(e){return _.apply(this,arguments)};t.markGuildFeedItemAsSeen=function(e,t,n){a.default.dispatch({type:d.ActionTypes.GUILD_FEED_ITEM_SEEN,guildId:e,itemId:t,timestampMillis:n})};t.markGuildFeedItemAsUnseen=function(e,t,n){a.default.dispatch({type:d.ActionTypes.GUILD_FEED_ITEM_UNSEEN,guildId:e,itemId:t,timestampMillis:n})};var r=c(n(118915)),a=c(n(636602)),o=c(n(290629)),i=c(n(308920)),u=n(71246),l=c(n(968078)),s=c(n(676509)),f=n(124042),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function v(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,u,"next",e)}function u(e){p(o,r,a,i,u,"throw",e)}i(void 0)}))}}function y(e,t){return t.map((function(t){return l.default.getItem(e,t)})).filter((function(e){return null!=(null==e?void 0:e.message)&&!o.default.isBlocked(e.message.author.id)})).filter(u.isNotNullish).map((function(e){return(0,s.default)(e)}))}function h(e,t){var n=l.default.getSectionedItemIds(e);null!=n&&i.default.track(d.AnalyticEvents.FEED_LOADED,{guild_id:e,load_id:l.default.getLoadId(e),unread_feed_item_ids:y(e,n[f.GuildFeedSectionTypes.UNREAD]),read_feed_item_ids:y(e,n[f.GuildFeedSectionTypes.READ]),load_time_millis:t})}function m(){return(m=v(regeneratorRuntime.mark((function e(t){var n,o,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Date.now();e.next=3;return r.default.get(d.Endpoints.GUILD_FEED(t));case 3:o=e.sent;i=o.body;a.default.dispatch({type:d.ActionTypes.GUILD_FEED_FETCH_SUCCESS,
guildId:t,data:i});u=Date.now()-n;h(t,u);return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=v(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.post({url:d.Endpoints.MESSAGE_HIDE_GUILD_FEED(t.message.channel_id,t.message.id)});case 2:n=e.sent;a.default.dispatch({type:d.ActionTypes.GUILD_FEED_HIDE_ITEM,item:t});return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},124042:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedSectionTypes=t.GuildFeedRenderMode=t.FeedItemType=t.FeedItemInteractionType=void 0;var n,r,a,o;t.FeedItemType=n;!function(e){e.MESSAGE="message"}(n||(t.FeedItemType=n={}));t.FeedItemInteractionType=r;!function(e){e.MESSAGE_CLICKED="message_clicked";e.MESSAGE_CHANNEL_CLICKED="message_channel_clicked";e.REACTION_ADDED="reaction_added"
;e.REACTION_REMOVED="reaction_removed";e.THREAD_EMBED_CLICKED="thread_embed_clicked";e.LINK_CLICKED="link_clicked";e.IMAGE_CLICKED="image_clicked";e.BUTTON_CLICKED="button_clicked"}(r||(t.FeedItemInteractionType=r={}));t.GuildFeedSectionTypes=a;!function(e){e[e.UNREAD=0]="UNREAD";e[e.READ=1]="READ";e[e.ALL=2]="ALL"}(a||(t.GuildFeedSectionTypes=a={}));t.GuildFeedRenderMode=o;!function(e){e[e.SEGMENTED_READ=0]="SEGMENTED_READ";e[e.TOP=1]="TOP";e[e.NEW=2]="NEW"}(o||(t.GuildFeedRenderMode=o={}))},922748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(636602)),a=p(n(177230)),o=p(n(423046)),i=p(n(211136)),u=p(n(790597)),l=p(n(308920)),s=p(n(968078)),f=n(124042),d=n(770348),c=n(173652);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e)
;function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(d.ActionTypes.MESSAGE_REACTION_ADD,this.handleReaction);r.default.subscribe(d.ActionTypes.MESSAGE_REACTION_REMOVE,this.handleReaction);r.default.subscribe(d.ActionTypes.SIDEBAR_VIEW_THREAD,this.handleSidebarViewThread)};n._terminate=function(){r.default.unsubscribe(d.ActionTypes.MESSAGE_REACTION_ADD,this.handleReaction);r.default.unsubscribe(d.ActionTypes.MESSAGE_REACTION_REMOVE,this.handleReaction);r.default.unsubscribe(d.ActionTypes.SIDEBAR_VIEW_THREAD,this.handleSidebarViewThread)};n.handleReaction=function(e){var t=e.type,n=e.userId,r=e.messageId,a=e.optimistic;if(n===o.default.getId()&&a){var p=u.default.getGuildId();if(null!=p){var v=i.default.getChannelId();if((0,c.isGuildHomeChannel)(v)){var y=s.default.getMessageItem(p,r);null!=y&&null!=y.message&&l.default.track(d.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:f.FeedItemType.MESSAGE,
load_id:s.default.getLoadId(p),action_type:t===d.ActionTypes.MESSAGE_REACTION_ADD?f.FeedItemInteractionType.REACTION_ADDED:f.FeedItemInteractionType.REACTION_REMOVED,guild_id:p,channel_id:y.message.channel_id,message_id:y.message.id})}}}};n.handleSidebarViewThread=function(e){var t=e.channelId,n=e.baseChannelId;if((0,c.isGuildHomeChannel)(n)){var r=u.default.getGuildId();if(null!=r){var a=s.default.getMessageItem(r,t);null!=a&&null!=a.message&&l.default.track(d.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:f.FeedItemType.MESSAGE,load_id:s.default.getLoadId(r),action_type:f.FeedItemInteractionType.THREAD_EMBED_CLICKED,guild_id:r,channel_id:a.message.channel_id,message_id:a.message.id})}}};return t}(a.default));t.default=y},741645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(441143)),a=u(n(636602)),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){for(var n,a=0,o=[],i=l(e);!(n=i()).done;){var u=n.value;null==u.endTimeMillis?t?a+=Date.now()-u.startTimeMillis:o.push(u):a+=u.endTimeMillis-u.startTimeMillis}(0,
r.default)(o.length<2,"there should only be a single left over data");return{additionalSeenTimeMillis:Math.round(a),leftOverData:o}}t.default=function(e,t){var n=this;this.maybeFlushSeenItems=function(e){void 0===e&&(e=!1);var t=n.loadId,r=n.seenData;if(null!=t&&(e||!(Date.now()-n.lastFlushTimeMillis<6e4))){n.lastFlushTimeMillis=Date.now();setTimeout((function(){return function(e,t,n){var r={};for(var a in t){var u=f(t[a],n),l=u.additionalSeenTimeMillis,s=u.leftOverData;l>0&&(r[a]={additionalSeenTimeMillis:l});t[a]=s}if(0!==Object.keys(r).length){var d=[],c=[];for(var p in r){d.push(p);c.push(r[p].additionalSeenTimeMillis)}o.default.track(i.AnalyticEvents.FEED_ITEM_SEEN_BATCH,{load_id:e,feed_item_ids:d,additional_seen_time_millis:c})}}(t,r,e)}),100)}};this.getItemSeenDataList=function(e){null==n.seenData[e]&&(n.seenData[e]=[]);return n.seenData[e]};this.getLastSeenData=function(e){if(null!=e&&0!==e.length)return e[e.length-1]};this.initialize=function(){
a.default.subscribe(i.ActionTypes.GUILD_FEED_ITEM_SEEN,n.handleSeen);a.default.subscribe(i.ActionTypes.GUILD_FEED_ITEM_UNSEEN,n.handleUnseen);a.default.subscribe(i.ActionTypes.APP_STATE_UPDATE,n.handleAppStateUpdate)};this.terminate=function(){a.default.unsubscribe(i.ActionTypes.GUILD_FEED_ITEM_SEEN,n.handleSeen);a.default.unsubscribe(i.ActionTypes.GUILD_FEED_ITEM_UNSEEN,n.handleUnseen);a.default.unsubscribe(i.ActionTypes.APP_STATE_UPDATE,n.handleAppStateUpdate);n.maybeFlushSeenItems(!0)};this.handleSeen=function(e){var t=e.guildId,r=e.itemId,a=e.timestampMillis;if(t===n.guildId){var o=n.getItemSeenDataList(r),i=n.getLastSeenData(o);if(null==i||null!=i.endTimeMillis){o.push({startTimeMillis:a});n.paused&&n.pausedItemIds.add(r)}}};this.handleUnseen=function(e){var t=e.guildId,r=e.itemId,a=e.timestampMillis;if(t===n.guildId){var o=n.getItemSeenDataList(r),i=n.getLastSeenData(o);if(null!=i&&null==i.endTimeMillis){i.endTimeMillis=a;n.paused&&n.pausedItemIds.delete(r)
;n.maybeFlushSeenItems()}}};this.handleAppStateUpdate=function(e){var t=e.state;"active"===t&&n.isFocused&&n.resume(n.guildId);if("background"===t){n.isFocused&&n.pause(n.guildId);n.maybeFlushSeenItems(!0)}};this.clearPausedItemIds=function(){n.pausedItemIds=new Set;n.paused=!1};this.getSeenItemIds=function(){var e=new Set;for(var t in n.seenData){var r=n.getItemSeenDataList(t),a=n.getLastSeenData(r);null!=a&&null!=a.startTimeMillis&&null==a.endTimeMillis&&e.add(t)}return e};this.pause=function(e){if(e===n.guildId){if(!n.paused){n.paused=!0;var t=n.getSeenItemIds();t.forEach((function(t){n.handleUnseen({guildId:e,itemId:t,timestampMillis:Date.now(),type:"GUILD_FEED_ITEM_UNSEEN"})}));n.pausedItemIds=t}}else n.clearPausedItemIds()};this.resume=function(e){if(e===n.guildId){if(n.paused){n.paused=!1;n.pausedItemIds.forEach((function(t){n.handleSeen({guildId:e,itemId:t,timestampMillis:Date.now(),type:"GUILD_FEED_ITEM_SEEN"})}));n.clearPausedItemIds()}}else n.clearPausedItemIds()}
;this.handleFocus=function(e,t){n.isFocused=e;n.isFocused?n.resume(t):n.pause(t)};this.guildId=e;this.loadId=t;this.seenData={};this.lastFlushTimeMillis=Date.now();this.paused=!1;this.pausedItemIds=new Set;this.isFocused=!0}},968078:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(496486)),o=y(n(536211)),i=y(n(636602)),u=n(202929),l=y(n(423046)),s=y(n(71636)),f=n(676525),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(676509)),c=n(124042),p=n(770348);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(v=function(e){return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g={},E={},S={},O={},b={},I={},C={};function T(e,t,n){var r,a;return null===(r=O[e])||void 0===r||null===(a=r[t])||void 0===a?void 0:a[n]}function A(e,t){var n;return null===(n=S[e])||void 0===n?void 0:n[t]}function P(e,t,n){if(null==e||null==t)return!1;var r=A(e,t);if(null==r)return!1;var a=T(r,e,t);if(null==a)return!1;var o=n(a);O[r][e][t]=o;return!0}function M(e,t){null==O[e][t.channel_id]&&(O[e][t.channel_id]={});O[e][t.channel_id][t.id]=t;null==S[t.channel_id]&&(S[t.channel_id]={});S[t.channel_id][t.id]=e}function N(e,t){var n,r,a,o=A(e,t);if(null==o)return!1;null===(n=O[o])||void 0===n||(null===(r=n[e])||void 0===r||delete r[t]);null===(a=S[e])||void 0===a||delete a[t];!function(e,t){var n;if(null!=I[e]&&null!=b[e]){var r=I[e][c.GuildFeedSectionTypes.UNREAD],a=I[e][c.GuildFeedSectionTypes.READ],o=I[e][c.GuildFeedSectionTypes.ALL];I[e]=((n={})[c.GuildFeedSectionTypes.UNREAD]=r.filter(i),
n[c.GuildFeedSectionTypes.READ]=a.filter(i),n[c.GuildFeedSectionTypes.ALL]=o.filter(i),n)}function i(n){var r,a=b[e][n];return(null==a||null===(r=a.message)||void 0===r?void 0:r.id)!==t}}(o,t);return!0}function R(e){var t=e.type,n=e.channelId,r=e.messageId,a=e.userId,o=e.emoji,i=e.optimistic,u=l.default.getId()===a;return!(i&&!u)&&P(n,r,(function(e){return t===p.ActionTypes.MESSAGE_REACTION_ADD?e.addReaction(o,u):e.removeReaction(o,u)}))}function w(e){var t,n=e.channel,r=n.guild_id;if(null==r)return!1;delete S[n.id];null===(t=O[r])||void 0===t||delete t[n.id]}var D=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(l.default);C=null!=e?a.default.mapValues(e.seenItems,(function(e){return new Set(e)})):{}};n.getState=function(){return{seenItems:C}};n.getLastFetchedMillis=function(e){return g[e]};n.getSectionedItemIds=function(e){
return I[e]};n.getItem=function(e,t){var n;return null===(n=b[e])||void 0===n?void 0:n[t]};n.getMessageItem=function(e,t){return this.getItem(e,"message/"+t)};n.getLoadId=function(e){var t;return null===(t=E[e])||void 0===t?void 0:t.load_id};n.getCachedMessage=function(e,t,n){return T(e,t,n)};return t}(o.default.PersistedStore);D.persistKey="GuildFeedStore";var L=new D(i.default,((r={})[p.ActionTypes.GUILD_FEED_FETCH_SUCCESS]=function(e){var t,n=e.guildId,r=e.data;g[n]=Date.now();E[n]=r;b[n]={};I[n]=((t={})[c.GuildFeedSectionTypes.UNREAD]=[],t[c.GuildFeedSectionTypes.READ]=[],t[c.GuildFeedSectionTypes.ALL]=[],t);null==C[n]&&(C[n]=new Set);O[n]={};for(var a,o=m(r.results.items);!(a=o()).done;){var i,u=a.value;if("message"in u){var l=(0,f.createGuildFeedItemFromServer)(u);M(n,l.message);var p=(0,d.default)(l);b[n][p]=l;var v=(null===(i=C[n])||void 0===i?void 0:i.has(p))?c.GuildFeedSectionTypes.READ:c.GuildFeedSectionTypes.UNREAD;I[n][v].push(p);I[n][c.GuildFeedSectionTypes.ALL].push(p)}}
!function(e){for(var t,n=Date.now(),r=m(e);!(t=r()).done;){var a=t.value,o=(0,d.getSnowflakeFromGuildFeedItemId)(a);(null==o||n-s.default.extractTimestamp(o)>18144e5)&&e.delete(a)}}(C[n])},r[p.ActionTypes.GUILD_FEED_ITEM_SEEN]=function(e){var t=e.guildId,n=e.itemId;if(C[t].has(n))return!1;C[t].add(n)},r[p.ActionTypes.GUILD_FEED_HIDE_ITEM]=function(e){var t=e.item;return N(t.message.channel_id,t.message.id)},r[p.ActionTypes.CHANNEL_DELETE]=w,r[p.ActionTypes.THREAD_DELETE]=w,r[p.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;if(null==g[t.id])return!1;delete g[t.id];delete E[t.id];for(var n in null!==(r=O[t.id])&&void 0!==r?r:{}){var r;delete S[n]}delete O[t.id];delete b[t.id];delete I[t.id];t.unavailable||delete C[t.id]},r[p.ActionTypes.LOGOUT]=function(){g={};E={};S={};O={};I={};b={}},r[p.ActionTypes.MESSAGE_UPDATE]=function(e){var t=e.message;return P(t.channel_id,t.id,(function(e){return(0,u.updateMessageRecord)(e,t)}))},r[p.ActionTypes.MESSAGE_DELETE]=function(e){var t=e.id
;return N(e.channelId,t)},r[p.ActionTypes.MESSAGE_DELETE_BULK]=function(e){for(var t,n=e.ids,r=e.channelId,a=!1,o=m(n);!(t=o()).done;){a=N(r,t.value)||a}return a},r[p.ActionTypes.MESSAGE_REACTION_ADD]=R,r[p.ActionTypes.MESSAGE_REACTION_REMOVE]=R,r[p.ActionTypes.MESSAGE_REACTION_REMOVE_ALL]=function(e){return P(e.channelId,e.messageId,(function(e){return e.set("reactions",[])}))},r[p.ActionTypes.MESSAGE_REACTION_REMOVE_EMOJI]=function(e){var t=e.channelId,n=e.messageId,r=e.emoji;return P(t,n,(function(e){return e.removeReactionsForEmoji(r)}))},r));t.default=L},676525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createGuildFeedItemFromServer=function(e){var t=(0,o.createMessageRecord)(e.message),n=a.default.map(e.reference_messages,(function(e){return(0,o.createMessageRecord)(e)}));return{message:t,referenceMessages:n}};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(202929)},676509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e){return"message/"+e.message.id};t.getSnowflakeFromGuildFeedItemId=function(e){return e.split("/")[1]}},389666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=d(r.useState(!1),2),n=t[0],u=t[1],l=d(r.useState(null),2),s=l[0],c=l[1],p=r.useCallback((function(t){var n=t.force,r=i.default.getLastFetchedMillis(e);if(n||null==r||!(Date.now()-r<72e5)){c(null);u(!0);!function(){l.apply(this,arguments)}()}function l(){return(l=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;t.next=3;return(0,o.fetchGuildFeed)(e);case 3:t.next=9;break;case 5:t.prev=5;t.t0=t.catch(0);console.error(t.t0);c(new a.default(t.t0));case 9:u(!1);case 10:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}}),[e]);r.useEffect((function(){p({})}),[p]);return{fetch:p,loading:n,error:s}};var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=u(n(568681)),o=n(742965),i=u(n(968078));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function d(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},373893:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=P(n(294184)),i=n(536211),u=n(252404),l=P(n(907932)),s=n(377980),f=P(n(384792)),d=n(538105),c=P(n(325570)),p=P(n(507187)),v=n(691851),y=P(n(518965)),h=P(n(326243)),m=P(n(227236)),_=P(n(749835)),g=P(n(86031)),E=P(n(644263)),S=P(n(383942)),O=P(n(293578)),b=n(685677),I=n(770348),C=n(100678),T=P(n(46427)),A=["message","className","channel","animateAvatar"];function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=a.memo((function(e){var t=e.message,n=e.channel,r=e.animateAvatar,o=e.repliedMessage,i=(0,c.default)(t.id,C.DEFAULT_POPOUTS),s=i.popouts,p=i.setPopout,v=s.usernameProfile,y=s.avatarProfile,h=(0,d.useClickMessageAuthorUsername)(t,n,v,p),m=(0,
d.useClickMessageAuthorAvatar)(y,p),_=a.useCallback((function(){return p({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[p]),g=(0,l.default)(t),E=(0,u.useRoleIcon)({guildId:n.guild_id,roleId:g.iconRoleId});return R(O.default,{guildId:n.guild_id,message:t,repliedMessage:o,author:g,showTimestampOnHover:t.type!==I.MessageTypes.REPLY,renderPopout:f.default,showAvatarPopout:y,showUsernamePopout:v,onClickAvatar:m,onClickUsername:h,onPopoutRequestClose:_,roleIcon:E,animate:r})}));function D(e){var t,n=e.message,r=e.className,u=e.channel,l=e.animateAvatar,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,A),d=(0,p.default)(n,!0),c=d.content,O=d.hasSpoilerEmbeds,C=n.type===I.MessageTypes.REPLY?n.messageReference:void 0,P=(0,i.useStateFromStores)([g.default],(function(){return g.default.getMessageByReference(C)})),M=(0,i.useStateFromStores)([E.default],(function(){
return n.hasFlag(I.MessageFlags.HAS_THREAD)&&E.default.getChannel(n.id)})),D=(0,s.getMessageAriaLabelledBy)(n),L=(0,s.getMessageAriaDescribedBy)(n);return a.createElement(S.default,N({className:(0,o.default)(r,(t={},t[T.default.ephemeral]=(0,b.hasFlag)(n.flags,I.MessageFlags.EPHEMERAL),t)),childrenRepliedMessage:(0,_.default)(n,C,P,!1),childrenExecutedCommand:(0,m.default)(n,u,!1),childrenHeader:R(w,{channel:u,message:n,animateAvatar:l,repliedMessage:P}),childrenAccessories:(0,v.renderSimpleAccessories)(N({},e,{renderThreadAccessory:!0,disableReactionCreates:!1,disableReactionUpdates:!1}),O),childrenMessageContent:(0,y.default)(e,c),childrenSystemMessage:(0,h.default)(e),hasThread:null!=M&&n.hasFlag(I.MessageFlags.HAS_THREAD),hasReply:n.type===I.MessageTypes.REPLY,"aria-labelledby":D,"aria-describedby":L},f))}D.displayName="GuildFeedMessage";var L=a.memo(D);t.default=L},582652:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=w(n(667294)),o=n(798628),i=n(536211),u=n(378158),l=N(n(244165)),s=N(n(678928)),f=n(341186),d=N(n(187295)),c=N(n(546914)),p=N(n(644263)),v=N(n(290629)),y=N(n(16941)),h=N(n(730977)),m=N(n(971639)),_=N(n(776360)),g=w(n(152731)),E=N(n(308920)),S=N(n(968078)),O=N(n(676509)),b=N(n(373893)),I=n(141385),C=n(124042),T=n(770348),A=n(173652),P=N(n(247001)),M=N(n(364022));function N(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}function L(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,u,"next",e)}function u(e){L(o,r,a,i,u,"throw",e)}i(void 0)}))}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(e){
var t=e.referenceMessages,n=e.guildId,r=a.useMemo((function(){var e=new Set;return t.map((function(e){return e.author})).filter((function(t){if(null==t||e.has(t.id))return!1;e.add(t.id);return!0})).slice(0,3)}),[t]),o=t.length;if(0===o)return null;var i=o>3?P.default.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:3}):P.default.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:o});return G("div",{className:M.default.referenceMessagesText},void 0,G(g.default,{guildId:n,users:r,size:g.Sizes.SIZE_16,className:M.default.userSummaryItem,max:3,showDefaultAvatarsForNullUsers:!0,showUserPopout:!0}),G(_.default,{size:_.default.Sizes.SIZE_12,color:_.default.Colors.HEADER_SECONDARY},void 0,i))}F.displayName="ReferenceMessages";var x=a.forwardRef((function(e,t){var r,g,N=e.guildId,R=e.channelId,w=e.messageId,L=k((0,l.default)(t),2),U=L[0],x=L[1],V=a.useRef(null),W=k(a.useState(!1),2),H=W[0],B=W[1],z=k((0,i.useStateFromStoresArray)([S.default],(function(){
return[S.default.getCachedMessage(N,R,w),S.default.getMessageItem(N,w)]}),[N,R,w]),2),Y=z[0],$=z[1],K=(0,i.useStateFromStores)([p.default],(function(){return p.default.getChannel(null==Y?void 0:Y.channel_id)})),q=(0,s.default)(K),Z=(0,o.useListItem)(null!==(r=null==Y?void 0:Y.id)&&void 0!==r?r:w),X=(0,i.useStateFromStores)([v.default],(function(){return null!=Y&&v.default.isBlocked(null==Y?void 0:Y.author.id)}));if(null==K||null==Y||null==$||X)return null;var Q=(0,f.getChannelIconComponent)(K),J=(0,f.getChannelIconTooltipText)(K),ee=null!==(g=null==$?void 0:$.referenceMessages)&&void 0!==g?g:[],te=(0,O.default)($);return a.createElement("div",D({ref:x,onClick:function(e){for(var t,n=e.target;n instanceof Element&&n!==U.current;){var r=n.tagName;if("A"===r){E.default.track(T.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:C.FeedItemType.MESSAGE,load_id:S.default.getLoadId(N),action_type:C.FeedItemInteractionType.LINK_CLICKED,guild_id:N,channel_id:K.id,message_id:Y.id});return}
if("IMG"===r){E.default.track(T.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:C.FeedItemType.MESSAGE,load_id:S.default.getLoadId(N),action_type:C.FeedItemInteractionType.IMAGE_CLICKED,guild_id:N,channel_id:K.id,message_id:Y.id});return}if("BUTTON"===r||"button"===n.getAttribute("role")){E.default.track(T.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:C.FeedItemType.MESSAGE,load_id:S.default.getLoadId(N),action_type:C.FeedItemInteractionType.BUTTON_CLICKED,guild_id:N,channel_id:K.id,message_id:Y.id});return}n=n.parentNode}null===(t=V.current)||void 0===t||t.click()},onMouseEnter:function(){return B(!0)},onMouseLeave:function(){return B(!1)},className:M.default.messageContainer,"data-item-id":te,onContextMenu:function(e){e.stopPropagation();(0,u.openContextMenuLazy)(e,j(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(91055).then(n.bind(n,991055));case 2:t=e.sent;r=t.default
;return e.abrupt("return",(function(e){return a.createElement(r,D({},e,{message:Y,messageItem:$,channel:K}))}));case 5:case"end":return e.stop()}}),e)}))))}},Z),G(y.default,{className:M.default.clickableTarget,innerRef:V,"aria-label":P.default.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:q}),onClick:function(e){e.stopPropagation();E.default.track(T.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:C.FeedItemType.MESSAGE,load_id:S.default.getLoadId(N),action_type:C.FeedItemInteractionType.MESSAGE_CLICKED,guild_id:N,channel_id:K.id,message_id:Y.id});c.default.openChannelAsSidebar({channelId:K.id,messageId:Y.id,baseChannelId:A.StaticChannelRoute.GUILD_HOME})}}),G("div",{className:M.default.messageItemHeader},void 0,G(y.default,{className:M.default.channelNameContainer,onClick:function(e){e.stopPropagation();E.default.track(T.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:C.FeedItemType.MESSAGE,load_id:S.default.getLoadId(N),
action_type:C.FeedItemInteractionType.MESSAGE_CHANNEL_CLICKED,guild_id:N,channel_id:K.id,message_id:Y.id});(0,d.default)(T.Routes.CHANNEL(K.guild_id,K.id,Y.id))}},void 0,null!=Q?G(h.default,{text:J,delay:500},void 0,(function(e){return a.createElement(Q,D({},e,{className:M.default.channelIcon,height:20,width:20}))})):null,G(m.default,{className:M.default.channelName,size:_.default.Sizes.SIZE_16},void 0,q)),G("div",{className:M.default.messageHeaderMenu},void 0,G(F,{referenceMessages:ee,guildId:N}),G(I.GuildFeedMessageOverflowMenu,{messageItem:$,message:Y,channel:K}))),G(b.default,{animateAvatar:H,channel:K,message:Y}))}));t.default=x},141385:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedMessageOverflowMenu=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(16941)),i=n(160629),u=d(n(775803)),l=n(962989),s=d(n(247001)),f=d(n(699582));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=e.channel,r=e.message,d=e.messageItem,c=y(a.useState(!1),2),h=c[0],m=c[1],_=a.useCallback((function(e){null==e||e.stopPropagation();m(!h)}),[h]),g=function(){var e,a=(e=regeneratorRuntime.mark((function e(){var a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(91055).then(n.bind(n,991055));case 2:a=e.sent;o=a.default;i=p(o,{messageItem:d,message:r,channel:t,onSelect:_});return e.abrupt("return",(function(e){return i}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return a.apply(this,arguments)}}(),E=function(e){e.stopPropagation()};return p(o.default,{"aria-label":s.default.Messages.MESSAGE_UTILITIES_A11Y_LABEL,onClick:E,onContextMenu:E},void 0,p(i.LazyPopout,{
renderPopout:g,shouldShow:h,onRequestClose:_,position:i.Positions.LEFT,align:i.Align.TOP,animation:i.LazyPopout.Animation.NONE},void 0,(function(e,t){return p(l.Button,{onClick:_,"aria-label":s.default.Messages.MORE,className:f.default.iconContainer},void 0,p(u.default,{className:f.default.icon}))})))}m.displayName="GuildFeedMessageOverflowMenu"},304242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MAX_STORED_MESSAGES=void 0;var r,a=c(n(496486)),o=c(n(536211)),i=c(n(636602)),u=c(n(644263)),l=c(n(71636)),s=n(566627),f=n(770348),d=n(173652);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}t.MAX_STORED_MESSAGES=20;var v={},y={},h={};function m(e){var t=y[e];if(null!=t){var n=a.default.findIndex(t,(function(e){return e.id>l.default.fromTimestamp(Date.now()-9e5)}));if(-1===n)y[e]=[];else{var r=Math.max(n,t.length-20);y[e]=a.default.slice(t,r)}h[e]=Date.now()}}
function _(e){var t=e.channel;delete y[t.id];delete h[t.id]}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getActiveChannelIds=function(e){return v[e]};n.getChannelMessageData=function(e){return y[e]};return t}(o.default.Store))(i.default,((r={})[f.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId,n=e.guildId;0;if(!(0,d.isGuildHomeChannel)(t)||null==n)return!1;var r=v[n];if(null==r)return!1;r.forEach((function(e){var t;m(e);0===(null===(t=y[e])||void 0===t?void 0:t.length)&&delete y[e]}));var o=a.default.chain(Array.from(r)).filter((function(e){return e in y})).sortBy((function(e){var t,n;return-(null!==(t=null===(n=y[e])||void 0===n?void 0:n.length)&&void 0!==t?t:0)})).value();v[n]=new Set(o)},r[f.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.channelId,n=e.message,r=e.optimistic,a=e.isPushNotification;0;if(r||a)return!1
;var o=u.default.getChannel(t);if(null==o)return!1;var i=o.guild_id;if(null==i)return!1;if(!(0,s.canSeeGuildHome)(i))return!1;null==v[i]&&(v[i]=new Set);v[i].add(t);var l=h[t];(null==l||l+3e5>Date.now())&&m(t);null==y[t]&&(y[t]=[]);y[t].push({id:n.id,userId:n.author.id})},r[f.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;delete v[t.id]},r[f.ActionTypes.CHANNEL_DELETE]=_,r[f.ActionTypes.THREAD_DELETE]=_,r));t.default=g},82141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.saveGuildHomeScrollPosition=function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.GUILD_HOME_SET_SCROLL_POSITION,guildId:e,scrollPosition:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},173101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return l(e,t)}var s={};var f=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getSavedScrollPosition=function(e){return s[e]};return t}(a.default.Store))(o.default,((r={})[i.ActionTypes.CONNECTION_OPEN]=function(){s={}},r[i.ActionTypes.GUILD_FEED_FETCH_SUCCESS]=function(e){var t=e.guildId;delete s[t]},r[i.ActionTypes.GUILD_HOME_SET_SCROLL_POSITION]=function(e){var t=e.guildId,n=e.scrollPosition;s[t]=n},r));t.default=f},466366:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=q
;var r,a=x(n(667294)),o=G(n(496486)),i=n(536211),u=G(n(136873)),l=n(123516),s=n(341186),f=n(385753),d=G(n(910999)),c=G(n(645923)),p=G(n(187295)),v=n(567186),y=G(n(607209)),h=G(n(423046)),m=G(n(644263)),_=G(n(30098)),g=G(n(689389)),E=G(n(946447)),S=G(n(728429)),O=G(n(387692)),b=G(n(487372)),I=G(n(16941)),C=G(n(730977)),T=G(n(68259)),A=G(n(810919)),P=G(n(971639)),M=G(n(776360)),N=x(n(152731)),R=n(71246),w=G(n(71636)),D=x(n(304242)),L=n(770348),j=G(n(247001)),k=G(n(831689)),U=G(n(746932));function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function V(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(){W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return W.apply(this,arguments)}function H(e){var t=e.guildId,n=e.channel,r=e.text,o=e.activityIndicator,i=e.usersInSummary,u=e.onChannelClick,l=(0,s.getChannelIconComponent)(n),f=(0,s.getChannelIconTooltipText)(n);return V(I.default,{
className:k.default.channelMain,onClick:u},void 0,V("div",{className:k.default.channelDetails},void 0,null!=l?V(C.default,{text:f,delay:500},void 0,(function(e){return a.createElement(l,W({},e,{className:k.default.channelIcon,width:16,height:16}))})):null,V("div",{className:k.default.channelTextContainer},void 0,V(P.default,{className:k.default.channelName,size:P.default.Sizes.SIZE_14},void 0,n.name),null!=r&&V(M.default,{size:M.default.Sizes.SIZE_12},void 0,r))),V("div",{className:k.default.avatarContainer},void 0,V(N.default,{guildId:t,users:i,size:N.Sizes.SIZE_16,max:3,extraDetail:o})))}H.displayName="ActiveChannelBase";function B(e){var t,n=e.channel,r=e.voiceStates,a=(0,i.useStateFromStores)([y.default],(function(){return y.default.getAllApplicationStreamsForChannel(n.id)[0]})),s=(0,i.useStateFromStores)([y.default],(function(){return null!=a?y.default.getActiveStreamForApplicationStream(a):null})),p=(0,i.useStateFromStores)([h.default],(function(){return h.default.getId()
})),v=(0,i.useStateFromStores)([O.default,_.default,g.default],(function(){return null!=a&&(0,f.canWatchStream)(n,O.default,_.default,g.default)}),[a,n]);if(null==a)return null;var m=o.default.chain(r).map("member").find(["userId",a.ownerId]).value(),E=o.default.chain(r).map("user").find(["id",a.ownerId]).value(),S=null!==(t=null==m?void 0:m.nick)&&void 0!==t?t:E.username,b=null!=s&&null!=a&&s.state!==L.ApplicationStreamStates.ENDED&&s.ownerId===a.ownerId;return V(I.default,{onClick:function(){u.default.selectVoiceChannel(n.id);b||(0,l.watchStreamAndTransitionToStream)(a)},className:k.default.previewContainer},void 0,V(c.default,{className:k.default.previewImage,stream:a}),v?V("div",{className:k.default.previewHover},void 0,V(M.default,{size:M.default.Sizes.SIZE_14,color:M.default.Colors.CUSTOM,className:k.default.previewButton},void 0,(0,d.default)(a,s,p))):null,null!=S&&V("div",{className:k.default.previewName},void 0,V(T.default,{width:18,height:18,className:k.default.icon
}),V(M.default,{size:M.default.Sizes.SIZE_14,color:M.default.Colors.CUSTOM},void 0,S)))}B.displayName="VoiceStreamPreview";function z(e){var t=e.guildId,n=e.channel,r=e.voiceStates,a=r.map((function(e){return e.user})),i=o.default.chain(r).map("member").compact().map("nick").compact().value().join(", ");return V("div",{className:k.default.channel},void 0,V(H,{guildId:t,channel:n,text:i,usersInSummary:a,onChannelClick:function(){(0,v.isGuildVocalChannelType)(n.type)&&u.default.selectVoiceChannel(n.id)}}),V(B,{channel:n,voiceStates:r}))}z.displayName="ActiveVoiceChannel";function Y(e){var t=e.guildId,n=e.channel,r=(0,i.useStateFromStoresArray)([D.default],(function(){var e;return null!==(e=D.default.getChannelMessageData(n.id))&&void 0!==e?e:[]})),a=o.default.uniq(o.default.map(r,"userId")),u=(0,i.useStateFromStoresArray)([S.default],(function(){return a.map((function(e){return S.default.getUser(e)}))})),l=(0,i.useStateFromStores)([E.default],(function(){
var e=E.default.getTypingUsers(n.id);return Object.keys(e).length>0}),[n.id]),s=r.length<D.MAX_STORED_MESSAGES?j.default.Messages.ACTIVE_CHANNELS_FEW_MESSAGES.format({count:r.length}):j.default.Messages.ACTIVE_CHANNELS_MANY_MESSAGES,f=l?V("div",{className:k.default.typingIndicator},void 0,V(A.default,{className:k.default.ellipsis,dotRadius:2,themed:!0})):null;return V("div",{className:k.default.channel},void 0,V(H,{guildId:t,channel:n,usersInSummary:u.filter(R.isNotNullish),text:s,activityIndicator:f,onChannelClick:function(){(0,p.default)(L.Routes.CHANNEL(n.guild_id,n.id,w.default.fromTimestamp(Date.now())))}}))}Y.displayName="ActiveTextChannel";function $(){return V("div",{className:k.default.emptyStateContainer},void 0,V("img",{className:k.default.image,src:U.default,width:154,height:48,alt:""}),V(P.default,{className:k.default.title,size:P.default.Sizes.SIZE_16},void 0,j.default.Messages.ACTIVE_CHANNELS_EMPTY_TITLE),V(M.default,{className:k.default.subtitle,
color:M.default.Colors.HEADER_SECONDARY,size:M.default.Sizes.SIZE_14},void 0,j.default.Messages.ACTIVE_CHANNELS_EMPTY_SUBTITLE))}$.displayName="ActiveChannelsEmpty";var K=V($,{});function q(e){var t=e.guildId,n=(0,i.useStateFromStoresArray)([D.default],(function(){var e=D.default.getActiveChannelIds(t);return null!=e?Array.from(e).slice(0,10):[]})),r=(0,i.useStateFromStoresArray)([m.default],(function(){return n.map((function(e){return m.default.getChannel(e)})).filter(R.isNotNullish).filter((function(e){return(0,v.isTextChannel)(e.type)}))})),a=(0,i.useStateFromStores)([b.default],(function(){return b.default.getVoiceStates(t)})),o=Object.keys(a).filter((function(e){return a[e].length>0})),u=(0,i.useStateFromStoresArray)([m.default],(function(){return o.map((function(e){return m.default.getChannel(e)})).filter(R.isNotNullish)})),l=r.length>0||u.length>0;return V("div",{className:k.default.container},void 0,V(P.default,{size:P.default.Sizes.SIZE_16
},void 0,j.default.Messages.ACTIVE_CHANNELS_HEADER),l?V("div",{className:k.default.channelList},void 0,r.map((function(e){return V(Y,{guildId:t,channel:e},e.id)})),u.map((function(e){return V(z,{guildId:t,channel:e,voiceStates:a[e.id]},e.id)}))):K)}q.displayName="ActiveChannels"},389396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(742965),u=m(n(922748)),l=m(n(741645)),s=m(n(968078)),f=m(n(389666)),d=m(n(582652)),c=m(n(80828)),p=n(729869),v=m(n(377851)),y=n(124042),h=m(n(960251));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,
value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.guildId,n=e.itemId,r=e.scrollerHeight,u=e.scrollerRef,l=(0,o.useStateFromStores)([s.default],(function(){return s.default.getItem(t,n)})),f=a.useRef(null);a.useEffect((function(){var e,n=f.current;if(null!=n&&null!=r){var a=n.clientHeight,o=Math.min(.5,.5*r/a),l=new IntersectionObserver((function(e){return function(e,t,n){for(var r,a=O(n);!(r=a()).done;){var o=r.value,u=o.target.dataset.itemId;if(null==u)return
;var l=Date.now();o.intersectionRatio>=t?(0,i.markGuildFeedItemAsSeen)(e,u,l):(0,i.markGuildFeedItemAsUnseen)(e,u,l)}}(t,o,e)}),{root:null===(e=u.current)||void 0===e?void 0:e.getScrollerNode(),rootMargin:"0px 100000px 0px 100000px",threshold:o});l.observe(n);return function(){l.disconnect()}}}),[t,u,r]);return null==(null==l?void 0:l.message)?null:a.createElement(d.default,{ref:f,guildId:t,channelId:l.message.channel_id,messageId:l.message.id})}C.displayName="GuildFeedItemContainer";function T(e){var t=e.guild,n=e.renderMode,r=e.scrollerRef,i=(0,o.useStateFromStores)([s.default],(function(){return s.default.getSectionedItemIds(t.id)})),d=(0,o.useStateFromStores)([s.default],(function(){return s.default.getLoadId(t.id)})),m=(0,f.default)(t.id),_=m.loading,b=m.error,I=m.fetch;a.useEffect((function(){u.default.initialize();return function(){u.default.terminate()}}),[]);a.useLayoutEffect((function(){if(null!=d&&!_){var e=new l.default(t.id,d);e.initialize();return function(){e.terminate()
}}}),[t.id,d,_]);var T=function(e){var t=S(a.useState(null),2),n=t[0],r=t[1];a.useEffect((function(){var t,n=null===(t=e.current)||void 0===t?void 0:t.getScrollerNode();if(null!=n){var a=new ResizeObserver((function(e){for(var t,n=O(e);!(t=n()).done;){var a=t.value;r(a.contentRect.height)}}));a.observe(n);return function(){a.disconnect()}}}),[e]);return n}(r),A=a.useMemo((function(){return n!==y.GuildFeedRenderMode.NEW||null==i?[]:E(i[y.GuildFeedSectionTypes.ALL]).sort((function(e,t){return-e.localeCompare(t)}))}),[i,n]),P=a.useCallback((function(){I({force:!0})}),[I]);return _?g(c.default,{type:c.default.Type.WANDERING_CUBES}):null!=b?g("div",{},void 0,g(p.GuildFeedError,{onReloadClick:P})):null==i||i[y.GuildFeedSectionTypes.READ].length+i[y.GuildFeedSectionTypes.UNREAD].length===0?g("div",{},void 0,g(p.GuildFeedEmpty,{onReloadClick:P})):n===y.GuildFeedRenderMode.TOP?g("div",{className:h.default.container},void 0,i[y.GuildFeedSectionTypes.ALL].map((function(e){return g(C,{
guildId:t.id,itemId:e,scrollerHeight:T,scrollerRef:r},e)})),g(p.GuildFeedFooter,{onReloadClick:P})):n===y.GuildFeedRenderMode.NEW?g("div",{className:h.default.container},void 0,A.map((function(e){return g(C,{guildId:t.id,itemId:e,scrollerHeight:T,scrollerRef:r},e)})),g(p.GuildFeedFooter,{onReloadClick:P})):g("div",{className:h.default.container},void 0,i[y.GuildFeedSectionTypes.UNREAD].map((function(e){return g(C,{guildId:t.id,itemId:e,scrollerHeight:T,scrollerRef:r},e)})),i[y.GuildFeedSectionTypes.READ].length>0?g(v.default,{onReloadClick:P}):null,i[y.GuildFeedSectionTypes.READ].map((function(e){return g(C,{guildId:t.id,itemId:e,scrollerHeight:T,scrollerRef:r},e)})),g(p.GuildFeedFooter,{onReloadClick:P}))}T.displayName="GuildFeedContainer"},729869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedEmpty=m;t.GuildFeedError=_;t.GuildFeedFooter=h;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(294184)),o=p(n(956117)),i=p(n(37985)),u=p(n(571830)),l=p(n(971639)),s=p(n(776360)),f=n(770348),d=p(n(247001)),c=p(n(577084));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.onReloadClick;return y("div",{className:c.default.container},void 0,y("div",{className:c.default.iconContainer},void 0,y(i.default,{className:c.default.icon,width:36,height:36}),y(u.default,{className:c.default.stars})),y(l.default,{className:c.default.header,size:l.default.Sizes.SIZE_16},void 0,d.default.Messages.GUILD_FEED_FOOTER_TITLE),y(s.default,{color:s.default.Colors.HEADER_SECONDARY,size:s.default.Sizes.SIZE_14},void 0,d.default.Messages.GUILD_FEED_FOOTER_SUBTITLE),y(o.default,{onClick:t,className:c.default.button},void 0,d.default.Messages.GUILD_FEED_RELOAD))}h.displayName="GuildFeedFooter";function m(e){var t=e.onReloadClick;return y("div",{className:(0,a.default)(c.default.container,c.default.background)},void 0,y("div",{className:c.default.iconContainer},void 0,y(i.default,{className:c.default.icon,
width:36,height:36}),y(u.default,{className:c.default.stars})),y(l.default,{className:c.default.header,size:l.default.Sizes.SIZE_16},void 0,d.default.Messages.GUILD_FEED_EMPTY_TITLE),y(s.default,{color:s.default.Colors.HEADER_SECONDARY,size:s.default.Sizes.SIZE_14},void 0,d.default.Messages.GUILD_FEED_EMPTY_SUBTITLE),y(o.default,{onClick:t,className:c.default.button},void 0,d.default.Messages.GUILD_FEED_RELOAD))}m.displayName="GuildFeedEmpty";function _(e){var t=e.onReloadClick;return y("div",{className:(0,a.default)(c.default.container,c.default.background)},void 0,y("div",{className:c.default.iconContainer},void 0,y(i.default,{className:c.default.icon,width:36,height:36}),y(u.default,{className:c.default.stars})),y(l.default,{className:c.default.header,size:l.default.Sizes.SIZE_16},void 0,d.default.Messages.GUILD_FEED_ERROR_TITLE),y(s.default,{color:s.default.Colors.HEADER_SECONDARY,size:s.default.Sizes.SIZE_14},void 0,d.default.Messages.GUILD_FEED_ERROR_SUBTITLE.format({
url:f.Links.STATUS})),y(o.default,{onClick:t,className:c.default.button},void 0,d.default.Messages.GUILD_FEED_RELOAD))}_.displayName="GuildFeedError"},377851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(956117)),o=s(n(992193)),i=s(n(776360)),u=s(n(247001)),l=s(n(12820));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=d(o.default,{height:24,width:24});function p(e){var t=e.onReloadClick;return d("div",{className:l.default.container},void 0,d("div",{className:l.default.divider},void 0,d("div",{className:l.default.line}),d("div",{className:l.default.icon},void 0,c),d("div",{className:l.default.line})),d(i.default,{className:l.default.title,color:i.default.Colors.HEADER_PRIMARY,size:i.default.Sizes.SIZE_16},void 0,u.default.Messages.GUILD_FEED_UNREAD_DIVIDER_TITLE),d(i.default,{className:l.default.subtitle,color:i.default.Colors.HEADER_SECONDARY,size:i.default.Sizes.SIZE_14
},void 0,u.default.Messages.GUILD_FEED_UNREAD_DIVIDER_SUBTITLE),d(a.default,{onClick:t,className:l.default.button},void 0,u.default.Messages.GUILD_FEED_RELOAD))}p.displayName="GuildFeedUnreadDivider"},993407:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(539011),u=p(n(784320)),l=p(n(380439)),s=p(n(971639)),f=p(n(776360)),d=p(n(247001)),c=p(n(383198));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.guild;a.useEffect((function(){(0,i.fetchGuildForPopout)(t.id)}),[t.id]);var n=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(t.id)}),[t]);return y("div",{className:c.default.memberInfo},void 0,null!=(null==n?void 0:n.presenceCount)?y("div",{className:c.default.memberCount},void 0,y("div",{className:c.default.dotOnline}),y(f.default,{size:f.default.Sizes.SIZE_14,className:c.default.memberText
},void 0,d.default.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:n.presenceCount}))):null,null!=(null==n?void 0:n.memberCount)?y("div",{className:c.default.memberCount},void 0,y("div",{className:c.default.dotOffline}),y(f.default,{size:f.default.Sizes.SIZE_14,className:c.default.memberText},void 0,d.default.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:n.memberCount}))):null)}h.displayName="MemberCounts";function m(e){var t=e.guild;return y("div",{className:c.default.container},void 0,y(l.default,{className:c.default.icon,guild:t,size:l.default.Sizes.LARGER,active:!0}),y(s.default,{className:c.default.name,size:s.default.Sizes.SIZE_24},void 0,t.name),null!=t.description?y(f.default,{className:c.default.description,size:f.default.Sizes.SIZE_16},void 0,t.description):null,y(h,{guild:t}))}m.displayName="GuildHomeInfoWidget"},928205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=H(n(667294)),o=V(n(294184)),i=n(370405),u=n(393356),l=n(536211),s=H(n(174851)),f=V(n(43233)),d=V(n(864345)),c=V(n(673997)),p=V(n(843314)),v=V(n(216672)),y=V(n(968078)),h=V(n(463024)),m=V(n(751410)),_=V(n(546914)),g=V(n(252283)),E=V(n(423046)),S=H(n(502546)),O=V(n(30098)),b=V(n(226508)),I=V(n(971639)),C=V(n(967965)),T=n(235742),A=n(82141),P=n(566627),M=V(n(173101)),N=V(n(466366)),R=V(n(389396)),w=V(n(993407)),D=n(770348),L=n(173652),j=n(124042),k=V(n(247001)),U=V(n(738862)),G=V(n(149563)),F=V(n(789278)),x=["ref"];function V(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function H(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var K=[],q=$(h.default.Icon,{icon:b.default,"aria-hidden":!0}),Z=$(h.default.Divider,{});function X(e){var t=e.guildId,n=e.isGuest;return $(h.default,{
guildId:t,hideSearch:!0,className:(0,o.default)(G.default.title,U.default.background),innerClassname:U.default.headerBarInner,isGuest:n,toolbar:K},void 0,a.createElement(a.Fragment,null,q,$(p.default,{},void 0,k.default.Messages.GUILD_HOME)),$(h.default.Title,{},void 0,k.default.Messages.GUILD_HOME),a.createElement(a.Fragment,null,Z,$("div",{className:F.default.topic},void 0,k.default.Messages.GUILD_HOME_DESCRIPTION)))}X.displayName="GuildHomePageHeader";function Q(e){var t=e.guild,n=e.height,r=z(a.useState(0),2),o=r[0],i=r[1],u=(0,c.default)(),l=u.ref,s=u.height;a.useEffect((function(){if(null!=s){i(s+128-n)}}),[n,s]);return $("div",{className:U.default.widgets,style:{top:Math.min(-o,0)}},void 0,a.createElement("div",{className:U.default.widgetsContainer,ref:l},$(w.default,{guild:t}),$(N.default,{guildId:t.id})))}Q.displayName="GuildHomeWidgets";var J=(0,d.default)(Q);function ee(e){var t=e.pageWidth,n=e.onSidebarResize,r=(0,l.useStateFromStores)([S.default],(function(){
return S.default.getSidebarState(L.StaticChannelRoute.GUILD_HOME)}));if(null==r)return null;var a,o=t-D.CHANNEL_SIDEBAR_WIDTH-632;r.type===S.SidebarType.VIEW_THREAD?a=$(g.default,{channelId:r.channelId,baseChannelId:L.StaticChannelRoute.GUILD_HOME}):r.type===S.SidebarType.VIEW_CHANNEL&&(a=$(v.default,{channelId:r.channelId,baseChannelId:L.StaticChannelRoute.GUILD_HOME}));return $(s.default,{sidebarType:s.ChatSidebarType.ThreadSidebar,maxWidth:o,onWidthChange:n},void 0,a)}ee.displayName="GuildHomeSidebar";var te=[{label:"Segment Reads",value:j.GuildFeedRenderMode.SEGMENTED_READ},{label:"Top",value:j.GuildFeedRenderMode.TOP},{label:"New",value:j.GuildFeedRenderMode.NEW}];function ne(e){var t=e.renderMode,n=e.setRenderMode;return P.GuildFeedRenderSelectorExperiment.useExperiment({}).showSelector?$(C.default,{className:U.default.selector,options:te,select:n,isSelected:function(e){return e===t},serialize:function(e){return String(e)}}):null}ne.displayName="GuildFeedRenderSelector"
;var re=(0,d.default)((function(e){var t,n=e.guild,r=e.width,s=n.id,f=(0,l.useStateFromStores)([E.default],(function(){return E.default.isGuest()})),d=(0,l.useStateFromStores)([S.default],(function(){return S.default.getSection(L.StaticChannelRoute.GUILD_HOME)})),p=z(a.useState(!1),2),v=p[0],h=p[1],g=d===D.ChannelSections.SIDEBAR_CHAT,O=a.useRef(null),b=(0,m.default)("top-messages",O),C=(0,c.default)(),P=C.ref,N=C.width,w=z(a.useState(j.GuildFeedRenderMode.SEGMENTED_READ),2),F=w[0],V=w[1];a.useEffect((function(){null==y.default.getLoadId(s)&&_.default.closeChannelSidebar(L.StaticChannelRoute.GUILD_HOME)}),[s]);a.useLayoutEffect((function(){var e=M.default.getSavedScrollPosition(s);if(null!=e){var t;null===(t=O.current)||void 0===t||t.scrollTo({to:e})}return function(){var e,t=null===(e=O.current)||void 0===e?void 0:e.getScrollerState();null!=t&&(0,A.saveGuildHomeScrollPosition)(s,t.scrollTop)}}),[s]);var W=!g&&(null==N||N>1016),H=$(ne,{renderMode:F,setRenderMode:V}),Y=$(R.default,{
guild:n,renderMode:F,scrollerRef:O}),K=$(J,{guild:n});return a.createElement(a.Fragment,null,$(i.Helmet,{title:k.default.Messages.GUILD_HOME_HTML_TITLE.format({guildName:n.name})}),$("div",{className:(0,o.default)(G.default.chat,U.default.background,(t={},t[G.default.threadSidebarOpen]=g,t[G.default.threadSidebarFloating]=g&&v,t))},void 0,$(X,{guildId:s,isGuest:f}),a.createElement("div",{ref:P,className:G.default.content},$(u.ListNavigatorProvider,{navigator:b},void 0,$(u.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,x);return a.createElement(T.AdvancedScrollerAuto,B({className:U.default.homeContainer,ref:function(e){var n;O.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null}},n),$("div",{className:U.default.homeContent},void 0,$("div",{className:U.default.topMessagesHeader},void 0,$(I.default,{
size:I.default.Sizes.SIZE_16},void 0,k.default.Messages.GUILD_FEED_TITLE),H),Y),W?K:null)}))))),g?$(ee,{pageWidth:r,onSidebarResize:function(e,t){h(t)}}):null)})),ae=$(f.default,{channelId:void 0});function oe(e){var t=e.guildId,n=(0,l.useStateFromStores)([O.default],(function(){return O.default.getGuild(t)}),[t]);return null==n?ae:$(re,{guild:n})}oe.displayName="GuildHomePageGuard";var ie=oe;t.default=ie},350957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s,f,d,c,p,v,y=i.FormStates.CLOSED,h={},m=!1;function _(){s=void 0;f=void 0;d=void 0;c=void 0}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype
;n.getFormState=function(){return y};n.getErrors=function(){return h};n.showNotice=function(){return void 0!==s||void 0!==f||void 0!==d||void 0!==c};n.getPendingAvatar=function(){return s};n.getPendingBanner=function(){return f};n.getPendingBio=function(){return d};n.getPendingNickname=function(){return c};n.getPendingAccentColor=function(){return c};n.getAllPending=function(){return{pendingAvatar:s,pendingBanner:f,pendingBio:d,pendingNickname:c}};n.getGuild=function(){return p};n.getSource=function(){return v};n.getIsDisableSubmit=function(){return m};return t}(a.default.Store))(o.default,((r={})[i.ActionTypes.GUILD_IDENTITY_SETTINGS_INIT]=function(e){p=e.guild;y=i.FormStates.OPEN;h={};v=e.source},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_CLOSE]=function(){y=i.FormStates.CLOSED;h={};p=null;v=void 0},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT]=function(){y=i.FormStates.SUBMITTING;h={}},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT_FAILURE]=function(e){var t
;if(y!==i.FormStates.SUBMITTING)return!1;y=i.FormStates.OPEN;h=null!==(t=e.errors)&&void 0!==t?t:{}},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_AVATAR]=function(e){var t=e.avatar;s=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_BANNER]=function(e){var t=e.banner;f=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_BIO]=function(e){var t=e.bio;d=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_NICKNAME]=function(e){var t=e.nickname;c=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_RESET_ALL_PENDING]=_,r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT_SUCCESS]=_,r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_DISABLE_SUBMIT]=function(e){var t=e.disable;m=t},r));t.default=g},83e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.usePaginatedMemberApplications=function(e){var t=e.guildId,n=e.guildJoinRequests,a=r.useRef(!1),o=(_=r.useState(null),g=2,function(e){if(Array.isArray(e))return e}(_)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(_,g)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(_,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],s=o[1],f=r.useRef(null),h=r.useRef(!1),m=r.useCallback(function(){var e,r=(e=regeneratorRuntime.mark((function e(r,o){var c,p,m,_,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
if(!a.current){e.next=2;break}return e.abrupt("return");case 2:p=!1;if((c=r+"-"+o)!==f.current){f.current=c;h.current=!1;p=!0}if(!h.current){e.next=7;break}return e.abrupt("return");case 7:null!=l&&s(null);m=y(n,r,o,p);e.prev=9;a.current=!0;e.next=13;return u.default.fetchGuildJoinRequests(d({guildId:t,status:o,limit:v},m));case 13:null!=(_=e.sent)&&_.body.guild_join_requests.length<v&&(h.current=!0);e.next=21;break;case 17:e.prev=17;e.t0=e.catch(9);g=new i.APIError(e.t0);s(g.getAnyErrorMessage());case 21:e.prev=21;a.current=!1;return e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[9,17,21,24]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}(),[l,t,n]);var _,g;return{fetchNextPage:m,error:l}};var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(730381)),o=s(n(795715)),i=n(327269),u=s(n(868073)),l=n(237639);function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=l.MAX_RESULTS_PER_PAGE*l.MAX_VISIBLE_PAGES;function y(e,t,n,r){var i=n===l.GuildJoinRequestApplicationStatuses.SUBMITTED;if(t===l.GuildJoinRequestSortOrders.TIMESTAMP_DESC){if(r){return{before:o.default.fromTimestamp((new Date).getTime())}}var u=e[e.length-1];return{before:i?u.id:u.actionedAt}}if(r){return{after:o.default.fromTimestamp((0,a.default)().subtract(180,"days").valueOf())}}var s=e[e.length-1];return{after:i?s.id:s.actionedAt}}},912958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedApplicationStatus=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedApplicationStatus(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},519589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedGuildJoinRequest=function(e){var t=e.guildId;return(0,
a.useStateFromStores)([o.default],(function(){return o.default.getSelectedGuildJoinRequest(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},322865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedSortOrder=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedSortOrder(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},912322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSortedMemberApplications=function(e){var t=e.guildId,n=e.applicationStatus,r=e.sortOrder,l=(0,o.useStateFromStores)([i.default],(function(){return i.default.getRequests(t,n)}),[n,t]);return{guildJoinRequests:a.useMemo((function(){return r===u.GuildJoinRequestSortOrders.TIMESTAMP_DESC?(e=l,function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)
}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse():l;var e}),[r,l])}};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=(r=n(499098))&&r.__esModule?r:{default:r},u=n(237639);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},267762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(956117)),i=c(n(380439)),u=c(n(971639)),l=c(n(776360)),s=c(n(247001)),f=c(n(133766)),d=c(n(946137));function c(e){
return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.reapplyText,n=e.onReapply,r=e.confirmText,c=e.onConfirm,p=e.rejectionReason,y=void 0===p?null:p,h=e.guild,m=void 0===h?null:h;return v("div",{className:f.default.confirmation},void 0,v("div",{className:f.default.confirmationContent},void 0,null!==m?v(i.default,{size:i.default.Sizes.LARGER,guild:m,className:f.default.guildIcon}):v("img",{
alt:s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_ICON,src:d.default,className:f.default.verificationStateIcon}),v(u.default,{size:u.default.Sizes.SIZE_24,className:f.default.header},void 0,(null==m?void 0:m.name)?s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE_WITH_GUILD_NAME.format({guildName:null==m?void 0:m.name}):s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE),y&&a.createElement(a.Fragment,null,v(l.default,{size:l.default.Sizes.SIZE_14},void 0,v("span",{className:f.default.rejectionReasonLabel},void 0,s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_REASON),v("span",{className:f.default.rejectionReason},void 0,y)))),v("div",{className:f.default.confirmationButtonRow},void 0,v(o.default,{onClick:n,color:o.default.Colors.GREY,className:f.default.confirmationButton},void 0,t),v(o.default,{onClick:c,color:o.default.Colors.GREY,className:f.default.confirmationButton},void 0,r)))}
;y.displayName="MemberVerificationApplicationRejected";var h=y;t.default=h},332996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(956117)),o=d(n(380439)),i=d(n(971639)),u=d(n(776360)),l=d(n(247001)),s=d(n(133766)),f=d(n(692760));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.onCancel,n=e.onLeave,r=e.guild,d=void 0===r?null:r;return p("div",{className:s.default.confirmation},void 0,p("div",{className:s.default.confirmationContent},void 0,null!==d?p(o.default,{size:o.default.Sizes.LARGER,guild:d,className:s.default.guildIcon}):p("img",{alt:l.default.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_ICON,src:f.default,className:s.default.verificationStateIcon}),p(i.default,{size:i.default.Sizes.SIZE_24,className:s.default.header
},void 0,(null==d?void 0:d.name)?l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE_WITH_GUILD_NAME.format({guildName:null==d?void 0:d.name}):l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE),p(u.default,{size:u.default.Sizes.SIZE_14,color:u.default.Colors.HEADER_SECONDARY},void 0,l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_SUBTITLE)),p("div",{className:s.default.confirmationButtonColumn},void 0,p(a.default,{onClick:t,look:a.default.Looks.LINK,color:a.default.Colors.LINK,size:a.default.Sizes.SMALL},void 0,l.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION),p(a.default,{onClick:n,look:a.default.Looks.LINK,color:a.default.Colors.LINK,size:a.default.Sizes.SMALL},void 0,l.default.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_MODAL_WITHDRAW_AND_LEAVE)))};v.displayName="MemberVerificationApplicationSubmitConfirmation";var y=v;t.default=y},545130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=t.MemberVerificationPreviewDisabled=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(139982),u=A(n(30098)),l=A(n(956117)),s=A(n(194815)),f=A(n(502197)),d=n(194322),c=A(n(776360)),p=n(549186),v=A(n(692711)),y=A(n(868073)),h=A(n(542307)),m=A(n(849997)),_=n(237639),g=A(n(943819)),E=A(n(267762)),S=A(n(332996)),O=A(n(757349)),b=n(770348),I=n(99043),C=A(n(247001)),T=A(n(613599));function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t
})(e)}function M(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t,n=e.guildId,r=e.inviteCode,A=w(a.useState(I.WaveStates.INITIAL),2),P=A[0],D=A[1],L=(0,o.useStateFromStores)([m.default],(function(){return m.default.get(n)})),j=(0,
o.useStateFromStores)([g.default],(function(){return g.default.getRequest(n)})),k=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(n)})),U=(0,o.useStateFromStoresObject)([g.default],(function(){return{hasFetchedRequestToJoinGuilds:g.default.hasFetchedRequestToJoinGuilds,guildPreviewDisabled:g.default.getJoinRequestGuild(n)}})),G=U.hasFetchedRequestToJoinGuilds,F=U.guildPreviewDisabled;a.useEffect((function(){null!=k&&(0,i.transitionTo)(b.Routes.CHANNEL(n))}),[k,n]);a.useEffect((function(){G||y.default.fetchRequestToJoinGuilds()}),[G]);var x=a.useCallback((function(e){D((function(t){return Math.max(t,e)}))}),[]),V=function(e,t){return function(){(0,d.openModal)((function(n){return a.createElement(f.default,N({header:C.default.Messages.MEMBER_VERIFICATION_CONFIRM_LEAVE_TITLE,cancelText:C.default.Messages.NEVERMIND,onConfirm:t,confirmText:C.default.Messages.YES_TEXT,confirmButtonColor:l.default.Colors.RED},n),R(c.default,{size:c.default.Sizes.SIZE_14,
color:c.default.Colors.HEADER_SECONDARY},void 0,e))}))}},W=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return h.default.submitVerificationForm(n,t);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,u,"next",e)}function u(e){M(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),H=function(){y.default.resetGuildJoinRequest(n)},B=V(C.default.Messages.LEAVE_SERVER_BODY.format({name:null==k?void 0:k.toString()}),(function(){D(Math.max(P,I.WaveStates.FILLING));y.default.removeGuildJoinRequest(n);(0,i.transitionTo)(b.Routes.ME)})),z=R(O.default,{guildId:n,inviteCode:r,onComplete:W}),Y=null!=(null==L||null===(t=L.guild)||void 0===t?void 0:t.splash)?v.default.getGuildSplashURL({id:L.guild.id,splash:L.guild.splash}):(0,p.getArtForPath)()
;return R("div",{className:T.default.page},void 0,R(s.default,{embedded:!0,splash:Y,waveState:P,showLogo:!1,updateWaveState:x},void 0,R("div",{className:T.default.dragRegion}),R("div",{className:T.default.contentWrapper},void 0,function(){switch(null==j?void 0:j.applicationStatus){case _.GuildJoinRequestApplicationStatuses.SUBMITTED:return R(S.default,{onCancel:V(C.default.Messages.MEMBER_VERIFICATION_CANCEL_PENDING_APPLICATION_MODAL_TITLE,H),onLeave:B,guild:F});case _.GuildJoinRequestApplicationStatuses.REJECTED:return R(E.default,{reapplyText:C.default.Messages.MEMBER_VERIFICATION_APPLICATION_REAPPLY,onReapply:H,confirmText:C.default.Messages.LEAVE_SERVER,onConfirm:B,rejectionReason:null==j?void 0:j.rejectionReason,guild:F});default:return z}}())))};t.MemberVerificationPreviewDisabled=L;L.displayName="MemberVerificationPreviewDisabled";var j=L;t.default=j},757349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Y(n(667294)),o=B(n(294184)),i=n(536211),u=B(n(939949)),l=n(825185),s=B(n(235879)),f=B(n(268660)),d=B(n(539563)),c=B(n(433385)),p=B(n(311492)),v=B(n(876874)),y=B(n(30098)),h=B(n(728429)),m=B(n(956117)),_=B(n(530250)),g=B(n(380439)),E=B(n(230047)),S=B(n(279950)),O=B(n(730977)),b=n(688388),I=B(n(662197)),C=n(3400),T=B(n(971639)),A=B(n(776360)),P=B(n(308920)),M=B(n(692711)),N=B(n(542307)),R=Y(n(849997)),w=n(237639),D=n(41787),L=n(327769),j=B(n(233915)),k=n(602175),U=n(770348),G=B(n(247001)),F=B(n(133766)),x=B(n(698242)),V=B(n(483683)),W=B(n(63685)),H=B(n(634737));function B(e){return e&&e.__esModule?e:{default:e}}function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function $(){$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return $.apply(this,arguments)}function K(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){K(o,r,a,i,u,"next",e)}function u(e){K(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Z(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Q(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te;!function(e){e[e.CLAIM_ACCOUNT=0]="CLAIM_ACCOUNT";e[e.EMAIL_CONFIRMATION=1]="EMAIL_CONFIRMATION";e[e.VERIFICATION_FORM=2]="VERIFICATION_FORM"}(te||(te={}));var ne=function(e){var t=e.email,n=e.password,r=e.setEmail,a=e.setPassword,o=e.emailError,i=e.passwordError;return ee("div",{className:F.default.content},void 0,ee("img",{
alt:G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_ICON,src:x.default,className:F.default.applicationIcon}),ee(T.default,{size:T.default.Sizes.SIZE_24,className:F.default.header},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_TITLE),ee(A.default,{size:A.default.Sizes.SIZE_14,color:A.default.Colors.HEADER_SECONDARY},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_SUBTITLE),ee("hr",{className:F.default.divider}),ee(b.FormItem,{title:G.default.Messages.FORM_LABEL_EMAIL,className:F.default.formItem},void 0,ee(S.default,{value:t,error:o,onChange:r,autoFocus:!0})),ee(b.FormItem,{title:G.default.Messages.FORM_LABEL_PASSWORD,className:F.default.formItem},void 0,ee(S.default,{type:"password",value:n,error:i,onChange:a})))};ne.displayName="MemberVerificationClaimAccountStep";var re=function(e){var t=e.email;return ee("div",{className:F.default.content},void 0,ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_VERIFY_EMAIL_ICON,src:H.default,
className:F.default.applicationIcon}),ee(T.default,{size:T.default.Sizes.SIZE_24,className:F.default.header},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_TITLE.format({email:t})),ee(A.default,{size:A.default.Sizes.SIZE_14,color:A.default.Colors.HEADER_SECONDARY},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_SUBTITLE),ee(m.default,{className:F.default.resendButton,size:m.default.Sizes.NONE,look:m.default.Looks.LINK,onClick:function(){return u.default.verifyResend()}},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_RESEND))};re.displayName="MemberVerificationEmailConfirmationStep";var ae=function(){return n.e(61029).then(n.t.bind(n,640002,19)).then((function(e){return e.default}))},oe=function(e){var t=e.guildId,n=e.formState,r=e.updateFormState,a=e.useReducedMotion,i=e.isPreview,u=void 0!==i&&i;return ee("div",{className:F.default.content},void 0,ee("div",{className:F.default.animationAndSparklesContainer},void 0,ee("img",{
alt:G.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:W.default,className:(0,o.default)(F.default.sparkleIcon,F.default.sparkleBottom)}),ee(E.default,{importData:ae,shouldAnimate:!a,className:F.default.animation}),ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:V.default,className:(0,o.default)(F.default.sparkleIcon,F.default.sparkleTop)})),ee(T.default,{size:T.default.Sizes.SIZE_24,className:F.default.header},void 0,G.default.Messages.MEMBER_VERIFICATION_MODAL_TITLE),ee(A.default,{size:A.default.Sizes.SIZE_14,color:A.default.Colors.HEADER_SECONDARY,className:F.default.subheader},void 0,G.default.Messages.MEMBER_VERIFICATION_MODAL_SUBTITLE),ee("hr",{className:F.default.divider}),ee(j.default,{className:F.default.verificationForm,guildId:t,formState:n,updateFormState:r,isPreview:u}))};oe.displayName="MemberVerificationFormStep";var ie=function(e){var t,n,r,u=e.guildId,E=e.onClose,S=e.onComplete,b=e.inviteCode,j=e.isPreview,x=void 0!==j&&j,V=(0,
L.useMemberVerificationFormNoticeStore)((function(e){return e.hasUnsubmittedChanges})),W=(0,i.useStateFromStores)([y.default],(function(){return y.default.getGuild(u)})),H=(0,i.useStateFromStores)([R.default],(function(){return R.default.get(u)})),B=(0,i.useStateFromStores)([h.default],(function(){return h.default.getCurrentUser()})),z=!(null==B?void 0:B.isClaimed()),Y=null==B?void 0:B.verified,K=null==B?void 0:B.isPhoneVerified(),Q=(0,i.useStateFromStores)([c.default],(function(){return c.default.getGuildEmoji(u)})),J=(0,i.useStateFromStoresObject)([p.default],(function(){return{storeMemberCount:p.default.getMemberCount(u),storeOnlineCount:p.default.getOnlineCount(u)}
})),ae=J.storeMemberCount,ie=J.storeOnlineCount,ue=X(a.useState(null!==(t=null==H?void 0:H.formFields)&&void 0!==t?t:[]),2),le=ue[0],se=ue[1],fe=X(a.useState(!1),2),de=fe[0],ce=fe[1],pe=X(a.useState(null),2),ve=pe[0],ye=pe[1],he=X(a.useState(z?te.CLAIM_ACCOUNT:te.VERIFICATION_FORM),2),me=he[0],_e=he[1],ge=X(a.useState(""),2),Ee=ge[0],Se=ge[1],Oe=X(a.useState(""),2),be=Oe[0],Ie=Oe[1],Ce=X(a.useState(null),2),Te=Ce[0],Ae=Ce[1],Pe=X(a.useState(null),2),Me=Pe[0],Ne=Pe[1],Re=null==H?void 0:H.guild,we=a.useMemo((function(){return null!=W?W:null!=Re?new d.default(Re):null}),[W,Re]),De=a.useMemo((function(){var e,t=Z(null!==(e=0===Q.length?null==Re?void 0:Re.emojis:Q)&&void 0!==e?e:[]).reverse(),n=0,r=t.length;if(r>12&&null!=t){t=t.slice(0,11);n=Math.min(r-t.length,99)}return{emojisToRender:t,remainingEmojis:n,numGuildEmoji:r}
}),[Re,Q]),Le=De.emojisToRender,je=De.remainingEmojis,ke=De.numGuildEmoji,Ue=null!=ae?ae:null==Re?void 0:Re.approximate_member_count,Ge=null!=ie?ie:null==Re?void 0:Re.approximate_presence_count;a.useEffect((function(){(0,L.setHasUnsubmittedChanges)(!1);return function(){(0,L.setHasUnsubmittedChanges)(!1)}}),[]);a.useEffect((function(){N.default.fetchVerificationForm(u,b)}),[u,b]);a.useEffect((function(){null!=H&&se(H.formFields)}),[H]);a.useEffect((function(){null!=B&&B.isClaimed()&&_e(te.VERIFICATION_FORM)}),[B]);a.useEffect((function(){me===te.EMAIL_CONFIRMATION&&Y&&_e(te.VERIFICATION_FORM)}),[me,Y]);a.useEffect((function(){null!=u&&P.default.track(U.AnalyticEvents.OPEN_MODAL,{type:k.MEMBER_VERIFICATION_TYPE,guild_id:u})}),[u]);a.useEffect((function(){var e=le.some((function(e){return e.field_type!==w.VerificationFormFieldTypes.TERMS&&(0,D.isValidFormResponse)(e)}));e&&!V?(0,L.setHasUnsubmittedChanges)(!0):!e&&V&&(0,L.setHasUnsubmittedChanges)(!1)}),[le,V])
;var Fe=a.useMemo((function(){return!(((null==we?void 0:we.verificationLevel)!==U.VerificationLevels.VERY_HIGH||(null==B?void 0:B.isStaff()))&&Y||K)||le.some((function(e){return!(0,D.isValidFormResponse)(e)}))}),[le,we,K,Y,B]),xe=(0,i.useStateFromStores)([s.default],(function(){return s.default.useReducedMotion}));if(null==we)return null;var Ve=function(){var e=q(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(!0);Ae(null);Ne(null);e.prev=3;e.next=6;return(0,l.saveAccountRequest)({email:Ee,password:be});case 6:ce(!1);_e(te.EMAIL_CONFIRMATION);e.next=14;break;case 10:e.prev=10;e.t0=e.catch(3);Ae(null===e.t0||void 0===e.t0||null===(t=e.t0.body)||void 0===t?void 0:t.email);Ne(null===e.t0||void 0===e.t0||null===(n=e.t0.body)||void 0===n?void 0:n.password);case 14:e.prev=14;ce(!1);return e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(){return e.apply(this,arguments)
}}(),We=function(){var e=q(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(!0);ye(null);if(null==(t=null!=B?v.default.getMember(u,B.id):null)||t.isPending){e.next=6;break}null==E||E(!0);return e.abrupt("return");case 6:e.prev=6;e.next=9;return null==S?void 0:S($({},null!=H?H:R.NO_MEMBER_VERIFICATION_FORM,{formFields:le}));case 9:null==E||E(!0);e.next=17;break;case 12:e.prev=12;e.t0=e.catch(6);null!=(null==(a=null===e.t0||void 0===e.t0?void 0:e.t0.body)||null===(n=a.errors)||void 0===n?void 0:n.version)||null!=(null==a||null===(r=a.errors)||void 0===r?void 0:r.form_fields)?ye(G.default.Messages.MEMBER_VERIFICATION_VERSION_MISMATCH_ERROR):ye(null==a?void 0:a.message);ce(!1);case 17:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),He=ee(ne,{email:Ee,password:be,setEmail:Se,setPassword:Ie,emailError:Te,passwordError:Me}),Be=ee(re,{email:Ee}),ze=ee(oe,{
guildId:u,formState:le,updateFormState:se,isPreview:x,useReducedMotion:xe});return a.createElement(a.Fragment,null,ee(_.default,{direction:_.default.Direction.VERTICAL,justify:_.default.Justify.BETWEEN,className:F.default.guildSidebar,shrink:0},void 0,ee("div",{},void 0,ee(g.default,{guild:we,active:!0,className:(0,o.default)(F.default.guildIcon,(n={},n[F.default.guildIconNoIcon]=null==we.icon,n))}),ee(T.default,{size:T.default.Sizes.SIZE_20,className:F.default.guildName},void 0,null==we?void 0:we.name),ee(A.default,{className:F.default.guildDescription,size:A.default.Sizes.SIZE_14,color:A.default.Colors.HEADER_SECONDARY},void 0,null==H?void 0:H.description),null!=Le&&Le.length>0?a.createElement(a.Fragment,null,ee("hr",{className:F.default.divider}),ee(I.default,{},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_EMOJIS.format({emojis:ke})),ee("div",{className:F.default.emojisContainer},void 0,Le.map((function(e){var t=M.default.getEmojiURL({id:e.id,animated:!1,size:24})
;return ee(O.default,{text:":"+e.name+":"},e.id,(function(e){return a.createElement("img",$({},e,{width:24,height:24,src:t,className:F.default.emoji,alt:""}))}))})),null!=je&&je>0?ee(T.default,{size:T.default.Sizes.SIZE_12,muted:!0,className:F.default.emoji},void 0,"+"+je):null)):null),ee("div",{},void 0,null!=Ge&&ee(_.default,{align:_.default.Align.CENTER,className:F.default.onlineCount},void 0,ee("div",{className:F.default.dotOnline}),ee(A.default,{},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:Ge}))),null!=Ue&&ee(_.default,{align:_.default.Align.CENTER},void 0,ee("div",{className:F.default.dotMembers}),ee(A.default,{},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:Ue}))))),ee("div",{className:F.default.modal},void 0,ee(C.ModalContent,{className:F.default.modalContent},void 0,ee(f.default,{className:(0,o.default)(F.default.sequencer,(r={},r[F.default.centerContent]=me!==te.VERIFICATION_FORM,r)),
steps:[te.CLAIM_ACCOUNT,te.EMAIL_CONFIRMATION,te.VERIFICATION_FORM],step:me},void 0,function(){switch(me){case te.CLAIM_ACCOUNT:return He;case te.EMAIL_CONFIRMATION:return Be;case te.VERIFICATION_FORM:return ze}}())),function(){switch(me){case te.CLAIM_ACCOUNT:return ee(C.ModalFooter,{className:F.default.footer},void 0,ee(m.default,{className:F.default.submitButton,type:"submit",submitting:de,onClick:Ve,disabled:0===Ee.length||0===be.length},void 0,G.default.Messages.NEXT),ee(A.default,{size:A.default.Sizes.SIZE_12,color:A.default.Colors.HEADER_SECONDARY},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_INFO));case te.EMAIL_CONFIRMATION:return null;case te.VERIFICATION_FORM:return ee(C.ModalFooter,{className:F.default.footer},void 0,ee(m.default,{className:F.default.submitButton,type:"submit",submitting:de,onClick:We,color:m.default.Colors.GREEN,disabled:null==S||Fe},void 0,G.default.Messages.SUBMIT),null!=ve?ee(A.default,{size:A.default.Sizes.SIZE_12,
color:A.default.Colors.STATUS_RED},void 0,ve):ee(A.default,{color:A.default.Colors.HEADER_SECONDARY,size:A.default.Sizes.SIZE_12},void 0,G.default.Messages.MEMBER_VERIFICATION_WARNING))}}()))};t.default=ie},796015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(294184)),i=n(536211),u=E(n(30098)),l=E(n(790597)),s=E(n(956117)),f=E(n(502197)),d=n(194322),c=E(n(776360)),p=E(n(868073)),v=n(237639),y=E(n(943819)),h=E(n(678875)),m=E(n(247001)),_=E(n(407829)),g=E(n(944659));function E(e){
return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(){var e,t=(0,i.useStateFromStores)([l.default],(function(){return l.default.getGuildId()}),[]),r=(0,i.useStateFromStores)([u.default],(function(){return u.default.getGuild(t)}),[t]),E=(0,i.useStateFromStores)([y.default],(function(){return null!=t?y.default.getRequest(t):null}),[t]);if(null==r||!r.hasVerificationGate())return null;var S=null!==(e=null==E?void 0:E.applicationStatus)&&void 0!==e?e:v.GuildJoinRequestApplicationStatuses.STARTED,O=null,T=null,A=null,P=[_.default.notice,g.default.notice];switch(S){case v.GuildJoinRequestApplicationStatuses.SUBMITTED:O=m.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE;T=m.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION;A=function(){(0,d.openModal)((function(e){return a.createElement(f.default,I({header:m.default.Messages.MODIFY_FOLLOWED_NEWS_HEADER,
confirmText:m.default.Messages.CONFIRM,cancelText:m.default.Messages.CANCEL,onConfirm:function(){return p.default.removeGuildJoinRequest(r.id)},confirmButtonColor:s.default.Colors.BRAND},e),C(c.default,{size:c.default.Sizes.SIZE_16},void 0,m.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION_SUBTITLE))}))};break;case v.GuildJoinRequestApplicationStatuses.REJECTED:O=m.default.Messages.MEMBER_VERIFICATION_REJECTED_TITLE;T=m.default.Messages.MEMBER_VERIFICATION_LEARN_MORE;A=function(){(0,d.openModalLazy)(b(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(13554).then(n.bind(n,838303));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,I({guildId:r.id},e))}));case 5:case"end":return e.stop()}}),e)}))))};P.push(_.default.error);break;default:O=m.default.Messages.MEMBER_VERIFICATION_NOTICE_TEXT;T=m.default.Messages.MEMBER_VERIFICATION_NOTICE_CTA
;A=function(){(0,h.default)(r.id)}}return C("div",{className:o.default.apply(void 0,P)},void 0,C(c.default,{className:_.default.header},void 0,O),C(s.default,{className:_.default.button,look:s.default.Looks.OUTLINED,color:s.default.Colors.WHITE,size:s.default.Sizes.NONE,onClick:A},void 0,T))};T.displayName="PendingGuildMemberNotice";var A=T;t.default=A},710483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(370405),i=n(536211),u=h(n(759027)),l=h(n(30098)),s=h(n(868073)),f=h(n(542307)),d=n(519589),c=h(n(191265)),p=h(n(611408)),v=h(n(247001)),y=h(n(851007));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.guildId,n=(0,d.useSelectedGuildJoinRequest)({guildId:t}),r=(null!=n?n:{}).user,h=a.useMemo((function(){return null!=r?new u.default(r):null}),[r]),m=(0,i.useStateFromStores)([l.default],(function(){
return l.default.getGuild(t)}),[t]);a.useEffect((function(){f.default.fetchVerificationForm(t)}),[t]);return a.createElement(a.Fragment,null,_(o.Helmet,{title:v.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REQUIREMENTS}),_("div",{className:y.default.content},void 0,_(c.default,{guildId:t})),null!=n&&null!=m&&null!=h&&_("section",{className:y.default.sidebar},void 0,_(p.default,{guild:m,guildJoinRequest:n,guildJoinRequestUser:h,onClose:function(){return s.default.setSelectedGuildJoinRequest(t,null)}})))};t.default=g},254048:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=n(967965),u=n(237639),l=(r=n(247001))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.className,n=e.sortOrder,r=e.onSortChange,a=o.useMemo((function(){return[{value:u.GuildJoinRequestSortOrders.TIMESTAMP_DESC,label:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_NEWEST},{value:u.GuildJoinRequestSortOrders.TIMESTAMP_ASC,
label:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_OLDEST}]}),[]);return f(i.SingleSelect,{className:t,onChange:r,value:n,options:a})}d.displayName="MemberApplicationSortSelect";var c=d;t.default=c},191265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(776360)),i=_(n(868073)),u=n(83e3),l=n(912958),s=n(519589),f=n(322865),d=n(912322),c=n(181945),p=_(n(254048)),v=_(n(969804)),y=_(n(882793)),h=_(n(247001)),m=_(n(690919));function _(e){return e&&e.__esModule?e:{default:e}}
function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}var b=a.memo((function(e){var t=e.guildId,n=a.useRef(null),r=(0,l.useSelectedApplicationStatus)({guildId:t}),_=(0,
f.useSelectedSortOrder)({guildId:t}),g=(0,s.useSelectedGuildJoinRequest)({guildId:t}),S=(0,c.useSubmittedGuildJoinRequestTotal)({guildId:t}),b=(0,d.useSortedMemberApplications)({guildId:t,applicationStatus:r,sortOrder:_}).guildJoinRequests,I=(0,u.usePaginatedMemberApplications)({guildId:t,guildJoinRequests:b}).fetchNextPage,C=a.useRef(!1);if(!C.current){C.current=!0;I(_,r)}var T=a.useRef(!1);a.useEffect((function(){T.current=!0}),[_,r]);a.useEffect((function(){if(T.current&&0!==b.length){var e;T.current=!1;i.default.setSelectedGuildJoinRequest(t,b[0]);null===(e=n.current)||void 0===e||e.scrollToTop()}}),[t,b,g]);var A=a.useCallback(function(){var e=O(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_!==n){e.next=2;break}return e.abrupt("return");case 2:i.default.setSelectedSortOrder(t,n);e.next=5;return I(n,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}
}(),[r,_,t,I]),P=a.useCallback(function(){var e=O(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==n){e.next=2;break}return e.abrupt("return");case 2:i.default.setSelectedApplicationStatus(t,n);i.default.setSelectedGuildJoinRequest(t,null);e.next=6;return I(_,n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,_,t,I]),M=a.useCallback(O(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(a=null===(t=n.current)||void 0===t?void 0:t.getScrollerState())){e.next=3;break}return e.abrupt("return");case 3:if(!(a.scrollHeight-a.scrollTop-a.offsetHeight<200)){e.next=7;break}e.next=7;return I(_,r);case 7:case"end":return e.stop()}}),e)}))),[r,_,I]);return a.createElement(a.Fragment,null,E(v.default,{applicationStatus:r,onTabItemSelect:P,pendingGuildJoinRequestsTotal:S}),E("div",{
className:m.default.content},void 0,E("div",{className:m.default.listControls},void 0,E(p.default,{className:m.default.sortSelect,sortOrder:_,onSortChange:A})),E(o.default,{className:m.default.description,size:o.default.Sizes.SIZE_12,color:o.default.Colors.HEADER_SECONDARY},void 0,h.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_LIST_DESCRIPTION),E(y.default,{applicationStatus:r,guildJoinRequests:b,guildId:t,onScroll:M,listRef:n})))}));t.default=b},969804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;c(n(667294));var r,a=f(n(463024)),o=c(n(186465)),i=f(n(214402)),u=n(237639),l=f(n(247001)),s=f(n(624774));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p("div",{});function y(e){var t=e.pendingGuildJoinRequestsTotal,n=e.applicationStatus,r=e.onTabItemSelect;return p(a.default,{className:s.default.container,hideSearch:!0,toolbar:v},void 0,p(a.default.Icon,{icon:i.default,disabled:!0,
"aria-label":l.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS}),p(a.default.Title,{className:s.default.title},void 0,l.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS),p(a.default.Divider,{className:s.default.divider}),p(o.default,{"aria-label":l.default.Messages.FRIENDS,selectedItem:n,type:o.Types.TOP_PILL,onItemSelect:r,className:s.default.tabBar},void 0,p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.SUBMITTED},void 0,0===t?l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT.format({count:t})),p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.APPROVED},void 0,l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED),p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.REJECTED},void 0,l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED)))}y.displayName="MemberApplicationsHeader";var h=y;t.default=h},882793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=O(n(294184)),i=n(798628),u=n(536211),l=O(n(415391)),s=O(n(30098)),f=O(n(776360)),d=O(n(521358)),c=O(n(868073)),p=O(n(499098)),v=n(237639),y=n(519589),h=n(181945),m=n(985577),_=n(423277),g=O(n(247001)),E=O(n(631447)),S=["ref","role"];function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(){return null};var A=function(e){var t=e.applicationStatus,n=e.guildJoinRequests,r=e.guildId,O=e.onScroll,b=e.listRef,A=(0,u.useStateFromStores)([s.default],(function(){return s.default.getGuild(r)}),[r]),P=(0,u.useStateFromStores)([p.default],(function(){return p.default.isFetching()})),M=P?[n.length+25]:[n.length],N=(0,y.useSelectedGuildJoinRequest)({guildId:r}),R=(0,h.useSubmittedGuildJoinRequestTotal)({guildId:r
}),w=(0,l.default)("guild-join-requests"),D=function(e){var a,i=e.row,u=n[i];return null==u?C(_.MemberApplicationsListRowPlaceholder,{},i):C(_.MemberApplicationsListRow,{className:(0,o.default)((a={},a[E.default.selected]=N===u,a[E.default.siblingSelected]=N===n[i-1],a)),guild:A,guildJoinRequest:u,onClick:function(){return c.default.setSelectedGuildJoinRequest(r,u)},applicationStatus:t},u.userId+"-"+u.applicationStatus+"-"+i)};return P||0!==n.length?a.createElement(a.Fragment,null,0!==R&&t===v.GuildJoinRequestApplicationStatuses.SUBMITTED&&C(f.default,{className:E.default.title,size:f.default.Sizes.SIZE_12,color:f.default.Colors.HEADER_SECONDARY,strong:!0},void 0,function(e,t){var n=t.toLocaleString();switch(e){case v.GuildJoinRequestApplicationStatuses.SUBMITTED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT_HYPEN.format({count:n});case v.GuildJoinRequestApplicationStatuses.REJECTED:
return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED_COUNT_HYPEN.format({count:n});case v.GuildJoinRequestApplicationStatuses.APPROVED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED_COUNT_HYPEN.format({count:n});default:return""}}(t,R).toUpperCase()),C(i.ListNavigatorProvider,{navigator:w},void 0,C(i.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=e.role,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,S);return a.createElement(d.default,I({key:"guild-application-review",innerRole:n,innerAriaLabel:g.default.Messages.MEMBERS,ref:function(e){var n;b.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},paddingTop:0,paddingBottom:16,sectionHeight:0,rowHeight:64,renderSection:T,renderRow:D,sections:M,onScroll:O,fade:!0},r))})))):C(m.ApplicationsEmptyState,{status:t})};t.default=A},423277:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.MemberApplicationsListRow=D;t.MemberApplicationsListRowPlaceholder=L;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=I(n(294184)),i=I(n(730381)),u=n(378158),l=I(n(759027)),s=I(n(16941)),f=I(n(992193)),d=I(n(259530)),c=I(n(775803)),p=n(57744),v=I(n(628551)),y=I(n(810919)),h=I(n(776360)),m=n(767019),_=n(143586),g=I(n(692711)),E=I(n(868073)),S=n(237639),O=I(n(247001)),b=I(n(631447));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(C=function(e){return e?n:t})(e)}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}function u(e){A(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function w(e){var t,n=e.icon,r=e.onClick,a=e.submitting,i=e.disabled;return R(s.default,{className:(0,o.default)(b.default.actionIconContainer,(t={},t[b.default.disabled]=i||a,t)),onClick:r},void 0,a?R(y.default,{className:b.default.icon,dotRadius:2,themed:!0}):R(n,{className:b.default.icon,height:12,width:12}))}w.displayName="ActionButton";function D(e){var t,r=e.applicationStatus,y=e.guild,I=e.guildJoinRequest,C=e.className,A=e.onClick,N=M(a.useState(null),2),D=N[0],L=N[1],j=I.user,k=I.createdAt;if(null==j)throw new Error("Missing user on this guild join request!");var U=a.useMemo((function(){return new l.default(j)}),[j]),G=g.default.getUserAvatarURL(U),F=r===S.GuildJoinRequestApplicationStatuses.SUBMITTED,x=a.useCallback(function(){var e=P(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.guildId,a=t.userId;if(null==D){e.next=3;break}return e.abrupt("return");case 3:L(n);e.prev=4;e.next=7
;return E.default.updateGuildJoinRequest(r,a,n);case 7:e.next=13;break;case 9:e.prev=9;e.t0=e.catch(4);(0,_.showToast)((0,m.createToast)(O.default.Messages.ERROR_GENERIC_TITLE,m.ToastType.FAILURE));L(null);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}(),[D]),V=function(){var e=P(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return x(I,S.GuildJoinRequestApplicationStatuses.APPROVED);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=P(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return x(I,S.GuildJoinRequestApplicationStatuses.REJECTED);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return R(s.default,{className:(0,o.default)(b.default.container,C),
onClick:A},void 0,R(v.default,{src:G,size:v.default.Sizes.SIZE_40,"aria-label":j.username,className:b.default.spacer}),R("div",{className:b.default.userDetails},void 0,R(h.default,{size:h.default.Sizes.SIZE_16,color:h.default.Colors.HEADER_PRIMARY,strong:!0},void 0,j.username),R(h.default,{className:b.default.createdAt,size:h.default.Sizes.SIZE_14,color:h.default.Colors.HEADER_SECONDARY},void 0,(0,i.default)(k).format("lll"))),F&&R(w,{icon:f.default,onClick:V,submitting:D===S.GuildJoinRequestApplicationStatuses.APPROVED,disabled:null!=D&&D!==S.GuildJoinRequestApplicationStatuses.APPROVED}),F&&R(w,{icon:d.default,onClick:W,submitting:D===S.GuildJoinRequestApplicationStatuses.REJECTED,disabled:null!=D&&D!==S.GuildJoinRequestApplicationStatuses.REJECTED}),R(s.default,{className:(0,o.default)(b.default.overflowMenuContainer,(t={},t[b.default.disabled]=null!=D,t)),onClick:function(e){(0,u.openContextMenuLazy)(e,P(regeneratorRuntime.mark((function e(){var t,r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(74869).then(n.bind(n,574869));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,T({},e,{guild:y,user:U}))}));case 5:case"end":return e.stop()}}),e)}))),{position:p.Positions.BOTTOM,align:p.Align.RIGHT})}},void 0,R(c.default,{className:b.default.icon,width:18})))}D.displayName="MemberApplicationsListRow";function L(){var e=Math.floor(50*Math.random())+100+"px",t=Math.floor(25*Math.random())+50+"px";return R("div",{className:b.default.placeholder},void 0,R("div",{className:(0,o.default)(b.default.placeholderAvatar)}),R("div",{className:b.default.userDetails},void 0,R("div",{className:b.default.placeholderUsername,style:{maxWidth:e}}),R("div",{className:b.default.placeholderCreatedAt,style:{maxWidth:t}})))}L.displayName="MemberApplicationsListRowPlaceholder"},831051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=U
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=P(n(730381)),i=P(n(795715)),u=n(536211),l=n(378158),s=n(910992),f=P(n(876874)),d=P(n(728429)),c=P(n(956117)),p=P(n(16941)),v=P(n(474026)),y=P(n(930600)),h=P(n(946750)),m=P(n(775803)),_=n(194322),g=P(n(971639)),E=P(n(776360)),S=n(767019),O=n(143586),b=P(n(868073)),I=n(237639),C=n(770348),T=P(n(247001)),A=P(n(328690));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(){
N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=24;function U(e){
var t,r=e.guildJoinRequest,P=e.guild,M=e.guildJoinRequestUser,w=L(a.useState(!1),2),j=w[0],U=w[1],G=r.createdAt,F=r.actionedAt,x=r.guildId,V=r.userId,W=null===(t=r.actionedByUser)||void 0===t?void 0:t.id,H=(0,u.useStateFromStores)([d.default],(function(){return d.default.getUser(W)})),B=(0,u.useStateFromStores)([f.default],(function(){return null!=W?f.default.getMember(x,W):null}),[W,x]),z=a.useCallback((function(){(0,O.showToast)((0,S.createToast)(T.default.Messages.ERROR_GENERIC_TITLE,S.ToastType.FAILURE))}),[]),Y=function(){var e=D(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=2;break}return e.abrupt("return");case 2:U(!0);e.prev=3;e.next=6;return b.default.updateGuildJoinRequest(x,V,I.GuildJoinRequestApplicationStatuses.APPROVED);case 6:e.next=11;break;case 8:e.prev=8;e.t0=e.catch(3);z();case 11:e.prev=11;U(!1);return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[3,8,11,14]])})))
;return function(){return e.apply(this,arguments)}}(),$=T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING,K=R(h.default,{width:k,height:k,className:A.default.icon});if(r.applicationStatus===I.GuildJoinRequestApplicationStatuses.APPROVED){$=T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED;K=R(v.default,{width:k,height:k,className:A.default.iconApproved,backgroundColor:C.Colors.WHITE})}else if(r.applicationStatus===I.GuildJoinRequestApplicationStatuses.REJECTED){$=T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED;K=R(y.default,{width:k,height:k,className:A.default.iconRejected,backgroundColor:C.Colors.WHITE})}var q=null!=H&&null!=F?T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_ACTIONED_BY_HOOK.format({date:(0,o.default)(i.default.extractTimestamp(F)).format("ll"),usernameHook:function(){var e;return R(p.default,{className:A.default.actionedByUser,onClick:function(){return(0,s.openUserProfileModal)({userId:H.id,guildId:x,analyticsLocation:{
section:C.AnalyticsSections.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:C.AnalyticsObjects.ACTIONED_BY_USER}})},tag:"div",role:"link"},"username-hook",R(E.default,{size:E.default.Sizes.SIZE_12,color:E.default.Colors.HEADER_PRIMARY},void 0,null!==(e=null==B?void 0:B.nick)&&void 0!==e?e:H.username))}}):(0,o.default)(G).format("lll");return R("div",{className:A.default.container},void 0,R("div",{className:A.default.wrapper},void 0,R("div",{className:A.default.inline},void 0,K,R("div",{},void 0,R(g.default,{},void 0,$),R(E.default,{className:A.default.headerSubtext,size:E.default.Sizes.SIZE_12,color:E.default.Colors.HEADER_SECONDARY},void 0,q))),R("div",{className:A.default.inline},void 0,r.applicationStatus===I.GuildJoinRequestApplicationStatuses.SUBMITTED&&R("div",{className:A.default.buttons},void 0,R(c.default,{color:c.default.Colors.GREEN,submitting:j,onClick:function(){return Y()}},void 0,T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVE_APPLICATION),R(c.default,{
color:c.default.Colors.RED,onClick:function(){(0,_.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(68689).then(n.bind(n,868689));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return R(r,{modalProps:e,guildId:x,userId:V,onError:z})}));case 5:case"end":return e.stop()}}),e)}))))},disabled:j},void 0,T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_DENY_APPLICATION)),R(p.default,{onClick:function(e){(0,l.openContextMenuLazy)(e,D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(74869).then(n.bind(n,574869));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{guild:P,user:M}))}));case 5:case"end":return e.stop()}}),e)}))))},className:A.default.overflow},void 0,R(m.default,{width:20,height:20,
className:A.default.iconInteractive})))),r.applicationStatus===I.GuildJoinRequestApplicationStatuses.REJECTED&&null!=r.rejectionReason&&R("div",{className:A.default.rejectionReason},void 0,R(E.default,{},void 0,r.rejectionReason)))}U.displayName="ActionBar"},574274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=v(n(294184)),o=n(910992),i=v(n(151097)),u=v(n(628551)),l=v(n(971639)),s=v(n(776360)),f=v(n(692711)),d=n(770348),c=v(n(247001)),p=v(n(734787));function v(e){return e&&e.__esModule?e:{default:e}}
function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.user,n=e.className,r=t.discriminator,v=t.username,y=f.default.getUserAvatarURL(t);return h("div",{className:(0,a.default)(p.default.container,n)},void 0,h(u.default,{src:y,size:u.default.Sizes.SIZE_80,"aria-label":v,className:p.default.avatar}),h("div",{className:p.default.username},void 0,h(l.default,{size:l.default.Sizes.SIZE_24},void 0,v),h(s.default,{size:s.default.Sizes.SIZE_16,
color:s.default.Colors.HEADER_SECONDARY},void 0,"#",r)),h(i.default,{onClick:function(){(0,o.openUserProfileModal)({userId:t.id,analyticsLocation:{section:d.AnalyticsSections.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:d.AnalyticsObjects.JOIN_REQUEST}})}},void 0,c.default.Messages.VIEW_PROFILE))}m.displayName="GuildJoinRequestUserProfile"},611408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=y(n(259530)),i=y(n(190178)),u=y(n(971639)),l=y(n(878556)),s=y(n(582945)),f=y(n(341394)),d=y(n(831051)),c=y(n(574274)),p=y(n(247001)),v=y(n(800660));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.guild,n=e.guildJoinRequest,r=e.guildJoinRequestUser,y=e.onClose,h=a.useMemo((function(){var e;return null!==(e=n.formResponses)&&void 0!==e?e:[]}),[n.formResponses])
;return a.createElement(a.Fragment,null,m(l.default,{toolbar:m(l.default.Icon,{icon:o.default,onClick:y,tooltip:p.default.Messages.CLOSE})},void 0,m(l.default.Icon,{icon:i.default,disabled:!0,"aria-label":p.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATION}),m(u.default,{size:u.default.Sizes.SIZE_16},void 0,r.toString())),m(d.default,{guildJoinRequest:n,guildJoinRequestUser:r,guild:t}),m(s.default,{},void 0,m(c.default,{user:r,className:v.default.container}),m("div",{className:v.default.disabledFormRenderer},void 0,m(f.default,{guildId:t.id,formFields:h,user:r}))))};t.default=_},341394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=y(n(728429)),u=y(n(311591)),l=n(237639),s=n(820379),f=n(86309),d=n(317258),c=n(759085),p=n(129277),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.formFields,n=e.user;return null==(0,o.useStateFromStores)([i.default],(function(){
return null!=n?n:i.default.getCurrentUser()}))?null:a.createElement(a.Fragment,null,m(s.RequirementRenderer,{icon:u.default,text:v.default.Messages.MEMBER_VERIFICATION_FORM_PASSED_REQUIREMENTS,passesRequirement:!0}),t.map((function(e,t){return function(e,t){switch(e.field_type){case l.VerificationFormFieldTypes.TERMS:return m(c.DisabledTermsRequirementFormField,{formField:e},t);case l.VerificationFormFieldTypes.TEXT_INPUT:return m(p.DisabledTextInputFormField,{formField:e},t);case l.VerificationFormFieldTypes.PARAGRAPH:return m(d.DisabledParagraphFormField,{formField:e},t);case l.VerificationFormFieldTypes.MULTIPLE_CHOICE:return m(f.DisabledMultipleChoiceFormField,{formField:e},t)}}(e,t)})))};t.default=_},734495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"guild",id:"2022-02_guild_notification_defaults_notice",label:"Guild notification defaults channel notice",defaultConfig:{enabled:!1},
treatments:[{id:1,label:"Eligible for guild notification defaults channel notice",config:{enabled:!0}}]});t.default=r},195849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(536211)),o=f(n(972247)),i=f(n(636602)),u=f(n(689389)),l=f(n(871778)),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var c="guildNotificationDefaultsNoticeDismissed",p=new Set;var v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e;this.syncWith([l.default,u.default],(function(){return!0}));p=null!==(e=new Set(o.default.get(c)))&&void 0!==e?e:new Set};n.isEligible=function(e){if(null==e)return!1
;var t=e.id,n="en-US"===l.default.locale||"en-GB"===l.default.locale,r=u.default.can(s.Permissions.MANAGE_GUILD,e),a=e.defaultMessageNotifications===s.UserNotificationSettings.ALL_MESSAGES;return!p.has(t)&&n&&r&&a};return t}(a.default.Store))(i.default,((r={})[s.ActionTypes.NOTIFICATION_DEFAULTS_NOTICE_DISMISS]=function(e){var t=e.guildId;if(!p.has(t)){p.add(t);o.default.set(c,p);return!0}},r));t.default=v},873976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildNotificationDefaultsNotice=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(55701),o=f(n(918667)),i=f(n(964285)),u=n(770348),l=f(n(247001)),s=f(n(557152));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t=e.guild;return c(o.default,{guild:t,onClick:function(){return i.default.open(t.id,u.GuildSettingsSections.OVERVIEW,{section:u.AnalyticsSections.CHANNEL_NOTICE},u.GuildSettingsSubsections.DEFAULT_NOTIFICATIONS)},onDismissed:function(){return(0,
a.hideGuildNotificationDefaultsNotice)(t.id)},message:l.default.Messages.GUILD_NOTIFICATIONS_DEFAULT_MESSAGE.format(),cta:l.default.Messages.GUILD_NOTIFICATIONS_CTA,trackingSource:u.ChannelNoticeCtaSources.GUILD_NOTIFICATION_DEFAULTS_NOTICE,type:u.ChannelNoticeTypes.GUILD_NOTIFICATION_DEFAULTS,image:s.default,imageMarginX:54})};t.GuildNotificationDefaultsNotice=p;p.displayName="GuildNotificationDefaultsNotice"},828339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(536211)),o=f(n(636602)),i=f(n(423046)),u=f(n(644263)),l=n(155787),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v={};function y(e,t){var n=v[e];if(null==n)return!1;if(n.has(t))return!1;v[e]=new Set(n.add(t));return!0}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(i.default);v={}
;null!=e&&Object.keys(e).forEach((function(t){var n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(v[t]=new Set(n))}))};n.getProgress=function(e){return v[e]};n.hasProgress=function(e){var t=v[e];return null!=t&&!t.has(l.Steps.DISMISSED)};n.getState=function(){return v};return t}(a.default.PersistedStore);h.persistKey="GuildProgressStore";var m=new h(o.default,((r={})[s.ActionTypes.CONNECTION_OPEN]=function(){var e=[];Object.keys(v).forEach((function(t){v[t].has(l.Steps.COMPLETED)&&e.push(t)}));e.forEach((function(e){return y(e,l.Steps.DISMISSED)}))},r[s.ActionTypes.GUILD_PROGRESS_INITIALIZE]=function(e){var t=e.guildId;null==v[t]&&(v[t]=new Set);v[t].has(l.Steps.COMPLETED)||v[t].delete(l.Steps.DISMISSED)},r[s.ActionTypes.GUILD_PROGRESS_COMPLETED_SEEN]=function(e){var t=e.guildId;if(null==v[t])return!1;v[t]=new Set(v[t].add(l.Steps.COMPLETED))},r[s.ActionTypes.GUILD_PROGRESS_DISMISS]=function(e){return y(e.guildId,l.Steps.DISMISSED)},r[s.ActionTypes.GUILD_CREATE]=function(e){
var t=e.guild;if(t.owner_id===i.default.getId()&&null!=v[t.id]){null!=t.icon&&v[t.id].add(l.Steps.AVATAR);t.member_count>1&&v[t.id].add(l.Steps.INVITE)}},r[s.ActionTypes.CHANNEL_CREATE]=function(e){var t=e.channel;return null!=t&&null!=t.guild_id&&null!=v[t.guild_id]&&y(t.guild_id,l.Steps.CHANNEL)},r[s.ActionTypes.CHANNEL_UPDATES]=function(e){for(var t,n=!1,r=c(e.updates);!(t=r()).done;){var a=t.value.channel;null!=a&&null!=a.guild_id&&null!=v[a.guild_id]&&!1!==y(a.guild_id,l.Steps.CHANNEL)&&(n=!0)}return n},r[s.ActionTypes.GUILD_SETTINGS_SUBMIT_SUCCESS]=function(e){var t=e.guild;return null!=t&&(null!=t.id&&null!=v[t.id]&&null!=t.icon&&y(t.id,l.Steps.AVATAR))},r[s.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.channelId,n=e.message,r=u.default.getChannel(t);return n.author.id===i.default.getId()&&null!=r&&null!=v[r.guild_id]&&y(r.guild_id,l.Steps.MESSAGE)},r[s.ActionTypes.GUILD_MEMBER_LIST_UPDATE]=function(e){var t=e.guildId,n=e.memberCount;return null!=v[t]&&n>1&&y(t,l.Steps.INVITE)
},r));t.default=m},473250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildRecommendations=function(e){return c.apply(this,arguments)};var r,a=s(n(118915)),o=s(n(636602)),i=n(864489),u=s(n(768535)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}!function(e){e[e.DESKTOP=1]="DESKTOP";e[e.MOBILE=2]="MOBILE";e[e.WEB=3]="WEB"}(r||(r={}));function c(){return(c=d(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===t&&(t={});if(!u.default.isFetching()){e.next=3;break}return e.abrupt("return");case 3:o.default.dispatch({
type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH});n=(0,i.isDesktop)()?r.DESKTOP:r.WEB;e.prev=5;e.next=8;return a.default.get({url:l.Endpoints.GUILD_RECOMMENDATIONS(),query:{personalization_disabled:t.personalization_disabled,client_type:n}});case 8:s=e.sent;o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH_SUCCESS,recommendedGuilds:s.body.recommended_guilds,loadId:s.body.load_id});e.next=15;break;case 12:e.prev=12;e.t0=e.catch(5);o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH_FAILURE});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}},58846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSubscriptionListingsForChannel=function(e){var t=e.guildId,n=e.channelId,d=(0,l.useSubscriptionListingsForGuild)(t);return(0,a.useStateFromStoresArray)([i.default,u.default,o.default],(function(){var e=i.default.getChannel(n),a=u.default.getGuild(t),l=o.default.isViewingRoles(t)
;return null!=a&&null!=e?d.filter((function(t){return function(e,t,n,a){var o=(void 0===a?{}:a).isPreviewingRoles;if(!(void 0!==o&&o||e.published))return!1;var i=n.permissionOverwrites[e.role_id];if((0,s.isChannelAccessGrantedBy)(n,i))return!0;var u=t.getRole(t.id),l=null!=u&&!r.default.has(u.permissions,f.Permissions.VIEW_CHANNEL),d=(0,s.isChannelAccessDeniedBy)(n,n.permissionOverwrites[t.id]),c=t.getRole(e.role_id);return l&&!d&&null!=c&&(0,s.isAllChannelsRole)(c)&&!(0,s.isChannelAccessDeniedBy)(n,i)}(t,a,e,{isPreviewingRoles:l})})):[]}),[t,n,d])};var r=d(n(267258)),a=n(536211),o=d(n(686305)),i=d(n(644263)),u=d(n(30098)),l=n(523754),s=n(243078),f=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}},381777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.groupListingId,s=e.location,f=e.relevantSubscriptionListingIds,c=(0,i.useFetchListingsForGuild)(t,{refetchOnMount:!1}).listingsLoaded,p=null!=(0,
u.default)(n).activeSubscription,v=(0,i.useStore)((function(e){return e.getSubscriptionListing})),y=r.useMemo((function(){if(null!=f)return f.filter((function(e){var t;return!0===(null===(t=v(e))||void 0===t?void 0:t.published)}))}),[v,f]),h=r.useRef(!1);r.useEffect((function(){if(c&&null!=n&&null!=y&&!h.current){h.current=!0;o.default.track(l.AnalyticEvents.ROLE_SUBSCRIPTION_LISTING_UPSELL_PAGE_VIEWED,d({role_subscription_group_listing_id:n,role_subscription_listing_ids:y,is_premium_member:p,location:s},(0,a.collectGuildAnalyticsMetadata)(t)))}}),[t,n,c,s,y,p])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),a=n(844784),o=s(n(308920)),i=n(523754),u=s(n(678075)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}},985795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(313973));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.children,n=e.className;return l("div",{className:o.default.carouselMaxWidth},void 0,l("div",{className:o.default.tierPreviewsContainer},void 0,l("div",{className:(0,a.default)(o.default.tierPreviews,n)},void 0,t)))}s.displayName="SubscriptionListingPreviewsCarousel"},740997:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=E(n(686305)),u=E(n(956117)),l=E(n(873376)),s=E(n(562796)),f=E(n(119503)),d=E(n(971639)),c=E(n(776360)),p=n(243277),v=n(204785),y=n(293773),h=n(523754),m=n(92557),_=E(n(247001)),g=E(n(514047));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e){var t,n,r=e.value,a=e.type;if(0===r)return null;if(a===m.GuildRoleSubscriptionBenefitTypes.CHANNEL){t=s.default;n=_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CHANNEL_BENEFIT_PREVIEW.format({value:r})}else{if(a!==m.GuildRoleSubscriptionBenefitTypes.INTANGIBLE)throw new Error("Unsupported benefit type");t=f.default;n=_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_INTANGIBLE_BENEFIT_PREVIEW.format({value:r})}return O(c.default,{size:c.default.Sizes.SIZE_14,color:c.default.Colors.INTERACTIVE_NORMAL,className:g.default.benefitSummary},void 0,O(t,{
className:g.default.benefitIcon})," ",n)}b.displayName="BenefitSummary";var I=O(l.default,{size:2}),C=O(l.default,{size:12});function T(e){var t=e.listing,n=t.subscription_plans[0],r=(0,v.getAssetURL)(t.application_id,t.image_asset,40),o=t.role_benefits.benefits.filter((function(e){return e.ref_type===m.GuildRoleSubscriptionBenefitTypes.CHANNEL})).length,i=t.role_benefits.benefits.filter((function(e){return e.ref_type===m.GuildRoleSubscriptionBenefitTypes.INTANGIBLE})).length,u=o+i>0;return O("div",{className:g.default.listingPreview},void 0,O("img",{src:r,alt:t.name,className:g.default.listingPreviewImage}),O("div",{className:g.default.listingPreviewText},void 0,O(c.default,{size:c.default.Sizes.SIZE_16,color:c.default.Colors.INTERACTIVE_ACTIVE},void 0,t.name),I,O(c.default,{size:c.default.Sizes.SIZE_14,color:c.default.Colors.INTERACTIVE_NORMAL},void 0,(0,p.formatPrice)(n.price,n.currency)," / ",(0,y.formatPlanInterval)(n)),u&&a.createElement(a.Fragment,null,C,O("div",{
className:g.default.benefitSummaries},void 0,O(b,{type:m.GuildRoleSubscriptionBenefitTypes.CHANNEL,value:o}),O(b,{type:m.GuildRoleSubscriptionBenefitTypes.INTANGIBLE,value:i})))))}T.displayName="ListingPreviewItem";var A=O(l.default,{size:8}),P=O(l.default,{size:24}),M=O(l.default,{size:24});function N(e){var t=e.groupListing,n=e.onSelectGroup,r=(0,h.useSubscriptionListingsForGroup)(t.id),a=(0,o.useStateFromStores)([i.default],(function(){return i.default.isViewingRoles(t.guild_id)})),l=r.filter((function(e){return a||e.published}));return 0===l.length?null:O("div",{className:g.default.container},void 0,O(d.default,{size:d.default.Sizes.SIZE_20},void 0,t.name),A,O(c.default,{size:c.default.Sizes.SIZE_16,color:c.default.Colors.HEADER_SECONDARY},void 0,t.description),O("div",{className:g.default.divider}),O(d.default,{size:c.default.Sizes.SIZE_12,className:g.default.sectionHeader},void 0,_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_AVAILABLE_TIERS.format({numTiers:l.length
})),P,O("div",{className:g.default.listingPreviews},void 0,l.map((function(e){return O(T,{listing:e},e.id)}))),M,O(u.default,{onClick:n,fullWidth:!0},void 0,_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CARD_CTA))}N.displayName="GuildRoleSubscriptionGroupCard"},105699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n,r=e.guild,o=(0,d.useSubscriptionsSettings)(r.id),l=(0,d.useGroupListingsForGuild)(r.id),s=(P=a.useState(null),M=2,function(e){if(Array.isArray(e))return e}(P)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(P,M)||S(P,M)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],h=s[1],g=l.find((function(e){return e.id===f})),E=1===l.length,O=null!=g?g:E?l[0]:null,C=(0,i.useStateFromStores)([u.default],(function(){return u.default.isViewingRoles(r.id)})),T=(0,d.useStore)((function(e){return e.subscriptionListings})),A=a.useMemo((function(){return l.filter((function(e){for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=S(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.subscription_listings_ids);!(t=n()).done;){var r=t.value,a=T[r]
;if(null!=a&&(C||a.published))return!0}return!1}))}),[l,C,T]);var P,M;if(null!=O)return a.createElement(a.Fragment,null,!E&&b(I,{onGoBack:function(){return h(null)}}),b(v.default,{guild:r,groupListing:O,singleGroupView:E}));return a.createElement(a.Fragment,null,b(y.default,{title:m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:r.toString()}),description:null!==(t=null==o?void 0:o.description)&&void 0!==t?t:null,coverImageAsset:null!==(n=null==o?void 0:o.cover_image_asset)&&void 0!==n?n:null,guild:r}),b(c.default,{className:_.default.groupListings},void 0,A.map((function(e){return b(p.default,{groupListing:e,onSelectGroup:function(){return h(e.id)}},e.id)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=g(n(973935)),i=n(536211),u=g(n(686305)),l=g(n(956117)),s=g(n(204014)),f=g(n(177101)),d=n(523754),c=g(n(985795)),p=g(n(740997)),v=g(n(973153)),y=g(n(779515)),h=n(287735),m=g(n(247001)),_=g(n(991938));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.onGoBack,n=a.useMemo((function(){return document.getElementById(h.OVERVIEW_NOTICE_ROOT)}),[]);return null==n?null:o.default.createPortal(b(f.default,{className:_.default.backNotice},void 0,b(l.default,{className:_.default.backButton,innerClassName:_.default.backButtonInner,look:l.default.Looks.OUTLINED,color:l.default.Colors.WHITE,size:l.default.Sizes.NONE,onClick:t},void 0,b(s.default,{width:16,height:16,direction:s.default.Directions.LEFT,className:_.default.backArrow
}),m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_GROUPS_VIEW_CTA)),n)}},973153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(523754),i=y(n(678075)),u=y(n(381777)),l=y(n(675176)),s=y(n(985795)),f=y(n(500985)),d=y(n(779515)),c=n(770348),p=y(n(247001)),v=y(n(633485));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n=e.guild,r=e.groupListing,y=e.singleGroupView;(0,u.default)({guildId:n.id,groupListingId:r.id,location:c.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:r.subscription_listings_ids});var h=(0,i.default)(r.id).activeSubscription,_=(0,o.useSubscriptionsSettings)(n.id),g=y?null==_?void 0:_.description:null==r?void 0:r.description;return a.createElement(a.Fragment,null,m(d.default,{title:p.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:n.toString()}),description:null!=g?g:null,
coverImageAsset:null!==(t=null==_?void 0:_.cover_image_asset)&&void 0!==t?t:null,guild:n},void 0,m(l.default,{className:v.default.pendingPlanChangeNotice,groupListingId:r.id,subscription:h})),m(s.default,{},void 0,r.subscription_listings_ids.map((function(e){return m(f.default,{guildId:n.id,groupListingId:r.id,listingId:e,analyticsLocation:c.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB},e)}))))};t.default=_},594807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=T(n(667294)),o=n(370405),i=n(536211),u=T(n(832635)),l=I(n(463024)),s=n(139982),f=I(n(544196)),d=I(n(23535)),c=I(n(30098)),p=I(n(697952)),v=I(n(80828)),y=n(194322),h=n(582945),m=n(403008),_=n(523754),g=I(n(437270)),E=I(n(105699)),S=n(287735),O=I(n(247001)),b=I(n(536261));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}var N=A(a.Fragment,{}),R=A(l.default.Icon,{icon:g.default,"aria-hidden":!0}),w=A("div",{id:S.OVERVIEW_NOTICE_ROOT}),D=A(v.default,{});function L(e){var t=e.guildId,r=(0,i.useStateFromStores)([c.default],(function(){return c.default.getGuild(t)}),[t]),v=(0,i.useStateFromStores)([d.default],(function(){return d.default.isConnected()})),g=(0,m.useGuildEligibleForRoleSubscriptions)(t),S=(0,i.useStateFromStores)([p.default],(function(){return p.default.isSubscriptionFetching})),I=(0,_.useFetchListingsForGuild)(null==r?void 0:r.id,{refetchOnMount:!0}).listingsLoaded,C=null==r||!I||S;a.useEffect((function(){u.fetchSubscriptions()}),[]);a.useEffect((function(){if(v&&(null==r||!g)){(0,y.openModalLazy)(M(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(72649)]).then(n.bind(n,172649));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))));(0,s.replaceWith)(f.default.defaultRoute)}}),[r,v,g]);return A("div",{className:b.default.container},void 0,A(o.Helmet,{title:O.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL}),A(l.default,{toolbar:N,className:b.default.headerBar},void 0,R,A(l.default.Title,{},void 0,O.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL)),w,A("div",{className:b.default.content},void 0,A(h.ScrollerNone,{className:b.default.scroller},void 0,A("div",{className:b.default.scrollerContent},void 0,C?D:A(E.default,{guild:r})))))}L.displayName="GuildRoleSubscriptionsOverviewPage";var j=L;t.default=j},287735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OVERVIEW_NOTICE_ROOT=void 0
;t.OVERVIEW_NOTICE_ROOT="guild-role-subscription-overview-notice"},779515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(380439)),o=d(n(971639)),i=d(n(776360)),u=n(204785),l=n(8916),s=d(n(536261)),f=d(n(355457));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=(0,l.cssValueToNumber)(s.default.pageMaxWidth);function y(e){var t=e.coverImageAsset,n=e.title,r=e.guild,l=e.description,s=e.children,d=null!=(null==t?void 0:t.application_id)?(0,u.getAssetURL)(t.application_id,t,v):void 0;return p("div",{className:f.default.container},void 0,p("div",{className:f.default.coverImageContainer},void 0,p("img",{src:d,alt:"",className:f.default.coverImage})),p("div",{className:f.default.guildIconContainer},void 0,p(a.default,{guild:r,size:a.default.Sizes.XLARGE})),p(o.default,{size:o.default.Sizes.SIZE_24,className:f.default.ctaTitle},void 0,n),p(i.default,{className:f.default.ctaSubtitle,size:i.default.Sizes.SIZE_16,
color:i.default.Colors.HEADER_SECONDARY},void 0,l),s)}y.displayName="OverviewHero"},540330:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=E(n(644263)),u=E(n(30098)),l=E(n(80828)),s=E(n(971639)),f=E(n(776360)),d=n(582945),c=n(523754),p=n(58846),v=E(n(381777)),y=E(n(985795)),h=E(n(500985)),m=n(770348),_=E(n(247001)),g=E(n(344048));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){
return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.guildId,n=e.channelId,r=(0,p.useSubscriptionListingsForChannel)({guildId:t,channelId:n}),E=(0,c.useGroupListingsForGuild)(t),S=(0,c.useSubscriptionsSettings)(t),I=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(t)}),[t]),C=null==I?void 0:I.name,T=(0,o.useStateFromStores)([i.default],(function(){return i.default.getChannel(n)})),A=a.useMemo((function(){for(var e,t={},n=b(E);!(e=n()).done;)for(var r,a=e.value,o=b(a.subscription_listings_ids);!(r=o()).done;){t[r.value]=a.id}return t}),[E]);(0,v.default)({guildId:t,location:m.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL,relevantSubscriptionListingIds:r.map((function(e){
return e.id}))});return null==I?O("div",{className:g.default.spinnerContainer},void 0,O(l.default,{className:g.default.spinner})):O(d.ScrollerAuto,{className:g.default.pageContainer},void 0,O(s.default,{size:s.default.Sizes.SIZE_24,className:g.default.joinCtaTitle},void 0,_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_UPSELL_PAGE_CTA.format({serverName:C,channelName:null==T?void 0:T.name})),O(f.default,{className:g.default.joinCtaSubtitle,size:f.default.Sizes.SIZE_16,color:f.default.Colors.HEADER_SECONDARY},void 0,null==S?void 0:S.description),O(y.default,{},void 0,r.filter((function(e){return null!=A[e.id]})).map((function(e){return O(h.default,{guildId:t,listingId:e.id,groupListingId:A[e.id],analyticsLocation:m.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL},e.id)}))))}C.displayName="PremiumChannelUpsell"},986175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.hideLiveChannelNotice=function(e){var t=e.eventId,n=e.stageId
;if(null==t&&null==n)return;o.default.dirtyDispatch({type:u.ActionTypes.LIVE_CHANNEL_NOTICE_HIDE,eventId:t,stageId:n})};var r,a=l(n(536211)),o=l(n(636602)),i=n(198756),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var f={hiddenEventsAndStages:[]};var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&null!=e.hiddenEventsAndStages&&(f=e)};n.isLiveChannelNoticeHidden=function(e){var t=e.eventId,n=e.stageId;return!(null==n||!f.hiddenEventsAndStages.includes("stage-"+n))||null!=t&&f.hiddenEventsAndStages.includes("event-"+t)};n.getState=function(){return f};return t}(a.default.PersistedStore);d.persistKey="liveChannelNotices_v2";var c=new d(o.default,((r={})[u.ActionTypes.LIVE_CHANNEL_NOTICE_HIDE]=function(e){
var t=e.eventId,n=e.stageId;null!=t?f.hiddenEventsAndStages.push("event-"+t):null!=n&&f.hiddenEventsAndStages.push("stage-"+n)},r[u.ActionTypes.GUILD_SCHEDULED_EVENT_UPDATE]=function(e){var t=e.guildScheduledEvent,n="event-"+t.id;!f.hiddenEventsAndStages.includes(n)||t.status!==i.GuildScheduledEventStatus.CANCELED&&t.status!==i.GuildScheduledEventStatus.COMPLETED||(f.hiddenEventsAndStages=f.hiddenEventsAndStages.filter((function(e){return e!==n})))},r[u.ActionTypes.GUILD_SCHEDULED_EVENT_DELETE]=function(e){var t="event-"+e.guildScheduledEvent.id;f.hiddenEventsAndStages.includes(t)&&(f.hiddenEventsAndStages=f.hiddenEventsAndStages.filter((function(e){return e!==t})))},r[u.ActionTypes.STAGE_INSTANCE_DELETE]=function(e){var t="stage-"+e.instance.id;f.hiddenEventsAndStages.includes(t)&&(f.hiddenEventsAndStages=f.hiddenEventsAndStages.filter((function(e){return e!==t})))},r));t.default=c},435903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
if(!e.isGuildVoice())return!1;if(u.default.getGuildScheduledEventsByIndex(u.StaticGuildEventIndexes.CHANNEL_EVENT_ACTIVE(e.id)).length<1)return!1;if(!a.default.can(l.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,e))return!1;for(var t,n=new Set(o.default.getVoiceStatesForChannel(e).map((function(e){return e.user.id}))),s=r.default.getId(),f=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(t=f()).done;){var c=t.value;if(c!==s&&i.default.can(l.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,c,e))return!1}return!0};var r=f(n(423046)),a=f(n(689389)),o=f(n(487372)),i=f(n(656016)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(330321)),l=n(432040);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}
function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},780688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useActiveEventOrStageInstanceChannel=function(e){var t,n=(0,o.useFirstActiveEventChannel)(e),i=(0,r.default)(e),u=a.default.getChannel(null===(t=i[0])||void 0===t?void 0:t.id);return null!=n?n:u};var r=i(n(483431)),a=i(n(644263)),o=n(902399);function i(e){return e&&e.__esModule?e:{default:e}}},668516:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCanCreateEditDeleteEvent=function(e,t){var n=(0,a.useStateFromStores)([i.default,o.default],(function(){return(0,l.canCreateEditDeleteGuildEvent)(e,t,[i.default,o.default])}),[t,e]),s=(p=(0,u.useGuildEventExperiment)(e),v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],c=s[1];var p,v;r.useEffect((function(){n&&c()}),[n,c,e]);return f&&n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=s(n(30098)),i=s(n(689389)),u=n(59343),l=n(836490);function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},157949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useGuildHasLiveChannelNotice=function(e){var t,n=(0,o.default)(e),s=i.default.getChannel(null===(t=n[0])||void 0===t?void 0:t.id),f=(0,r.useStateFromStores)([a.default],(function(){return a.default.getStageInstanceByChannel(null==s?void 0:s.id)}),[s]),d=(0,l.useGuildActiveEvent)(e),c=(0,
r.useStateFromStoresObject)([u.default],(function(){return{isStageNoticeHidden:u.default.isLiveChannelNoticeHidden({stageId:null==f?void 0:f.id}),isEventNoticeHidden:u.default.isLiveChannelNoticeHidden({eventId:null==d?void 0:d.id})}}),[f,d]),p=c.isStageNoticeHidden,v=c.isEventNoticeHidden;if(null!=d)return null!=f?!p:!v;return null!=f&&!p};var r=n(536211),a=s(n(217964)),o=s(n(483431)),i=s(n(644263)),u=s(n(986175)),l=n(902399);function s(e){return e&&e.__esModule?e:{default:e}}},604686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.channelId,r=e.onClick,O=a.useContext(i.default),b=(0,_.useActiveEvent)(n),I=(0,o.useStateFromStores)([f.default],(function(){return f.default.getChannel(n)}),[n]),T=(0,m.useCanCreateEditDeleteEvent)(t,I);if(null==b)return null;var A=function(){null!=I&&(0,h.default)(I)?(0,v.openEndEventModal)(I,O):r()},P=function(){y.default.endEvent(b.id,b.guild_id)};return T?C(d.default,{
renderPopout:function(e){var t=e.closePopout;return C(l.default,{},void 0,C(u.default,{navId:"exit-options",onSelect:function(){},"aria-label":E.default.Messages.DISCONNECT_MENU,onClose:t},void 0,C(u.MenuItem,{id:"end-voice-event",color:g.MenuItemColor.DANGER,action:P,label:E.default.Messages.END_EVENT,icon:p.default})))},align:d.default.Align.CENTER,position:d.default.Positions.TOP,animation:d.default.Animation.FADE},void 0,(function(e){var t=e.onClick;return C(s.CenterControlButton,{label:E.default.Messages.DISCONNECT_SELF,color:"red",iconComponent:c.default,onClick:A,onPopoutClick:t,className:S.default.buttonSpacing})})):C(s.CenterControlButton,{className:S.default.buttonSpacing,label:E.default.Messages.DISCONNECT_SELF,color:"red",iconComponent:c.default,onClick:r})}
;var r,a=I(n(667294)),o=n(536211),i=O(n(818994)),u=I(n(145122)),l=O(n(222935)),s=n(143414),f=O(n(644263)),d=O(n(160629)),c=O(n(331546)),p=O(n(930600)),v=n(452453),y=O(n(736428)),h=O(n(435903)),m=n(668516),_=n(902399),g=n(474477),E=O(n(247001)),S=O(n(135582));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},891036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildEvent;if(null==t)return null;return a.createElement(a.Fragment,null,p(o.default.Divider,{className:f.default.divider}),p(l.GuildEventTimeStatus,{startTime:t.scheduled_start_time,isActive:(0,u.isGuildScheduledEventActive)(t),isEnded:(0,u.isGuildEventEnded)(t),liveText:s.default.Messages.LIVE_EVENT,className:f.default.eventSchedule,textSize:i.default.Sizes.SIZE_16,eventType:t.entity_type}),p(i.default,{color:i.default.Colors.HEADER_SECONDARY,size:i.default.Sizes.SIZE_16,className:f.default.eventName},void 0,t.name))};var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(878556)),i=d(n(776360)),u=n(330321),l=n(811634),s=d(n(247001)),f=d(n(348786));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},981706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=v(n(143414)),i=v(n(30098)),u=n(730977),l=v(n(59573)),s=n(194322),f=v(n(911137)),d=v(n(247001)),c=v(n(914376)),p=["guildId"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(y=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){var t=e.guildId,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p),y=(0,a.useStateFromStores)([i.default],(function(){return i.default.getGuild(t)}),[t]);if(!(0,f.default)(y))return null;return r.createElement(o.default,h({onClick:function(){(0,s.openModalLazy)(_(regeneratorRuntime.mark((function e(){var a,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15198),n.e(57166)]).then(n.bind(n,757166));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,h({},e,{guildId:t}))}));case 5:case"end":return e.stop()}}),e)}))))},label:d.default.Messages.CREATE_AND_VIEW_EVENTS,iconComponent:l.default,className:c.default.button,tooltipPosition:u.TooltipPositions.BOTTOM},v))}g.displayName="GuildEventsBrowserButton"},513696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildNoticeBody=void 0;t.LiveVoiceOrStageChannelNotice=K;t.default=t.VoiceChannelType=void 0
;var r,a=U(n(667294)),o=n(536211),i=n(341186),u=n(139982),l=n(637356),s=j(n(897191)),f=n(921867),d=n(411315),c=j(n(217964)),p=j(n(724571)),v=j(n(689389)),y=j(n(487372)),h=j(n(956117)),m=j(n(16941)),_=j(n(259530)),g=j(n(878338)),E=j(n(934018)),S=j(n(332282)),O=j(n(776360)),b=U(n(152731)),I=n(71246),C=n(452453),T=U(n(986175)),A=n(647261),P=n(780688),M=n(902399),N=n(549905),R=n(198756),w=n(770348),D=j(n(247001)),L=j(n(139875));function j(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var F,x=16,V=G(_.default,{height:16,width:16}),W=a.memo((function(e){var t=e.heading,n=e.location,r=e.locationIcon,o=e.details,i=e.detailsIcon,u=e.topic,l=e.onClickCloseIcon,s=e.children;return G("div",{className:L.default.channelNotice},void 0,G("div",{className:L.default.textBlock},void 0,G("div",{className:L.default.liveIndicator}),G(O.default,{color:O.default.Colors.STATUS_GREEN,size:O.default.Sizes.SIZE_12,className:L.default.liveNowText
},void 0,t),null!=l&&G(m.default,{onClick:l,className:L.default.closeIcon},void 0,V)),G(O.default,{color:O.default.Colors.HEADER_PRIMARY,size:O.default.Sizes.SIZE_16,className:L.default.eventName},void 0,u),G("div",{className:L.default.textBlock},void 0,r,G(O.default,{color:O.default.Colors.HEADER_SECONDARY,size:O.default.Sizes.SIZE_12,className:L.default.channelName},void 0,n),null!=o&&null!=i&&a.createElement(a.Fragment,null,G(O.default,{className:L.default.dotDivider,color:O.default.Colors.HEADER_SECONDARY,size:O.default.Sizes.SIZE_12},void 0,"â€¢"),i,G(O.default,{color:O.default.Colors.HEADER_SECONDARY,size:O.default.Sizes.SIZE_12},void 0,o))),s)}));t.GuildNoticeBody=W;function H(e){var t=e.guildEvent,n=e.channel,r=(0,o.useStateFromStoresArray)([y.default],(function(){return y.default.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),a=(0,i.getChannelIconComponent)(n);return G(W,{onClickCloseIcon:function(){return(0,T.hideLiveChannelNotice)({
eventId:null==t?void 0:t.id})},heading:D.default.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t.name,location:n.name,locationIcon:null!=a?G(a,{width:x,height:x,className:L.default.stageIcon}):null},void 0,G(K,{channel:n,speakers:r,voiceType:F.VOICE}))}H.displayName="GuildVoiceEventNotice";function B(e){var t=e.guildEvent,n=(0,N.getLocationFromEvent)(t);return null==n?null:G(W,{onClickCloseIcon:function(){return(0,T.hideLiveChannelNotice)({eventId:null==t?void 0:t.id})},heading:D.default.Messages.HAPPENING_NOW,topic:t.name,location:(0,A.guildEventDetailsParser)(n,!0),locationIcon:G(E.default,{width:x,height:x,className:L.default.stageIcon})},void 0,G(z,{guildEvent:t}))}B.displayName="GuildExternalEventNotice";function z(e){var t=e.guildEvent,n=a.useCallback((function(){(0,C.openGuildEventDetails)(t.id)}),[t]);return G(h.default,{fullWidth:!0,className:L.default.joinButton,onClick:n,color:h.default.Colors.GREEN,size:h.default.Sizes.SMALL},void 0,D.default.Messages.SEE_DETAIL)}
z.displayName="SeeDetailButton";function Y(e){var t=e.channel,n=e.label;return G(h.default,{fullWidth:!0,className:L.default.joinButton,onClick:function(){if(null!=t&&null!=t.getGuildId()){(0,l.connectAndOpen)(t);(0,u.transitionToGuild)(t.getGuildId(),t.id)}},color:h.default.Colors.GREEN,size:h.default.Sizes.SMALL},void 0,n)}Y.displayName="JoinChannelButton";function $(e){var t=e.stageInstance,n=e.channel,r=(0,o.useStateFromStoresObject)([s.default],(function(){var e=s.default.getMutableParticipants(n.id,f.StageChannelParticipantNamedIndex.SPEAKER),t=s.default.getParticipantCount(n.id,f.StageChannelParticipantNamedIndex.AUDIENCE);return{speakers:e.map((function(e){return e.user})),listenerCount:t}}),[n.id]),a=r.speakers,i=r.listenerCount,u=D.default.Messages.LISTENING_COUNT.format({count:""+i});return G(W,{onClickCloseIcon:function(){return(0,T.hideLiveChannelNotice)({stageId:null==t?void 0:t.id})},heading:D.default.Messages.STAGE_CHANNEL_LIVE_NOW,location:n.name,details:u,
detailsIcon:G(g.default,{width:14,height:14,className:L.default.stageIcon}),locationIcon:G(S.default,{width:x,height:x,className:L.default.stageIcon}),topic:t.topic},void 0,G(K,{channel:n,speakers:a,voiceType:F.STAGE}))}$.displayName="GuildLiveStageNotice";t.VoiceChannelType=F;!function(e){e[e.VOICE=1]="VOICE";e[e.STAGE=2]="STAGE";e[e.STUDY_ROOM=3]="STUDY_ROOM"}(F||(t.VoiceChannelType=F={}));function K(e){var t=e.channel,n=e.speakers,r=e.voiceType,i=t.getGuildId(),u=a.useMemo((function(){return n.slice(0,3)}),[n]),l=(0,o.useStateFromStores)([v.default],(function(){return v.default.can(w.Permissions.CONNECT,t)})),s=(0,p.default)(t.id),f=D.default.Messages.JOIN;switch(r){case F.VOICE:f=D.default.Messages.JOIN;break;case F.STAGE:f=D.default.Messages.STAGE_CHANNEL_JOIN_BUTTON;(null==s?void 0:s.speaker)?f=D.default.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=s&&(f=D.default.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);break;case F.STUDY_ROOM:
f=D.default.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA;break;default:(0,I.assertNever)(r)}return null==i?null:a.createElement(a.Fragment,null,u.length>0?G("div",{className:L.default.textBlock},void 0,G(b.default,{guildId:i,users:u,showUserPopout:!0,size:b.Sizes.SIZE_16}),G(O.default,{color:O.default.Colors.HEADER_SECONDARY,size:O.default.Sizes.SIZE_12,className:L.default.userNames},void 0,(0,d.summarizeUsernamesParticipating)(i,u,null==t?void 0:t.id,n.length))):null,l&&null==s&&G(Y,{channel:t,label:f}))}var q=a.memo((function(e){var t=e.guild,n=(0,P.useActiveEventOrStageInstanceChannel)(t.id),r=(0,M.useGuildActiveEvent)(t.id),a=(0,o.useStateFromStores)([c.default],(function(){return c.default.getStageInstanceByChannel(null==n?void 0:n.id)}),[n]),i=(0,o.useStateFromStoresObject)([T.default],(function(){return{isStageNoticeHidden:T.default.isLiveChannelNoticeHidden({stageId:null==a?void 0:a.id}),isEventNoticeHidden:T.default.isLiveChannelNoticeHidden({eventId:null==r?void 0:r.id})}
}),[a,r]),u=i.isStageNoticeHidden,l=i.isEventNoticeHidden,s=null,f=null!=a&&null!=n&&!u;null==r||l?f&&(s=G($,{stageInstance:a,channel:n})):r.entity_type===R.GuildScheduledEventEntityTypes.STAGE_INSTANCE&&f?s=G($,{stageInstance:a,channel:n}):r.entity_type===R.GuildScheduledEventEntityTypes.EXTERNAL?s=G(B,{guildEvent:r}):r.entity_type===R.GuildScheduledEventEntityTypes.VOICE&&null!=n&&(s=G(H,{guildEvent:r,channel:n}));return s}));t.default=q},176079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=c(n(294184)),i=c(n(16941)),u=c(n(863771)),l=c(n(971639)),s=c(n(776360)),f=c(n(247001)),d=c(n(178494));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.className,n=e.iconContainerClassName,r=e.icon,c=e.color,p=e.title,y=e.description,h=e.userCount,m=e.onClick;return v(i.default,{className:(0,o.default)(d.default.container,t),onClick:m},void 0,v("div",{style:{backgroundColor:c},className:(0,
o.default)(d.default.icon,n)},void 0,r),v("div",{className:d.default.textContainer},void 0,v(l.default,{size:s.default.Sizes.SIZE_16},void 0,p),v(s.default,{size:s.default.Sizes.SIZE_12,color:s.default.Colors.HEADER_SECONDARY,className:d.default.inline},void 0,y),null!=h&&h>0?a.createElement(a.Fragment,null,v(s.default,{size:s.default.Sizes.SIZE_12,color:s.default.Colors.HEADER_SECONDARY,className:d.default.dot},void 0,"â€¢"),v(s.default,{size:s.default.Sizes.SIZE_12,color:s.default.Colors.HEADER_SECONDARY,className:d.default.inline},void 0,f.default.Messages.GUILD_EVENT_INTERESTED.format({count:h}))):null),v(u.default,{height:16,width:16,className:d.default.caret}))}y.displayName="GuildEventPrompt"},5031:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(818994)),i=c(n(32443)),u=n(194322),l=c(n(176079)),s=n(770348),f=n(371621),d=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var _=v(i.default,{height:20,width:20});function g(e){var t=e.className,r=e.guildId,i=a.useContext(o.default);return v(l.default,{className:t,icon:_,color:s.Colors.BRAND_NEW,title:d.default.Messages.SCHEDULE_EVENT,description:d.default.Messages.SCHEDULE_EVENT_DESCRIPTION,onClick:function(){(0,u.openModalLazy)(m(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(15865),n.e(15198),n.e(8062),n.e(1025),n.e(75659)]).then(n.bind(n,901025));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,y({},e,{guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseRequest:s.NOOP_NULL,contextKey:i===s.AppContext.POPOUT?f.POPOUT_MODAL_CONTEXT:f.DEFAULT_MODAL_CONTEXT})}})}g.displayName="ScheduleStageEventPrompt"},620859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,r=e.channelId,u=(0,o.useStateFromStores)([i.default],(function(){return i.default.getChannel(r)}),[r]),m=(0,d.useImminentUpcomingGuildEvents)(r),_=null!=(0,d.useActiveEvent)(r),S=(0,f.useCanCreateEditDeleteEvent)(t,u),C=(T=(0,s.useGuildEventExperiment)(t),A=1,function(e){if(Array.isArray(e))return e}(T)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(T,A)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(T,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];var T,A;if(m.length<1||_||!S||!C)return null;return a.createElement(a.Fragment,null,m.map((function(e){return g(p.default,{icon:I,color:v.Colors.STATUS_GREEN_600,title:y.default.Messages.GUILD_EVENT_START_PROMPT.format({eventName:e.name}),description:y.default.Messages.GUILD_EVENT_START_PROMPT_DESCRIPTION.format({startTime:(0,
c.getEventTimeData)(e.scheduled_start_time).startDateTimeString}),onClick:function(){return function(e){(0,l.openModalLazy)(O(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(15198),n.e(46734)]).then(n.bind(n,746734));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,E({},t,{event:e}))}));case 5:case"end":return t.stop()}}),t)}))))}(e)},userCount:e.user_count,className:h.default.eventPrompt},e.id)})))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=m(n(644263)),u=m(n(32443)),l=n(194322),s=n(59343),f=n(668516),d=n(902399),c=n(834547),p=m(n(176079)),v=n(770348),y=m(n(247001)),h=m(n(407770));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return E.apply(this,arguments)}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=g(u.default,{height:20,width:20})},473842:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(818994)),i=n(559133),u=d(n(332282)),l=d(n(176079)),s=n(478036),f=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p(u.default,{height:20,width:20});function y(e){var t=e.className,n=e.channel,r=a.useContext(o.default);return p(l.default,{className:t,icon:v,color:s.Colors.STATUS_GREEN_600,title:f.default.Messages.STAGE_CHANNEL_START_TITLE,
description:f.default.Messages.STAGE_CHANNEL_START_SUBTITLE,onClick:function(){(0,i.openStageChannelSettings)(n,r)}})}y.displayName="StartStageChannelEventPrompt"},802337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EmbeddedActivityTutorial=void 0;var r,a=h(n(667294)),o=v(n(151097)),i=h(n(956117)),u=n(598671),l=v(n(776360)),s=v(n(865725)),f=v(n(308920)),d=n(770348),c=v(n(247001)),p=v(n(741093));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.markAsDismissed;a.useEffect((function(){f.default.track(d.AnalyticEvents.TOOLTIP_VIEWED,{type:"embedded_activity_discovery_tutorial"})}),[]);return m("div",{className:p.default.wrapper},void 0,m("div",{className:p.default.container},void 0,m("div",{className:p.default.content},void 0,m(s.default,{className:p.default.video,src:"https://cdn.discordapp.com/attachments/692870190689550417/938116814309847040/wtp_nux_video_640x360.mp4",
poster:"https://cdn.discordapp.com/attachments/887469171804356628/916446867586416660/activities-video-poster-512.png",width:224,height:126,loop:!0,muted:!0,autoPlay:!0}),m("div",{className:p.default.header},void 0,m(l.default,{className:p.default.headerText,size:l.default.Sizes.SIZE_16,color:l.default.Colors.CUSTOM},void 0,c.default.Messages.EMBEDDED_ACTIVITY_NOTICE_TITLE),m(u.TextBadge,{text:c.default.Messages.BETA,disableColor:!0,className:p.default.betaTag})),m(l.default,{className:p.default.subheaderText,size:l.default.Sizes.SIZE_12,color:l.default.Colors.CUSTOM},void 0,c.default.Messages.EMBEDDED_ACTIVITY_NOTICE_WTP_DESCRIPTION),m("div",{className:p.default.ctaActionWrapper},void 0,m(o.default,{className:p.default.learnMoreLink,href:"https://support.discord.com/hc/articles/4422142836759"},void 0,c.default.Messages.LEARN_MORE),m(i.default,{onClick:function(){t()},look:i.ButtonLooks.FILLED,color:i.default.Colors.BRAND,size:i.default.Sizes.MEDIUM
},void 0,c.default.Messages.DISMISS)))))};t.EmbeddedActivityTutorial=_;_.displayName="EmbeddedActivityTutorial"},884960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(923387),i=C(n(638098)),u=C(n(305081)),l=n(799393),s=C(n(960987)),f=C(n(964285)),d=C(n(142024)),c=C(n(160629)),p=C(n(308920)),v=n(682937),y=n(770348),h=n(583551),m=n(265517),_=n(478036),g=C(n(247001)),E=C(n(636443)),S=C(n(705206)),O=C(n(255359)),b=C(n(162478)),I=C(n(989823));function C(e){return e&&e.__esModule?e:{
default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){p.default.track(y.AnalyticEvents.TOOLTIP_VIEWED,{type:m.PremiumUpsellTypes.PREMIUM_PROGRESS_BAR,location:{page:y.AnalyticsPages.GUILD_CHANNEL}})}function M(){p.default.track(y.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:m.PremiumUpsellTypes.PREMIUM_GUILD_MEMBER_PROFILE_TOOLTIP,location:{page:y.AnalyticsPages.GUILD_CHANNEL}})}function N(){p.default.track(y.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{
type:m.PremiumUpsellTypes.INVITE_SPLASH_UPSELL,location:{page:y.AnalyticsPages.GUILD_CHANNEL}})}function R(e){null!=e&&f.default.open(e.id,y.GuildSettingsSections.OVERVIEW,{section:y.AnalyticsSections.PREMIUM_GUILD_PROGRESS_BAR},y.GuildSettingsSubsections.DISPLAY)}function w(e,t){t&&(0,l.openGuildIdentitySettings)(e,{page:y.AnalyticsPages.GUILD_CHANNEL,section:y.AnalyticsSections.GUILD_HEADER_POPOUT,object:y.AnalyticsObjects.BUTTON_CTA})}function D(e,t){t&&f.default.open(e.id,y.GuildSettingsSections.DISCOVERY)}function L(e){null!=e&&f.default.open(e.id,y.GuildSettingsSections.OVERVIEW,{section:y.AnalyticsSections.PREMIUM_GUILD_INVITE_SPLASH},y.GuildSettingsSubsections.DISPLAY)}function j(e){var t=e.renderPopout,n=e.renderGuildHeaderDropdownButton;return A(c.default,{renderPopout:function(){return A("div",{onClick:function(e){return e.stopPropagation()}},void 0,t)},position:c.default.Positions.BOTTOM,align:c.default.Align.CENTER,animation:c.default.Animation.TRANSLATE,shouldShow:!0
},void 0,(function(){return n()}))}j.displayName="GuildHeaderPopout";var k=a.memo((function(e){var t=e.contentTypes,n=e.theme,r=e.guild,a=e.handleHeaderMenuToggle,l=e.renderGuildHeaderDropdownButton;return A(u.default,{contentTypes:t,groupName:h.DismissibleContentGroupName.GUILD_HEADER_TOOLTIPS},void 0,(function(e){var t=e.content,u=e.markAsDismissed;switch(t){case o.DismissibleContent.GUILD_HEADER_EVENT_UPSELL:return A(j,{renderPopout:A(s.default,{onClick:a,markAsDismissed:u}),renderGuildHeaderDropdownButton:l});case o.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_MEMBER_PROFILE:return A(j,{renderPopout:A(d.default,{onComponentMount:M,header:g.default.Messages.CHANGE_IDENTITY_PREMIUM_GUILD_HEADER_TOOLTIP_TITLE,asset:A("img",{alt:"",src:O.default,className:E.default.tooltipPremiumGuildProfileAsset}),content:g.default.Messages.CHANGE_IDENTITY_PREMIUM_GUILD_HEADER_TOOLTIP_CONTENT,buttonCTA:g.default.Messages.EDUCATION_NEW_FEATURE_TRY_IT,
secondaryButtonCTA:g.default.Messages.EDUCATION_NEW_FEATURE_CONFIRM,onClick:function(){return w(r,!0)},onSecondaryClick:function(){return w(r)},markAsDismissed:u}),renderGuildHeaderDropdownButton:l});case o.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS:var f=g.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_TITLE,c=n===_.ThemeTypes.DARK?I.default:b.default;return A(j,{renderPopout:A(d.default,{onComponentMount:P,header:f,asset:A("img",{alt:"",src:c,className:E.default.tooltipPremiumProgressBarAsset}),content:g.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CONTENT.format(),buttonCTA:g.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:g.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return R()},onClick:function(){return R(r)},markAsDismissed:u}),renderGuildHeaderDropdownButton:l});case o.DismissibleContent.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP:
return A(j,{renderPopout:A(i.default,{onComponentMount:M,onClick:function(){return D(r,!0)},onSecondaryClick:function(){return D(r)},markAsDismissed:u}),renderGuildHeaderDropdownButton:l});case o.DismissibleContent.GUILD_HEADER_INVITE_SPLASH:var p=(0,v.isTierUnlocked)(r,y.BoostedGuildTiers.TIER_1)?g.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT.format():g.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT_LOCKED.format({boostCount:(0,v.getNumberOfAppliedBoostsNeededForTier)(r,y.BoostedGuildTiers.TIER_1)}),h=(0,v.isTierUnlocked)(r,y.BoostedGuildTiers.TIER_1)?g.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS:g.default.Messages.PREMIUM_GUILD_BOOST_SERVER;return A(j,{renderPopout:A(d.default,{onComponentMount:N,header:g.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_TITLE,asset:A("img",{alt:"",src:S.default,className:E.default.tooltipPremiumProgressBarAsset}),content:p,buttonCTA:h,
secondaryButtonCTA:g.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return L()},onClick:function(){return L(r)},markAsDismissed:u}),renderGuildHeaderDropdownButton:l});default:return l()}}))}));t.default=k},14638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Ge
;var r,a=Ie(n(667294)),o=n(248088),i=n(536211),u=n(923387),l=n(91817),s=Oe(n(636602)),f=n(378158),d=Oe(n(562341)),c=Oe(n(732716)),p=Oe(n(145371)),v=Oe(n(235879)),y=Ie(n(303798)),h=n(698462),m=n(370639),_=Oe(n(684769)),g=Oe(n(305081)),E=Oe(n(982879)),S=n(780815),O=n(799393),b=Oe(n(734495)),I=Oe(n(195849)),C=n(18485),T=n(157949),A=Oe(n(845957)),P=Oe(n(491523)),M=n(954481),N=Oe(n(348308)),R=Oe(n(126515)),w=Oe(n(329697)),D=Oe(n(527820)),L=Oe(n(282619)),j=Oe(n(142024)),k=Oe(n(423046)),U=Oe(n(881454)),G=Oe(n(644263)),F=Oe(n(917515)),x=Oe(n(986711)),V=Oe(n(250650)),W=Oe(n(140868)),H=Oe(n(517286)),B=Oe(n(680804)),z=Oe(n(30098)),Y=Oe(n(122913)),$=Oe(n(689389)),K=Oe(n(893160)),q=Oe(n(563621)),Z=Oe(n(871778)),X=Oe(n(728429)),Q=Oe(n(329669)),J=Oe(n(535711)),ee=Oe(n(24e4)),te=Oe(n(487372)),ne=n(644105),re=Ie(n(160629)),ae=Ie(n(730977)),oe=n(57744),ie=n(194322),ue=Oe(n(838583)),le=n(42031),se=Oe(n(210098)),fe=n(802337),de=Oe(n(328831)),ce=Oe(n(884960)),pe=Oe(n(608568)),ve=Oe(n(421797)),ye=n(770348),he=n(7812),me=n(583551),_e=Oe(n(247001)),ge=Oe(n(636443)),Ee=["onClick"],Se=["isUnavailable","guild","selectedChannel","enableStudyGroup"]
;function Oe(e){return e&&e.__esModule?e:{default:e}}function be(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(be=function(e){return e?n:t})(e)}function Ie(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=be(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function Pe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Me(){Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Me.apply(this,arguments)}function Ne(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ne(o,r,a,i,u,"next",e)}function u(e){Ne(o,r,a,i,u,"throw",e)}i(void 0)}))}}function we(e,t){we=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return we(e,t)}var De=88,Le=1e3,je="server-settings",ke={origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}},Ue=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;we(e,t)}(t,e);function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];(t=e.call.apply(e,[this].concat(i))||this).historyUnlisten=function(){};t.showTimeout=new l.Timeout;t.state={controller:new o.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:De};t.handleHistoryChange=function(e){null!=e.state&&e.state.shouldShowSubscribeTooltip&&t.showTimeout.start(Le,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};t.handleHeaderMenuToggle=function(e){var n=t.props.isHeaderPopoutOpen;e.stopPropagation();(0,S.showGuildHeaderPopout)(!n);t.closeAllHeaderNotices()};t.handleContextMenu=function(e){var r=t.props.guild;null!=r&&(0,f.openContextMenuLazy)(e,Re(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return n.e(18974).then(n.bind(n,418974));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Me({},e,{guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleHeaderContextMenu=function(e){var r=t.props.guild;null!=r&&(0,f.openContextMenuLazy)(e,Re(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(23127)]).then(n.bind(n,853734));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Me({},e,{guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.closeAllHeaderNotices=function(){t.handleCloseSubscribeTooltip();t.handleCloseTemplateDirtyTooltip()};t.handleCloseSubscribeTooltip=function(){t.showTimeout.stop();t.state.shouldShowSubscribeTooltip&&t.setState({shouldShowSubscribeTooltip:!1})};t.handleClosePremiumGuildProfileTooltip=function(e){var n=t.props.guild
;!t.state.shouldShowSubscribeTooltip&&t.props.showPremiumGuildMemberProfileUpsell&&e&&null!=n&&(0,O.openGuildIdentitySettings)(n,{page:ye.AnalyticsPages.GUILD_CHANNEL,section:ye.AnalyticsSections.GUILD_HEADER_POPOUT,object:ye.AnalyticsObjects.BUTTON_CTA})};t.handleCloseTemplateDirtyTooltip=function(){var e=t.props,n=e.guild,r=e.showGuildTemplateDirtyTooltip;null!=n&&r&&A.default.hideGuildTemplateDirtyTooltip(n.id)};t.renderMenuPopout=Re(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(11976)]).then(n.bind(n,611976));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){var n=e.closePopout,r=t.props.guild;return null!=r&&Pe(a,{onClose:n,guild:r})}));case 5:case"end":return e.stop()}}),e)})));t.renderGuildHeaderUpsellPopout=function(e){
var n=t.props,r=n.showPremiumGuildMemberProfileUpsell,a=n.showEventsUpsell,o=n.showPremiumProgressBarUpsell,i=n.showDiscoveryTooltip,l=n.showInviteSplashUpsell,s=n.guild,f=n.theme;if(null==s)return t.renderGuildHeaderDropdownButton(e);var d=[];a&&!(null==s?void 0:s.hasFeature(ye.GuildFeatures.COMMUNITY))&&d.push(u.DismissibleContent.GUILD_HEADER_EVENT_UPSELL);r&&d.push(u.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_MEMBER_PROFILE);o&&d.push(u.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS);i&&d.push(u.DismissibleContent.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP);l&&d.push(u.DismissibleContent.GUILD_HEADER_INVITE_SPLASH);return 0===d.length?t.renderGuildHeaderDropdownButton(e):Pe(ce.default,{contentTypes:d,theme:f,guild:s,handleHeaderMenuToggle:t.handleHeaderMenuToggle,renderGuildHeaderDropdownButton:function(){return t.renderGuildHeaderDropdownButton(e)}})};t.pinBanner=function(e){var n=e.scrollTop;t.setAnimatedValue(n)};return t}t.getDerivedStateFromProps=function(e){
var t=e.guild,n=e.hasChannelNotice;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null};var r=t.prototype;r.componentDidMount=function(){var e,t=this;this.setAnimatedValue(0);s.default.subscribe(ye.ActionTypes.LAYER_PUSH,this.closeAllHeaderNotices);this.historyUnlisten=w.default.addRouteChangeListener(this.handleHistoryChange);(null===(e=w.default.getHistory().location.state)||void 0===e?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(Le,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};r.componentWillUnmount=function(){this.showTimeout.stop();this.state.controller.dispose();this.historyUnlisten();s.default.unsubscribe(ye.ActionTypes.LAYER_PUSH,this.closeAllHeaderNotices)};r.getGuildBannerHash=function(){var e=this.props,t=e.guild,n=e.hasChannelNotice;return null==t||n?null:t.banner};r.renderGuildHeaderDropdownButton=function(e){return Pe(d.default,{open:e,className:ge.default.dropdown})};r.renderGuildHeaderNotices=function(e){
var t=this,n=this.props,r=n.showGuildTemplateDirtyTooltip,a=n.showGuildHeaderTutorial,o=n.anyLayerOpen,i=this.state.shouldShowSubscribeTooltip;return a?Pe("div",{onClick:function(t){return e?null:t.stopPropagation()}},void 0,Pe(D.default,{tutorialId:je,position:ne.PopoutPositions.BOTTOM,inlineSpecs:ke},void 0,this.renderGuildHeaderDropdownButton(e))):r?Pe(ae.default,{forceOpen:!0,color:ae.TooltipColors.BRAND,position:oe.Positions.BOTTOM,shouldShow:!e&&!o,text:_e.default.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,"aria-label":_e.default.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP},void 0,(function(){return t.renderGuildHeaderDropdownButton(e)})):o||e?this.renderGuildHeaderDropdownButton(e):i?Pe(re.default,{renderPopout:function(){return Pe("div",{onClick:function(e){return e.stopPropagation()}},void 0,Pe(j.default,{header:_e.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_HEADER,content:_e.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_TEXT,
buttonCTA:_e.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_CLOSE,onClick:t.handleCloseSubscribeTooltip}))},position:re.default.Positions.BOTTOM,align:re.default.Align.CENTER,animation:re.default.Animation.TRANSLATE,shouldShow:!0},void 0,(function(){return t.renderGuildHeaderDropdownButton(e)})):this.renderGuildHeaderUpsellPopout(e)};r.renderGuildHeader=function(){var e=this,t=this.props,n=t.guild,r=t.isGuest,o=t.isHeaderPopoutOpen,i=t.showGuildHeaderTutorial,u=t.showGuildTemplateDirtyTooltip,l=t.isGuildHeaderDismissibleTooltipShown,s=this.state,f=s.controller,d=s.renderBanner,c=s.bannerVisible,p=s.bannerVisibleHeight,v=i||u||l;return null==n?null:Pe(re.LazyPopout,{renderPopout:this.renderMenuPopout,position:re.default.Positions.BOTTOM,align:re.default.Align.CENTER,animation:re.default.Animation.SCALE,shouldShow:o,onRequestClose:function(){return(0,S.showGuildHeaderPopout)(!1)}},void 0,(function(t){t.onClick;var i=Ae(t,Ee);return a.createElement(de.default,Me({
guild:n,controller:f,renderBanner:d,bannerVisible:c,guildBanner:e.getGuildBannerHash(),onClick:e.handleHeaderMenuToggle,onContextMenu:e.handleHeaderContextMenu,disableBannerAnimation:v,animationOverlayHeight:p},r?null:i),!r&&e.renderGuildHeaderNotices(o))}))};r.setAnimatedValue=function(e){var t=this.props.guild,n=this.state,r=n.controller,a=n.renderBanner,o=n.bannerVisible,i=n.bannerVisibleHeight;if(null!=t&&null!=this.getGuildBannerHash()){(e>=64&&o||e<64&&!o)&&(o=!o);(e>=De&&!a||e<De&&a)&&(a=!a);i=Math.max(De-e,0);a===this.state.renderBanner&&o===this.state.bannerVisible&&i===this.state.bannerVisibleHeight||this.setState({renderBanner:a,bannerVisible:o,bannerVisibleHeight:i});r.update({value:Math.min(1,Math.max(0,1-e/De)),immediate:!0}).start()}};r.renderChannelList=function(){var e=this.props,t=e.isUnavailable,n=e.guild,r=e.selectedChannel,o=e.enableStudyGroup,i=Ae(e,Se);return t||null==n?Pe(ve.default,{withBannerPadding:null!=n&&null!=this.getGuildBannerHash()
}):n.hasFeature(ye.GuildFeatures.HUB)&&!o?Pe("div",{className:ge.default.hubContainer},void 0,Pe(N.default,{guild:n,channel:null!=r?r:H.default.getDefaultChannel(n.id)})):a.createElement(se.default,Me({guild:n},i,{guildBanner:this.getGuildBannerHash(),onScroll:null!=n&&this.getGuildBannerHash()?this.pinBanner:null}))};r.render=function(){var e=this.props,t=e.guild,n=e.activitiesBebEnabled,r=e.canShowCoachMarkAtBottom,o=[];n&&r&&o.push(u.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK);return Pe("nav",{className:ge.default.container,onContextMenu:this.handleContextMenu,"aria-label":_e.default.Messages.GUILD_SIDEBAR_A11Y_LABEL.format({guildName:null!=t?t.toString():""})},void 0,null!=t&&this.renderGuildHeader(),null!=t&&Pe(pe.default,{guild:t}),this.renderChannelList(),Pe(g.default,{contentTypes:o},void 0,(function(e){var t=e.content,n=e.markAsDismissed;return t===u.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK?Pe(fe.EmbeddedActivityTutorial,{markAsDismissed:n
}):a.createElement(a.Fragment,null)})))};return t}(a.PureComponent);Ue.displayName="GuildSidebar";function Ge(e){var t,n=e.guildId,r=e.hideSelectedChannel,o=e.selectedChannelId,l=(0,i.useStateFromStores)([z.default],(function(){return z.default.getGuild(n)})),s=(0,i.useStateFromStores)([H.default],(function(){return H.default.getChannels(n)})),f=(0,i.useStateFromStores)([W.default],(function(){return W.default.getCategories(n)})),d=(0,i.useStateFromStores)([q.default],(function(){return q.default.getMutedChannels(n)})),g=(0,i.useStateFromStores)([E.default],(function(){return E.default.getFavoriteChannels()})),O=(0,i.useStateFromStores)([te.default,G.default],(function(){if(n!==ye.FAVORITES)return te.default.getVoiceStates(n);var e={};for(var t in g){var r=G.default.getChannel(t);null!=r&&(e[t]=te.default.getVoiceStatesForChannel(r))}return e}),[g,n]),A=(0,i.useStateFromStores)([F.default],(function(){return F.default.getCollapsed()})),N=(0,
i.useStateFromStores)([q.default],(function(){return q.default.isGuildCollapsed(n)})),w=(0,i.useStateFromStores)([B.default],(function(){return B.default.getGuildChangeSentinel(n)})),D=(0,i.useStateFromStores)([x.default],(function(){return x.default.getGuildDimensions(n).scrollTo})),j=(0,i.useStateFromStores)([K.default],(function(){return K.default.getChannelId()})),ne=Ce((0,i.useStateFromStoresArray)([$.default],(function(){return[$.default.getGuildVersion(n),$.default.can(ye.Permissions.MANAGE_GUILD,l)]})),2),re=ne[0],ae=ne[1],oe=(0,i.useStateFromStores)([U.default],(function(){return U.default.version})),se=(0,i.useStateFromStores)([k.default],(function(){return k.default.isGuest()})),fe=(0,i.useStateFromStores)([V.default],(function(){return V.default.isUnavailable(n)})),de=(0,i.useStateFromStores)([X.default],(function(){return X.default.getCurrentUser()})),ce=(0,i.useStateFromStores)([v.default,Z.default],(function(){
return v.default.darkSidebar?ye.ThemeTypes.DARK:Z.default.theme})),pe=(0,T.useGuildHasLiveChannelNotice)(null!==(t=null==l?void 0:l.id)&&void 0!==t?t:""),ve=(0,h.useBeb)(n),_e=(0,_.default)((function(e){return e.currentlyShown.has(u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION)})),ge=Ce(a.useState(!_e),2),Ee=ge[0],Se=ge[1],Oe=(0,p.default)(n);a.useEffect((function(){n!==Oe&&Se(!_e)}),[n,Oe,_e]);var be=Ce((0,_.default)((function(e){return[he.CHANNEL_NOTICES.some((function(t){return e.currentlyShown.has(t.dismissibleContentType)})),e.currentlyShownGroup.has(me.DismissibleContentGroupName.GUILD_HEADER_TOOLTIPS)]})),2),Ie=be[0],Te=be[1],Ae=b.default.useExperiment({guildId:n}).enabled,Me=(0,i.useStateFromStores)([I.default],(function(){return I.default.isEligible(l)}))&&Ae,Ne=(0,i.useStateFromStores)([J.default,ee.default,R.default,Q.default],(function(){return J.default.isVisible(l)||Q.default.isVisible(null!=l?l.id:null)||R.default.isVisible(l)||ee.default.isVisible(l)||pe
}))||Ie||Me,Re=(0,C.useAndTriggerEventsUpsellExperiment)(n,!0),we=(0,ie.useModalsStore)(ie.hasAnyModalOpenSelector),De=(0,i.useStateFromStores)([Y.default],(function(){return Y.default.hasLayers()})),Le=(0,i.useStateFromStores)([L.default],(function(){return L.default.shouldShow(je)})),ke=ue.default.canUsePremiumGuildMemberAvatar(de)&&!le.ProcessArgs.isDisallowPopupsSet(),Ge=ae&&!1===(null==l?void 0:l.premiumProgressBarEnabled)&&!le.ProcessArgs.isDisallowPopupsSet(),Fe=(0,m.useLowerMemberCountRequirements)(n),xe=c.default.useExperiment({guildId:n},{autoTrackExposure:!0}).enabled,Ve=(ae||(null==l?void 0:l.premiumTier)===ye.BoostedGuildTiers.NONE)&&xe&&!le.ProcessArgs.isDisallowPopupsSet(),We=(0,i.useStateFromStores)([P.default,Y.default],(function(){return null!=l&&null!=de&&ae&&!Y.default.hasLayers()&&P.default.shouldShowGuildTemplateDirtyTooltip(n)})),He=Object.values(G.default.getMutableGuildChannels()).find((function(e){return e.isDirectory()})),Be=(0,
i.useStateFromStores)([G.default],(function(){return o?G.default.getChannel(o):He})),ze=(0,S.useGuildHeaderPopoutStore)().isPopoutOpen,Ye=(0,M.useHubStudyGroupExperiment)(l).enableStudyGroup,$e=(0,i.useStateFromStoresObject)([y.default],(function(){return(null!=l?y.default.getEmbeddedActivitiesForGuild(l.id):y.NO_ACTIVITIES).reduce((function(e,t){var n,r=t.channelId;e[r]=(null!==(n=e[r])&&void 0!==n?n:0)+1;return e}),{})}));return Pe(Ue,{guildId:n,hideSelectedChannel:r,guild:l,channels:s,categories:f,mutedChannels:d,scrollToChannel:D,selectedChannelId:r?null:o,selectedChannel:Be,selectedVoiceChannelId:j,voiceStates:O,collapsedChannels:A,collapseMuted:N,isGuest:se,isUnavailable:fe,theme:ce,user:de,hasChannelNotice:Ne,anyLayerOpen:we||De,showPremiumGuildMemberProfileUpsell:ke,showPremiumProgressBarUpsell:Ge,showInviteSplashUpsell:Ve,showGuildHeaderTutorial:Le,showGuildTemplateDirtyTooltip:We,showEventsUpsell:Re,showDiscoveryTooltip:Fe,guildReadStateSentinel:w,permissionVersion:re,
categoryCollapseVersion:oe,isHeaderPopoutOpen:ze,enableStudyGroup:Ye,channelActivityCounts:$e,isGuildHeaderDismissibleTooltipShown:Te,activitiesBebEnabled:ve,canShowCoachMarkAtBottom:Ee})}Ge.displayName="ConnectedGuildSidebar"},608568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(35333)),o=n(954481),i=l(n(199808)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t
})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.guild,n=(0,o.useHubStudyGroupExperiment)(t).enableStudyGroup;return t.hasFeature(u.GuildFeatures.HUB)?n?f(i.default,{guild:t}):null:f(a.default,{guild:t})}d.displayName="GuildSubheader"},421797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(101545));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(){return l("div",{className:o.default.spacer})};s.displayName="Spacer";var f=function(){return l("div",{
className:o.default.category})};f.displayName="Category";var d=function(e){var t=e.width;return l("div",{className:o.default.channel},void 0,l("div",{className:o.default.channelIcon}),l("div",{className:o.default.channelName,style:{width:t+"px"}}))};d.displayName="Channel";var c=l(f,{}),p=l(d,{width:100}),v=l(d,{width:74}),y=l(d,{width:100}),h=l(d,{width:70}),m=l(d,{width:112}),_=l(d,{width:175}),g=l(s,{}),E=l(f,{}),S=l(d,{width:100}),O=l(d,{width:74}),b=l(d,{width:100}),I=l(d,{width:70}),C=l(d,{width:112}),T=l(d,{width:56}),A=function(e){var t,n=e.withBannerPadding;return l("div",{className:(0,a.default)(o.default.container,(t={},t[o.default.bannerPadding]=n,t))},void 0,c,p,v,y,h,m,_,g,E,S,O,b,I,C,T)};A.displayName="PlaceholderChannelList";var P=A;t.default=P},491523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(972247)),i=l(n(636602)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){
s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var d="hasSeenGuildTemplatePromotionTooltip",c={},p=!0===o.default.get(d);function v(e){var t,n=e.guildId;c=f({},c,((t={})[n]=!1,t))}var y=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.shouldShowGuildTemplateDirtyTooltip=function(e){var t;return null!==(t=c[e])&&void 0!==t&&t};n.shouldShowGuildTemplatePromotionTooltip=function(){return!p};return t}(a.default.Store))(i.default,((r={})[u.ActionTypes.GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH]=function(e){var t,n=e.guildTemplate;c=f({},c,((t={})[n.source_guild_id]=n.is_dirty||!1,t))},
r[u.ActionTypes.GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE]=function(){o.default.set(d,!0);p=!0},r[u.ActionTypes.GUILD_TEMPLATE_SYNC_SUCCESS]=function(e){var t;c=f({},c,((t={})[e.guildTemplate.source_guild_id]=!1,t))},r[u.ActionTypes.GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE]=v,r[u.ActionTypes.GUILD_TEMPLATE_DELETE_SUCCESS]=v,r));t.default=y},920061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(138864),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(997359)),o=n(919094),i=d(n(562882)),u=d(n(308920)),l=d(n(924117)),s=d(n(233689)),f=n(770348);function d(e){
return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v="template",y=p({},s.default,{openNativeAppModal:function(e){i.default.openNativeAppModal(e,f.RPCCommands.GUILD_TEMPLATE_BROWSER)},openMobileApp:function(e,t){if(!(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)){var n=null!=e?(0,r.getGuildTemplateDynamicLinkTemplate)(e):(0,r.getDefaultDynamicLinkTemplate)(),i=(0,a.generateAttemptId)(),s=(0,a.default)(n,{utmSource:v,fingerprint:t,attemptId:i});u.default.track(f.AnalyticEvents.DEEP_LINK_CLICKED,{fingerprint:(0,o.maybeExtractId)(t),attempt_id:i,source:v,guild_template_code:e});l.default.launch(s,(function(){}))}}});t.default=y},542322:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(368767)),i=p(n(844784)),u=p(n(502546)),l=p(n(790597)),s=p(n(547282)),f=n(878556),d=n(770348),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.channelId,n=(0,a.useStateFromStores)([u.default],(function(){return u.default.getSection(t)})),r=(0,a.useStateFromStores)([l.default],(function(){return l.default.getGuildId()})),p=n===d.ChannelSections.MEMBERS;return y(f.Icon,{tooltip:p?c.default.Messages.MEMBER_LIST_SHOWN:c.default.Messages.MEMBER_LIST_HIDDEN,icon:s.default,onClick:function(){i.default.trackWithMetadata(d.AnalyticEvents.MEMBER_LIST_TOGGLED,{channel_id:t,guild_id:r,member_list_open:!p});o.default.toggleMembersSection()},selected:p})}h.displayName="ChannelMembersButton"},818378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=m(n(770549)),u=m(n(563621)),l=m(n(160629)),s=m(n(91424)),f=m(n(811198)),d=m(n(878556)),c=n(956506),p=m(n(405622)),v=n(770348),y=m(n(247001)),h=m(n(750322));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.channel,n=S((0,o.useStateFromStoresArray)([u.default],(function(){return[u.default.isChannelMuted(t.getGuildId(),t.id),u.default.resolvedMessageNotifications(t)]}),[t]),2),r=n[0],m=n[1],_=S(a.useState(!1),2),O=_[0],b=_[1];a.useEffect((function(){var e=function(){return b(!0)};c.ComponentDispatch.subscribe(v.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){c.ComponentDispatch.unsubscribe(v.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var I=function(e){
e.shiftKey?i.default.updateChannelOverrideSettings(t.guild_id,t.id,{muted:!r}):b((function(e){return!e}))},C=y.default.Messages.NOTIFICATION_SETTINGS;return g(l.default,{shouldShow:O,animation:l.default.Animation.NONE,position:l.default.Positions.BOTTOM,align:l.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return b(!1)},renderPopout:function(e){return a.createElement(p.default,E({},e,{channel:t,navId:"channel-context",label:y.default.Messages.CHANNEL_ACTIONS_MENU_LABEL}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(d.default.Icon,E({},e,{onClick:I,tooltip:n?null:C,icon:r||m!==v.UserNotificationSettings.ALL_MESSAGES?f.default:s.default,foreground:r?h.default.strikethrough:null,"aria-label":C,selected:n}))}))}b.displayName="ChannelNotificationSettingsButton"},764423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=h(n(83887)),u=h(n(137438)),l=h(n(191391)),s=h(n(728429)),f=h(n(160629)),d=h(n(126344)),c=n(878556),p=n(956506),v=n(770348),y=h(n(247001));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.channel,n=(0,o.useStateFromStores)([u.default,s.default],(function(){var e=s.default.getCurrentUser();return null==e||t.isNSFW()&&(!e.nsfwAllowed||!u.default.didAgree(t.getGuildId()))}),[t]),r=E(a.useState(!1),2),h=r[0],m=r[1],S=(0,o.useStateFromStores)([l.default],(function(){return l.default.hasUnreadPins(t.id)}),[t]),O=a.useCallback((function(){n||m((function(e){return!e}))}),[n]);a.useEffect((function(){p.ComponentDispatch.subscribe(v.ComponentActions.TOGGLE_CHANNEL_PINS,O);return function(){
p.ComponentDispatch.unsubscribe(v.ComponentActions.TOGGLE_CHANNEL_PINS,O)}}),[O]);function b(e){(null==e?void 0:e.shiftKey)||p.ComponentDispatch.dispatch(v.ComponentActions.POPOUT_CLOSE)}return _(f.default,{shouldShow:h,animation:f.default.Animation.NONE,position:f.default.Positions.BOTTOM,align:f.default.Align.RIGHT,autoInvert:!1,ignoreModalClicks:!0,onRequestClose:function(){return m(!1)},renderPopout:function(e){return a.createElement(i.default,g({},e,{onJump:b,channel:t}))}},void 0,(function(e,t){var r=t.isShown;return a.createElement(c.Icon,g({},e,{onClick:O,tooltip:r?null:y.default.Messages.PINNED_MESSAGES,icon:d.default,"aria-label":y.default.Messages.PINNED_MESSAGES,disabled:n,showBadge:S,selected:r}))}))}O.displayName="ChannelPinsButton";var b=O;t.default=b},92332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=F;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(923387),u=w(n(88500)),l=w(n(136873)),s=w(n(825724)),f=w(n(818994)),d=w(n(305081)),c=w(n(493051)),p=w(n(30269)),v=w(n(27245)),y=w(n(956704)),h=w(n(635014)),m=w(n(788739)),_=w(n(290629)),g=w(n(728429)),E=w(n(387692)),S=w(n(730977)),O=w(n(119431)),b=w(n(79027)),I=w(n(878556)),C=n(956506),T=n(951530),A=w(n(740775)),P=n(608165),M=n(770348),N=n(376293),R=w(n(247001));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t){U=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return U(e,t)}var G=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;U(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderDismissibleContent=function(e,n,r,a,o,u){if(e||n||null===a||0===a.length||!o)return null;P.VoiceChatUpsellExperiment.trackExposure({});return P.VoiceChatUpsellExperiment.getCurrentConfig({}).showUpsell&&r===i.DismissibleContent.VOICE_CHAT_TOOLTIP?k(A.default,{handleVoiceClick:t.handleVoiceClick,markAsDismissed:u,
activeRecipients:a}):null};t.handleStartCall=function(e,n){var r=t.props,a=r.channel,o=r.notFriend,i=r.appContext,l=o?a.getRecipientId():null,s=function(){return u.default.call(a.id,n,!o&&!a.isManaged()&&e&&!e.shiftKey,l)};n?(0,p.default)(s,i):s()};t.handleJoinCall=function(e){l.default.selectVoiceChannel(t.props.channel.id,e)};t.handleVoiceClick=function(e){var n=t.props,r=n.callUnavailable,a=n.callActive;if(!r)return a?t.handleJoinCall(!1):t.handleStartCall(e,!1)};t.handleStartVideoCall=function(e){t.handleStartCall(e,!0)};t.handleJoinVideoCall=function(){var e=t.props.appContext;(0,p.default)((function(){return t.handleJoinCall(!0)}),e)};t.handleBrowserNotSupported=function(){(0,c.default)()};return t}var n=t.prototype;n.componentDidMount=function(){C.ComponentDispatch.subscribe(M.ComponentActions.CALL_START,this.handleVoiceClick)};n.componentWillUnmount=function(){C.ComponentDispatch.unsubscribe(M.ComponentActions.CALL_START,this.handleVoiceClick)}
;n.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel,o=e.mode;if(t||n&&o===M.ChannelModes.VOICE)return null;var i,u=a.isManaged(),l=null,s=!1;if(h.default.supports(N.Features.VIDEO))if(n&&o===M.ChannelModes.VIDEO){i=this.handleJoinVideoCall;l=u?R.default.Messages.CONNECT:R.default.Messages.JOIN_VIDEO_CALL}else{i=this.handleStartVideoCall;l=u?R.default.Messages.CONNECT:R.default.Messages.START_VIDEO_CALL}else{s=!0;i=this.handleBrowserNotSupported;l=R.default.Messages.BROWSER_NOT_SUPPORTED}return k(I.default.Icon,{icon:b.default,onClick:i,disabled:s||r,tooltip:l})};n.renderVoiceCallButton=function(){var e=this,t=this.props,n=t.inCall,r=t.callActive,o=t.callUnavailable,u=t.channel,l=t.activeRecipients,s=t.hasLoadedExperiments;if(n)return null;var f,c=u.isManaged(),p="",v=!1;if(o){p=c?R.default.Messages.VOICE_UNAVAILABLE:R.default.Messages.CALL_UNAVAILABLE;f=S.default.Colors.RED;v=!0
}else p=r?c?R.default.Messages.CONNECT:R.default.Messages.JOIN_VOICE_CALL:c?R.default.Messages.CONNECT:R.default.Messages.START_VOICE_CALL;return k(d.default,{contentTypes:[i.DismissibleContent.VOICE_CHAT_TOOLTIP]},void 0,(function(t){var n=t.content,o=t.markAsDismissed;return a.createElement(a.Fragment,null,k(I.default.Icon,{icon:O.default,onClick:function(t){o();return e.handleVoiceClick(t)},disabled:v,tooltip:p,tooltipColor:f}),e.renderDismissibleContent(v,r,n,l,s,o))}))};n.render=function(){return k(a.Fragment,{},void 0,this.renderVoiceCallButton(),this.renderVideoCallButton())};return t}(a.PureComponent);G.displayName="PrivateChannelCallButton";function F(e){var t=e.channel,n=(0,o.useStateFromStores)([g.default],(function(){return g.default.getCurrentUser()})),r=(0,o.useStateFromStores)([y.default],(function(){return y.default.hasLoadedExperiments})),i=(0,o.useStateFromStores)([s.default],(function(){return s.default.getMode(t.id)})),u=(0,
o.useStateFromStores)([E.default],(function(){return E.default.isInChannel(t.id)})),l=(0,o.useStateFromStoresObject)([v.default],(function(){return{callActive:v.default.isCallActive(t.id),callUnavailable:v.default.isCallUnavailable(t.id)}})),d=l.callActive,c=l.callUnavailable,p=t.getRecipientId(),h=t.type===M.ChannelTypes.DM&&null!=p&&!_.default.isFriend(p),S=a.useContext(f.default),O=(0,o.useStateFromStoresArray)([g.default],(function(){return null!=t?(0,T.getRecipients)(t.recipients,g.default):[]})),b=(0,o.useStateFromStoresArray)([m.default],(function(){if(null!=t&&null!==O){if(null!=n){var e=O.findIndex((function(e){return e.id===n.id}));e>=0&&O.splice(e,1)}return O.filter((function(e){return!e.bot&&m.default.getStatus(e.id)===M.StatusTypes.ONLINE}))}return[]})),I=L(a.useState(null),2),C=I[0],A=I[1];a.useEffect((function(){null===C&&(null==O?void 0:O.length)>0&&A(b)}),[O,b,C,A]);return k(G,{channel:t,mode:i,inCall:u,callActive:d,callUnavailable:c,notFriend:h,activeRecipients:C,
hasLoadedExperiments:r,appContext:S})}F.displayName="ConnectedPrivateChannelCallButton"},740775:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(556470),o=c(n(142024)),i=c(n(308920)),u=n(770348),l=n(583551),s=c(n(247001)),f=c(n(511314)),d=c(n(961565));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){if(0===e.length)return null;var t=e.length,n=e[0].username;switch(t){case 1:return s.default.Messages.VOICE_NUDGE_DESCRIPTION_ONE_USER.format({firstRecipient:n});case 2:return s.default.Messages.VOICE_NUDGE_DESCRIPTION_TWO_USERS.format({firstRecipient:n,secondRecipient:e[1].username});default:return s.default.Messages.VOICE_NUDGE_DESCRIPTION_MANY_USERS.format({firstRecipient:n,remaining:t-1})}},h=function(e){var t=e.handleVoiceClick,n=e.markAsDismissed,r=e.activeRecipients,c=(0,a.useAnalyticsContext)();if(0===r.length)return null;return v("div",{
className:f.default.upsellContainer},void 0,v(o.default,{onComponentMount:function(){i.default.track(u.AnalyticEvents.TOOLTIP_VIEWED,{type:"voice_upsell",location:c.location})},header:s.default.Messages.VOICE_NUDGE_TITLE,asset:v("img",{alt:s.default.Messages.VOICE_NUDGE_GRAPHIC_ALT,src:d.default,className:f.default.upsellImage}),content:y(r),buttonCTA:s.default.Messages.VOICE_NUDGE_START,secondaryButtonCTA:s.default.Messages.VOICE_NUDGE_DISMISS,onClick:function(e){t(e);n(l.ContentDismissActionType.PRIMARY)},onSecondaryClick:function(){n(l.ContentDismissActionType.DISMISS)},markAsDismissed:n}))};h.displayName="VoiceUpsell";var m=h;t.default=m},608165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VoiceChatUpsellExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-02_voice_chat_upsell",label:"show voice chat upsell in DMs",defaultConfig:{showUpsell:!1},treatments:[{id:1,label:"show upsell",config:{showUpsell:!0}}]})
;t.VoiceChatUpsellExperiment=r},789620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(278352)),i=n(439142),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var s={init:function(){a.default.subscribe(u.ActionTypes.VOICE_CHANNEL_SELECT,(function(e){null==e.channelId&&o.hideHotspot(i.HotspotLocations.VOICE_PANEL_INTRODUCTION)}))}};t.default=s},954481:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useHubStudyGroupExperiment=t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505),o=n(770348);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var u=(0,a.createExperiment)({kind:"guild",id:"2021-10_study_group",label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",config:{enableStudyGroup:!0}}]});t.useHubStudyGroupExperiment=function(e){var t
;r.useEffect((function(){null!=e&&e.hasFeature(o.GuildFeatures.HUB)&&u.trackExposure({guildId:e.id})}),[e]);return u.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{disable:null==e||!e.hasFeature(o.GuildFeatures.HUB)})};var l=u;t.default=l},215371:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-08_hubs_in_organic_onboarding",label:"Hub Email Connection in New User Onboarding",defaultConfig:{showHubsInOnboarding:!1},treatments:[{id:1,label:"Show email connection step in onboarding",config:{showHubsInOnboarding:!0}}]});t.default=r},241813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=d(n(689626)),i=d(n(81026)),u=d(n(876874)),l=d(n(728429)),s=n(770348),f=n(460703);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var p=function(e){var t=(0,a.useStateFromStores)([i.default],(function(){return(null==e?void 0:e.hasFeature(s.GuildFeatures.HUB))?i.default.hasViewedPrompt(f.GuildPrompts.REAL_NAME_PROMPT,e.id):null})),n=(0,a.useStateFromStores)([l.default],(function(){return l.default.getCurrentUser()})),d=(0,a.useStateFromStores)([u.default],(function(){return null!=(null==e?void 0:e.id)&&null!=n?u.default.getMember(null==e?void 0:e.id,n.id):null})),c=null!=(null==d?void 0:d.nick);r.useEffect((function(){
c&&null!=e&&!1===t&&o.default.viewPrompt(f.GuildPrompts.REAL_NAME_PROMPT,e.id)}),[c,e,t]);return!1===t&&!c};t.default=p},404922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(956117)),i=n(194322),u=f(n(776360)),l=f(n(247001)),s=f(n(773022));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e)
;return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.hasHub;return v("div",{className:s.default.container},void 0,v("div",{className:s.default.iconContainer},void 0,v("div",{className:s.default.icon})),v(u.default,{strong:!0,color:u.default.Colors.HEADER_PRIMARY,size:u.default.Sizes.SIZE_20,className:s.default.header
},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_ADD_HEADER:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_HEADER),v(u.default,{color:u.default.Colors.HEADER_SECONDARY,size:u.default.Sizes.SIZE_14,className:s.default.description},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_ADD_DESCRIPTION:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_DESCRIPTION),v("div",{className:s.default.gap}),v(o.default,{size:o.default.Sizes.LARGE,color:t?o.default.Colors.GREY:o.default.Colors.GREEN,onClick:function(){return(0,i.openModalLazy)(p(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,v(u.default,{size:u.default.Sizes.SIZE_14,className:s.default.addButton,color:u.default.Colors.CUSTOM
},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_ANOTHER:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_MY_SCHOOOL)))};y.displayName="HubDiscoveryAddHubCard";var h=y;t.default=h},562200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=c(n(415275)),i=c(n(871778)),u=c(n(2022)),l=c(n(971639)),s=c(n(404922)),f=c(n(247001)),d=c(n(258199));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h=v(s.default,{hasHub:!0}),m=v(s.default,{hasHub:!1}),_=function(e){var t=e.guilds,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.theme})),r=t.map((function(e){return v(u.default,{className:d.default.guildCard,onView:function(){return o.default.transitionToGuildSync(e.id)},guild:y({},e,{
presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,emojis:void 0}),theme:n},e.id)}));return v("section",{className:d.default.guildListSection},void 0,t.length>0?v("div",{},void 0,v(l.default,{className:d.default.title,size:l.default.Sizes.SIZE_20},void 0,f.default.Messages.YOUR_HUB),v("div",{className:d.default.guildList},void 0,r,h)):v("div",{className:d.default.guildList},void 0,m))};_.displayName="HubDiscoveryGuildList";var g=_;t.default=g},666895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
}(n(667294));var r,a=n(536211),o=n(6505),i=p(n(652566)),u=p(n(252004)),l=p(n(97751)),s=p(n(776360)),f=n(227445),d=p(n(247001)),c=p(n(596964));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=y(u.default,{}),m=function(e){var t=e.handleCategorySelect,n=e.shouldDisplaySelectedCategory,r=e.currentCategoryId,u=(0,a.useStateFromStores)([i.default],(function(){return i.default.hasHotspot(o.HotspotLocations.HUB_NEW)}));return y(l.default,{
avatar:h,name:d.default.Messages.HUB_SCHOOL_HUBS,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){t(f.DISCORD_HUB_ID);(0,o.hideHotspot)(o.HotspotLocations.HUB_NEW)},wrapContent:!0,selected:n&&f.DISCORD_HUB_ID===r,className:c.default.categoryItem,selectedClassName:c.default.selectedCategoryItem,innerClassName:c.default.itemInner},f.DISCORD_HUB_ID,u&&y("div",{className:c.default.new},void 0,y(s.default,{strong:!0,color:s.default.Colors.CUSTOM,size:s.default.Sizes.SIZE_12,className:c.default.newText},void 0,d.default.Messages.NEW)))};m.displayName="HubDiscoveryListItem";var _=m;t.default=_},39365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(971639)),i=y(n(776360)),u=y(n(582945)),l=n(465537),s=y(n(283642)),f=y(n(562200)),d=n(227445),c=y(n(247001)),p=y(n(250926)),v=y(n(237018));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){
var t=e.loadId,n=(0,s.default)();a.useEffect((function(){(0,l.trackDiscoveryViewed)(t,[],[],d.DISCORD_HUB_ID)}),[t]);return m(u.default,{className:p.default.scroller},void 0,m("div",{className:p.default.viewWrapper},void 0,m("div",{className:p.default.headerContainer},void 0,m("img",{alt:"",className:p.default.headerImage,src:v.default}),m("div",{className:p.default.headerContent},void 0,m(o.default,{className:p.default.headerText,size:i.default.Sizes.SIZE_24},void 0,c.default.Messages.HUB_DIRECTORY_SEARCH_TITLE),m(i.default,{className:p.default.headerDescription,size:i.default.Sizes.SIZE_16,color:i.default.Colors.CUSTOM},void 0,c.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE))),m(f.default,{guilds:n}),m("div",{className:p.default.divider}),m(i.default,{className:p.default.footerDescription,size:i.default.Sizes.SIZE_14,color:i.default.Colors.HEADER_SECONDARY},void 0,c.default.Messages.HUB_DISCOVERY_FOOTER_DESCRIPTION)))};_.displayName="HubDiscoveryPage";var g=_;t.default=g},
529295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.HubEmailConnectionRoute=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=h(n(23170)),u=n(139982),l=h(n(30098)),s=h(n(795741)),f=h(n(194815)),d=n(549186),c=n(376022),p=n(770348),v=n(99043),y=h(n(400110));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=e.guildId,n=e.inviteCode,r=g(a.useState(v.WaveStates.INITIAL),2),h=r[0],m=r[1],E=g(a.useState(null!=n),2),S=E[0],O=E[1];a.useEffect((function(){null!=n&&i.default.resolveInvite(n,"Hub").finally((function(){return O(!1)}))}),[n]);var b=(0,o.useStateFromStores)([s.default],(function(){return n?s.default.getInvite(n):null})),I=(0,o.useStateFromStores)([l.default],(function(){return l.default.getGuild(t)}));a.useEffect((function(){null!=I&&(0,u.transitionTo)(p.Routes.CHANNEL(t))}),[I,t]);var C=a.useCallback((function(e){m((function(t){return Math.max(t,e)
}))}),[]),T=(0,d.getArtForPath)();return _("div",{className:y.default.page},void 0,_(f.default,{embedded:!0,splash:T,waveState:h,showLogo:!1,updateWaveState:C},void 0,_("div",{className:y.default.dragRegion}),_("div",{className:y.default.contentWrapper},void 0,!S&&_(c.HubEmailConnectionModalView,{invite:b}))))};t.HubEmailConnectionRoute=S;S.displayName="HubEmailConnectionRoute";var O=S;t.default=O},185836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=f(n(918667)),i=n(194322),u=n(770348),l=f(n(247001)),s=f(n(140561));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,u,"next",e)}function u(e){p(o,r,a,i,u,"throw",e)}i(void 0)}))}}
function y(e){var t=e.guild,r=e.markAsDismissed;return c(o.default,{guild:t,onDismissed:r,onClick:function(){(0,i.openModalLazy)(v(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))},message:l.default.Messages.HUB_LINK_CHANNEL_NOTICE_BODY,cta:l.default.Messages.LEARN_MORE,trackingSource:u.ChannelNoticeCtaSources.HUB_LINK_NOTICE,type:u.ChannelNoticeTypes.HUB_LINK,image:s.default})}y.displayName="HubLinkChannelNotice"},283642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,a.useStateFromStores)([o.default],(function(){var e=o.default.getGuilds();return Object.entries(e).filter((function(e){var t=u(e,2);t[0];return t[1].hasFeature(i.GuildFeatures.HUB)
})).map((function(e){var t=u(e,2);t[0];return t[1]}))}))};var r,a=n(536211),o=(r=n(30098))&&r.__esModule?r:{default:r},i=n(770348);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},199808:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;y(n(667294));var r,a=n(248088),o=n(536211),i=n(6505),u=y(n(517286)),l=p(n(689389)),s=p(n(365397)),f=p(n(782256)),d=n(864227),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.guild,n=(0,o.useStateFromStores)([u.default],(function(){return u.default.getChannels(t.id)[u.GUILD_VOCAL_CHANNELS_KEY][0]})),r=(0,o.useStateFromStores)([l.default],(function(){return null!=n&&l.default.can(c.Permissions.CONNECT,n.channel)}));return t.hasFeature(c.GuildFeatures.HUB)?null==n?null:r?h(_,{channel:n.channel}):null:null};m.displayName="HubStudyRoomNoticeGuard";var _=function(e){
var t=e.channel,n=(0,o.useStateFromStores)([i.HotspotStore],(function(){return i.HotspotStore.hasHotspot(i.HotspotLocations.HUB_STUDY_ROOM_NOTICE)})),r=(0,d.useConnectedInCurrentHub)(t.guild_id),u=(0,a.useSpring)({maxHeight:r?0:300,overflow:"hidden",delay:400});return h(a.animated.div,{style:u},void 0,n?h(s.default,{channel:t}):h(f.default,{name:"ðŸ“šâ˜• "+t.name,channel:t}))};_.displayName="HubStudyRoomNotice";var g=m;t.default=g},365397:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=p(n(294184)),o=n(6505),i=n(139982),u=n(637356),l=p(n(956117)),s=p(n(16941)),f=p(n(259530)),d=p(n(247001)),c=p(n(76889));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.channel;return y("div",{className:(0,a.default)(c.default.channelNotice,c.default.hubStudyGroup)},void 0,y(s.default,{onClick:function(){(0,o.hideHotspot)(o.HotspotLocations.HUB_STUDY_ROOM_NOTICE)},className:c.default.close,
"aria-label":d.default.Messages.DISMISS},void 0,y(f.default,{className:c.default.closeIcon})),y("div",{className:c.default.message},void 0,y("div",{className:c.default.title},void 0,d.default.Messages.HUB_STUDY_ROOM_NOTICE_TITLE),y("div",{className:c.default.description},void 0,d.default.Messages.HUB_STUDY_ROOM_NOTICE_DESCRIPTION),y(l.default,{className:c.default.btn,onClick:function(){(0,o.hideHotspot)(o.HotspotLocations.HUB_STUDY_ROOM_NOTICE);if(null!=t&&null!=t.getGuildId()){(0,u.connectAndOpen)(t);(0,i.transitionToGuild)(t.getGuildId(),t.id)}},color:l.default.Colors.GREEN},void 0,d.default.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA)))};h.displayName="HubStudyRoomNoticeOnboard";var m=h;t.default=m},782256:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(341186),i=n(513696),u=f(n(487372)),l=f(n(247001)),s=f(n(692657));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){
var t=e.name,n=e.channel,r=(0,a.useStateFromStoresArray)([u.default],(function(){return u.default.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),f=(0,o.getChannelIconComponent)(n);return c(i.GuildNoticeBody,{heading:l.default.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t,location:l.default.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=f?c(f,{width:16,height:16,className:s.default.icon}):null},void 0,c(i.LiveVoiceOrStageChannelNotice,{channel:n,speakers:r,voiceType:i.VoiceChannelType.STUDY_ROOM}))}p.displayName="HubStudyRoomNoticeVoice";var v=p;t.default=v},683749:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FileTypes=void 0;var n;t.FileTypes=n;!function(e){e.MP4="video/mp4"}(n||(t.FileTypes=n={}))},810928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(213847)),u=p(n(429130)),l=p(n(908306)),s=p(n(670729)),f=n(770348),d=p(n(627962)),c=["enabled","imageClassName"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h=((r={})[f.ThemeTypes.DARK]=f.Colors.STATUS_GREY_500,r[f.ThemeTypes.LIGHT]=f.Colors.STATUS_GREY_600,r);function m(e){
var t,n,r=e.enabled,f=e.imageClassName,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c),v=(0,i.default)(),m={height:18,width:18,color:h[v]};return a.createElement(s.default,y({className:(0,o.default)((t={},t[d.default.avatarUploader]=r,t[d.default.avatarUploaderDisabled]=!r,t)),imageClassName:(0,o.default)(f,d.default.avatarUploaderInnerSquare,(n={},n[d.default.avatarUploaderInnerSquareDisabled]=!r,n)),icon:null!=p.image&&""!==p.image?a.createElement(u.default,m):a.createElement(l.default,m),iconClassName:(0,o.default)(d.default.avatarUploadIcon,d.default.hideDefaultIcon),showIcon:!0,showIconDisabled:!0,hideSize:!0},p))}m.displayName="BannerUploader"},32735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.processImage=d;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(707842)),o=n(164101),i=n(683749),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function d(e,t,n){!function(e,t){if(null!=e){var n=new FileReader;n.onload=function(n){var r;"string"==typeof(null===(r=n.target)||void 0===r?void 0:r.result)&&t(n.target.result,e)};n.readAsDataURL(e)}}(e,(function(r){if(e.type===i.FileTypes.MP4)return t(r,e);var a=new Image;a.src=r;a.onload=function(){t(r,e)};a.onerror=function(){n()}}))}
var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];(t=e.call.apply(e,[this].concat(a))||this)._ref=r.createRef();t._isMounted=!1;t.handleFileChange=function(e){var n=t.props,r=n.onFileSizeError,a=n.maxFileSizeBytes;e.stopPropagation();e.preventDefault();if(null!=e.currentTarget.files)for(var o=0;o<e.currentTarget.files.length;o++){var i=e.currentTarget.files[o];i.size>a?null==r||r(a):d(i,t.handleFileRead,t.handleFileError)}};t.handleFileRead=function(e,n){var r=t.props.onChange;t._isMounted&&r(e,n)};t.handleFileError=function(){(0,o.openUploadError)({title:u.default.Messages.PREMIUM_ALERT_ERROR_TITLE,help:u.default.Messages.UNABLE_TO_PROCESS_IMAGE})};return t}var n=t.prototype;n.componentDidMount=function(){this._isMounted=!0};n.activateUploadDialogue=function(){var e;null===(e=this._ref.current)||void 0===e||e.activateUploadDialogue()}
;n.render=function(){var e=this.props,t=e.multiple,n=e.disabled,o=e.className,i=e.tabIndex,l=e["aria-label"],s=e.filters;return r.createElement(a.default,{ref:this._ref,onChange:this.handleFileChange,filters:null!=s?s:[{name:u.default.Messages.IMAGES,extensions:["jpg","jpeg","png","gif"]}],multiple:t,disabled:n,className:o,tabIndex:i,"aria-label":l})};return t}(r.PureComponent);c.displayName="ImageInput";c.defaultProps={multiple:!0,tabIndex:-1,maxFileSizeBytes:1/0};var p=c;t.default=p},670729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ImageUploaderIcon=E;t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(294184)),i=y(n(441143)),u=y(n(314234)),l=y(n(151097)),s=y(n(16941)),f=n(8916),d=y(n(32735)),c=n(770348),p=y(n(247001)),v=y(n(307436));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.className,n=e.icon,r=void 0===n?null:n;return g("div",{className:(0,o.default)(v.default.imageUploaderIcon,t)},void 0,r)}E.displayName="ImageUploaderIcon";var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).inputRef=a.createRef();t.handleRemove=function(){t.props.onChange(null)};return t}var n=t.prototype;n.handleExternalFileChange=function(e){(0,i.default)(null!=this.inputRef.current,"ImageInputRef asked to handleExternalFileChange when not mounted");this.inputRef.current.handleFileChange(e)};n.render=function(){
var e,t,n,r,i=this.props,y=i.image,h=i.hint,_=void 0===h?p.default.Messages.CHANGE_AVATAR:h,S=i.name,O=i.makeURL,b=i.disabled,I=i.onChange,C=i.showIcon,T=i.showIconDisabled,A=i.className,P=i.imageClassName,M=i.iconClassName,N=i.icon,R=i.hideSize,w=i.imageStyle,D=i.showRemoveButton,L=i.maxFileSizeBytes,j=i.onFileSizeError,k=i.onOpenImageSelectModal;(e=null!=y&&/^data:/.test(y)?y:O(y))?t='url("'+e+'")':null!=S&&(n=g("div",{className:v.default.imageUploaderAcronym},void 0,(0,f.getAcronym)(S)));if(b)return g("div",{className:(0,o.default)(v.default.imageUploader,v.default.disabled,A)},void 0,g("div",{className:(0,o.default)(v.default.imageUploaderInner,P),style:m({},w,{backgroundImage:t})},void 0,n,T&&g("div",{className:(0,o.default)(v.default.imageUploaderIcon,v.default.imageUploaderIconDisabled,M)},void 0,N)));null!=y?r=g(l.default,{className:v.default.removeButton,onClick:this.handleRemove},void 0,p.default.Messages.REMOVE):R||(r=g("small",{className:v.default.sizeInfo
},void 0,p.default.Messages.MINIMUM_SIZE.format({size:c.AVATAR_SIZE})));return g("div",{className:(0,o.default)(v.default.imageUploader,A)},void 0,g(u.default,{within:!0},void 0,g("div",{className:(0,o.default)(v.default.imageUploaderInner,P),style:m({},w,{backgroundImage:t})},void 0,g("span",{"aria-hidden":!0},void 0,n),_&&g("div",{className:v.default.imageUploaderHint,"aria-hidden":"true"},void 0,_),null!=k?g(s.default,{className:v.default.fileInput,"aria-label":null!=_?_:p.default.Messages.CHANGE_AVATAR,onClick:k}):a.createElement(d.default,{ref:this.inputRef,onChange:I,className:v.default.fileInput,"aria-label":null!=_?_:p.default.Messages.CHANGE_AVATAR,tabIndex:0,maxFileSizeBytes:L,onFileSizeError:j}),C&&g(E,{className:M,icon:N}))),D?r:null)};return t}(a.PureComponent);S.displayName="ImageUploader";S.defaultProps={name:"",makeURL:function(e){return e},disabled:!1,showIcon:!1,hideSize:!1,showRemoveButton:!0,maxFileSizeBytes:1/0,icon:null};var O=S;t.default=O},936747:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(636602)),a=i(n(308920));n(497655);var o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}function s(e){return f.apply(this,arguments)}function f(){return(f=l(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(93212)]).then(n.bind(n,693212));case 2:r=e.sent;(0,r.openInteractionModal)(t);a.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"interaction_modal",application_id:t.application.id});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d={
init:function(){r.default.subscribe(o.ActionTypes.INTERACTION_MODAL_CREATE,s)},terminate:function(){r.default.unsubscribe(o.ActionTypes.INTERACTION_MODAL_CREATE,s)}};t.default=d},497655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.InteractionModalState=void 0;var r,a,o,i,u,l,s,f=m(n(441143)),d=m(n(536211)),c=m(n(636602)),p=m(n(786345)),v=n(81069),y=n(741464),h=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}t.InteractionModalState=a;!function(e){e[e.IN_FLIGHT=0]="IN_FLIGHT";e[e.ERRORED=1]="ERRORED";e[e.SUCCEEDED=2]="SUCCEEDED"}(a||(t.InteractionModalState=a={}));var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getModalState=function(e){return e!==o?null:i};return t
}(d.default.Store))(c.default,((r={})[h.ActionTypes.LOGOUT]=function(){o=null;i=null;u=null;l=null;s=null;return!0},r[h.ActionTypes.INTERACTION_MODAL_CREATE]=function(e){if(e.nonce===s){p.default.deleteMessage(l,u,!0);u=null;l=null;s=null}return!1},r[h.ActionTypes.INTERACTION_QUEUE]=function(e){var t=e.messageId,n=e.nonce,r=e.data;switch(r.interactionType){case v.InteractionTypes.APPLICATION_COMMAND:u=t;l=r.channelId;s=n;return!1;case v.InteractionTypes.MODAL_SUBMIT:(0,f.default)(null==o||i===a.ERRORED||i===a.SUCCEEDED,"cannot submit multiple modals at once");o=n;i=a.IN_FLIGHT;setTimeout((function(){o===n&&i===a.IN_FLIGHT&&(0,y.setFailed)(n)}),1e4);return!0;default:return!1}},r[h.ActionTypes.INTERACTION_SUCCESS]=function(e){var t=e.nonce;if(null==t||t!==o)return!1;i=a.SUCCEEDED;return!0},r[h.ActionTypes.INTERACTION_FAILURE]=function(e){var t=e.nonce;if(null==t||t!==o)return!1;i=a.ERRORED;return!0},r));t.default=g},419523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r,a=O(n(636602)),o=O(n(740207)),i=O(n(390557)),u=n(123516),l=O(n(105988)),s=O(n(177230)),f=n(747868),d=O(n(937196)),c=n(139982),p=n(845634),v=O(n(607209)),y=O(n(635014)),h=O(n(663303)),m=O(n(728429)),_=O(n(81636)),g=O(n(945771)),E=n(770348),S=n(376293);function O(e){return e&&e.__esModule?e:{default:e}}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var I=((r={})[E.GlobalKeybindActions.TOGGLE_PRIORITY_SPEAKER]={onTrigger:function(){},keyEvents:{}},r[E.GlobalKeybindActions.UNASSIGNED]={onTrigger:function(){},keyEvents:{}},r[E.GlobalKeybindActions.PUSH_TO_TALK]={onTrigger:function(e,t){if(y.default.getMode(t)===E.InputModes.PUSH_TO_TALK){I[E.GlobalKeybindActions.PUSH_TO_TALK].isPressed=e;y.default.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!1)}),t)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[E.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY]={onTrigger:function(e){
if(y.default.getMode()===E.InputModes.PUSH_TO_TALK){I[E.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY].isPressed=e;y.default.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!0)}),S.MediaEngineContextTypes.DEFAULT)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[E.GlobalKeybindActions.PUSH_TO_MUTE]={onTrigger:function(e){if(y.default.getMode()===E.InputModes.VOICE_ACTIVITY&&!y.default.isSelfDeaf()){I[E.GlobalKeybindActions.PUSH_TO_MUTE].isPressed=e;o.default.setTemporarySelfMute(e)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[E.GlobalKeybindActions.TOGGLE_MUTE]={onTrigger:function(){return o.default.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.TOGGLE_DEAFEN]={onTrigger:function(){o.default.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.TOGGLE_VOICE_MODE]={onTrigger:function(){var e=y.default.getMode()===E.InputModes.PUSH_TO_TALK?E.InputModes.VOICE_ACTIVITY:E.InputModes.PUSH_TO_TALK
;o.default.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.TOGGLE_OVERLAY]={onTrigger:function(){var e=_.default.enabled;i.default.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK]={onTrigger:function(e){var t=_.default.getFocusedPID();null!=t&&(_.default.isReady(t)||_.default.isCrashed(t))&&(e?i.default.setUILocked(!g.default.isUILocked(t),t):i.default.setInputLocked(!_.default.isInputLocked(t),t))},keyEvents:{keyup:!0,keydown:!0}},r[E.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]={onTrigger:function(){var e=_.default.getFocusedPID();null!=e&&(null!=e||!1)&&g.default.isPinned(E.OverlayWidgets.TEXT)&&_.default.isReady(e)&&_.default.isInputLocked(e)&&i.default.activateRegion(E.OverlayActiveRegions.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING]={onTrigger:function(){var e=m.default.getCurrentUser();if(null!=e){var t=v.default.getActiveStreamForUser(e.id)
;if(null!=t&&e.id===t.ownerId)return(0,u.stopStream)((0,f.encodeStreamKey)(t));(0,d.default)()}},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.TOGGLE_STREAMER_MODE]={onTrigger:function(){l.default.setEnabled(!h.default.enabled)},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.NAVIGATE_BACK]={onTrigger:function(){return(0,c.back)()},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.NAVIGATE_FORWARD]={onTrigger:function(){return(0,c.forward)()},keyEvents:{keyup:!0,keydown:!1}},r[E.GlobalKeybindActions.SOUNDBOARD]={onTrigger:function(){return(0,p.openSoundboardWindow)(!0)},keyEvents:{keyup:!1,keydown:!0}},r[E.GlobalKeybindActions.SOUNDBOARD_HOLD]={onTrigger:function(e){e?(0,p.openSoundboardWindow)(!1):(0,p.closeSoundboardWindow)()},keyEvents:{keyup:!0,keydown:!0}},r),C=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype
;n._initialize=function(){a.default.wait((function(){return a.default.dispatch({type:E.ActionTypes.KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS,keybinds:I})}))};n._terminate=function(){};return t}(s.default));t.default=C},778885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=b(n(667294)),o=S(n(294184)),i=n(536211),u=S(n(415275)),l=S(n(678875)),s=n(139982),f=S(n(30098)),d=S(n(790597)),c=S(n(956117)),p=S(n(889167)),v=S(n(776360)),y=b(n(465537)),h=S(n(930409)),m=n(770348),_=S(n(247001)),g=S(n(5459)),E=S(n(944659));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(){var e=(0,
i.useStateFromStores)([d.default],(function(){return d.default.getGuildId()}),[]),t=(0,i.useStateFromStores)([f.default],(function(){return f.default.getGuild(e)}),[e]),n=(0,i.useStateFromStores)([h.default],(function(){return h.default.getHistorySnapshot()}),[]),r=A(a.useState(!1),2),S=r[0],O=r[1];if(null==t)return null;var b=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0);e.prev=1;e.next=4;return u.default.joinGuild(t.id,{source:m.JoinGuildSources.NOTICE_BAR});case 4:r=e.sent;y.trackGuildJoinClicked(t.id);t.hasVerificationGate()&&null!=(null===(n=r.body)||void 0===n?void 0:n.member_verification_form)&&(0,l.default)(t.id);e.next=12;break;case 9:e.prev=9;e.t0=e.catch(1);O(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,u,"next",e)}function u(e){
C(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return I("div",{className:(0,o.default)(g.default.notice,E.default.notice)},void 0,I(c.default,{look:c.default.Looks.OUTLINED,color:c.default.Colors.WHITE,size:c.default.Sizes.NONE,className:(0,o.default)(g.default.button,g.default.back),innerClassName:g.default.iconButton,onClick:function(){var e=(0,s.getHistory)();null!=n&&null!=n.location?(0,s.replaceWith)(T({},n.location)):e.goBack()}},void 0,I(p.default,{width:16,height:16,className:g.default.arrow}),_.default.Messages.BACK),I(v.default,{className:g.default.header},void 0,_.default.Messages.LURKER_MODE_NAG_BAR_HEADER),I(c.default,{className:g.default.button,look:c.default.Looks.OUTLINED,color:c.default.Colors.WHITE,size:c.default.Sizes.NONE,submitting:S,onClick:b},void 0,_.default.Messages.LURKER_MODE_NAG_BAR_BUTTON.format({guild:t.name})))};M.displayName="LurkerModeNotice";var N=M;t.default=N},316200:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=u(n(636602)),o=u(n(177230)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).clearErrorTimeout=new r.Timeout;t.handleNoiseCancellationError=function(){t.clearErrorTimeout.start(3e3,(function(){return a.default.dispatch({type:i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR_RESET})}))};return t}var n=t.prototype;n._initialize=function(){a.default.subscribe(i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR,this.handleNoiseCancellationError)};n._terminate=function(){this.clearErrorTimeout.stop()
;a.default.unsubscribe(i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR,this.handleNoiseCancellationError)};return t}(o.default));t.default=s},999607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(118777)),i=u(n(353326));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){return e.toFixed(0)+"%"},d=a.forwardRef((function(e,t){var n=e.value,r=e.minValue,u=void 0===r?0:r,l=e.maxValue,d=void 0===l?100:l,c=e.onChange,p=e.renderValue,v=void 0===p?f:p,y=e["aria-label"],h=a.useRef(null);a.useImperativeHandle(t,(function(){return{focus:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.focus()},blur:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.blur()},activate:function(){return!1}}}),[]);return s("div",{className:i.default.sliderContainer},void 0,a.createElement(o.default,{ref:h,mini:!0,handleSize:16,
className:i.default.slider,initialValue:n,minValue:u,maxValue:d,onValueChange:c,asValueChanges:c,onValueRender:v,orientation:"horizontal","aria-label":y}))}));t.default=d},960736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MessageNoticeBanner=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(157358));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.bannerIcon,n=e.bannerHeader,r=e.bannerSubtext,i=e.containerStyles,u=e.headerStyles,s=e.children;return l("div",{className:o.default.spamBanner},void 0,l("div",{className:(0,a.default)(o.default.bannerTextContainer,i)},void 0,"string"==typeof t?l("img",{src:t,alt:"",className:o.default.bannerIcon}):t,l("div",{className:o.default.bannerText},void 0,l("div",{className:(0,a.default)(o.default.bannerHeader,u)},void 0,n),l("div",{className:o.default.bannerSubtext},void 0,r))),l("div",{className:o.default.actionButtons},void 0,s))}s.displayName="MessageNoticeBanner"},
486030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(667294)),a=s(n(636602)),o=s(n(177230)),i=d(n(108101)),u=n(194322),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return c.apply(this,arguments)}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this)._openReportMessageModal=function(e){var t=e.channel,n=e.message;(0,u.openModal)((function(e){return r.createElement(i.default,c({channel:t,message:n},e))}),{modalKey:i.REPORT_MESSAGE_MODAL_KEY})};return t}var n=t.prototype;n._initialize=function(){a.default.subscribe(l.ActionTypes.REPORT_MESSAGE_MODAL_OPEN,this._openReportMessageModal)};n._terminate=function(){a.default.unsubscribe(l.ActionTypes.REPORT_MESSAGE_MODAL_OPEN,this._openReportMessageModal)};return t}(o.default));t.default=v},590886:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.removeAccount=function(e){o.default.dispatch({
type:f.ActionTypes.MULTI_ACCOUNT_REMOVE_ACCOUNT,userId:e})};t.switchAccount=function(e){var t=r.default.getToken(e);if(null==t){o.default.dispatch({type:f.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE,userId:e});return}o.default.dispatch({type:f.ActionTypes.LOGOUT,isSwitchingAccount:!0});i.default.loginToken(t,!0);(0,u.transitionTo)(f.Routes.ME)};t.validateMultiAccountTokens=function(){var e=l.default.getId();s.default.getUsers().forEach(function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var i,u,l,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.id;if(u=r.default.getToken(i)){t.next=5;break}o.default.dispatch({type:f.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE,userId:i});return t.abrupt("return");case 5:o.default.dispatch({type:f.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST,userId:i});t.prev=6;t.next=9;return a.default.get({url:f.Endpoints.ME,headers:{authorization:u},retries:3});case 9:l=t.sent;t.next=17;break;case 12:
t.prev=12;t.t0=t.catch(6);s=401===(null===t.t0||void 0===t.t0?void 0:t.t0.status)||403===(null===t.t0||void 0===t.t0?void 0:t.t0.status);o.default.dispatch({type:s?f.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE:f.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS,userId:i});return t.abrupt("return");case 17:o.default.dispatch({type:e===i?f.ActionTypes.CURRENT_USER_UPDATE:f.ActionTypes.USER_UPDATE,user:l.body});o.default.dispatch({type:f.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS,userId:i});case 19:case"end":return t.stop()}}),t,null,[[6,12]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}())};var r=d(n(653795)),a=d(n(118915)),o=d(n(636602)),i=d(n(939949)),u=n(139982),l=d(n(423046)),s=d(n(915574)),f=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}},393742:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useMultiAccountUsers=function(){var e=(0,a.useStateFromStoresObject)([u.default],(function(){return{isLoading:u.default.getIsValidatingUsers(),multiAccountUsers:u.default.getUsers()}}));r.useEffect((function(){o.default.wait((function(){i.validateMultiAccountTokens()}))}),[]);return e};var r=f(n(667294)),a=n(536211),o=l(n(636602)),i=f(n(590886)),u=l(n(915574));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}},359150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}var l=i("rect",{width:232,height:72,rx:36,fill:"#fff"}),s=i("g",{clipPath:"url(#prefix__clip0_1283_59574)"},void 0,i("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint0_linear_1283_59574)"}),i("path",{d:"M37.243 35.366l3.455-22.103a3.098 3.098 0 013.217-2.68 3.157 3.157 0 013.038 3.634l-3.395 22.876-6.315-1.727z",fill:"#E66CA5"}),i("path",{
d:"M40.936 31.315l2.979-13.881a.476.476 0 01.536-.358c.238.06.417.239.357.477l-1.906 13.583-1.966.179z",fill:"#F085B7"}),i("path",{d:"M40.698 13.264a3.157 3.157 0 011.132-2.026c-.536 3.634-1.55 10.068-2.979 20.792l-1.132.178 2.979-18.944z",fill:"#FFABBB"}),i("path",{d:"M18.357 93.928L9.897 52.94a.894.894 0 01.835-1.073h4.17a.953.953 0 01.894.715l8.578 41.345h-6.017z",fill:"#6E2B17"}),i("path",{d:"M39.745 55.442H14.068v4.522h25.677v-4.522z",fill:"#6E2B17"}),i("path",{d:"M25.923 12.549a3.932 3.932 0 00-2.264 4.885l6.434 18.826 8.281-2.443-7.387-19.064a3.932 3.932 0 00-5.064-2.204z",fill:"#E66CA5"}),i("path",{d:"M32.298 31.553l3.276-.477-4.527-11.26a1.191 1.191 0 00-1.728-.655 1.251 1.251 0 00-.655 1.49l3.634 10.902z",fill:"#F085B7"}),i("path",{d:"M30.51 31.553l-6.374-17.515a3.992 3.992 0 00-.477 3.396l4.885 14.357 1.966-.238z",fill:"#FFA3B5"}),i("path",{
d:"M46.319 28.902l-24.281 3.154a6.374 6.374 0 00-5.5 7.142l.022.171a6.374 6.374 0 007.142 5.5l24.281-3.153a6.375 6.375 0 005.5-7.142l-.022-.172a6.374 6.374 0 00-7.142-5.5z",fill:"#FF85AB"}),i("path",{d:"M27.294 66.702c-1.49-1.31-2.86-2.562-3.158-3.098-.298-.536.179-.596.953-.894.775-.298 1.31.655 2.085 2.145.775 1.49 1.43 3.038.12 1.847z",fill:"#F2C591"}),i("path",{d:"M47.608 50.915L25.864 54.37c-1.43 1.25-1.55 1.549-2.562 2.442-2.92 2.562-3.694 4.647-3.753 6.911-.179 3.157.119 3.038-.537 4.17-.655 1.132-1.31 1.55-.714 3.158a8.28 8.28 0 001.787 2.74H54.4c7.685-8.996.715-16.323-6.792-22.876z",fill:"#F7E5BC"}),i("path",{d:"M50.826 73.791H27.77s.12-2.025.239-7.208-.894-8.758-4.707-9.77c.775-.775 1.609-1.61 2.562-2.443l21.745-3.396c1.43 1.251 2.86 2.502 4.17 3.813a93.885 93.885 0 01-.953 19.004z",fill:"#1F3A70"}),i("path",{
d:"M47.609 50.974h-.298l-.298.358a58.619 58.619 0 01-3.455 9.472s.119 1.191 1.727-1.132a25.974 25.974 0 003.694-7.506l-1.37-1.192zM28.306 54.37c4.23 5.064 5.66 6.256 7.209 7.268 1.549 1.013.238-.536-1.37-2.919a313.091 313.091 0 01-3.515-5.362l-2.324 1.013z",fill:"#172E5C"}),i("path",{d:"M29.974 57.349s-.178.417-1.131 1.013c-.954.595-1.132.893-1.251.715a5.184 5.184 0 00-3.634-2.92c.595-.655 1.25-1.25 1.966-1.906 3.276 1.37 4.05 3.098 4.05 3.098z",fill:"#244AB0"}),i("path",{d:"M45.702 50.915l-4.409 16.442-11.2-15.906 15.609-.536z",fill:"#D4BF9B"}),i("path",{d:"M36.17 56.693l8.4 2.205-3.157 5.004-5.243-6.255c-.715-.834-1.37-1.311 0-.954z",fill:"#CCAC89"}),i("path",{d:"M32.536 54.072l10.247 1.37c1.132.12 1.191-1.131 1.787-3.574l-11.08.834-.954 1.37z",fill:"#DE5D98"}),i("path",{d:"M48.85 39.874L23.86 43.12a6.016 6.016 0 00-5.192 6.739 6.016 6.016 0 006.741 5.189l24.99-3.246a6.016 6.016 0 005.193-6.739 6.016 6.016 0 00-6.742-5.189z",fill:"#FF85AB"}),i("path",{
d:"M50.17 51.808a6.136 6.136 0 005.421-6.493 6.017 6.017 0 00-4.05-5.183 6.492 6.492 0 002.025-5.54v-.18a6.256 6.256 0 00-7.09-5.48l-19.719 2.561c4.23 2.92 4.23 5.422 3.515 10.188-.05.726.116 1.452.477 2.085a9.353 9.353 0 01-1.013 10.723l20.434-2.68z",fill:"#F06EA8"}),i("path",{d:"M47.31 67.417l-4.11 3.217a.596.596 0 01-.894-.12L37.6 64.2a.715.715 0 01.12-.894l4.17-3.217a.655.655 0 01.893.12l4.647 6.314a.594.594 0 01-.12.894zM53.923 67.476l-4.945-.357a.476.476 0 01-.416-.417l.357-8.281a.476.476 0 01.477-.417l4.944.357a.476.476 0 01.417.477l-.357 8.221a.477.477 0 01-.477.417z",fill:"#BA4E5D"}),i("path",{d:"M54.061 61.886l-2.09-2.446-2.59 2.213 2.089 2.446 2.591-2.213z",fill:"#AD3B4B"}),i("path",{d:"M53.983 66.344a.417.417 0 00.298-.536l-1.907-7.566-2.978-.238a.477.477 0 00-.477.417l-.357 8.28v.12a.417.417 0 00.357.12l5.064-.597z",fill:"#872C39"}),i("path",{
d:"M53.328 66.285l-5.004.595a.477.477 0 01-.477-.298l-2.026-8.042a.36.36 0 01.187-.444.358.358 0 01.17-.033l5.005-.655a.476.476 0 01.477.298l2.025 8.042a.417.417 0 01-.357.537z",fill:"#BA4E5D"}),i("path",{d:"M51.773 61.16L49.2 59.23l-2.046 2.725 2.573 1.931 2.046-2.725zM44.153 63.485h-3.217v3.407h3.217v-3.407z",fill:"#AD3B4B"}),i("path",{d:"M50.35 65.153l-3.337-7.209-.834.12a.358.358 0 00-.358.476l2.026 7.983 2.204-.774a.477.477 0 00.298-.596zM42.783 60.208a.655.655 0 00-.894-.119l-1.549 1.192 3.217 7.03a.358.358 0 00.477.178l3.276-1.072a.596.596 0 00.12-.894l-4.647-6.315z",fill:"#872C39"}),i("path",{d:"M49.753 66.106l-5.42 1.787a.476.476 0 01-.537-.238L40.34 60.15c-.12-.239 0-.477.297-.596L46 57.766a.477.477 0 01.536.238l3.456 7.506a.414.414 0 01-.082.504.417.417 0 01-.157.092z",fill:"#BA4E5D"}),i("path",{
d:"M51.48 62.949c2.026 1.012 4.826 2.68 4.826 2.68a3.575 3.575 0 011.668 2.8v.537a3.574 3.574 0 01-3.514 3.693c-.12.06-.239 0-.358 0a3.277 3.277 0 01-2.383-1.37 20.37 20.37 0 00-2.145-2.502c-.417-.417-1.548-1.073-1.906-1.43-1.191-1.31-.953-1.906 0-3.396s1.549-2.144 3.813-1.012z",fill:"#F57FB5"}),i("path",{d:"M37.71 41.344c.518-.407.459-1.344-.131-2.094-.59-.75-1.488-1.028-2.005-.621-.517.407-.458 1.345.132 2.094.59.75 1.488 1.028 2.005.621zM47.629 38.217c.16-.87-.207-1.668-.82-1.78-.613-.113-1.239.502-1.399 1.372-.16.871.207 1.668.82 1.78.613.113 1.239-.502 1.399-1.372z",fill:"#1E1C2B"}),i("path",{d:"M40.757 43.468l1.55 1.013a2.025 2.025 0 002.918-.834l.477-1.013",stroke:"#BA4173",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round"}),i("path",{d:"M22.051 43.647c-1.43-.358-3.157-.834-3.872-.894a6.554 6.554 0 002.502 1.787l-.239.239 3.694-.18c1.31-.178.775-.297-2.085-.952z",fill:"#F071AB"}),i("path",{
d:"M20.676 36.013c.937-1.015 1.383-2.128.996-2.485-.387-.357-1.46.177-2.397 1.192-.937 1.016-1.383 2.129-.996 2.486.387.356 1.46-.177 2.397-1.193z",fill:"#FFA1BD"}),i("path",{d:"M20.443 67.357l3.276-1.37c.655-.238.06-.477-1.43-1.132-1.489-.655-1.787-.894-1.906.417-.12 1.31-.596 2.323.06 2.085z",fill:"#FAD596"}),i("path",{d:"M28.544 66.642c.656-3.336.596-4.23.834-4.289.239-.06.834.775 1.311 1.787.477 1.013-2.145 2.502-2.145 2.502z",fill:"#172E5C"}),i("path",{d:"M57.974 68.43a3.573 3.573 0 00-1.668-2.8s-2.264-1.37-4.17-2.324a12.57 12.57 0 00-2.74 3.575 3.756 3.756 0 00-.477 1.37l.715.536a26.082 26.082 0 012.145 2.502 3.455 3.455 0 001.668 1.251c.805.23 1.663.188 2.442-.119a3.635 3.635 0 002.085-3.574v-.417z",fill:"#F073AB"}),i("path",{d:"M47.65 61.933l-2.874-1.446-1.53 3.045 2.873 1.445 1.531-3.044z",fill:"#AD3B4B"}),i("path",{d:"M12.4 53.476a2.204 2.204 0 100-4.408 2.204 2.204 0 000 4.408z",fill:"#6E2B17"})),f=i("g",{opacity:.5,fill:"#4F5660"},void 0,i("circle",{cx:82,cy:36,r:2
}),i("circle",{cx:90,cy:36,r:2}),i("circle",{cx:98,cy:36,r:2})),d=i("g",{clipPath:"url(#prefix__clip1_1283_59574)",fill:"#4F5660"},void 0,i("path",{d:"M121.04 25.2l-8.16.12c-.48 0-.72.72-.36 1.08l1.56 1.44c.48.48.48 1.2 0 1.68l-1.68 1.8c-1.32 1.44-1.32 3.72.12 5.04.48.48 1.2.48 1.68 0l2.52-2.64c.96-.96 2.4-.96 3.36 0l.72.6c.36.36 1.08.12.96-.48l-.12-8.04c0-.36-.24-.6-.6-.6zM110.72 47.4l8.16-.12c.48 0 .84-.72.36-1.08l-1.56-1.44a1.16 1.16 0 010-1.68l1.68-1.68c1.44-1.44 1.32-3.72-.12-5.04a1.16 1.16 0 00-1.68 0L115.04 39c-.96.96-2.4.96-3.36 0l-.72-.72c-.36-.36-.96-.12-.96.48l.12 8.04c0 .36.36.6.6.6z"})),c=i("g",{opacity:.5,fill:"#4F5660"},void 0,i("circle",{cx:134,cy:36,r:2}),i("circle",{cx:142,cy:36,r:2}),i("circle",{cx:150,cy:36,r:2})),p=i("g",{clipPath:"url(#prefix__clip2_1283_59574)"},void 0,i("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint1_linear_1283_59574)"}),i("path",{d:"M197.886 21.806c1.902-7.234 2.816-8.517 7.188.815l-7.188-.815z",fill:"#D4E1FF"}),i("path",{
d:"M246.129 126.042c-5.929 2.098-21.615-.692-23.097-4.568-1.482-3.876 12.845-54.809 17.637-57.13 4.793-2.32 18.897 2.05 22.627 15.9 3.73 13.85-3.902 14.789-3.902 14.789s2.371 20.244 2.717 22.417c.346 2.173 1.556 5.95-2.717 6.419-4.274.469-7.115 0-13.265 2.173z",fill:"#4D90E8"}),i("path",{d:"M179.878 37.261l-.173.149c2.618 2.469 6.596 8.813 12.647 8.493 0 0 4.891 8.937 10.153 7.95 5.262-.988 9.164-8.395 9.164-8.395a27.582 27.582 0 002.989-8.197c-.074-.666-.321-1.185-.79-1.506-3.755-2.493-31.248-.493-33.99 1.506z",fill:"#1C1B29"}),i("path",{d:"M187.857 18.942l5.508 1.481a12.878 12.878 0 015.188-1.036c8.398 0 12.869 6.814 12.869 15.183 0 8.37-4.471 15.184-12.869 15.184-8.399 0-12.845-6.814-12.845-15.184a21.9 21.9 0 01.296-3.679c.569-3.21.418-6.508-.445-9.653a1.879 1.879 0 012.298-2.296z",fill:"#B3CAFF"}),i("path",{
d:"M211.126 38.2c-4.076 1.802-8.275-.1-12.326-2.42-4.422-2.543-7.263-8.987-8.473-11.036-1.21-2.05-2.94-2.444-4.125-5.431a1.852 1.852 0 00-.642 1.925 21.983 21.983 0 01.444 9.654 21.9 21.9 0 00-.296 3.678c0 8.37 4.471 15.184 12.845 15.184 7.139 0 11.437-4.938 12.573-11.555z",fill:"#8DAEF7"}),i("path",{d:"M210.385 35.705c0 6.518-3.878 11.802-8.646 11.802-4.767 0-8.621-5.284-8.621-11.802 0-10.764 6.694-1.95 11.462-1.95 4.767 0 5.928-7.283 5.805 1.95z",fill:"#FCFDFF"}),i("path",{d:"M201.882 41.99c.463-.039.785-.687.722-1.448-.064-.761-.491-1.346-.953-1.308-.462.04-.785.688-.721 1.448.064.761.49 1.347.952 1.308zM207.557 40.729c.138-.751-.12-1.428-.577-1.511-.456-.084-.938.457-1.076 1.208-.137.75.121 1.427.577 1.511.456.084.938-.457 1.076-1.208z",fill:"#1C1B29"}),i("path",{d:"M194.007 60.84s-5.755 4.369-11.288 2.073a.914.914 0 01-.544-1.086c.519-1.68 2.495-5.654 9.584-5.259 9.017.518 2.248 4.271 2.248 4.271z",fill:"#A62D69"}),i("path",{
d:"M192.352 53.21s-1.778-4.444-9.312-3.26a.868.868 0 00-.685.545.855.855 0 00.141.863 20.874 20.874 0 0011.091 6.617c8.004 1.728-1.235-4.765-1.235-4.765z",fill:"#A62D69"}),i("path",{d:"M193.785 57.728c-.321 3.16-5.41 3.284-6.052-.69-.642-3.976 2.297-4.593 4.397-3.284 2.1 1.308 1.655 3.974 1.655 3.974z",fill:"#79A0F7"}),i("path",{d:"M214.658 37.261z",fill:"#DE548C"}),i("path",{
d:"M226.639 116.734c-3.508.741-14.006-9.258-14.006-9.258 2.89 9.085 3.384 11.801 3.878 14.146.494 2.346.197 2.815 0 4.469-.198 1.654-.198 1.605.79 3.679.988 2.073 1.631 3.53 1.828 4.592a5.839 5.839 0 01-.074 1.851h-44.142s-.223-.987.716-3.728c.939-2.74 3.088-5.011 4.273-6.74 1.186-1.728 1.112-1.555.791-2.271-1.482-3.506.914-2.74 1.927-7.999 1.012-5.259 1.334-30.343 3.581-40.588 2.248-10.246 5.682-12.666 5.929-21.134-4.175-3.9-14.525-14.048-12.425-16.344 2.371 2.222 9.485 3.309 15.29 3.26a2.42 2.42 0 012.322 1.629c.988 2.987 3.483 8.888 7.411 8.122 3.928-.765 6.842-7.777 7.658-10.32a2.54 2.54 0 011.012-1.358 4.324 4.324 0 001.26-1.48c.544 4.863-7.534 17.75-7.534 17.75s2.001 17.48 6.003 23.232c4.001 5.753 15.241 5.753 15.512 11.234.272 5.48 1.483 26.515-2 27.256z",fill:"#BD4070"}),i("path",{
d:"M192.698 42.742c-2.915-.173-6.842-.667-13.141-3.802 1.012 3.678 9.041 11.48 12.573 14.813a24.5 24.5 0 01-1.408 7.703c3.186 4.518 7.04 1.58 7.732 14.27.296 5.407 4.273 12.591 8.423 20.368 4.15 7.777 4.718-6.518 4.545-13.554-.099-3.827-.864-8.567-1.68-13.085-1.753-6.839-2.618-14.443-2.618-14.443s5.657-9.036 7.188-14.813c-.386.24-.688.594-.864 1.012a106.604 106.604 0 01-5.138 10.098c-1.952 3.284-5.583 4.913-9.758-1.555-4.174-6.469-2.717-6.814-5.854-7.012z",fill:"#A12C66"}),i("path",{d:"M209.298 82.837c-1.087-.223-2.248-1.605-6.151-4.222 0 0-.173-3.308-4.693-2.889 0 0-1.828-4.74-3.335-8.986-1.507-4.247-5.434-1.852-6.25 2.468-1.827 9.826-2.47 28.022.742 34.515 1.877 3.802 3.705 4.592 10.547 6.543 1.482.716 4.743-4.716 6.373-13.382 2.174-11.53 2.767-12.196 2.767-14.047z",fill:"#BD4070"}),i("path",{d:"M205.984 24.434c.285-.416-.442-1.41-1.624-2.218-1.182-.809-2.371-1.127-2.656-.71-.285.415.442 1.409 1.624 2.217 1.182.81 2.371 1.128 2.656.711z",fill:"#D4E1FF"}),i("path",{
d:"M194.526 30.645c4.348 2.098 5.855 4.765 9.338 4.666 3.483-.099 4.841-1.778 6.249-4.024-.568-1.235-2.124 2.468-5.533 2.468-3.409 0-7.855-4.567-10.054-3.11z",fill:"#8DAEF7"}),i("path",{d:"M196.774 67.233c2.495 3.506-.864-7.036-.864-7.036h-4.768c-.642 2.197-1.531 4.172-2.47 6.567 1.433-3.605 4.471-4.592 8.102.469z",fill:"#A12C66"}),i("path",{d:"M224.959 53.136l1.853-.815c.049-.024.049-.074 0-.074l-1.853-.84h-.025l-.839-1.85c0-.05-.05-.05-.075 0l-.815 1.85h-.024l-1.878.84c-.025 0-.025.05 0 .074l1.878.815h.024l.815 1.876h.075l.839-1.876h.025z",fill:"#A1F7D7"})),v=i("defs",{},void 0,i("clipPath",{id:"prefix__clip0_1283_59574"},void 0,i("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"#fff"})),i("clipPath",{id:"prefix__clip1_1283_59574"},void 0,i("path",{fill:"#fff",transform:"translate(110 25.2)",d:"M0 0h11.76v22.2H0z"})),i("clipPath",{id:"prefix__clip2_1283_59574"},void 0,i("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"#fff"})),i("linearGradient",{id:"prefix__paint0_linear_1283_59574",
x1:36,y1:64.254,x2:36,y2:24.141,gradientUnits:"userSpaceOnUse"},void 0,i("stop",{stopColor:"#7196FF"}),i("stop",{offset:1,stopColor:"#2A5EE8"})),i("linearGradient",{id:"prefix__paint1_linear_1283_59574",x1:196,y1:64.254,x2:196,y2:24.141,gradientUnits:"userSpaceOnUse"},void 0,i("stop",{stopColor:"#7196FF"}),i("stop",{offset:1,stopColor:"#2A5EE8"})));function y(e){return a.createElement("svg",u({width:232,height:72,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l,s,f,d,c,p,v)}y.displayName="MultiAccountWelcomeIcon"},719637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(972247)),i=v(n(956117)),u=v(n(776360)),l=v(n(308920)),s=v(n(359150)),f=n(198622),d=n(770348),c=v(n(247001)),p=v(n(342983));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){o.default.set(f.MULTIACCOUNT_TOOLTIP_SEEN_KEY,"true");e();l.default.track(d.AnalyticEvents.UPSELL_CLICKED,{type:"multi_account_cta_tooltip",
action:"dismiss"})}function _(e){var t=e.markAsDismissed;a.useEffect((function(){l.default.track(d.AnalyticEvents.UPSELL_VIEWED,{type:"multi_account_cta_tooltip"});return function(){m(t);window.removeEventListener("keydown",n)}}),[]);var n=function(e){e.keyCode===d.KeyboardKeys.ESCAPE&&m(t)};window.addEventListener("keydown",n);return h("div",{className:p.default.container},void 0,h(s.default,{className:p.default.icon}),h(u.default,{className:p.default.title},void 0,c.default.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_TITLE),h(u.default,{size:u.default.Sizes.SIZE_14,className:p.default.subTitle},void 0,c.default.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_SUBTITLE.format({maxAltAccounts:f.MAX_ACCOUNTS-1})),h(i.default,{look:i.default.Looks.INVERTED,fullWidth:!0,onClick:function(){return m(t)}},void 0,c.default.Messages.GOT_IT),h("div",{className:p.default.pointer}))}_.displayName="MultiAccountCTATooltip"},241505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(){(0,i.openModalLazy)(d(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(25108)]).then(n.bind(n,825108));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){o.default.dispatch({type:l.ActionTypes.CLEAR_AUTHENTICATION_ERRORS});o.default.dispatch({type:l.ActionTypes.LOGIN_RESET,isMultiAccount:!0})},modalKey:u.SWITCH_ACCOUNTS_MODAL_KEY})};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(636602))&&r.__esModule?r:{default:r},i=n(194322),u=n(198622),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}},678620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useMultiAccountMenuItems=function(){var e=(0,o.useStateFromStores)([s.default],(function(){return s.default.getCurrentUser()})),t=(0,o.useStateFromStores)([l.default],(function(){return l.default.hidePersonalInformation})),n=(0,m.useMultiAccountUsers)().multiAccountUsers,r=n.map((function(n){
var r=new u.default(n),a=r.id===(null==e?void 0:e.id),o=n.tokenStatus===h.MultiAccountTokenStatus.INVALID,l=t?null:"#"+r.discriminator;return C(i.MenuItem,{id:r.id,focusedClassName:S.default.focused,label:function(){return C("div",{className:S.default.userMenuItem},void 0,C(c.default,{src:r.getAvatarURL(void 0,40),size:c.default.Sizes.SIZE_24,"aria-label":n.username}),C("div",{className:S.default.userMenuUsername},void 0,C(p.default,{className:S.default.userMenuText},void 0,r.toString()),C(p.default,{className:S.default.userMenuDiscriminator},void 0,l)),a&&C(f.default,{color:g.Colors.BRAND_500,backgroundColor:g.Colors.WHITE,width:18,height:18,className:S.default.activeIcon}),o&&C(d.default,{color:g.Colors.STATUS_RED,backgroundColor:g.Colors.WHITE,width:15,height:15,className:S.default.activeIcon}))},action:function(){o?(0,_.default)():function(t){if(t!==(null==e?void 0:e.id)){v.default.track(g.AnalyticEvents.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{
section:g.AnalyticsSections.PROFILE_POPOUT}});y.switchAccount(t)}}(r.id)}},r.id)}));r.push(a.createElement(a.Fragment,null,T,C(i.MenuItem,{id:"manage-accounts",label:E.default.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNTS,action:_.default})));return r};var r,a=I(n(667294)),o=n(536211),i=n(145122),u=O(n(759027)),l=O(n(663303)),s=O(n(728429)),f=O(n(474026)),d=O(n(417184)),c=O(n(628551)),p=O(n(776360)),v=O(n(308920)),y=I(n(590886)),h=n(915574),m=n(393742),_=O(n(241505)),g=n(770348),E=O(n(247001)),S=O(n(519276));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=C(i.MenuSeparator,{})},594570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ICON_SIZE=void 0;t.ICON_SIZE=64},737050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mount=function(){a.default.dispatch({type:o.ActionTypes.NOW_PLAYING_MOUNTED})};t.unmount=function(){a.default.dispatch({type:o.ActionTypes.NOW_PLAYING_UNMOUNTED})};var r,a=(r=n(636602))&&r.__esModule?r:{
default:r},o=n(770348)},4865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,i.useStateFromStoresObject)([d.default,s.default,f.default],(function(){return{nowPlayingCards:d.default.nowPlayingCards,loaded:d.default.loaded,needsRefresh:s.default.needsRefresh(),fetching:s.default.getFetching(),currentUser:f.default.getCurrentUser()}})),t=e.nowPlayingCards,n=e.loaded,r=e.needsRefresh,o=e.fetching,l=e.currentUser;a.useEffect((function(){u.default.wait((function(){return h.mount()}));return function(){return u.default.wait((function(){return h.unmount()}))}}),[null==l?void 0:l.id]);a.useEffect((function(){r&&!o&&N()}),[r,o]);var c=null;if(!n)return P("div",{className:b.default.emptyCard},void 0,R);c=t.length>0?t.map((function(e){var t=e.party;return P(M,{party:t},t.id)})):P("div",{className:b.default.emptyCard},void 0,P(v.default,{tag:v.default.Tags.H5,size:v.default.Sizes.SIZE_16,className:b.default.emptyHeader
},void 0,O.default.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER),P(y.default,{color:y.default.Colors.CUSTOM,className:b.default.emptyText},void 0,O.default.Messages.ACTIVITY_FEED_NONE_PLAYING_BODY));return a.createElement(a.Fragment,null,c)};var r,a=T(n(667294)),o=I(n(496486)),i=n(536211),u=I(n(636602)),l=T(n(314022)),s=I(n(538983)),f=I(n(728429)),d=I(n(730655)),c=I(n(160629)),p=I(n(80828)),v=I(n(971639)),y=I(n(776360)),h=T(n(737050)),m=I(n(133260)),_=I(n(317134)),g=I(n(863946)),E=I(n(854923)),S=I(n(884809)),O=I(n(247001)),b=I(n(399978));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=(0,S.default)((function(e){var t=e.party,n=e.onUserContextMenu,r=e.onChannelContextMenu,o=P(_.default,{party:t,onUserContextMenu:n
}),i=P(m.default,{party:t,onChannelContextMenu:r}),u=P("div",{},void 0,o,i);return null!=o||null!=i?P(c.default,{position:c.default.Positions.LEFT,renderPopout:function(e){var n=e.closePopout;return P(E.default,{party:t,close:n})},spacing:8},void 0,(function(e,t){var n=t.isShown;return a.createElement(g.default,A({},e,{className:b.default.itemCard,active:n}),u)})):null})),N=o.default.throttle((function(){return l.fetchUserAffinities(!1)}),3e5),R=P(p.default,{})},133260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.party,n=e.onChannelContextMenu,r=t.voiceChannels,y=t.currentActivities,h=t.partiedMembers,m=t.applicationStreams,S=t.guildContext,O=[],b=function(e){var t,n,r=O.length;if(0!==r){var a=O[r-1],o=""+(null!==(t=null==e?void 0:e.key)&&void 0!==t?t:""),i=(""+(null!==(n=null==a?void 0:a.key)&&void 0!==n?n:"")).startsWith("game")&&o.startsWith("rich-presence");O.push(g(c.default.Separator,{inset:i},"sep-"+o));O.push(e)
}else O.push(e)};r.length>0&&r.forEach((function(e){var t=e.members,r=e.channel,a=e.guild;b(g(c.default.VoiceSection,{guild:a,channel:r,members:t,partySize:E(t),onChannelContextMenu:n,onGuildClick:function(){var e=s.default.getChannelId(a.id);(0,l.transitionToGuild)(a.id,e)}},"voice-"+r.id))}));for(var I,C=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.currentActivities);!(I=C()).done;){var T=I.value.activity;if(null!=T){var A=d.createBody(T);if(null!=A){b(A);break}}}m.length>0&&m.forEach((function(e){var t=e.stream,n=e.streamUser,r=e.activity;b(g(c.default.ApplicationStreamingSection,{guildId:null==S?void 0:S.id,user:n,activity:r,applicationStream:t,onPreviewClick:function(){a.default.selectVoiceChannel(t.channelId);(0,o.watchStreamAndTransitionToStream)(t)}},"application-stream-"+t.ownerId))}));y.forEach((function(e,t){var n=e.activity,a=e.game,o=e.playingMembers,l=e.activityUser;if(null==n||null==n.type)return null;if(y.length>1&&n.type===v.ActivityTypes.PLAYING&&!(0,i.hasRichActivity)(n)&&null!=a)b(g(c.default.GameSection,{icon:a.getIconURL(p.ICON_SIZE),name:a.name,partySize:{knownSize:o.length,unknownSize:0,totalSize:o.length},members:o
},"game-"+(n.session_id||t)+"-"+(n.application_id||t)));else if((0,u.default)(n)){var s,d=new Set(o.map((function(e){return e.id}))),m=null===(s=r.find((function(e){return null!=e})))||void 0===s?void 0:s.channel;null!=m&&b(g(c.default.EmbeddedActivitySection,{activity:n,participants:d,channel:m,guildId:m.guild_id},"embedded-activity-"+n.application_id))}else if(null==n.assets&&!(0,i.hasRichActivity)(n)||n.type!==v.ActivityTypes.PLAYING)if((0,i.isStreaming)(n)){var _=r.length>0&&r[0].members.length>1,E=o.length>1;b(g(c.default.TwitchSection,{guildId:null==S?void 0:S.id,activity:n,user:_||E?l:null,getAssetImage:f.getAssetImage},"streaming-"+(n.session_id||t)))}else(0,i.isListeningOnSpotify)(n)?b(g(c.default.SpotifySection,{activity:n,isSolo:1===h.length,partySize:{knownSize:o.length,unknownSize:0,totalSize:o.length},getAssetImage:f.getAssetImage,members:o},"spotify-"+(n.session_id||t)+"-"+l.id)):(0,i.isOnXbox)(n)&&b(g(c.default.XboxSection,{title:a.name
},"xbox-"+(n.session_id||t)));else b(g(c.default.RichPresenceSection,{activity:n,getAssetImage:f.getAssetImage},"rich-presence-"+(n.session_id||t)+"-"+l.id))}));return O.length>0?g(c.default.Body,{},void 0,O):null};m(n(667294));var r,a=y(n(136873)),o=n(123516),i=n(144166),u=y(n(762605)),l=n(139982),s=y(n(211136)),f=n(698243),d=m(n(101047)),c=y(n(863946)),p=n(594570),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){var n,r=e.length,a=0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var o=t.party.size;a=Math.max(o[0]-e.length,0);n=o[1]}else n=r+a;return{knownSize:r,unknownSize:a,totalSize:n}}},101047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createBody=function(e){var t,n=e.application_id;if(!n)return;var r=d[n]
;if(null!=(null==r?void 0:r.body)&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))){var a=r.body;return f("section",{className:l.default.section},"delegate-"+n,f(a,{activity:e}))}};t.createHeader=function(e){var t,n=e.application_id;if(!n)return;var r=d[n];if(null!=r&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e)))return r.createHeader(e)};t.shouldShowActivity=function(e){var t,n=e.application_id;if(!n)return!0;var r=d[n];return null==r||!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a,o,i=n(248414),u=n(808961),l=(r=n(885836))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=((a={})[u.STAGE_APPLICATION_ID]=new i.StageChannelNowPlayingDelegate,a)},317134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;v(n(667294));var r,a=c(n(441143)),o=n(144166),i=c(n(73393)),u=v(n(101047)),l=c(n(863946)),s=n(594570),f=n(770348),d=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function h(e){var t=e.party,r=e.onUserContextMenu,c=t.priorityMembers,p=t.guildContext,v=c[0],h=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=new Set(t.map((function(e){return e.user.id}))),a=n.filter((function(e){return!r.has(e.id)})),o=t[0].user.toString(),i=null!=t[1]?t[1].user.toString():null!=a[0]?a[0].toString():null;switch(n.length){case 1:return o;case 2:return d.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN_ONLY.format({user1:o,user2:i});default:return d.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN.format({user1:o,user2:i,extras:n.length-2})}}(t),m=function(e){var t=e.priorityMembers,r=e.partiedMembers,c=e.voiceChannels,p=e.currentActivities,v=t.length,h=v+(r.length-v)===1,m=p[0];if(h&&null!=m){var _=m.activity,g=m.game,E=m.startedPlayingTime;if(null==_)return{subtitle:null,icon:null};var S=u.createHeader(_);if(null!=S)return S;switch(_.type){case f.ActivityTypes.PLAYING:return(0,o.isOnXbox)(_)?{
subtitle:d.default.Messages.ACTIVITY_FEED_NOW_PLAYING_XBOX,icon:y(l.default.Header.Icon,{src:l.default.Header.Icon.Src.XBOX})}:{subtitle:y(i.default,{start:E,location:i.default.Locations.ACTIVITY_FEED_NEW,messageProps:{name:_.name}}),icon:null!=g?y(l.default.Header.Icon,{src:null!=g.getIconURL(s.ICON_SIZE)?g.getIconURL(s.ICON_SIZE):n(534413)}):null};case f.ActivityTypes.STREAMING:return{subtitle:d.default.Messages.ACTIVITY_FEED_NOW_STREAMING_TWITCH,icon:null!=g&&null!=g.getIconURL(s.ICON_SIZE)?y(l.default.Header.Icon,{src:g.getIconURL(s.ICON_SIZE)}):null};case f.ActivityTypes.LISTENING:return{subtitle:d.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:y(l.default.Header.Icon,{src:l.default.Header.Icon.Src.SPOTIFY})};case f.ActivityTypes.WATCHING:return{subtitle:d.default.Messages.ACTIVITY_FEED_NOW_PLAYING_WATCHING,icon:null!=g&&null!=g.getIconURL(s.ICON_SIZE)?y(l.default.Header.Icon,{src:g.getIconURL(s.ICON_SIZE)}):null};default:return{
subtitle:d.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null}}}if(0===p.length){if(c.length>0)return{subtitle:d.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null};var O=p[0];if(null!=O){var b=O.activity;if(null!=b){var I=u.createHeader(b);if(null!=I)return I}if(null!=b&&b.type===f.ActivityTypes.LISTENING)return{subtitle:d.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:y(l.default.Header.Icon,{src:l.default.Header.Icon.Src.SPOTIFY})}}}else if(1===p.length){var C=p.find((function(e){return null!=e.activity}));if(null==C)throw new Error("Invalid Activity State - AF 2.0: No activity");var T=C.activity,A=C.game,P=C.startedPlayingTime;(0,a.default)(null!=T,"Activity was null somehow");return{subtitle:y(i.default,{start:P,location:i.default.Locations.ACTIVITY_FEED_NEW,messageProps:{name:T.name}}),icon:null!=A&&null!=A.getIconURL(s.ICON_SIZE)?y(l.default.Header.Icon,{src:A.getIconURL(s.ICON_SIZE)}):null}}return{
subtitle:d.default.Messages.ACTIVITY_FEED_NOW_PLAYING_MULTIPLE_GAMES,icon:y(l.default.Header.Icon,{src:l.default.Header.Icon.Src.MULTIPLE})}}(t),_=m.subtitle,g=m.icon;return y(l.default.Header,{priorityUser:v,guildId:null==p?void 0:p.id,title:h,subtitle:_,icon:g,onContextMenu:function(e){return r(e,v.user)}})}h.displayName="NowPlayingHeader"},863946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=q(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=K(n(294184)),i=K(n(213192)),u=n(536211),l=K(n(675060)),s=n(556470),f=K(n(155502)),d=K(n(309994)),c=K(n(93392)),p=K(n(853177)),v=K(n(969015)),y=K(n(319879)),h=K(n(663953)),m=K(n(93879)),_=K(n(205990)),g=K(n(818994)),E=K(n(678928)),S=K(n(314234)),O=K(n(645923)),b=n(830543),I=K(n(423046)),C=K(n(288356)),T=K(n(728429)),A=K(n(974661)),P=K(n(956117)),M=K(n(16941)),N=K(n(562475)),R=K(n(73393)),w=K(n(427370)),D=K(n(803949)),L=K(n(11888)),j=K(n(303213)),k=K(n(149982)),U=K(n(628551)),G=K(n(776360)),F=K(n(528175)),x=n(698243),V=n(71246),W=K(n(316681)),H=n(770348),B=n(418173),z=K(n(247001)),Y=K(n(885836)),$=["children","className"];function K(e){return e&&e.__esModule?e:{default:e}}function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(q=function(e){return e?n:t})(e)}function Z(){Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return Z.apply(this,arguments)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){J=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return J(e,t)}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te=64,ne=160,re=[14,14,12,12,10,8,6],ae=function(e,t){void 0===t&&(t=null);return ee(G.default,{className:(0,o.default)(Y.default.sectionTitle,Y.default.textContent,t),size:G.default.Sizes.SIZE_14},void 0,e)};ae.displayName="renderSectionTitle";var oe=function(e,t){void 0===t&&(t=null);return ee(G.default,{className:(0,o.default)(Y.default.textContent,t),size:G.default.Sizes.SIZE_12},void 0,e)}
;oe.displayName="renderSectionText";var ie=(0,l.default)((function(e){var t=e.message;return ee("div",{className:Y.default.timestamp},void 0,t)})),ue=function(e){var t=e.children;return ee("section",{className:Y.default.section},void 0,t)};ue.displayName="Section";var le=function(e){var t,n=e.inset,r=e.className;return ee("div",{className:(0,o.default)(Y.default.separator,(t={},t[Y.default.inset]=n,t),r)})};le.displayName="Separator";var se=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;J(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.renderTimePlayed=function(){var e,t=this.props.activity,n=t.timestamps;if(null==n||!(0,p.default)(t)||(0,v.default)(t))return null;e=(0,c.default)(t)?ee(ie,{timestamps:n}):ee(R.default,{start:n.start,end:n.end,location:R.default.Locations.USER_ACTIVITY,className:Y.default.playTime});return oe(e)};r.render=function(){
var e,t=this.props,r=t.activity,a=r.assets,i=r.details,u=r.state,l=r.application_id,s=t.getAssetImage;return ee(ue,{},void 0,ee("div",{className:Y.default.activitySection},void 0,null!=a&&0!==Object.keys(a).length?ee("div",{className:Y.default.activitySectionAssets},void 0,ee("img",{alt:a.large_text||"",src:s(l,a.large_image,[ne,ne]),className:(0,o.default)(Y.default.largeImage,(e={},e[Y.default.largeImageMask]=null!=a.small_image,e))}),null!=a.small_image?ee("img",{alt:a.small_text||"",src:s(l,a.small_image,[te,te]),className:Y.default.smallImage}):null):ee("div",{className:Y.default.activitySectionAssets},void 0,ee("img",{alt:"",src:n(534413),className:Y.default.largeImage})),ee("div",{},void 0,ae(i||z.default.Messages.USER_ACTIVITY_HEADER_PLAYING),null!=u?oe(u):null,this.renderTimePlayed())))};return t}(a.Component);se.displayName="RichPresenceSection";var fe=ee("div",{}),de=function(e){
var t,n=e.activity,r=n.assets,a=n.details,i=n.state,u=n.application_id,l=e.partySize,s=e.members,f=e.isSolo,d=e.getAssetImage;return ee(ue,{},void 0,ee("div",{className:Y.default.spotifySection},void 0,null!=r?ee("div",{className:Y.default.activitySectionAssets},void 0,ee("img",{alt:r.large_text||"",src:d(u,r.large_image,[ne,ne]),className:(0,o.default)(Y.default.largeImage,(t={},t[Y.default.largeImageMask]=null!=r.small_image,t))}),f?null:ee(L.default,{className:Y.default.smallImage,color:H.Colors.SPOTIFY})):fe,ee("div",{},void 0,null!=a?ae(a):null,null!=i?oe(i):null),ee(W.default,{minAvatarsShown:f?2:1,partySize:l,members:s})))};de.displayName="SpotifySection";var ce=function(e){var t,r,a=e.activity,i=e.user,u=e.getAssetImage,l=e.guildId,s=a.name,c=a.details,p=a.assets,v=a.application_id;null!=p&&(0,y.default)(a)&&(r=ee(A.default,{className:Y.default.twitchSectionPreviewWrapper,aspectRatio:16/9},void 0,ee(M.default,{href:(0,d.default)(a),tag:"a",target:"_blank"},void 0,ee("img",{
alt:p.large_text||"",src:u(v,p.large_image,[900,500]),className:Y.default.twitchSectionPreview}),ee("img",{src:n(182105),className:Y.default.twitchSectionPlayButton,alt:""}))));return ee(ue,{},void 0,ee("div",{className:(0,o.default)((t={},t[Y.default.twitchSectionSimple]=null==i,t[Y.default.twitchSectionFull]=null!=i,t))},void 0,ee("img",{alt:"",src:f.default.get(H.PlatformTypes.TWITCH).icon.lightSVG,className:Y.default.twitchSectionIcon}),ee("div",{},void 0,ae(s),null!=c?oe(c):null),null!=i?ee(U.default,{src:i.getAvatarURL(l,24),"aria-label":i.username,className:Y.default.twitchSectionAvatar,size:U.default.Sizes.SIZE_24}):null),r)};ce.displayName="TwitchSection";var pe=function(e){var t,n=e.guild,r=e.channel,i=e.onGuildClick,u=e.partySize,l=e.members,s=e.onChannelContextMenu,f=a.useRef(null),d=(0,E.default)(r,!0);return ee(ue,{},void 0,a.createElement("div",{className:Y.default.voiceSection,ref:f,onContextMenu:function(e){return s(e,r)}},ee(M.default,{onClick:i,"aria-hidden":!0,
tabIndex:-1},void 0,ee("div",{className:Y.default.voiceSectionAssets},void 0,null!=n.getIconURL(32)?ee("img",{alt:"",src:n.getIconURL(32)||void 0,className:(0,o.default)(Y.default.voiceSectionGuildImage,Y.default.largeImageMask)}):ee("div",{className:Y.default.voiceSectionNoGuildImageWrapper},void 0,ee("div",{className:Y.default.voiceSectionNoGuildImage,style:{fontSize:null!==(t=re[n.acronym.length])&&void 0!==t?t:re[re.length-1]}},void 0,n.acronym)),ee("div",{className:Y.default.voiceSectionIconWrapper},void 0,ee(k.default,{className:Y.default.voiceSectionIcon})))),ee(M.default,{onClick:i,focusProps:{ringTarget:f}},void 0,ee("div",{className:Y.default.voiceSectionDetails},void 0,ae(n.toString(),Y.default.voiceSectionText),oe(d,Y.default.voiceSectionText))),ee(W.default,{partySize:u,members:l,guildId:n.id})))};pe.displayName="VoiceSection";var ve=function(e){var t=e.title;return ee(ue,{},void 0,ee("div",{className:Y.default.xboxSection},void 0,ee(j.default,{
className:Y.default.xboxSectionIcon}),ee("div",{className:Y.default.xboxSectionDetails},void 0,ae(t),oe(z.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX))))};ve.displayName="XboxSection";var ye=function(e){var t=e.icon,n=e.name,r=e.partySize,a=e.members;return ee(ue,{},void 0,ee("div",{className:Y.default.gameSection},void 0,null!=t?ee("img",{alt:"",src:t,className:Y.default.gameSectionIcon}):null,ee("div",{},void 0,ae(n),oe(z.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:r.totalSize}))),ee(W.default,{partySize:r,members:a})))};ye.displayName="GameSection";var he=function(e){var t=e.activity,n=e.user,r=e.applicationStream,a=e.onPreviewClick,o=e.guildId,i=ee(A.default,{className:Y.default.applicationStreamingPreviewWrapper,aspectRatio:16/9},void 0,ee(M.default,{onClick:a,className:Y.default.applicationStreamingPreviewSize},void 0,ee(O.default,{stream:r,className:Y.default.applicationStreamingPreviewSize}),ee("div",{
className:Y.default.applicationStreamingHoverWrapper},void 0,ee("div",{className:Y.default.applicationStreamingHoverText},void 0,z.default.Messages.WATCH_STREAM)))),u=(0,h.default)(t,r)||z.default.Messages.SHARING_SCREEN;return ee(ue,{},void 0,ee("div",{className:Y.default.applicationStreamingSection},void 0,ee(U.default,{size:U.default.Sizes.SIZE_32,src:n.getAvatarURL(o,32),"aria-label":n.username,className:Y.default.applicationStreamingAvatar}),ee("div",{},void 0,ae(n.toString()),oe(u)),ee(F.default,{size:F.default.Sizes.SMALL})),i)};he.displayName="ApplicationStreamingSection";var me=function(e){var t,n=e.activity,r=e.channel,o=e.guildId,i=e.participants,l=(0,m.default)(),f=a.useContext(g.default),d=X(a.useState(null),2),c=d[0],p=d[1];a.useEffect((function(){n.application_id&&(0,x.getAssetIds)(n.application_id,["embedded_background"]).then((function(e){var t=X(e,1)[0];return p(t)}))}),[n.application_id]);var v=(0,u.useStateFromStoresArray)([T.default,I.default],(function(){
return Array.from(i).map((function(e){return I.default.getId()===e?null:T.default.getUser(e)})).filter(V.isNotNullish)})),y=(0,s.useAnalyticsContext)(),h=C.default.getGame(null!==(t=null==n?void 0:n.application_id)&&void 0!==t?t:"");if(null==h)return null;var E=null!=n.created_at&&n.created_at>0?{start:n.created_at}:void 0,S=(0,x.getAssetImage)(h.id,c,300);return ee(ue,{},void 0,ee("div",{className:Y.default.embeddedActivityTopRow},void 0,ee(N.default,{game:h,size:N.default.Sizes.XSMALL}),ee("div",{className:Y.default.embeddedActivityName},void 0,ee(G.default,{strong:!0},void 0,h.name)),null!=E?ee("div",{className:Y.default.embeddedActivityTimeElapsed},void 0,ee(G.default,{color:G.default.Colors.MUTED},void 0,ee(ie,{timestamps:E}))):null),ee(A.default,{aspectRatio:16/9},void 0,ee("div",{className:Y.default.embeddedActivityPlayerContainer},void 0,S?ee("img",{src:S,alt:h.name,className:Y.default.embeddedActivityImage}):null,ee("div",{className:Y.default.embeddedActivityImageOverlay
},void 0,ee(b.Avatars,{compact:!0,users:v,guildId:null!=o?o:null}),ee("div",{className:Y.default.embeddedActivityJoinWrapper},void 0,ee(P.default,{size:P.default.Sizes.SMALL,onClick:function(e){e.stopPropagation();(0,_.default)(n,!0,l,r.id,B.ActivityIntent.PLAY,y.location,f)}},void 0,z.default.Messages.JOIN))))))};me.displayName="EmbeddedActivitySection";var _e=(0,i.default)({XBOX:null,SPOTIFY:null,MULTIPLE:null}),ge=function(e){var t,n=e.src,r=e.onClick,a=e.onContextMenu;switch(n){case _e.XBOX:t=ee(j.default,{className:Y.default.headerIcon,color:H.Colors.PRIMARY_DARK_300});break;case _e.SPOTIFY:t=ee(L.default,{className:Y.default.headerIcon,color:H.Colors.SPOTIFY});break;case _e.MULTIPLE:t=ee("div",{className:Y.default.multipleIconWrapper},void 0,ee(D.default,{className:(0,o.default)(Y.default.headerIcon,Y.default.multipleIcon),color:H.Colors.PRIMARY_DARK_300}));break;default:t=ee("img",{src:n||void 0,alt:"",className:Y.default.headerIcon})}return null!=r||null!=a?ee(M.default,{
onClick:r,className:(0,o.default)(null!=r?Y.default.clickableIcon:""),onContextMenu:a},void 0,t):t};ge.Src=_e;var Ee=function(e){var t=e.priorityUser,n=e.title,r=e.subtitle,a=e.icon,i=e.onContextMenu,u=e.guildId;return ee("header",{className:null!=a?Y.default.headerFull:Y.default.headerSimple},void 0,ee(U.default,{src:t.user.getAvatarURL(u,32),"aria-label":t.user.username,size:U.default.Sizes.SIZE_32,className:Y.default.headerAvatar,status:t.status,onContextMenu:i}),ee("div",{className:Y.default.headerDetails},void 0,ee(G.default,{className:(0,o.default)(Y.default.sectionTitle,Y.default.textContent),size:G.default.Sizes.SIZE_16},void 0,n),ee(G.default,{color:G.default.Colors.HEADER_SECONDARY,className:Y.default.textContent},void 0,r)),null!=a?a:null)};Ee.displayName="NowPlayingHeader";Ee.Icon=ge;var Se=function(e){var t=e.children;return ee(w.default,{inset:!0,padded:!1,className:Y.default.body},void 0,t)};Se.displayName="NowPlayingBody";var Oe=function(e){
var t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,$);return ee(S.default,{},void 0,a.createElement(w.default,Z({className:(0,o.default)(n,Y.default.wrapper),padded:!0},r),t))};Oe.displayName="NowPlayingItem";Oe.Header=Ee;Oe.Body=Se;Oe.Separator=le;Oe.VoiceSection=pe;Oe.GameSection=ye;Oe.RichPresenceSection=se;Oe.XboxSection=ve;Oe.SpotifySection=de;Oe.TwitchSection=ce;Oe.ApplicationStreamingSection=he;Oe.EmbeddedActivitySection=me;var be=Oe;t.default=be},352636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=y(n(284382)),i=n(6505),u=y(n(717681)),l=y(n(8549)),s=y(n(971639)),f=y(n(582945)),d=y(n(4865)),c=n(770348),p=y(n(247001)),v=y(n(716875));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=m(d.default,{});function g(){var e=(0,a.useStateFromStores)([l.default],(function(){
return l.default.hasConsented(c.Consents.PERSONALIZATION)})),t=(0,a.useStateFromStores)([i.HotspotStore],(function(){return i.HotspotStore.hasHotspot(i.HotspotLocations.NOW_PLAYING_CONSENT_CARD)}));return m(o.default,{section:c.AnalyticsSections.ACTIVE_NOW_COLUMN},void 0,m("div",{className:v.default.container},void 0,m(f.default,{className:v.default.scroller},void 0,m(s.default,{tag:s.default.Tags.H3,size:s.default.Sizes.SIZE_20,className:v.default.header},void 0,p.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE),!e&&t?m(u.default,{className:v.default.consentCard}):null,_)))}g.displayName="NowPlayingSidebar"},316681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(496486)),i=y(n(257175)),u=y(n(711195)),l=y(n(414068)),s=y(n(160629)),f=y(n(298408)),d=y(n(628551)),c=n(71246),p=n(770348),v=y(n(877001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.member,n=e.empty,r=e.analyticsContext,o=e.guildId;if(n)return _("div",{className:v.default.partyMemberEmpty});if(null==t)return _("div",{className:v.default.partyMemberUnknown},void 0,_(f.default,{className:v.default.partyMemberUnknownIcon}));var i={location:m({},r.location,{object:p.AnalyticsObjects.AVATAR})};return _("div",{className:v.default.partyMemberKnown},void 0,_(s.default,{preload:function(){return(0,u.default)(t.id,t.getAvatarURL(o,80),{guildId:o})},renderPopout:function(e){return a.createElement(l.default,m({},e,{userId:t.id,analyticsParams:i}))},position:s.default.Positions.LEFT},void 0,(function(e){return a.createElement(d.default,m({},e,{src:t.getAvatarURL(o,24),"aria-label":t.username,size:d.default.Sizes.SIZE_24,
className:v.default.partyMember}))})))};g.displayName="PartyMember";var E=(0,i.default)(g),S=function(e){var t=e.partySize,n=e.members,r=e.minAvatarsShown,a=void 0===r?1:r,i=e.maxAvatarsShown,u=void 0===i?2:i,l=e.guildId,s=t.unknownSize,f=t.totalSize,d=t.knownSize;if(f<a)return null;for(var p=(0,o.default)(n).filter(c.isNotNullish).take(u).map((function(e){return _(E,{member:e,guildId:l},e.id)})).value(),y=0;y<s&&p.length<u;y++)p.push(_(E,{guildId:l},"unknown-member-"+y));for(var h=f-d-s,m=0;m<h&&p.length<u;m++)p.push(_(E,{empty:!0,guildId:l},"empty-member-"+m));var g=Math.max(Math.min(f-p.length,99),0);if(1===g){var S=n[u];p.push(_(E,{member:S,guildId:l},S.id))}return _("div",{className:v.default.wrapper},void 0,_("div",{className:v.default.partyMembers},void 0,p,g>1?_("div",{className:v.default.partyMemberOverflow},void 0,"+",g):null))};S.displayName="PartyAvatars";var O=S;t.default=O},854923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h
;v(n(667294));var r,a=v(n(145122)),o=c(n(729661)),i=c(n(984399)),u=c(n(485820)),l=c(n(602613)),s=c(n(709037)),f=c(n(568235)),d=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.party,n=e.close,r=e.onSelect,c=(0,u.default)(t),p=(0,f.default)(t),v=(0,s.default)(t),h=(0,l.default)(t),m=(0,o.default)(t),_=(0,i.default)(t);return y(a.default,{navId:"now-playing-menu",onClose:n,"aria-label":d.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onSelect:r},void 0,c,y(a.MenuGroup,{},void 0,p,v),y(a.MenuGroup,{},void 0,h),y(a.MenuGroup,{},void 0,m),_)}h.displayName="NowPlayingCardMenu"},27916:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NowPlayingUnknownMemberMenuItem=c;t.default=d;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(294184)),o=l(n(252149)),i=l(n(628551)),u=l(n(446926));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.user,n=e.status,r=e.isFocused,a=e.guildId;return f("div",{
className:u.default.memberItem},void 0,f(i.default,{src:t.getAvatarURL(a,24),className:u.default.avatar,"aria-label":t.username,size:i.default.Sizes.SIZE_24,status:n,statusColor:r?"currentColor":void 0}),f(o.default,{user:t,hideDiscriminator:!0}))}d.displayName="NowPlayingMemberMenuItem";function c(e){var t=e.label;return f("div",{className:u.default.memberItem},void 0,f("div",{className:(0,a.default)(u.default.avatar,u.default.unknown)}),f("div",{},void 0,t))}c.displayName="NowPlayingUnknownMemberMenuItem"},729661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t,n=e.currentActivities.length>1,r=D(e),i=function(e){var t=e.currentActivities,n=a.useContext(E.AnalyticsContext);return(0,o.useStateFromStoresArray)([_.default,m.default,p.default,g.default,h.default],(function(){return t.filter((function(e){return!(0,c.default)(e.activity)})).map((function(e){var t=e.activity,r=e.game,a=m.default.getActiveLibraryApplication(r.id)
;return N({},e,{libraryApplication:a,canJoin:null!=t&&(0,d.default)(t,b.ActivityFlags.JOIN)&&t.type===b.ActivityTypes.PLAYING,canPlay:(0,S.isLaunchable)(m.default,p.default,g.default,h.default,r.id,null!=a?a.branchId:null),isLaunching:p.default.launchingGames.has(r.id),isRunning:_.default.getRunningVerifiedApplicationIds().includes(r.id),location:n.location})}))}),[t])}(e),u=[],l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i);!(t=l()).done;){var s=t.value,f=s.activity;null!=f&&null!=f.type&&u.push(L(s,n),j(s,n))}return[r].concat(u)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=C(n(312260)),u=C(n(136873)),l=C(n(226800)),s=C(n(155502)),f=n(144166),d=C(n(351093)),c=C(n(762605)),p=C(n(703124)),v=n(145122),y=C(n(513266)),h=C(n(504762)),m=C(n(191839)),_=C(n(834162)),g=C(n(432310)),E=n(308920),S=n(539331),O=n(409873),b=n(770348),I=C(n(247001));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=s.default.get(b.PlatformTypes.XBOX).name;function D(e){var t=e.currentActivities,n=(0,o.useStateFromStores)([y.default],(function(){return y.default.getAccounts().some((function(e){return e.type===s.default.get(b.PlatformTypes.XBOX).type}))})),r=t.some((function(e){var t=e.activity;return(0,f.isOnXbox)(t)}));return n||!r?null:R(v.MenuItem,{id:"xbox-connect",action:function(){return l.default.open(b.UserSettingsSections.CONNECTIONS)},
label:I.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:w})})}D.displayName="useXboxConnectItem";function L(e,t){var n=e.canJoin,r=e.activity,a=e.activityUser;if(!n||null==r)return null;function o(){return(o=M(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return i.default.sendActivityInviteUser({type:b.ActivityActionTypes.JOIN_REQUEST,userId:a.id,activity:r,location:b.AnalyticsLocations.PROFILE_POPOUT});case 4:null!=(t=e.sent)&&u.default.selectPrivateChannel(t.id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return R(v.MenuItem,{id:"join-"+r.session_id,label:t?I.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN_USER.format({name:a.toString()}):I.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN,action:function(){return o.apply(this,arguments)}})}L.displayName="renderAskToJoinItem";function j(e,t){
var n=e.activity,r=e.game,a=e.libraryApplication,o=e.location,i=e.canPlay,u=e.isRunning,l=e.isLaunching;if(!i||null==n)return null;var s=u?I.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_RUNNING.format({name:r.name}):l?I.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_LAUNCHING.format({name:r.name}):void 0;return R(v.MenuItem,{id:"play-"+n.session_id,action:function(){(0,O.playApplication)(r.id,a,{analyticsParams:{location:N({},o,{object:b.AnalyticsObjects.LIST_ITEM})}})},label:t?I.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_APPLICATION_NAME.format({name:r.name}):I.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,subtext:s})}j.displayName="renderPlayGameItem"},984399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=e.currentActivities,a=e.guildContext,u=new Set(t.map((function(e){return e.user.id}))),l=n.filter((function(e){return!u.has(e.id)})),s=o.useMemo((function(){
var e=r.flatMap((function(e){return e.playingMembers})).map((function(e){return e.id}));return n.filter((function(t){return!e.includes(t.id)}))}),[n,r]);if(r.length<=1&&0===s.length){var d,c;return p(i.MenuGroup,{label:n.length>1?f.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:n.length}):void 0},void 0,_(t,l,n.length,null!==(d=null===(c=r[0])||void 0===c?void 0:c.activity)&&void 0!==d?d:void 0,null==a?void 0:a.id))}var v=r.map((function(e){var n=e.playingMembers,r=e.game,o=e.activity,l=new Set(n.map((function(e){return e.id})));return p(i.MenuGroup,{label:r.name+" - "+n.length},void 0,_(t.filter((function(e){var t=e.user;return l.has(t.id)})),n.filter((function(e){return!u.has(e.id)})),n.length,null!=o?o:void 0,null==a?void 0:a.id))})),y=s.map((function(e){return e.id})),g=p(i.MenuGroup,{label:f.default.Messages.ACTIVITY_FEED_OTHER_MEMBER_LIST_HEADER+" - "+s.length},void 0,_(t.filter((function(e){var t=e.user;return y.includes(t.id)
})),s.filter((function(e){return!u.has(e.id)})),s.length,void 0,null==a?void 0:a.id));return[].concat((E=v,function(e){if(Array.isArray(e))return m(e)}(E)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(E)||h(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[g]);var E};var r,a,o=c(n(667294)),i=n(145122),u=n(910992),l=c(n(27916)),s=n(770348),f=(r=n(247001))&&r.__esModule?r:{default:r};function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r,a){for(var d,c=[],h=function(){var e=d.value,t=e.user,n=e.status;c.push(p(i.MenuItem,{id:t.id,keepItemStyles:!0,render:function(e){return o.createElement(l.default,v({},e,{user:t,status:n,guildId:a}))},action:function(){return(0,u.openUserProfileModal)({userId:t.id,
analyticsLocation:{section:s.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},m=y(e);!(d=m()).done;)h();for(var _,g=function(){var e=_.value;c.push(p(i.MenuItem,{id:e.id,keepItemStyles:!0,render:function(t){return o.createElement(l.default,v({},t,{user:e,guildId:a}))},action:function(){return(0,u.openUserProfileModal)({userId:e.id,analyticsLocation:{section:s.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},E=y(t);!(_=E()).done;)g();var S=n-c.length;S>0&&c.push(p(i.MenuItem,{id:"unknown-members-"+(null==r?void 0:r.session_id),render:function(e){return o.createElement(l.NowPlayingUnknownMemberMenuItem,v({},e,{label:f.default.Messages.GAME_FEED_UNKNOWN_PLAYERS.format({count:S})}))}}));return c}},485820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(709403)),i=c(n(844784)),u=n(145122),l=n(540671),s=n(308920),f=n(770348),d=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t){void 0===t&&(t=!1);var n=e.priorityMembers,r=e.partiedMembers,c=a.useContext(s.AnalyticsContext),p=n.map((function(e){return e.user.id})),h=1===r.length&&1===n.length,m=n.length-r.length>0;if(!((h||t)&&!m)||0===p.length)return null;return v(u.MenuItem,{id:"message",action:function(){o.default.openPrivateChannel(p).then((function(t){return i.default.trackWithMetadata(f.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,y({source:y({},c.location,{object:f.AnalyticsObjects.LIST_ITEM}),channel_id:t,recipient_id:"string"==typeof p?p:p[0],af_recently_played:!1},(0,l.getPartyMetadata)(e)))}))},label:d.default.Messages.SEND_DM})}h.displayName="useNowPlayingMessageItem"},602613:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.currentActivities,n=e.isSpotifyActivity,r=t[0],o=(0,a.default)(null==r?void 0:r.activity,null==r?void 0:r.activityUser);return n?o:null};var r,a=(r=n(619476))&&r.__esModule?r:{default:r}},709037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e.applicationStreams.map((function(e){var t=e.stream,n=e.streamUser;return f(i.MenuItem,{id:"spectate-"+t.ownerId,action:function(){a.default.selectVoiceChannel(t.channelId);(0,o.watchStreamAndTransitionToStream)(t)},label:u.default.Messages.WATCH_USER_STREAM.format({streamerName:n.toString()})})}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(136873)),o=n(123516),i=n(145122),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},568235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a.useContext(p.AnalyticsContext),n=e.voiceChannels[0],r=(0,o.useStateFromStores)([f.default],(function(){
return null!=n&&f.default.can(v.Permissions.CONNECT,n.channel)}));if(null==n)return null;return[_(l.MenuItem,{id:"join-voice",action:function(){var r=d.default.getChannelId(n.guild.id);(0,s.transitionToGuild)(n.guild.id,r);i.default.selectVoiceChannel(n.channel.id);u.default.trackWithMetadata(v.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,g({source:g({},t.location,{object:v.AnalyticsObjects.LIST_ITEM}),guild_id:n.guild.id,channel_id:n.channel.id},(0,c.getPartyMetadata)(e)))},label:y.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_JOIN_CHANNEL,disabled:!r}),_(l.MenuItem,{id:"goto-server",action:function(){var r=d.default.getChannelId(n.guild.id);(0,s.transitionToGuild)(n.guild.id,r);u.default.trackWithMetadata(v.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,g({source:g({},t.location,{object:v.AnalyticsObjects.LIST_ITEM}),guild_id:n.guild.id,af_recently_played:!1},(0,c.getPartyMetadata)(e)))},label:y.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_GO_TO_SERVER})]}
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=h(n(136873)),u=h(n(844784)),l=n(145122),s=n(139982),f=h(n(689389)),d=h(n(211136)),c=n(540671),p=n(308920),v=n(770348),y=h(n(247001));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}},884809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,i.default)(function(t){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(i,t);function i(){return t.apply(this,arguments)||this}var l=i.prototype;l.render=function(){return r.createElement(e,c({},this.props,{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))}
;l.handleMessageUser=function(e,t){return a.default.openPrivateChannel(t.id)};l.handleUserContextMenu=function(e,t,a){(0,o.openContextMenuLazy)(e,d(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,c({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:a})};l.handleGuildContextMenu=function(e,t){(0,o.openContextMenuLazy)(e,d(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(23127)]).then(n.bind(n,853734));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,c({},e,{guild:t}))}));case 5:case"end":return e.stop()}}),e)}))))}
;l.handleChannelContextMenu=function(e,t){var a=u.default.getGuild(t.getGuildId());if(null==a)return null;(0,o.openContextMenuLazy)(e,d(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(44700)]).then(n.bind(n,44700));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return r.createElement(i,c({},e,{channel:t,guild:a}))}));case 5:case"end":return e.stop()}}),e)}))))};return i}(r.Component))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=l(n(709403)),o=n(378158),i=l(n(257175)),u=l(n(30098));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}},520310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setNewUser=function(e){a.default.wait((function(){
return a.default.dispatch({type:o.ActionTypes.NUF_NEW_USER,newUserType:e})}))};t.setNewUserFlowCompleted=function(){a.default.wait((function(){return a.default.dispatch({type:o.ActionTypes.NUF_COMPLETE})}))};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},754949:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NewUserTypes=t.NUF_VALUE_PROPS_MODAL_KEY=t.NUF_NOTIFICATION_MODAL_KEY=t.NUF_IN_APP_EDUCATION_KEY=t.NUF_EMAIL_CONNECTION_MODAL_KEY=t.NUF_DISCOVERABILITY_MODAL_KEY=void 0;var n;t.NewUserTypes=n;!function(e){e[e.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED";e[e.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED";e[e.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED";e[e.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"}(n||(t.NewUserTypes=n={}));t.NUF_NOTIFICATION_MODAL_KEY="nuf-notification-modal-key";t.NUF_DISCOVERABILITY_MODAL_KEY="nuf-discoverability-modal-key";t.NUF_IN_APP_EDUCATION_KEY="nuf-in-app-education-modal-key"
;t.NUF_EMAIL_CONNECTION_MODAL_KEY="nuf-email-connection-modal-key";t.NUF_VALUE_PROPS_MODAL_KEY="nuf-value-props-modal-key"},322033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=null;var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){var t;s=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null};n.getType=function(){return s};n.getState=function(){return{type:s}};return t}(a.default.PersistedStore);f.persistKey="nuf";var d=new f(o.default,((r={})[i.ActionTypes.NUF_NEW_USER]=function(e){var t=e.newUserType;s=t},r[i.ActionTypes.NUF_COMPLETE]=function(){s=null},r));t.default=d},763840:(e,t)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.NUF_MODAL_KEY=t.NUFSlides=void 0;var n;t.NUFSlides=n;!function(e){e.AGE_GATE="age-gate";e.CHOOSE_TEMPLATE="choose-template";e.CUSTOMIZE_GUILD="customize-server";e.CHANNEL_PROMPT="channel-prompt";e.JOIN_GUILD="join-server";e.CREATION_INTENT="creation-intent";e.COMPLETE="complete"}(n||(t.NUFSlides=n={}));t.NUF_MODAL_KEY="nuf-refresh-modal"},900996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=N(n(667294)),o=P(n(636602)),i=P(n(177230)),u=N(n(160866)),l=N(n(583490)),s=P(n(678875)),f=P(n(215371)),d=P(n(885986)),c=n(508079),p=N(n(131629)),v=P(n(250650)),y=P(n(30098)),h=P(n(790597)),m=P(n(728429)),_=n(194322),g=N(n(71246)),E=n(864489),S=N(n(520310)),O=P(n(322033)),b=n(754949),I=n(763840),C=n(770348),T=n(27577),A=n(33989);function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t
})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){
L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L(e,t)}function j(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(){null!=r&&(0,_.closeModal)(r)}var G=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;L(e,t)}(t,e)
;function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){o.default.subscribe(C.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);o.default.subscribe(C.ActionTypes.LOGOUT,U)};i._terminate=function(){o.default.unsubscribe(C.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);o.default.unsubscribe(C.ActionTypes.LOGOUT,U)};i.handleConnectionOpen=function(){var e=O.default.getType();if(null!=e){switch(e){case b.NewUserTypes.INVITE_UNCLAIMED:d.default.flowStart(A.FlowType.INVITE,A.RegistrationSteps.NUF_STARTED);break;case b.NewUserTypes.ORGANIC_REGISTERED:d.default.flowStart(A.FlowType.ORGANIC,A.RegistrationSteps.NUF_STARTED);break;case b.NewUserTypes.MARKETING_UNCLAIMED:d.default.flowStart(A.FlowType.ORGANIC_MARKETING,A.RegistrationSteps.NUF_STARTED)}var t=!1,o=h.default.getGuildId();if(e===b.NewUserTypes.INVITE_UNCLAIMED){var i=y.default.getGuild(o);if(null==i?void 0:i.hasVerificationGate()){t=!0;(0,c.fetchWelcomeScreen)(i.id)}}var P=function(){
return 0===v.default.totalGuilds&&!E.isPlatformEmbedded},M=u.userNeedsAgeGate(),N=!1;if(e===b.NewUserTypes.ORGANIC_REGISTERED){var w=f.default.getCurrentConfig({}).showHubsInOnboarding;f.default.trackExposure({});N=w}!function(e){var t=function(){S.setNewUserFlowCompleted();d.default.flowStep(A.FlowType.ANY,A.RegistrationSteps.NUF_COMPLETE,!0)};j(e).reverse().forEach((function(e){var n=t;t=function(){e.predicate()?e.open(n):n()}}));t()}([{key:"Hub Email Connection",open:function(e){return(0,_.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,R({},e,{isNUXFlow:!0}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseRequest:C.NOOP,onCloseCallback:e})},predicate:function(){return N&&!T.CONFERENCE_MODE_ENABLED}},{key:"Unified NUF Modal",
open:function(e){return L.apply(this,arguments)},predicate:function(){return P()&&!T.CONFERENCE_MODE_ENABLED}},{key:"New User Age Gate",open:l.openNewUserAgeGateModal,predicate:function(){return M&&!P()&&!T.CONFERENCE_MODE_ENABLED}},{key:"Claim Account Modal",open:function(e){return l.openClaimAccountModal(E.isPlatformEmbedded,e)},predicate:function(){var e;return!t&&null!=m.default.getCurrentUser()&&!(null===(e=m.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!T.CONFERENCE_MODE_ENABLED}},{key:"Verification Gate with Claim Account",open:function(e){return(0,s.default)(o,e)},predicate:function(){var e;return t&&!(null===(e=m.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!T.CONFERENCE_MODE_ENABLED}},{key:"Guild Welcome Modal",open:function(e){return(0,_.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(58095).then(n.bind(n,365760));case 2:t=e.sent
;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,R({},e,{guildId:o}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:e})},predicate:function(){return null!=o&&null!=p.default.get(o)&&p.default.get(o)!==p.NO_WELCOME_SCREEN}}])}function L(){return(L=D(regeneratorRuntime.mark((function e(t){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(e){switch(e){case I.NUFSlides.AGE_GATE:d.default.flowStep(A.FlowType.ANY,A.RegistrationSteps.AGE_GATE);break;case I.NUFSlides.CHOOSE_TEMPLATE:d.default.flowStep(A.FlowType.ANY,A.CreateGuildSteps.GUILD_TEMPLATES);break;case I.NUFSlides.CUSTOMIZE_GUILD:d.default.flowStep(A.FlowType.ANY,A.CreateGuildSteps.GUILD_CREATE);break;case I.NUFSlides.CHANNEL_PROMPT:d.default.flowStep(A.FlowType.ANY,A.CreateGuildSteps.CHANNEL_PROMPT);break;case I.NUFSlides.JOIN_GUILD:d.default.flowStep(A.FlowType.ANY,A.CreateGuildSteps.JOIN_GUILD);break;case I.NUFSlides.CREATION_INTENT:
d.default.flowStep(A.FlowType.ANY,A.CreateGuildSteps.CREATION_INTENT);break;case I.NUFSlides.COMPLETE:d.default.flowStep(A.FlowType.ANY,A.CreateGuildSteps.SUCCESS);break;case null:break;default:g.assertNever(e)}};e.next=3;return(0,_.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(62884),n.e(69156),n.e(91948)]).then(n.bind(n,91948));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,R({},e,{onSlideChange:o}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseRequest:C.NOOP,onCloseCallback:t,modalKey:r});case 3:r=e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}};return t}(i.default));t.default=G},61045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.STATUS_HEADER_HEIGHT=t.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD=t.PEOPLE_LIST_ITEM_HEIGHT=void 0
;t.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD=64;t.PEOPLE_LIST_ITEM_HEIGHT=62;t.STATUS_HEADER_HEIGHT=24},334200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=f(n(294184)),u=f(n(16941)),l=f(n(730977)),s=f(n(969261));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}!function(e){e[e.ACCEPT=0]="ACCEPT";e[e.DENY=1]="DENY";e[e.DEFAULT=2]="DEFAULT"}(a||(a={}));function v(e){var t=e.icon,n=e.tooltip,r=e.onClick,f=e.actionType,d=void 0===f?a.DEFAULT:f,v=e.shouldHighlight;return p(l.default,{text:n},void 0,(function(e){var l;return o.createElement(u.default,c({},e,{"aria-label":n,onClick:r,className:(0,i.default)(s.default.actionButton,(l={},l[s.default.actionAccept]=d===a.ACCEPT,l[s.default.actionDeny]=d===a.DENY,
l[s.default.highlight]=v,l))}),p(t,{className:s.default.icon}))}))}v.displayName="ActionButton";v.ActionTypes=a;var y=v;t.default=y},518319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(184608)),i=n(688388),u=d(n(767695)),l=n(770348),s=d(n(247001)),f=d(n(184338));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p(o.default,{});function y(){return p("header",{className:f.default.header},void 0,p(i.FormTitle,{tag:i.FormTitle.Tags.H2,className:f.default.title},void 0,s.default.Messages.ADD_FRIEND),v)}y.displayName="AddFriendHeader";var h=p(y,{});function m(){return p(a.Fragment,{},void 0,h,p("div",{className:f.default.emptyState},void 0,p(u.default,{type:l.FriendsSections.ADD_FRIEND})))}m.displayName="AddFriend";var _=m;t.default=_},89411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(237923)),i=n(910992),u=y(n(523356)),l=n(308920),s=y(n(334200)),f=y(n(906507)),d=y(n(739148)),c=n(770348),p=y(n(247001)),v=y(n(685904));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.user,n=e.key,r=e.isFocused,y=a.useContext(l.AnalyticsContext),h=function(e){e.stopPropagation();o.default.removeRelationship(t.id,{location:"Friends"})};return m(f.default,{isFocused:r,onClick:function(){return(0,i.openUserProfileModal)({userId:t.id,analyticsLocation:y.location})},user:t},n,(function(e){return m("div",{className:v.default.listItemContents},void 0,m(d.default,{user:t,hovered:e,status:c.StatusTypes.UNKNOWN,subText:p.default.Messages.BLOCKED}),m(s.default,{icon:u.default,actionType:s.default.ActionTypes.DENY,tooltip:p.default.Messages.UNBLOCK,onClick:h,shouldHighlight:e}))}))}_.displayName="BlockedRow"},717681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=h(n(294184)),o=n(642230),i=h(n(226800)),u=n(278352),l=h(n(956117)),s=h(n(427370)),f=h(n(971639)),d=h(n(776360)),c=n(770348),p=n(439142),v=h(n(247001)),y=h(n(95898));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.className;return _(s.default,{className:(0,a.default)(y.default.card,t)},void 0,_(f.default,{size:f.default.Sizes.SIZE_16,className:y.default.header},void 0,v.default.Messages.NOW_PLAYING_GDPR_HEADER),_(d.default,{size:f.default.Sizes.SIZE_14},void 0,v.default.Messages.NOW_PLAYING_GDPR_BODY.format({onPrivacyClick:function(){return i.default.open(c.UserSettingsSections.PRIVACY_AND_SAFETY)}})),_("div",{className:y.default.buttonContainer},void 0,_(l.default,{size:l.default.Sizes.SMALL,onClick:function(){return(0,o.setConsents)([c.Consents.PERSONALIZATION],[])}},void 0,v.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES),_(l.default,{color:l.default.Colors.PRIMARY,size:l.default.Sizes.SMALL,onClick:function(){return(0,
u.hideHotspot)(p.HotspotLocations.NOW_PLAYING_CONSENT_CARD)},look:l.default.Looks.LINK},void 0,v.default.Messages.NO_THANKS)))}g.displayName="ConsentCard"},724603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=N(n(667294)),o=P(n(496486)),i=n(536211),u=P(n(709403)),l=n(378158),s=P(n(237923)),f=N(n(145122)),d=n(139982),c=P(n(644263)),p=P(n(635014)),v=P(n(37985)),y=P(n(301927)),h=P(n(502197)),m=n(194322),_=P(n(776360)),g=P(n(334200)),E=P(n(906507)),S=P(n(666561)),O=P(n(739148)),b=n(770348),I=n(474477),C=n(376293),T=P(n(247001)),A=P(n(684753));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function L(e){var t=e.user,n=e.onSelect;var r=function(){s.default.removeRelationship(t.id,{location:"Friends"})},o=(0,i.useStateFromStores)([p.default],(function(){return p.default.supports(C.Features.VIDEO)}));return D(f.default,{navId:"friend-row","aria-label":T.default.Messages.USER_ACTIONS_MENU_LABEL,onClose:l.closeContextMenu,onSelect:n},void 0,o?D(f.MenuItem,{id:"start-video-call",label:T.default.Messages.START_VIDEO_CALL,action:function(){u.default.openPrivateChannel(t.id,!0,!0)}}):null,D(f.MenuItem,{id:"start-voice-call",label:T.default.Messages.START_VOICE_CALL,action:function(){u.default.openPrivateChannel(t.id,!0)}}),D(f.MenuItem,{id:"remove-friend",label:T.default.Messages.REMOVE_FRIEND,action:function(){(0,m.openModal)((function(e){return a.createElement(h.default,w({header:T.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.toString()}),confirmText:T.default.Messages.REMOVE_FRIEND,cancelText:T.default.Messages.CANCEL,onConfirm:r},e),D(_.default,{
size:_.default.Sizes.SIZE_16},void 0,T.default.Messages.REMOVE_FRIEND_BODY.format({name:t.toString()})))}))},color:I.MenuItemColor.DANGER}))}L.displayName="ActionsPopout";var j=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).peopleListItemRef=a.createRef();t.state={isActiveRow:!1};t.handleOpenPrivateChannel=function(e){var n=t.props.user;e.stopPropagation();var r=o.default.find(c.default.getMutablePrivateChannels(),(function(e){return e.type===b.ChannelTypes.DM&&e.getRecipientId()===n.id}));null!=r?(0,d.transitionTo)(b.Routes.CHANNEL(b.ME,r.id)):u.default.openPrivateChannel(n.id)};t.handleOpenActionsMenu=function(e){var n=t.props.user;(0,l.openContextMenu)(e,(function(e){return a.createElement(L,w({},e,{user:n}))}),{onClose:function(){t.setState({isActiveRow:!1})}});t.setState({isActiveRow:!0})}
;return t}var n=t.prototype;n.componentWillLeave=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)};n.componentWillEnter=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)};n.render=function(){var e=this,t=this.props,n=t.user,r=t.isFocused,o=t.activities,i=t.applicationStream,u=t.status,s=t.isMobile,f=this.state.isActiveRow;return a.createElement(E.default,{ref:this.peopleListItemRef,isFocused:r,isActive:f,user:n,onOtherHover:function(){return f?null:(0,l.closeContextMenu)()},onClick:this.handleOpenPrivateChannel},(function(t){return D("div",{className:A.default.listItemContents},void 0,D(O.default,{user:n,status:u,isMobile:s,subText:D(S.default,{hovered:t,activities:o,applicationStream:i,status:u}),hovered:t}),D("div",{className:A.default.actions},void 0,D(g.default,{icon:v.default,tooltip:T.default.Messages.SEND_DM,onClick:e.handleOpenPrivateChannel,shouldHighlight:t
}),D(g.default,{icon:y.default,tooltip:T.default.Messages.MORE,onClick:e.handleOpenActionsMenu,shouldHighlight:t})))}))};return t}(a.PureComponent);j.displayName="FriendRow";var k=j;t.default=k},767695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.FriendsSearchStatus=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=v(n(74854)),u=v(n(536211)),l=v(n(871778)),s=v(n(956117)),f=v(n(737705)),d=n(770348),c=v(n(247001)),p=v(n(303649));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.FriendsSearchStatus=a;!function(e){e.SECTION_NO_RESULTS="SECTION_NO_RESULTS"}(a||(t.FriendsSearchStatus=a={}));var _=Object.freeze({SECTION_ALL:{lightSrc:n(607603),darkSrc:n(74700),width:376,height:162,renderContent:function(e){return m(o.Fragment,{},void 0,m(f.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_ALL}),m(s.default,{
className:p.default.button,onClick:e},void 0,c.default.Messages.ADD_FRIEND))}},SECTION_ONLINE:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return m(f.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_ONLINE})}},SECTION_BLOCKED:{lightSrc:n(399898),darkSrc:n(492623),width:433,height:232,renderContent:function(){return m(f.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_BLOCKED})}},SECTION_PENDING:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return m(f.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_PENDING})}},SECTION_SUGGESTIONS:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return m(f.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_SUGGESTIONS})}},SECTION_NO_RESULTS:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return m(f.default.Text,{note:c.default.Messages.FRIEND_REQUEST_NO_RESULTS_FOUND})}}})
;var g=function(e){var t=e.theme,n=c.default.Messages.FRIENDS_EMPTY_STATE_ALL,r=_.SECTION_ALL;return m(o.Fragment,{},void 0,m(f.default,{theme:t},void 0,m(f.default.Image,{width:r.width,height:r.height,lightSrc:r.lightSrc,darkSrc:r.darkSrc}),m(f.default.Text,{note:n})))};g.displayName="AddFriendEmpty";var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={opacity:new i.default.Value(1)};t.componentWillEnter=function(e){t.state.opacity.setValue(0);i.default.timing(t.state.opacity,{toValue:1,duration:250}).start(e)};t.componentWillLeave=function(e){i.default.timing(t.state.opacity,{toValue:0,duration:250}).start(e)};return t}t.prototype.render=function(){var e=this.props,t=e.type,n=e.onClick,r=e.theme,o={opacity:this.state.opacity},u=function(e){switch(e){case d.FriendsSections.ADD_FRIEND:
case d.FriendsSections.ALL:return _.SECTION_ALL;case d.FriendsSections.ONLINE:return _.SECTION_ONLINE;case d.FriendsSections.PENDING:return _.SECTION_PENDING;case d.FriendsSections.SUGGESTIONS:return _.SECTION_SUGGESTIONS;case d.FriendsSections.BLOCKED:return _.SECTION_BLOCKED;case a.SECTION_NO_RESULTS:return _.SECTION_NO_RESULTS;default:throw new Error("FriendsEmptyState: Invalid empty state")}}(t);return t===d.FriendsSections.ADD_FRIEND?m(i.default.div,{className:p.default.friendsEmpty,style:o},void 0,m(g,{theme:r})):m(i.default.div,{className:p.default.friendsEmpty,style:o},void 0,m(f.default,{theme:r},void 0,m(f.default.Image,{width:u.width,height:u.height,lightSrc:u.lightSrc,darkSrc:u.darkSrc}),u.renderContent(n)))};return t}(o.PureComponent);E.displayName="FriendsEmptyState";var S=u.default.connectStores([l.default],(function(){return{theme:l.default.theme}}),{forwardRef:!0})(E);t.default=S},539417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(237923)),i=n(910992),u=h(n(992193)),l=h(n(259530)),s=n(308920),f=h(n(334200)),d=h(n(906507)),c=h(n(739148)),p=n(770348),v=h(n(247001)),y=h(n(679396));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.user,n=e.type,r=e.status,h=e.isFocused,m=a.useContext(s.AnalyticsContext),g=function(e){e.stopPropagation();o.default.removeRelationship(t.id,{location:"Friends"})},E=function(e){e.stopPropagation();o.default.addRelationship(t.id,{location:"Friends"})},S=r===p.StatusTypes.OFFLINE?p.StatusTypes.UNKNOWN:r,O=n===p.RelationshipTypes.PENDING_INCOMING?v.default.Messages.INCOMING_FRIEND_REQUEST:v.default.Messages.OUTGOING_FRIEND_REQUEST;return _(d.default,{isFocused:h,user:t,onClick:function(){return(0,i.openUserProfileModal)({userId:t.id,analyticsLocation:m.location})}},void 0,(function(e){var r=n===p.RelationshipTypes.PENDING_INCOMING?a.createElement(a.Fragment,null,_(f.default,{icon:u.default,
actionType:f.default.ActionTypes.ACCEPT,tooltip:v.default.Messages.FRIEND_REQUEST_ACCEPT,onClick:E,shouldHighlight:e}),_(f.default,{icon:l.default,actionType:f.default.ActionTypes.DENY,tooltip:v.default.Messages.FRIEND_REQUEST_IGNORE,onClick:g,shouldHighlight:e})):_(f.default,{icon:l.default,actionType:f.default.ActionTypes.DENY,tooltip:v.default.Messages.FRIEND_REQUEST_CANCEL,onClick:g,shouldHighlight:e});return _("div",{className:y.default.listItemContents},void 0,_(c.default,{user:t,hovered:e,status:S,subText:O,className:y.default.userInfo}),_("div",{className:y.default.actions},void 0,r))}))}g.displayName="PendingRow"},424359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=T(n(667294)),o=I(n(294184)),i=n(536211),u=I(n(99694)),l=I(n(284382)),s=I(n(235879)),f=I(n(290629)),d=I(n(801745)),c=I(n(949898)),p=I(n(665759)),v=I(n(89411)),y=I(n(724603)),h=T(n(767695)),m=I(n(539417)),_=I(n(662632)),g=I(n(634634)),E=I(n(67993)),S=n(770348),O=I(n(247001)),b=I(n(65234));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}
return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t=e.sectionFilter,n=(0,i.useStateFromStoresObject)([d.default],(function(){return d.default.getState()})),r=n.rows,I=n.section,C=(0,i.useStateFromStores)([c.default],(function(){return c.default.isFocused()})),T=(0,i.useStateFromStores)([f.default],(function(){return f.default.getRelationshipCount()})),N=M(a.useState((function(){
for(var e={},t=0,n=Object.values(S.FriendsSections);t<n.length;t++){e[n[t]]=""}return e})),2),R=N[0],w=N[1];var D=a.useCallback((function(e){var n;w(P({},R,((n={})[t]=e,n)))}),[R,t]),L=a.useCallback((function(){var e;w(P({},R,((e={})[t]="",e)))}),[R,t]),j=r.filter(t,R[t]);if(0===j.length&&""===R[t])return A("div",{className:b.default.emptyStateContainer},void 0,A(h.default,{type:t,onClick:function(){u.default.setSection(S.FriendsSections.ADD_FRIEND)}},I));var k=[j],U=0===j.length&&""!==R[t];return A(l.default,{section:S.AnalyticsSections.FRIENDS_LIST},void 0,A(p.default,{className:(0,o.default)(b.default.searchBar,U?b.default.searchEmptyState:null),query:R[t],onChange:D,onClear:L,size:p.default.Sizes.MEDIUM}),A("div",{className:b.default.SectionTitle},void 0,A(g.default,{title:function(){var e=j.length;switch(t){case S.FriendsSections.ONLINE:return O.default.Messages.FRIENDS_ONLINE_HEADER.format({online:e.toString()});case S.FriendsSections.PENDING:
return O.default.Messages.FRIENDS_PENDING_HEADER.format({count:e.toString()});case S.FriendsSections.SUGGESTIONS:return O.default.Messages.FRIENDS_FRIEND_SUGGESTIONS_HEADER.format({count:e.toString()});case S.FriendsSections.BLOCKED:return O.default.Messages.FRIENDS_BLOCKED_HEADER.format({count:e.toString()});default:return O.default.Messages.FRIENDS_ALL_HEADER.format({count:e.toString()})}}()})),U?A("div",{className:b.default.emptyStateContainer},void 0,A(h.default,{type:h.FriendsSearchStatus.SECTION_NO_RESULTS},I)):A(_.default,{relationshipCount:T,statusSections:k,renderRow:function(e){switch(t){case S.FriendsSections.BLOCKED:return a.createElement(v.default,P({},e,{isFocused:C}));case S.FriendsSections.PENDING:return a.createElement(m.default,P({},e,{isFocused:C}));case S.FriendsSections.SUGGESTIONS:return a.createElement(E.default,P({},e,{isFocused:C}));case S.FriendsSections.ONLINE:case S.FriendsSections.ALL:default:return a.createElement(y.default,P({},e,{isFocused:C}))}},
searchQuery:R[t],useReducedMotion:s.default.useReducedMotion}))}R.displayName="PeopleList";var w=R;t.default=w},906507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(74854)),u=n(798628),l=n(378158),s=c(n(314234)),f=n(61045),d=c(n(833151));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).state={height:new i.default.Value(f.PEOPLE_LIST_ITEM_HEIGHT),opacity:new i.default.Value(1),hovered:!1,isContextMenuActive:!1};t.handleMouseEnter=function(){var e=t.props,n=e.isFocused,r=e.isActive,a=e.onOtherHover,o=t.state.isContextMenuActive;t.setState({hovered:n});!n||r||o||null==a||a()};t.handleMouseLeave=function(){t.setState({hovered:!1})};t.handleContextMenu=function(e,r){t.setState({isContextMenuActive:!0});(0,l.openContextMenuLazy)(e,m(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){
return a.createElement(o,y({},e,{user:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:function(){t.setState({isContextMenuActive:!1})}})};return t}var r=t.prototype;r.componentWillLeave=function(e){i.default.parallel([i.default.timing(this.state.opacity,{toValue:0,duration:200}),i.default.timing(this.state.height,{toValue:0,duration:200})]).start(e)};r.componentWillEnter=function(e){this.state.opacity.setValue(0);this.state.height.setValue(0);i.default.parallel([i.default.timing(this.state.opacity,{toValue:1,duration:200}),i.default.timing(this.state.height,{toValue:f.PEOPLE_LIST_ITEM_HEIGHT,duration:200})]).start(e)};r.render=function(){var e=this,t=this.state,n=t.height,r=t.opacity,l=t.hovered,f=t.isContextMenuActive,c=this.props,p=c.children,h=c.user,m=c.onClick,_=c.isActive;return v(u.ListNavigatorItem,{id:h.id},void 0,(function(t){var u;return v(s.default,{offset:{left:-8,right:-8}},void 0,a.createElement(i.default.div,y({className:(0,
o.default)(d.default.peopleListItem,(u={},u[d.default.active]=_||f,u)),onContextMenu:function(t){return e.handleContextMenu(t,h)},onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,onClick:null!=m?m:void 0,style:{height:n,opacity:r}},t),p(l||_||f)))}))};return t}(a.PureComponent);g.displayName="PeopleListItem";var E=g;t.default=E},662632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.relationshipCount,n=e.statusSections,r=e.renderRow,u=e.searchQuery,l=e.useReducedMotion;return t>=i.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD?s(a.default,{statusSections:n,renderRow:r,searchQuery:u}):s(o.default,{statusSections:n,renderRow:r,searchQuery:u,useReducedMotion:l})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(390389)),o=u(n(104889)),i=n(61045);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},390389:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=v(n(667294)),o=v(n(798628)),i=n(536211),u=c(n(235879)),l=n(521358),s=n(61045),f=c(n(65234)),d=["ref"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e){var t=e.statusSections,n=e.renderRow,r=e.searchQuery,c=function(e){return 0===t[e].length?0:s.STATUS_HEADER_HEIGHT+16},p=function(e){var r=e.section,a=e.row,o=t[r];if(null==o||null==a)return null;var i=o[a];return null==i?null:n(i)},v=(0,i.useStateFromStores)([u.default],(function(){return u.default.keyboardModeEnabled})),m=a.useRef(null),_=a.useCallback((function(){return new Promise((function(e){var t=m.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))
}),[]),g=a.useCallback((function(){return new Promise((function(e){var t=m.current;if(null==t)return e();t.scrollToBottom({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),E=a.useCallback((function(e){var t=document.querySelector(e),n=m.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:function(){return null==t?void 0:t.focus()}})}),[]),S=(0,o.default)({id:"people-list",isEnabled:v,scrollToStart:_,scrollToEnd:g,setFocus:E});return y(o.ListNavigatorProvider,{navigator:S},void 0,y(o.ListNavigatorContainer,{},void 0,(function(e){var n=e.ref,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d);return a.createElement(l.ListAuto,h({ref:function(e){var t;m.current=e;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},sectionHeight:c,renderRow:p,rowHeight:s.PEOPLE_LIST_ITEM_HEIGHT,sections:t.map((function(e){
return""!==r&&0===e.length?e.length+1:e.length})),className:f.default.peopleList},o))})))}m.displayName="PeopleListSectionedLazy";var _=m;t.default=_},104889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=v(n(667294)),o=v(n(798628)),i=n(536211),u=c(n(550024)),l=c(n(235879)),s=n(582945),f=c(n(65234)),d=["ref"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(){
y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){
var t=e.statusSections,n=e.renderRow,r=e.searchQuery,c=e.useReducedMotion,p=(0,i.useStateFromStores)([l.default],(function(){return l.default.keyboardModeEnabled})),v=(0,o.default)({id:"people",isEnabled:p,scrollToStart:function(){return _(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},scrollToEnd:function(){return _(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}),m=t.map((function(e,t){return c||""!==r?h("div",{},t,e.map(n)):h(u.default,{transitionAppear:!1,component:"div"},t,e.map(n))}));return h(o.ListNavigatorProvider,{navigator:v},void 0,h(o.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d)
;return a.createElement(s.ScrollerAuto,y({ref:t,className:f.default.peopleList},n),m)})))}g.displayName="PeopleListSectionedNonLazy";var E=g;t.default=E},547403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=C(n(667294)),o=n(370405),i=n(536211),u=C(n(588136)),l=b(n(99694)),s=b(n(677520)),f=b(n(463024)),d=b(n(992634)),c=b(n(352636)),p=n(887299),v=b(n(801745)),y=C(n(186465)),h=b(n(652047)),m=n(598671),_=b(n(518319)),g=b(n(424359)),E=n(770348),S=b(n(247001)),O=b(n(342894));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=T(f.default.Divider,{});function P(){return T("div",{className:O.default.inviteToolbar},void 0,T(d.default,{tooltip:S.default.Messages.NEW_GROUP_DM}),A)}P.displayName="HeaderToolbar";var M=T(o.Helmet,{title:"Discord"}),N=T(P,{}),R=T(f.default.Icon,{icon:h.default,"aria-hidden":!0}),w=T(f.default.Divider,{}),D=T(_.default,{}),L=T(c.default,{})
;function j(e){var t=e.initialSection;a.useEffect((function(){u.setHomeLink(E.Routes.FRIENDS);(0,p.trackAppUIViewed)("friends")}));a.useEffect((function(){null!=t&&l.default.setInitialSection(t)}),[t]);var n=(0,i.useStateFromStoresObject)([v.default],(function(){return v.default.getState()})),r=n.section,o=n.pendingCount,d=(0,i.useStateFromStoresObject)([s.default],(function(){return s.default.getSuggestionCount()}));return T("div",{className:O.default.container},void 0,M,T(f.default,{toolbar:N},void 0,R,T(f.default.Title,{},void 0,S.default.Messages.FRIENDS),w,T(y.default,{"aria-label":S.default.Messages.FRIENDS,selectedItem:r,type:y.Types.TOP_PILL,onItemSelect:function(e){l.default.setSection(e)},className:O.default.tabBar},void 0,T(y.Item,{id:E.FriendsSections.ONLINE,className:O.default.item},void 0,S.default.Messages.FRIENDS_SECTION_ONLINE),T(y.Item,{id:E.FriendsSections.ALL,className:O.default.item},void 0,S.default.Messages.FRIENDS_SECTION_ALL),T(y.Item,{
id:E.FriendsSections.PENDING,className:O.default.item,"aria-label":S.default.Messages.FRIENDS_SECTION_PENDING},void 0,S.default.Messages.FRIENDS_SECTION_PENDING,o>0?T(m.NumberBadge,{count:o,className:O.default.badge,style:{paddingRight:0}}):null),d>0?T(y.Item,{id:E.FriendsSections.SUGGESTIONS,className:O.default.item,"aria-label":S.default.Messages.FRIENDS_SECTION_SUGGESTIONS},void 0,S.default.Messages.FRIENDS_SECTION_SUGGESTIONS,T(m.NumberBadge,{count:d,className:O.default.badge,style:{paddingRight:0}})):null,T(y.Item,{id:E.FriendsSections.BLOCKED,className:O.default.item},void 0,S.default.Messages.BLOCKED),T(y.Item,{"aria-label":S.default.Messages.FRIENDS_SECTION_ADD_FRIEND,className:O.default.item,color:E.Colors.STATUS_GREEN_600,id:E.FriendsSections.ADD_FRIEND},void 0,T("span",{"aria-hidden":"true"},void 0,S.default.Messages.FRIENDS_SECTION_ADD_FRIEND)))),T("div",{className:O.default.tabBody},void 0,T(y.Panel,{id:r,className:O.default.peopleColumn
},void 0,r===E.FriendsSections.ADD_FRIEND?D:T(g.default,{sectionFilter:r})),T("div",{className:O.default.nowPlayingColumn},void 0,L)))}j.displayName="PeoplePage";var k=j;t.default=k},634634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(325908)),o=i(n(858162));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.title;return l(a.default,{className:o.default.title},void 0,t)}s.displayName="SectionTitle"},666561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(433473)),o=n(873838),i=u(n(78080));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.hovered,n=e.activities,r=e.applicationStream,u=e.status;return n.length>0?s(a.default,{className:i.default.activity,textClassName:i.default.text,emojiClassName:i.default.customStatusEmoji,activities:n,applicationStream:r,
animate:t}):s("div",{className:i.default.text},void 0,(0,o.humanizeStatus)(u))};t.default=f},67993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(237923)),i=m(n(651473)),u=n(910992),l=m(n(992193)),s=m(n(259530)),f=n(308920),d=m(n(334200)),c=m(n(906507)),p=m(n(739148)),v=n(770348),y=m(n(247001)),h=m(n(380625));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}
function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.user,n=e.nickname,r=e.status,m=e.isFocused,_=a.useContext(f.AnalyticsContext),E=function(e){null==e||e.stopPropagation();o.default.addRelationship(t.id,{location:"Friends"},void 0,void 0,!0)},S=function(e){null==e||e.stopPropagation();i.default.ignore(t.id)},O=r===v.StatusTypes.OFFLINE?v.StatusTypes.UNKNOWN:r;return g(c.default,{isFocused:m,user:t,onClick:function(){return(0,u.openUserProfileModal)({userId:t.id,analyticsLocation:_.location})}},void 0,(function(e){var r=a.createElement(a.Fragment,null,g(d.default,{icon:l.default,
actionType:d.default.ActionTypes.ACCEPT,tooltip:y.default.Messages.FRIEND_REQUEST_ACCEPT,onClick:E,shouldHighlight:e}),g(d.default,{icon:s.default,actionType:d.default.ActionTypes.DENY,tooltip:y.default.Messages.FRIEND_REQUEST_IGNORE,onClick:S,shouldHighlight:e}));return g("div",{className:h.default.listItemContents},void 0,g(p.default,{user:t,hovered:e,status:O,subText:n,className:h.default.userInfo}),g("div",{className:h.default.actions},void 0,r))}))}E.displayName="SuggestionRow"},739148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(294184)),o=n(536211),i=f(n(252149)),u=f(n(435160)),l=f(n(290629)),s=f(n(107793));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t,n=e.user,r=e.hovered,f=e.subText,d=e.status,p=e.isMobile,v=e.className,y=(0,o.useStateFromStores)([l.default],(function(){return l.default.getNickname(n.id)}));return c("div",{className:(0,a.default)(s.default.userInfo,v,(t={},
t[s.default.hovered]=r,t))},void 0,c(u.default,{user:n,className:s.default.avatar,animate:r,status:d,isMobile:p}),c("div",{className:s.default.text},void 0,c(i.default,{nick:y,user:n,className:s.default.discordTag,usernameClass:s.default.username,discriminatorClass:s.default.discriminator,botClass:s.default.botTag}),c("div",{className:s.default.subtext},void 0,f)))}p.displayName="UserInfo";var v=p;t.default=v},864062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=s(n(536211)),i=s(n(636602)),u=n(497806),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=(0,u.getDefaultCountryCode)();function c(e){var t,n=e.countryCode;null!=n&&(d=null!==(t=(0,u.getCountryCodeByAlpha2)(n))&&void 0!==t?t:(0,u.getDefaultCountryCode)())}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e)
;function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(a=e.selectedCountryCode)};n.getUserAgnosticState=function(){return{selectedCountryCode:a}};n.getCountryCode=function(){return null!=a?a:d};return t}(o.default.DeviceSettingsStore);p.persistKey="PhoneStore";var v=new p(i.default,((r={})[l.ActionTypes.PHONE_SET_COUNTRY_CODE]=function(e){var t=e.countryCode;a=t},r[l.ActionTypes.CONNECTION_OPEN]=c,r[l.ActionTypes.SET_LOCATION_METADATA]=c,r));t.default=v},89320:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=D(n(667294)),o=R(n(294184)),i=R(n(441143)),u=n(473727),l=n(536211),s=R(n(450365)),f=R(n(662906)),d=R(n(367267)),c=R(n(240938)),p=R(n(788242)),v=R(n(235879)),y=R(n(339634)),h=R(n(569951)),m=R(n(463739)),_=R(n(564208)),g=R(n(871778)),E=R(n(949898)),S=n(248685),O=n(194322),b=D(n(499458)),I=n(272544),C=n(864489),T=n(518802),A=R(n(902305)),P=n(770348),M=n(371621),N=R(n(736972))
;function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(){j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return j.apply(this,arguments)}function k(e,t){k=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return k(e,t)}var U=L(I.MaskLibrary,{}),G=L(b.default,{}),F=L(S.AppLayerContainer,{}),x=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;k(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).rootRef=a.createRef();t.handleBlur=function(){var e,n;null===(e=(n=t.props).onBlur)||void 0===e||e.call(n)};t.handleContextMenu=function(e){e.preventDefault()};return t}var n=t.prototype;n.componentDidMount=function(){var e=this.props.guestWindow,t=e.document
;null==t.querySelector("title")&&null!=t.head&&t.head.appendChild(t.createElement("title"));this.updateTitle();this.updateFontScale();this.updateLocale();e.addEventListener("blur",this.handleBlur);t.addEventListener("contextmenu",this.handleContextMenu,!0)};n.componentDidUpdate=function(e){var t=this.props,n=t.title,r=t.fontScale,a=t.locale;e.title!==n&&this.updateTitle();e.fontScale!==r&&this.updateFontScale();e.locale!==a&&this.updateLocale()};n.componentWillUnmount=function(){var e=this.props.guestWindow,t=e.document;e.removeEventListener("blur",this.handleBlur);t.removeEventListener("contextmenu",this.handleContextMenu,!0);O.useModalsStore.setState((function(e){var t;return j({},e,((t={})[M.POPOUT_MODAL_CONTEXT]=[],t))}))};n.updateLocale=function(){var e=this.props,t=e.locale,n=e.guestWindow.document.documentElement;(0,i.default)(null!=n,"Window document element was null");n.lang=t};n.updateTitle=function(){var e=this.props,t=e.title,n=e.guestWindow.document.querySelector("title")
;null!=n&&(n.innerText=t)};n.updateFontScale=function(){var e=this.props,t=e.fontScale,n=e.guestWindow.document.documentElement;(0,i.default)(null!=n,"Window document element was null");n.style.fontSize=t+"%"};n.render=function(){var e=this.props,t=e.theme,n=e.focused,r=e.appFocused,i=e.children,l=e.windowKey,p=e.mouseModeEnabled,v=e.keyboardModeEnabled,h=e.reducedMotionEnabled,m=e.fontScaleClass,g=e.saturation,E=e.withTitleBar,O=(0,C.getPlatform)(),I=(0,o.default)(m,{"mouse-mode":p,"reduce-motion":h,"full-motion":!h,"keyboard-mode":v,"app-focused":n||r,"low-saturation":g<=.4});return L(u.BrowserRouter,{},void 0,a.createElement("div",{"data-popout-root":!0,ref:this.rootRef,className:(0,o.default)((0,T.getThemeClass)(t),(0,y.default)(),I)},L(_.default,{containerRef:this.rootRef},void 0,L(s.default,{},void 0,L(f.default,{},void 0,U,L(S.AppLayerProvider,{},void 0,L(b.ModalProvider,{contextKey:M.POPOUT_MODAL_CONTEXT},void 0,L("div",{className:N.default.popout
},void 0,E&&null!=O?L(d.default,{appContext:P.AppContext.POPOUT,focused:n,type:O,windowKey:l,macOSFrame:!0}):null,L("div",{className:N.default.content},void 0,i)),G,L(c.default,{context:P.AppContext.POPOUT}),F)))))))};return t}(a.Component);x.displayName="PopoutWindow";x.defaultProps={withTitleBar:!0};function V(e,t){var n=(0,l.useStateFromStoresObject)([A.default],(function(){return{guestWindow:A.default.getWindow(e.windowKey),focused:A.default.getWindowFocused(e.windowKey)}})),r=n.guestWindow,o=n.focused;(0,i.default)(null!=r,"Missing guestWindow reference");var u=(0,l.useStateFromStores)([E.default],(function(){return E.default.isFocused()})),s=(0,l.useStateFromStoresObject)([g.default],(function(){return{locale:g.default.locale,theme:g.default.theme}})),f=s.locale,d=s.theme,c=(0,l.useStateFromStoresObject)([v.default],(function(){return{fontScale:v.default.fontScale,keyboardModeEnabled:v.default.keyboardModeEnabled,reducedMotionEnabled:v.default.useReducedMotion,
fontScaleClass:v.default.fontScaleClass,saturation:v.default.saturation}})),p=c.fontScale,y=c.keyboardModeEnabled,_=c.reducedMotionEnabled,S=c.fontScaleClass,O=c.saturation;(0,h.default)(r,!1);var b=(0,m.default)(r,o);return null==r?null:a.createElement(x,j({ref:t},e,{guestWindow:r,focused:o,appFocused:u,locale:f,theme:d,fontScale:p,keyboardModeEnabled:y,mouseModeEnabled:b,reducedMotionEnabled:_,fontScaleClass:S,saturation:O}))}V.displayName="ConnectedPopoutWindow";var W=(0,p.default)(a.forwardRef(V));t.default=W},885159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;d(n(667294));var r,a=s(n(636602)),o=s(n(177230)),i=n(329117),u=d(n(8475)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=(0,i.makeLazy)({createPromise:function(){return n.e(41446).then(n.bind(n,209354))},webpackId:209354,name:"PopoutWindowChannelCall"}),y=(0,
i.makeLazy)({createPromise:function(){return n.e(38634).then(n.bind(n,224287))},webpackId:224287,name:"PopoutWindowStageChannelCall"}),h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe(l.ActionTypes.CHANNEL_CALL_POPOUT_WINDOW_OPEN,this.handleOpenChannelCallPopout)};n._terminate=function(){a.default.unsubscribe(l.ActionTypes.CHANNEL_CALL_POPOUT_WINDOW_OPEN,this.handleOpenChannelCallPopout)};n.handleOpenChannelCallPopout=function(e){var t=e.channel;u.open(l.PopoutWindowKeys.CHANNEL_CALL_POPOUT,(function(e){return t.isGuildStageVoice()?c(y,{windowKey:e,channel:t}):c(v,{windowKey:e,channel:t})}),{defaultWidth:854,defaultHeight:480})};return t}(o.default));t.default=h},554147:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=s(n(74854)),a=s(n(636602)),o=s(n(177230)),i=n(581525),u=s(n(902305)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleMainWindowFocus=function(e){e.focused&&t.injectWindowAnimationFrame(window)};t.handlePopoutWindowChange=function(){var e=u.default.getWindowKeys().find((function(e){return u.default.getWindowFocused(e)}));if(null==e)return t.injectWindowAnimationFrame(window);var n=u.default.getWindow(e);if(null==n||n.closed)return t.injectWindowAnimationFrame(window);t.injectWindowAnimationFrame(n)};return t}var n=t.prototype;n._initialize=function(){u.default.addChangeListener(this.handlePopoutWindowChange)
;a.default.subscribe(l.ActionTypes.WINDOW_FOCUS,this.handleMainWindowFocus)};n._terminate=function(){u.default.removeChangeListener(this.handlePopoutWindowChange);a.default.unsubscribe(l.ActionTypes.WINDOW_FOCUS,this.handleMainWindowFocus);this.injectWindowAnimationFrame(window)};n.injectWindowAnimationFrame=function(e){var t=function(t){return e.requestAnimationFrame(t)},n=function(t){return e.cancelAnimationFrame(t)};r.default.inject.RequestAnimationFrame(t);r.default.inject.CancelAnimationFrame(n);i.frameLoop.setRAF(t,n)};return t}(o.default));t.default=d},401039:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PromotionPreviewExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-06_preview_promotions",label:"Promotions Preview",defaultConfig:{previewEnabled:!1},treatments:[{id:1,label:"Preview Enabled",config:{previewEnabled:!0}}]});t.PromotionPreviewExperiment=r},496357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r=p(n(636602)),a=n(832635),o=n(851792),i=p(n(177230)),u=p(n(697952)),l=p(n(146771)),s=p(n(47969)),f=n(685677),d=n(265517),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).maybeFetchSubscriptions=function(){var e=y(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:if(null==t.user.premium_type){e.next=9;break}if(l.default.hasFetchedSubscriptions()){e.next=5;break}e.next=5;return(0,a.fetchSubscriptions)();case 5:if(null!=(null==(n=l.default.getPremiumSubscription())?void 0:n.paymentSourceId)||s.default.applicationIdsFetched.has(c.PREMIUM_SUBSCRIPTION_APPLICATION)){e.next=9;break}e.next=9;return(0,o.fetchUserEntitlementsForApplication)(c.PREMIUM_SUBSCRIPTION_APPLICATION);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.maybeFetchMostRecentSubscription=function(e){var t=e.user;null==t.premium_type&&null!=t.purchased_flags&&((0,f.hasFlag)(t.purchased_flags,d.PurchasedFlags.PREMIUM_TIER_1)||(0,f.hasFlag)(t.purchased_flags,d.PurchasedFlags.PREMIUM_TIER_2))&&(0,a.fetchMostRecentSubscription)()};t.maybeFetchCountryCode=function(){var e=y(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
if(null==n.user.premium_type){e.next=4;break}e.next=4;return t.fetchCountryCode();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.fetchCountryCode=y(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,a.fetchIpCountryCode)();case 2:if(null==(t=u.default.ipCountryCode)||c.LocalizedPricingCountryCodes.includes(t)){e.next=6;break}e.next=6;return(0,a.fetchPaymentSources)();case 6:case"end":return e.stop()}}),e)})));return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(c.ActionTypes.CONNECTION_OPEN,this.maybeFetchSubscriptions);r.default.subscribe(c.ActionTypes.CONNECTION_OPEN,this.maybeFetchCountryCode);r.default.subscribe(c.ActionTypes.CONNECTION_OPEN,this.maybeFetchMostRecentSubscription)};n._terminate=function(){r.default.unsubscribe(c.ActionTypes.CONNECTION_OPEN,this.maybeFetchSubscriptions)
;r.default.unsubscribe(c.ActionTypes.CONNECTION_OPEN,this.maybeFetchCountryCode);r.default.unsubscribe(c.ActionTypes.CONNECTION_OPEN,this.maybeFetchMostRecentSubscription)};return t}(i.default));t.default=m},745108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.fetchActiveOutboundPromotions=p;var r=f(n(118915)),a=f(n(636602)),o=n(851792),i=f(n(871778)),u=n(401039),l=f(n(297143)),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}function p(){return v.apply(this,arguments)}function v(){return(v=c(regeneratorRuntime.mark((function e(){var t,n,f,d,c,p,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:if(!l.default.isFetchingActiveOutboundPromotions){e.next=2;break}return e.abrupt("return");case 2:e.prev=2;a.default.dispatch({type:s.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH});t=u.PromotionPreviewExperiment.getCurrentConfig({}).previewEnabled?s.Endpoints.OUTBOUND_PROMOTIONS_PREVIEW:s.Endpoints.OUTBOUND_PROMOTIONS;e.next=7;return r.default.get({url:t,query:{locale:i.default.locale},oldFormErrors:!0});case 7:n=e.sent;f=n.body;d=l.default.consumedInboundPromotionId;if(l.default.hasFetchedConsumedInboundPromotionId){e.next=16;break}e.next=13;return(0,o.fetchUserEntitlementsForApplication)(s.PREMIUM_SUBSCRIPTION_APPLICATION,!1);case 13:p=e.sent;v=p.find((function(e){return null!=e.promotion_id&&!0===e.consumed}));d=null!==(c=null==v?void 0:v.promotion_id)&&void 0!==c?c:null;case 16:a.default.dispatch({type:s.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH_SUCCESS,activeOutboundPromotions:f,consumedInboundPromotionId:d});e.next=22;break;case 19:e.prev=19;e.t0=e.catch(2)
;a.default.dispatch({type:s.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH_FAIL});case 22:case"end":return e.stop()}}),e,null,[[2,19]])})))).apply(this,arguments)}var y={fetchActiveOutboundPromotions:p,dismissOutboundPromotionNotice:function(){a.default.dispatch({type:s.ActionTypes.OUTBOUND_PROMOTION_NOTICE_DISMISS})},markOutboundPromotionsSeen:function(){a.default.dispatch({type:s.ActionTypes.OUTBOUND_PROMOTIONS_SEEN})}};t.default=y},110210:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(177230)),o=n(745108),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){
r.default.subscribe(i.ActionTypes.CONNECTION_OPEN,this.maybeFetchActiveOutboundPromotions)};n._terminate=function(){r.default.unsubscribe(i.ActionTypes.CONNECTION_OPEN,this.maybeFetchActiveOutboundPromotions)};n.maybeFetchActiveOutboundPromotions=function(e){e.user.premium_type===i.PremiumTypes.TIER_2&&(0,o.fetchActiveOutboundPromotions)()};return t}(a.default));t.default=s},877454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;v(n(667294));var r,a=c(n(683767)),o=c(n(41024)),i=v(n(177101)),u=n(152960),l=n(62638),s=n(770348),f=c(n(247001)),d=c(n(202192));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.dismissCurrentNotice,n=(0,u.usePremiumTrialOffer)(),r=(0,a.default)(null!=n&&null!=n.expires_at?Date.parse(n.expires_at):0);return null==n||null==n.expires_at||Object.values(r).every((function(e){return 0===e}))?null:y(i.default,{
color:i.NoticeColors.PREMIUM_TIER_2},void 0,y(i.NoticeCloseButton,{onClick:t}),y(o.default,{className:d.default.premiumIcon}),r.days>0?f.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_DAYS.format({days:r.days}):r.hours>0?f.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_HOURS.format({hours:r.hours}):f.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_MINUTES.format({minutes:Math.max(r.minutes,1)}),y(i.NoticeButton,{onClick:function(){(0,l.openPremiumSelectPlanModal)({trialId:n.trial_id,subscriptionTier:s.PremiumSubscriptionSKUs.TIER_2,analyticsObject:{page:s.AnalyticsPages.IN_APP,section:s.AnalyticsSections.NOTIFICATION_BAR,object:s.AnalyticsObjects.BUTTON_CTA}})}},void 0,f.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_CTA))};h.displayName="PremiumTier2TrialEndingNotice";var m=h;t.default=m},216920:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(636602)),o=n(825185),i=p(n(177230)),u=n(799393),l=p(n(728429)),s=n(194322),f=p(n(838583)),d=n(770348),c=n(173708);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){a.default.subscribe(d.ActionTypes.PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL,this.maybeOpenProfilePreviewModal)};i._terminate=function(){a.default.unsubscribe(d.ActionTypes.PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL,this.maybeOpenProfilePreviewModal)};i.maybeOpenProfilePreviewModal=function(e){
var t=e.imageSrc,a=e.file,i=e.uploadType,d=e.guildId,p=null!=d?u.setPendingAvatar:o.setPendingAvatar,v=null!=d?u.setPendingBanner:o.setPendingBanner,h=l.default.getCurrentUser();if(i===c.UploadTypes.AVATAR){if(f.default.canUploadAnimatedAvatar(h)||"image/gif"!==a.type){p(t);return}(0,s.openModalLazy)(m(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7888)]).then(n.bind(n,7888));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,y({avatarSrc:t,onSubscribe:function(){return p(t)}},e))}));case 5:case"end":return e.stop()}}),e)}))))}else if(i===c.UploadTypes.BANNER){if(f.default.canUsePremiumProfileCustomization(h)){v(t);return}(0,s.openModalLazy)(m(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(7888)]).then(n.bind(n,7888));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,y({bannerSrc:t,onSubscribe:function(){return v(t)}},e))}));case 5:case"end":return e.stop()}}),e)}))))}};return t}(i.default));t.default=g},126515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(536211)),o=c(n(972247)),i=c(n(636602)),u=c(n(311492)),l=c(n(30098)),s=c(n(689389)),f=n(732978),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v="publicUpsellChannelNoticeGuilds",y=new Set;var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e;this.waitFor(s.default,l.default,u.default)
;this.syncWith([s.default,l.default,u.default],d.NOOP);y=null!==(e=new Set(o.default.get(v)))&&void 0!==e?e:new Set};n.isVisible=function(e){if(null!=e){var t=u.default.getMemberCount(e.id);return!y.has(e.id)&&null!=t&&t>=f.COMMUNITY_UPSELL_MINIMUM_GUILD_SIZE&&s.default.can(d.Permissions.ADMINISTRATOR,e)&&!e.hasFeature(d.GuildFeatures.COMMUNITY)}};return t}(a.default.Store))(i.default,((r={})[d.ActionTypes.PUBLIC_UPSELL_NOTICE_DISMISS]=function(e){var t=e.guildId;if(!y.has(t)){y.add(t);o.default.set(v,y);return!0}},r));t.default=h},666280:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=d(n(918667)),u=d(n(964285)),l=n(770348),s=d(n(247001)),f=d(n(864244));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.guild,n=a.useCallback((function(){(0,o.hideEnablePublicGuildUpsellNotice)(t.id)}),[t.id]);return p(i.default,{guild:t,onDismissed:n,onClick:function(){
return u.default.open(t.id,l.GuildSettingsSections.COMMUNITY)},message:s.default.Messages.NOTICE_ENABLE_PUBLIC_GUILD_UPSELL_MESSAGE,trackingSource:l.ChannelNoticeCtaSources.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:l.ChannelNoticeTypes.PUBLIC_UPSELL,image:f.default,cta:s.default.Messages.LEARN_MORE})};v.displayName="EnablePublicGuildUpsellNotice";var y=v;t.default=y},348612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(522731)),i=n(770348);function u(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e){e.relationship.type===i.RelationshipTypes.PENDING_INCOMING&&o.showPendingNotification(e.relationship.user)}function s(e){var t=e.user;o.showAcceptedNotification(t)}var f={init:function(){a.default.subscribe(i.ActionTypes.RELATIONSHIP_ADD,l);a.default.subscribe(i.ActionTypes.FRIEND_REQUEST_ACCEPTED,s)}};t.default=f},861798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VALIDATE_SOCKET_THROTTLERS=t.VALIDATE_SOCKET_PERIOD_MS=t.VALIDATE_SOCKET_CALLS_PER_PERIOD_LOW=t.VALIDATE_SOCKET_CALLS_PER_PERIOD_HIGH=void 0;t.computeActivityFlags=function(e,t){void 0===t&&(t=!1);var n=e.instance,r=e.secrets,a=e.party,o=0;n&&(o|=I.ActivityFlags.INSTANCE);(null==r?void 0:r.join)&&(o|=I.ActivityFlags.JOIN);if(t){o|=I.ActivityFlags.EMBEDDED;return o|=I.ActivityFlags.PARTY_PRIVACY_VOICE_CHANNEL}
if((null==a?void 0:a.privacy)===I.ActivityPartyPrivacy.PUBLIC||u.default.get("ACTIVITIES_FORCE_PUBLIC")){c.AllowActivityPartyPrivacyFriends.getSetting()&&(o|=I.ActivityFlags.PARTY_PRIVACY_FRIENDS);c.AllowActivityPartyPrivacyVoiceChannel.getSetting()&&(o|=I.ActivityFlags.PARTY_PRIVACY_VOICE_CHANNEL)}return o};t.containsSameValues=function(e,t){return r.default.isEqual(e,r.default.pick(t,Object.keys(e)))};t.fetchApplicationsRPC=function(e,t,n){return o.default.get({url:I.Endpoints.APPLICATION_RPC(t),oldFormErrors:!0,retries:3}).then((function(r){var a=r.body,o=a.rpc_origins,i=a.id,u=a.name,l=a.icon,f=a.cover_image,d=a.flags;if("string"==typeof n)if(e.transport===I.TransportTypes.POST_MESSAGE){var c=(0,s.default)(t);if(null==c||!j(n,[c]))throw new O.default(I.RPCCloseCodes.INVALID_ORIGIN,"Invalid Origin")}else if(!j(n,o))throw new O.default(I.RPCCloseCodes.INVALID_ORIGIN,"Invalid Origin");e.application={id:i,name:u,icon:l,coverImage:f,flags:d}}),(function(){
throw new O.default(I.RPCCloseCodes.INVALID_CLIENTID,"Invalid Client ID")}))};t.getDeprecatedVoiceSettingsWithShortcut=function(e){var t=y.default.getSettings(),n=function(e){return Object.values(e).sort((function(e,t){return e.index-t.index})).map((function(e){return{id:e.id,name:e.name}}))},r=e(t);return{input:{available_devices:n(y.default.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(y.default.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,threshold:t.modeOptions.threshold,shortcut:r,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}};t.getRemoteIconURL=L;t.getVoiceConnectionState=function(e){switch(e){case I.RTCConnectionStates.RTC_CONNECTED:case I.RTCConnectionStates.RTC_CONNECTING:
case I.RTCConnectionStates.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}};t.getVoiceSettingsWithShortcut=function(e,t){var n=y.default.getSettings(e),r=t(n);return{input_mode:{type:n.mode,shortcut:r},local_mutes:Object.keys(n.localMutes),local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}};t.hasMessageReadPermission=function(e,t,n){var r=v.default.getGuild(e.getGuildId());return(null!=r?r.getApplicationId():e.getApplicationId())===t||n.indexOf(I.OAuth2Scopes.MESSAGES_READ)>-1};t.isMatchingOrigin=function(e){if(null==e)return!1;var t,n=window.location.origin;if(e===n)return!0;try{t=a.default.parse(e).hostname}catch(e){return!1}if(window.location.hostname===t&&"localhost"===t)return!0;if(null!=e.match("staging"))return!1;if(N.test(e)&&N.test(n))return!0;return!1};t.processSocketThrottlers=function(e,t){return G.apply(this,arguments)};t.transformChannel=function(e,t){var n=[],r=e.getGuildId()
;[I.ChannelTypes.GUILD_CATEGORY].concat((a=p.GUILD_VOCAL_CHANNEL_TYPES,function(e){if(Array.isArray(e))return P(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).includes(e.type)||n.push(new Promise((function(t){h.default.whenReady(e.id,(function(){return t()}));l.default.fetchMessages({channelId:e.id,limit:I.MAX_MESSAGES_PER_CHANNEL})})));var a;return Promise.all(n).then((function(){
var n,a=(!e.isNSFW()||!0===(null===(n=_.default.getCurrentUser())||void 0===n?void 0:n.nsfwAllowed))&&t?h.default.getMessages(e.id).toArray().map(k):[],o=Object.values(g.default.getVoiceStatesForChannel(e.id)).map((function(t){return U(r,e.id,t)}));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:r,position:e.position,messages:a,voice_states:o}}))};t.transformInternalTextMessage=k;t.transformRelationship=function(e,t,n){var r=_.default.getUser(t);return{type:e,user:null!=r?(0,b.default)(r):null,presence:{status:m.default.getStatus(t),activity:null!=n?m.default.getApplicationActivity(t,n):m.default.getPrimaryActivity(t)}}};t.transformVoiceState=U;t.validateActivityInvite=function(e,t,n){if(e===I.ActivityActionTypes.JOIN)return null!=t&&null!=t.id&&null!=n.join;return!1};t.validateApplication=function(e){if(null==e.id)throw new O.default(I.RPCErrors.INVALID_COMMAND,"Invalid application")};t.validateOrigin=j
;t.validateOriginAndUpdateSocket=function(e,t){null==t&&(e.authorization.scopes=[I.RPC_LOCAL_SCOPE])};t.validatePostMessageTransport=function(e){if(e!==I.TransportTypes.POST_MESSAGE)throw new O.default(I.RPCErrors.INVALID_COMMAND,'command not available from "'+e+" transport")};var r=C(n(496486)),a=C(n(608575)),o=C(n(118915)),i=C(n(229354)),u=C(n(972247)),l=C(n(786345)),s=C(n(525917)),f=C(n(268389)),d=n(907932),c=n(894826),p=n(567186),v=C(n(30098)),y=C(n(635014)),h=C(n(201292)),m=C(n(788739)),_=C(n(728429)),g=C(n(387692)),E=C(n(29652)),S=C(n(827513)),O=C(n(248369)),b=C(n(838641)),I=n(770348);function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(){var e=I.API_HOST.split(":")[0];if(!e.includes("."))return e;var t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),N=new RegExp("^"+S.default.escape("https://")+"(?:[a-z]+\\.)?("+S.default.escape(M)+"|discordapp.com|discord.com)$");t.VALIDATE_SOCKET_CALLS_PER_PERIOD_LOW=2;t.VALIDATE_SOCKET_CALLS_PER_PERIOD_HIGH=60;var R=6e4;t.VALIDATE_SOCKET_PERIOD_MS=R;var w={};t.VALIDATE_SOCKET_THROTTLERS=w;function D(e){"customEmoji"===e.type&&(e.type="emoji");"emoji"===e.type&&e.src&&(e.src=L(e.src));Array.isArray(e.content)&&(e.content=e.content.map(D));return e}function L(e){return/^http/.test(e)?e:location.protocol+"//"+location.host+("/"===e.charAt(0)?"":"/")+e}function j(e,t){void 0===t&&(t=[]);return t.indexOf(e)>-1}function k(e){var t=f.default.parseToAST(e.content,!0,{channelId:e.channel_id}).map(D),n=(0,d.getMessageAuthor)(e),r=n.colorString,a=n.nick
;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:a,author_color:r,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:e.author?(0,b.default)(e.author):void 0,pinned:e.pinned,type:e.type}}function U(e,t,n){var r=n.mute,a=n.deaf,o=n.selfMute,i=n.selfDeaf,u=n.suppress,l=n.userId,s=_.default.getUser(l);if(null==s)throw new Error("Invalid user id: "+l);return{nick:E.default.getName(e,t,s),mute:y.default.isLocalMute(s.id),volume:y.default.getLocalVolume(s.id),pan:y.default.getLocalPan(s.id),voice_state:{mute:r,deaf:a,self_mute:o,self_deaf:i,suppress:u},user:(0,b.default)(s)}}function G(){return(G=A(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
if(null==(r=w[t])){a=n?2:60;r=new i.default(a,R);w[t]=r}e.next=4;return r.process();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},676606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n={HANDSHAKE:0,FRAME:1,CLOSE:2,HELLO:3};t.default=n},318671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a({},e);(function(e){var t=e;return"object"==typeof t.args&&"string"==typeof t.cmd})(t)&&(t=function(e){if(e.cmd===r.RPCCommands.AUTHENTICATE)return a({},e,{args:a({},e.args,{access_token:o})});return a({},e)}(t));(function(e){var t=e;return"object"==typeof t.data&&"string"==typeof t.cmd})(t)&&(t=function(e){if(e.cmd===r.RPCCommands.AUTHENTICATE)return a({},e,{data:a({},e.data,{access_token:o})});return a({},e)}(t));return t};var r=n(770348);function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return a.apply(this,arguments)}var o="<removed>"},682644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=C(n(496486)),a=n(536211),o=C(n(636602)),i=C(n(644263)),u=C(n(876874)),l=C(n(319111)),s=C(n(361585)),f=C(n(635014)),d=C(n(788739)),c=C(n(893160)),p=C(n(290629)),v=C(n(211136)),y=C(n(538983)),h=C(n(728429)),m=C(n(387692)),_=C(n(308920)),g=n(71246),E=n(864489),S=n(861798),O=C(n(838641)),b=n(770348),I=n(376293);function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(){function e(e){this.rpcServer=e.server;this.transports=e.transports;this.rpcCommandHandlers=e.commands;this.rpcEventHandlers=e.events;this.stores=e.stores;this.registerTransportsForEmbeddedPlatform=e.registerTransportsForEmbeddedPlatform}var t=e.prototype;t.loadServer=function(){E.isPlatformEmbedded&&this.registerTransportsForEmbeddedPlatform();for(var e,t=function(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.transports);!(e=t()).done;){var n=e.value;this.rpcServer.registerTransport(n)}for(var r=this.rpcCommandHandlers,a=0,o=Object.entries(r);a<o.length;a++){var i=T(o[a],2),u=i[0],l=i[1];this.rpcServer.setCommandHandler(u,l)}for(var s=this.rpcEventHandlers,f=0,d=Object.entries(s);f<d.length;f++){var c=T(d[f],2),p=c[0],v=c[1];this.rpcServer.setEventHandler(p,v)}};t.init=function(){var e=this;this.rpcServer.getCurrentUser=function(){return h.default.getCurrentUser()};this.rpcServer.onConnect=function(e){o.default.dirtyDispatch({type:b.ActionTypes.RPC_APP_CONNECTED,
socketId:e.id,application:e.application});_.default.track(b.AnalyticEvents.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport})};this.rpcServer.onDisconnect=function(e,t){o.default.dirtyDispatch({type:b.ActionTypes.RPC_APP_DISCONNECTED,socketId:e.id,application:e.application,reason:t})};var t=[i.default,u.default,d.default,m.default,f.default,c.default];new a.BatchedStoreListener(t.concat(this.stores),(function(){return e.rpcServer.updateSubscriptions()})).attach("RPCServerManager");o.default.subscribe(b.ActionTypes.MESSAGE_CREATE,(function(t){return e.handleMessage(t)}));o.default.subscribe(b.ActionTypes.MESSAGE_UPDATE,(function(t){return e.handleMessage(t)}));o.default.subscribe(b.ActionTypes.MESSAGE_DELETE,(function(t){return e.handleMessage(t)}));o.default.subscribe(b.ActionTypes.SPEAKING,(function(t){return e.handleSpeaking(t)}));o.default.subscribe(b.ActionTypes.OAUTH2_TOKEN_REVOKE,(function(t){return e.handleOAuth2TokenRevoke(t)}))
;o.default.subscribe(b.ActionTypes.GUILD_CREATE,(function(t){return e.handleGuildCreate(t)}));o.default.subscribe(b.ActionTypes.CHANNEL_CREATE,(function(t){return e.handleChannelCreate(t)}));o.default.subscribe(b.ActionTypes.LOGOUT,(function(){return e.handleLogout()}));o.default.subscribe(b.ActionTypes.VOICE_CHANNEL_SELECT,(function(t){return e.handleVoiceChannelSelect(t)}));o.default.subscribe(b.ActionTypes.RPC_NOTIFICATION_CREATE,(function(t){return e.handleNotificationCreate(t)}));o.default.subscribe(b.ActionTypes.ACTIVITY_JOIN,(function(t){return e.handleActivityJoin(t)}));o.default.subscribe(b.ActionTypes.RELATIONSHIP_ADD,(function(t){return e.handleRelationshipAdd(t)}));o.default.subscribe(b.ActionTypes.RELATIONSHIP_REMOVE,(function(t){return e.handleRelationshipRemove(t)}));o.default.subscribe(b.ActionTypes.PRESENCE_UPDATE,(function(t){return e.handlePresenceUpdate(t)}));o.default.subscribe(b.ActionTypes.PRESENCES_REPLACE,(function(){return e.handlePresencesReplace()}))
;o.default.subscribe(b.ActionTypes.LOBBY_UPDATE,(function(t){return e.handleLobbyUpdate(t)}));o.default.subscribe(b.ActionTypes.LOBBY_DELETE,(function(t){return e.handleLobbyDelete(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MEMBER_CONNECT,(function(t){return e.handleLobbyMemberConnect(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MEMBER_UPDATE,(function(t){return e.handleLobbyMemberUpdate(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MEMBER_DISCONNECT,(function(t){return e.handleLobbyMemberDisconnect(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MESSAGE,(function(t){return e.handleLobbyMessage(t)}));o.default.subscribe(b.ActionTypes.ENTITLEMENT_CREATE,(function(t){return e.handleEntitlementCreate(t)}));o.default.subscribe(b.ActionTypes.ENTITLEMENT_DELETE,(function(t){return e.handleEntitlementDelete(t)}));o.default.subscribe(b.ActionTypes.USER_ACHIEVEMENT_UPDATE,(function(t){return e.handleUserAchievementUpdate(t)}))};t.handleMessage=function(e){
e.type===b.ActionTypes.MESSAGE_CREATE&&this.handleActivityMessage(e);var t,n,r,a=null;switch(e.type){case b.ActionTypes.MESSAGE_CREATE:if("SENDING"===e.message.state)return;t=b.RPCEvents.MESSAGE_CREATE;n=e.channelId;r=e.message;a=""+t+e.message.id;break;case b.ActionTypes.MESSAGE_UPDATE:t=b.RPCEvents.MESSAGE_UPDATE;n=e.message.channel_id;r=e.message;break;case b.ActionTypes.MESSAGE_DELETE:t=b.RPCEvents.MESSAGE_DELETE;n=e.channelId;r={id:e.id};a=""+t+e.id;break;default:return(0,g.assertNever)(e)}n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,S.transformInternalTextMessage)(r)},a)};t.handleSpeaking=function(e){var t=this,n=0!==e.speakingFlags?b.RPCEvents.SPEAKING_START:b.RPCEvents.SPEAKING_STOP;if(e.context===I.MediaEngineContextTypes.DEFAULT){var r=v.default.getVoiceChannelId();if(null!=r){var a=i.default.getChannel(r);if(null==a)return;var o=m.default.getVoiceState(a.getGuildId(),e.userId);if(null==o)return;this.rpcServer.dispatchToSubscriptions(n,{
channel_id:o.channelId},{channel_id:o.channelId,user_id:e.userId})}}else s.default.getLobbyIdsForUser(e.userId).forEach((function(r){var a=l.default.getLobby(r);null!=a&&a.application_id===e.context&&t.rpcServer.dispatchToSubscriptions(n,{},{lobby_id:r,user_id:e.userId})}))};t.handleVoiceChannelSelect=function(e){var t=e.guildId,n=e.channelId;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})};t.handleNotificationCreate=function(e){var t=e.channelId,n=e.message,r=e.icon,a=e.title,o=e.body;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,S.transformInternalTextMessage)(n),icon_url:null!=r?(0,S.getRemoteIconURL)(r):null,title:a,body:o})};t.handleActivityJoin=function(e){var t=e.applicationId,n=e.secret,r=e.intent,a={secret:n};e.embedded&&(a.intent=r);this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_JOIN,(function(e){return e.socket.application.id===t}),a)
;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.GAME_JOIN,(function(e){return e.socket.application.id===t}),a)};t.handleActivityMessage=function(e){var t=e.channelId,n=e.message,r=n.application,a=n.activity;if(null!=r&&null!=a&&null!=a.party_id){var o=h.default.getUser(n.author.id);if(null!=o){var i=h.default.getCurrentUser();if(null!=i&&o.id!==i.id){var u=a.type===b.ActivityActionTypes.JOIN_REQUEST?d.default.getApplicationActivity(i.id,r.id):d.default.getApplicationActivity(o.id,r.id);if(null!=u&&null!=u.party&&u.party.id===a.party_id){var l=u.application_id;switch(a.type){case b.ActivityActionTypes.JOIN:this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_INVITE,(function(e){return e.socket.application.id===l}),{user:(0,O.default)(o),activity:u,type:a.type,channel_id:t,message_id:n.id});break;case b.ActivityActionTypes.JOIN_REQUEST:this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_JOIN_REQUEST,(function(e){return e.socket.application.id===l}),{user:(0,
O.default)(o)})}}}}}};t.handleOAuth2TokenRevoke=function(e){var t=e.accessToken;this.rpcServer.sockets.forEach((function(e){e.authorization.accessToken===t&&e.close(b.RPCCloseCodes.TOKEN_REVOKED,"Token revoked")}))};t.handleGuildCreate=function(e){var t=e.guild,n=t.id,r=t.name;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.GUILD_CREATE,{},{id:n,name:r})};t.handleChannelCreate=function(e){var t=e.channel,n=t.id,r=t.name,a=t.type;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.CHANNEL_CREATE,{},{id:n,name:r,type:a})};t.handleLogout=function(){this.rpcServer.sockets.forEach((function(e){return e.close(b.RPCCloseCodes.CLOSE_NORMAL,"User logout")}))};t.handleRelationshipAdd=function(e){var t=e.relationship,n=t.id,r=t.type;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(r,n))};t.handleRelationshipRemove=function(e){var t=e.relationship.id;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,
S.transformRelationship)(b.RelationshipTypes.NONE,t))};t.handlePresenceUpdate=function(e){var t=e.guildId,n=e.user.id;if(null==t){var r=p.default.getRelationshipType(n);r===b.RelationshipTypes.NONE&&y.default.getUserAffinitiesUserIds().has(n)&&(r=b.RelationshipTypes.IMPLICIT);r!==b.RelationshipTypes.NONE&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(r,n))}};t.handlePresencesReplace=function(){var e=this;r.default.forEach(p.default.getRelationships(),(function(t,n){e.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(t,n))}))};t.handleLobbyUpdate=function(e){var t=e.lobby;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_UPDATE,{},t)};t.handleLobbyDelete=function(e){var t=e.lobbyId;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_DELETE,{},{id:t})};t.handleLobbyMemberConnect=function(e){var t=e.lobbyId,n=e.member
;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_CONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMemberUpdate=function(e){var t=e.lobbyId,n=e.member;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_UPDATE,{},{lobby_id:t,member:n})};t.handleLobbyMemberDisconnect=function(e){var t=e.lobbyId,n=e.member;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_DISCONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMessage=function(e){var t=e.lobbyId,n=e.senderId,r=e.data;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MESSAGE,{},{lobby_id:t,sender_id:n,data:r})};t.handleEntitlementCreate=function(e){var t=e.entitlement;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ENTITLEMENT_CREATE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleEntitlementDelete=function(e){var t=e.entitlement;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ENTITLEMENT_DELETE,(function(e){
return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleUserAchievementUpdate=function(e){var t=e.userAchievement,n=t.application_id;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.USER_ACHIEVEMENT_UPDATE,(function(e){return e.socket.application.id===n}),{user_achievement:t})};return e}();t.default=M},964125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n;return(n={})[p.RPCCommands.AUTHENTICATE]={handler:function(n){var a=n.socket,o=n.args.access_token;if(null==o&&a.transport===p.TransportTypes.IPC){var u=a.application.id;if(null==u)throw new c.default(p.RPCErrors.INVALID_COMMAND,"No application.");var l=p.OAuth2Scopes.IDENTIFY,s=function(){return S({client_id:u,scope:l,response_type:"token"},e,t).then((function(e){if(null==e)throw new c.default(p.RPCErrors.UNKNOWN_ERROR,"Unknown error occurred");var t=e.split(/#|\?/),n=r.default.parse(t[t.length-1]);if(null!=n.error){var o
;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Error: "+n.error+": "+(null!==(o=n.error_description)&&void 0!==o?o:"unknown error"))}!function(e,t,n,r){var a,o=null!==(a=i.default.get(E))&&void 0!==a?a:{};o[e]={accessToken:t,scope:n,expires:Date.now()+r};i.default.set(E,o)}(u,n.access_token,n.scope,n.expires_in);return b(a,n.access_token)}))};o=function(e,t){var n=i.default.get(E);if(null!=n&&null!=n[e]){var r=n[e];if(!(r.scope!==t||r.expires<=Date.now()))return r.accessToken;delete n[e];i.default.set(E,n)}}(u,l);return null!=o?b(a,o).catch((function(){!function(e){var t,n=null!==(t=i.default.get(E))&&void 0!==t?t:{};delete n[e];i.default.set(E,n)}(u);return s()})):s()}if(null==o)throw new c.default(p.RPCErrors.INVALID_TOKEN,"No access token provided");return b(a,o)}},n[p.RPCCommands.AUTHORIZE]={handler:function(n){var a=n.socket,i=n.args,u=i.client_id;if(!u)throw new c.default(p.RPCErrors.INVALID_CLIENTID,"No client id provided")
;if(a.authorization.accessToken)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authenticated");if(a.authorization.authing)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authing");a.authorization.authing=!0;return o.default.get({url:p.Endpoints.APPLICATION_RPC(u),oldFormErrors:!0}).then((function(n){var r=n.body;if(a.application.id!==r.id)throw new c.default(p.RPCErrors.INVALID_CLIENTID,"Application does not match the connection's");var o=i.scopes||i.scope;delete i.scopes;return S(y({},i,{scope:o}),e,t)}),(function(){throw new c.default(p.RPCErrors.INVALID_CLIENTID,"Invalid client id: "+u)})).then((function(e){a.authorization.authing=!1;if(null==e)throw new c.default(p.RPCErrors.UNKNOWN_ERROR,"Unknown error occurred");var t=r.default.parse(e.split("?")[1].split("#")[0]);if(null!=t.error){var n;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Error: "+t.error+": "+(null!==(n=t.error_description)&&void 0!==n?n:"unknown error"))}return{code:t.code}
})).catch((function(e){a.authorization.authing=!1;throw e}))}},n};var r=v(n(817673)),a=v(n(267258)),o=v(n(118915)),i=v(n(972247)),u=v(n(636602)),l=n(552720),s=n(830608),f=v(n(728429)),d=v(n(656016)),c=v(n(248369)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}var E="CachedTokens";function S(e,t,n){return O.apply(this,arguments)}function O(){return(O=g(regeneratorRuntime.mark((function e(t,n,r){var o,i,u,v,y,h,m,_,g,E,S,O,b,I,C,T,A,P,M;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.client_id,i=t.response_type,u=void 0===i?"code":i,v=t.redirect_uri,y=t.code_challenge,h=t.code_challenge_method,m=t.state,_=t.scope,g=t.permissions,E=t.guild_id,
S=t.channel_id,O=t.prompt,b=t.disable_guild_select;if(null!=o){e.next=3;break}throw new c.default(p.RPCErrors.OAUTH2_ERROR,"No Client ID provided");case 3:if(null==v){e.next=5;break}throw new c.default(p.RPCErrors.OAUTH2_ERROR,"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");case 5:I=[];"string"==typeof _?I=_.split(" ").filter((function(e){return e.length>0})):Array.isArray(_)&&(I=_);if(null!=f.default.getCurrentUser()){e.next=10;break}throw new c.default(p.RPCErrors.OAUTH2_ERROR,"Client is not logged in");case 10:e.prev=10;e.next=13;return(0,l.fetchAuthorization)(o,I,u,v,y,h,m);case 13:C=e.sent;e.next=20;break;case 16:e.prev=16;e.t0=e.catch(10);T=e.t0.body;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Authorization Error: "+(T.message||"Unknown Error"));case 20:if(O!==s.OAuth2Prompts.NONE||null==C||!C.authorized){e.next=32;break}e.prev=21;e.next=24;return(0,l.authorize)(!0,o,I,u,v,y,h,m);case 24:A=e.sent;return e.abrupt("return",A.location);case 28:e.prev=28
;e.t1=e.catch(21);P=e.t1.body;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Authorize Error: "+(P.message||"Unknown Error"));case 32:null==r||r(C.application);M=d.default.NONE;try{M=a.default.deserialize(null!=g?g:0)}catch(e){}return e.abrupt("return",n(o,C,I,M,u,v,y,h,m,E,S,O,b));case 36:case"end":return e.stop()}}),e,null,[[10,16],[21,28]])})))).apply(this,arguments)}function b(e,t){if(e.authorization.accessToken)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authenticated");if(e.authorization.authing)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authenticating");e.authorization.authing=!0;return o.default.get({url:p.Endpoints.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer "+t},oldFormErrors:!0}).then((function(n){e.authorization.authing=!1;var r=n.body,a=r.application,o=r.user,i=r.scopes,l=r.expires;if(e.application.id!==a.id)throw new c.default(p.RPCErrors.INVALID_CLIENTID,"Application does not match the connection's")
;var s=f.default.getCurrentUser();if(null==s||!o||s.id!==o.id)throw new c.default(p.RPCErrors.INVALID_TOKEN,"Token does not match current user");e.authorization.scopes=[].concat(h(e.authorization.scopes),h(i),[p.RPC_AUTHENTICATED_SCOPE]);e.authorization.accessToken=t;e.authorization.expires=new Date(l);u.default.dispatch({type:p.ActionTypes.RPC_APP_AUTHENTICATED,socketId:e.id,application:e.application});return y({},n.body,{access_token:t})}),(function(){throw new c.default(p.RPCErrors.INVALID_TOKEN,"Invalid access token: "+t)})).catch((function(t){e.authorization.authing=!1;throw t}))}},311809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=s(n(94047)),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var f=((o={})[l.RPCCommands.SET_USER_ACHIEVEMENT]={scope:(r={},r[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],r),validation:function(e){return e.object().required().keys({
achievement_id:e.string().min(2).max(128),percent_complete:e.number().min(0).max(100).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.achievement_id,a=n.percent_complete,o=t.application.id;if(null==o)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return i.default.setUserAchievement(o,r,a).catch((function(e){var t=e.status,n=e.body;switch(t){case 429:throw new u.default(l.RPCErrors.RATE_LIMITED,"You are being rate limited.");case 403:throw null!=n&&n.code===l.AbortCodes.USER_NOT_AUTHORIZED_FOR_APPLICATION?new u.default(l.RPCErrors.UNAUTHORIZED_FOR_ACHIEVEMENT,"Not authorized to update this achievement."):new u.default(l.RPCErrors.UNKNOWN_ERROR,"Unknown error from API. status="+t+".");default:throw new u.default(l.RPCErrors.UNKNOWN_ERROR,"Unknown error from API. status="+t+".")}})).then((function(){return null}))}},o[l.RPCCommands.GET_USER_ACHIEVEMENTS]={scope:(a={},a[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],a),handler:function(e){
var t=e.socket.application.id;if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return i.default.fetchForApplication(t).then((function(e){return e||[]}))}},o);t.default=f},421700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=n(360307),u=(r=n(248369))&&r.__esModule?r:{default:r},l=n(770348),s=n(376293);var f=((o={})[l.RPCCommands.SET_CERTIFIED_DEVICES]={scope:(a={},a[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],a),validation:function(e){return e.object().required().keys({devices:e.array().items(e.object().keys({type:e.string().required().valid([s.DeviceTypes.AUDIO_INPUT,s.DeviceTypes.AUDIO_OUTPUT,s.DeviceTypes.VIDEO_INPUT]),id:e.string().required().min(1),vendor:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),model:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),
noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))})},handler:function(e){var t=e.socket,n=e.args.devices;if(null==t.application.id)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");(0,i.setCertifiedDevices)(t.application.id,n.map((function(e){return{type:e.type,id:e.id,vendor:e.vendor,model:e.model,related:e.related.filter((function(e){return n.some((function(t){return t.id===e}))})),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute}})))}},o);t.default=f},588648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=E(n(496486)),i=E(n(23170)),u=E(n(136873)),l=n(139982),s=n(567186),f=E(n(644263)),d=E(n(30098)),c=E(n(689389)),p=E(n(211136)),v=E(n(387692)),y=n(319986),h=E(n(248369)),m=n(861798),_=n(770348),g=["channel_id"];function E(e){return e&&e.__esModule?e:{default:e}}
function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
var b=((a={})[_.RPCCommands.GET_CHANNEL]={scope:_.OAuth2Scopes.RPC,handler:function(e){var t=e.args.channel_id,n=e.socket,r=f.default.getChannel(t);if(null==r)throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return(0,m.transformChannel)(r,(0,m.hasMessageReadPermission)(r,n.application.id,n.authorization.scopes))}},a[_.RPCCommands.GET_CHANNELS]={scope:_.OAuth2Scopes.RPC,handler:function(e){var t=e.args.guild_id,n=o.default.values(f.default.getMutableGuildAndPrivateChannels());if(t){var r=d.default.getGuild(t);if(null==r)throw new h.default(_.RPCErrors.INVALID_GUILD,"Invalid guild id: "+t);n=n.filter((function(e){return e.guild_id===r.id}))}return{channels:n.filter((function(e){return c.default.can(_.Permissions.VIEW_CHANNEL,e)})).map((function(e){return{id:e.id,name:e.name,type:e.type}}))}}},a[_.RPCCommands.SELECT_VOICE_CHANNEL]={scope:_.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),
timeout:e.number().min(0).max(60),force:e.boolean()})},handler:function(e){var t=e.server,n=e.socket,r=e.args,a=r.channel_id,o=r.timeout,i=void 0===o?0:o,l=r.force,g=void 0!==l&&l;if(!a){u.default.selectVoiceChannel(null);return null}var E=p.default.getVoiceChannelId();if(E&&E!==a&&!1===g)throw new h.default(_.RPCErrors.SELECT_VOICE_FORCE_REQUIRED,"User is already joined to a voice channel.");return t.storeWait(n,(function(){return f.default.getChannel(a)}),i).catch((function(){throw new h.default(_.RPCErrors.SELECT_CHANNEL_TIMED_OUT,"Request to select voice channel timed out.")})).then((function(e){if(null==e)throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+a);if(!(0,s.isVoiceChannel)(e.type))throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,m.transformChannel)(e,(0,m.hasMessageReadPermission)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=S(e,2),n=t[0],r=t[1]
;if(r.guild_id){if((0,y.isChannelFull)(n,v.default,d.default))throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Channel is full");if(!c.default.can(_.Permissions.CONNECT,n))throw new h.default(_.RPCErrors.INVALID_PERMISSIONS,"Connect permission required to join channel")}u.default.selectVoiceChannel(n.id);return r}))}},a[_.RPCCommands.GET_SELECTED_VOICE_CHANNEL]={scope:(r={},r[_.RPC_SCOPE_CONFIG.ANY]=[_.OAuth2Scopes.RPC,_.OAuth2Scopes.RPC_VOICE_READ],r),handler:function(e){var t=e.socket,n=p.default.getVoiceChannelId(),r=null!=n?f.default.getChannel(n):null;return null!=r?(0,m.transformChannel)(r,(0,m.hasMessageReadPermission)(r,t.application.id,t.authorization.scopes)):null}},a[_.RPCCommands.SELECT_TEXT_CHANNEL]={scope:_.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.server,n=e.socket,r=e.args,a=r.channel_id,o=r.timeout,i=void 0===o?0:o;if(!a){(0,
l.transitionTo)(_.Routes.ME);return null}return t.storeWait(n,(function(){return f.default.getChannel(a)}),i).catch((function(){throw new h.default(_.RPCErrors.SELECT_CHANNEL_TIMED_OUT,"Request to select text channel timed out.")})).then((function(e){if(null==e)throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+a);if(!(0,s.isTextChannel)(e.type))throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,m.transformChannel)(e,(0,m.hasMessageReadPermission)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=S(e,2),n=t[0],r=t[1];if(r.guild_id&&!c.default.can(_.Permissions.VIEW_CHANNEL,n))throw new h.default(_.RPCErrors.INVALID_CHANNEL,"No permission to see channel");r.guild_id?(0,l.replaceWith)(_.Routes.CHANNEL(r.guild_id,n.id)):u.default.selectPrivateChannel(n.id);return r}))}},a[_.RPCCommands.CREATE_CHANNEL_INVITE]={scope:_.OAuth2Scopes.RPC,handler:function(e){
var t=e.args,n=t.channel_id,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,g);return i.default.createInvite(n,r,"RPC").catch((function(){throw new h.default(_.RPCErrors.INVALID_PERMISSIONS,"Unable to generate an invite for "+n+". Does this user have permissions?")}))}},a);t.default=b},148400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(636602)),o=u(n(248369)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[i.RPCCommands.SET_CONFIG]={scope:i.RPC_AUTHENTICATED_SCOPE,validation:function(e){return e.object().required().keys({use_interactive_pip:e.boolean()})},handler:function(e){var t=e.socket,n=e.args.use_interactive_pip;if(t.transport!==i.TransportTypes.POST_MESSAGE)throw new o.default(i.RPCErrors.INVALID_COMMAND,'command not available from "'+t.transport+" transport")
;if(null==t.application.id)throw new o.default(i.RPCErrors.INVALID_COMMAND,"invalid application");a.default.dispatch({type:i.ActionTypes.EMBEDDED_ACTIVITY_SET_CONFIG,applicationId:t.application.id,config:{useInteractivePIP:n}});return Promise.resolve({use_interactive_pip:n})}},r);t.default=l},985918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.crossPlatformCommands=void 0;var r=m(n(311809)),a=m(n(421700)),o=m(n(588648)),i=m(n(148400)),u=m(n(701302)),l=m(n(490305)),s=m(n(220928)),f=m(n(219995)),d=m(n(506979)),c=m(n(819016)),p=m(n(839777)),v=m(n(855566)),y=m(n(511502)),h=m(n(663148));function m(e){return e&&e.__esModule?e:{default:e}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}
var g=_({},r.default,{},a.default,{},o.default,{},i.default,{},u.default,{},l.default,{},s.default,{},f.default,{},d.default,{},c.default,{},p.default,{},v.default,{},h.default,{},y.default);t.crossPlatformCommands=g},701302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(496486)),o=l(n(30098)),i=l(n(248369)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.RPCCommands.GET_GUILD]={scope:u.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.socket,n=e.server,r=e.args,a=r.guild_id,l=r.timeout,s=void 0===l?0:l;return n.storeWait(t,(function(){return o.default.getGuild(a)}),s).catch((function(){throw new i.default(u.RPCErrors.GET_GUILD_TIMED_OUT,"Request to get guild timed out.")})).then((function(e){var t;if(null==e)throw new i.default(u.RPCErrors.INVALID_GUILD,"Invalid guild id: "+a);return{id:e.id,
name:e.name,icon_url:null!==(t=e.getIconURL(128))&&void 0!==t?t:null,members:[],vanity_url_code:e.vanityURLCode}}))}},r[u.RPCCommands.GET_GUILDS]={scope:u.OAuth2Scopes.RPC,handler:function(){var e=o.default.getGuilds();return{guilds:a.default.map(e,(function(e){return{id:e.id,name:e.name,icon_url:e.getIconURL(128)}}))}}},r);t.default=s},490305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(728429)),o=s(n(692711)),i=n(175235),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var f=((r={})[l.RPCCommands.GET_IMAGE]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({type:e.string().required().valid(["user"]),id:e.string().required(),format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])})},handler:function(e){var t,n=e.args,r=n.type,s=n.id,f=n.format,d=void 0===f?"png":f,c=n.size,p=void 0===c?128:c;if("user"===r){
var v=a.default.getUser(s);if(null==v)throw new u.default(l.RPCErrors.INVALID_USER,"Invalid user id: "+s);t=o.default.getUserAvatarURL(v,d,p);var y=window.GLOBAL_ENV.CDN_HOST;null!=y&&-1!==t.indexOf(y)&&(t+="&_=")}if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No valid type.");return fetch(t).then((function(e){return e.blob()})).then((function(e){return(0,i.readFileAsBase64)(e)})).then((function(e){return{data_url:e}}))}},r);t.default=f},220928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(165551)),o=n(262710),i=n(864489),u=f(n(248369)),l=n(861798),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}var d=((r={})[s.RPCCommands.OPEN_EXTERNAL_LINK]={validation:function(e){return e.object().required().keys({url:e.string().required()})},handler:function(e){var t=e.socket,n=e.args.url;(0,l.validatePostMessageTransport)(t.transport);try{var r=new URL(n);i.isPlatformEmbedded&&a.default.focus(null,!0);(0,
o.handleClick)({href:r.toString()})}catch(e){throw new u.default(s.RPCErrors.INVALID_COMMAND,"Invalid URL: "+n)}}},r);t.default=d},219995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(24794);n(226720);var a,o,i,u,l,s,f,d,c,p=n(319111),v=(a=n(248369))&&a.__esModule?a:{default:a},y=n(770348);function h(e){if(e instanceof p.LobbyError)switch(e.code){case y.LobbyErrors.FULL:throw new v.default(y.RPCErrors.LOBBY_FULL,"Lobby is full.");case y.LobbyErrors.INVALID_SECRET:throw new v.default(y.RPCErrors.INVALID_LOBBY_SECRET,"Lobby secret is invalid.");case y.LobbyErrors.NOT_FOUND:throw new v.default(y.RPCErrors.INVALID_LOBBY,"Lobby does not exist.");case y.LobbyErrors.SERVICE_UNAVAILABLE:throw new v.default(y.RPCErrors.SERVICE_UNAVAILABLE,"Lobby service is unavailable.");case y.LobbyErrors.ALREADY_CONNECTING:throw new v.default(y.RPCErrors.INVALID_COMMAND,"Already connecting to lobby.");default:
throw new v.default(y.RPCErrors.UNKNOWN_ERROR,"Unknown error has occured.")}throw e}var m=((c={})[y.RPCCommands.CREATE_LOBBY]={scope:(o={},o[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],o),validation:function(e){return e.object().required().keys({type:e.number().valid(Object.values(y.LobbyTypes)),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t=e.socket,n=e.args,a=n.type,o=n.capacity,i=n.locked,u=n.metadata;if(null==t.application.id)throw new v.default(y.RPCErrors.INVALID_COMMAND,"No application.");return(0,r.createLobby)(t.id,t.application.id,{type:a,capacity:o,locked:i,metadata:u}).catch(h)}},c[y.RPCCommands.UPDATE_LOBBY]={scope:(i={},i[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],i),validation:function(e){return e.object().required().keys({id:e.string().required(),type:e.number().valid(Object.values(y.LobbyTypes)),owner_id:e.string(),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){
var t=e.args,n=t.id,a=t.type,o=t.owner_id,i=t.capacity,u=t.locked,l=t.metadata;return(0,r.updateLobby)(n,{type:a,owner_id:o,capacity:i,locked:u,metadata:l}).catch(h)}},c[y.RPCCommands.DELETE_LOBBY]={scope:(u={},u[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],u),validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;return(0,r.deleteLobby)(t).catch(h)}},c[y.RPCCommands.UPDATE_LOBBY_MEMBER]={scope:(l={},l[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],l),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),user_id:e.string().required(),metadata:e.object()})},handler:function(e){var t=e.args,n=t.lobby_id,a=t.user_id,o=t.metadata;return(0,r.updateLobbyMember)(n,a,{metadata:o}).catch(h)}},c[y.RPCCommands.CONNECT_TO_LOBBY]={scope:(s={},s[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],s),validation:function(e){return e.object().required().keys({id:e.string().required(),secret:e.string().required()})
},handler:function(e){var t=e.socket,n=e.args,a=n.id,o=n.secret;return(0,r.connect)(t.id,a,o).catch(h)}},c[y.RPCCommands.DISCONNECT_FROM_LOBBY]={scope:(f={},f[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],f),validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.disconnect)(t)}},c[y.RPCCommands.SEND_TO_LOBBY]={scope:(d={},d[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],d),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),data:e.string().required()})},handler:function(e){var t=e.args,n=t.lobby_id,a=t.data;return(0,r.send)(n,a).catch(h)}},c[y.RPCCommands.SEARCH_LOBBIES]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({filter:e.array().items(e.object().keys({key:e.string().required(),comparison:e.number().required(),cast:e.number().required(),value:e.string().required()})),sort:e.array().items(e.object().keys({key:e.string().required(),
cast:e.number().required(),near_value:e.string()})),limit:e.number(),distance:e.number()})},handler:function(e){var t=e.socket,n=e.args,a=n.filter,o=n.sort,i=n.limit,u=n.distance;return(0,r.search)({application_id:t.application.id,filter:a,sort:o,limit:i,distance:u}).catch(h)}},c[y.RPCCommands.CONNECT_TO_LOBBY_VOICE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.voiceConnect)(t)}},c[y.RPCCommands.DISCONNECT_FROM_LOBBY_VOICE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.voiceDisconnect)(t)}},c);t.default=m},506979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(118915)),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=((r={})[i.RPCCommands.GET_NETWORKING_CONFIG]={scope:i.RPC_LOCAL_SCOPE,
handler:function(){return Promise.all([a.default.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3}).then((function(e){return e.body.address})),a.default.post({url:i.Endpoints.NETWORKING_TOKEN,retries:3,oldFormErrors:!0}).then((function(e){return e.body.token}))]).then((function(e){var t=l(e,2);return{address:t[0],token:t[1]}}))}},r[i.RPCCommands.NETWORKING_SYSTEM_METRICS]={scope:i.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;o.default.track(i.AnalyticEvents.NETWORKING_SYSTEM_METRICS,n)}},r[i.RPCCommands.NETWORKING_PEER_METRICS]={scope:i.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;o.default.track(i.AnalyticEvents.NETWORKING_PEER_METRICS,n)}},r[i.RPCCommands.NETWORKING_CREATE_TOKEN]={scope:i.RPC_LOCAL_SCOPE,handler:function(){return a.default.post({url:i.Endpoints.NETWORKING_TOKEN,retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}},r);t.default=f},
819016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(496486)),o=f(n(290629)),i=f(n(538983)),u=f(n(728429)),l=n(861798),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var c=((r={})[s.RPCCommands.GET_RELATIONSHIPS]={scope:s.RPC_LOCAL_SCOPE,handler:function(){var e=d({},o.default.getRelationships());i.default.getUserAffinitiesUserIds().forEach((function(t){null==e[t]&&null!=u.default.getUser(t)&&(e[t]=s.RelationshipTypes.IMPLICIT)}));return{relationships:a.default.map(e,(function(e,t){return(0,l.transformRelationship)(e,t)}))}}},r);t.default=c},839777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o=c(n(496486)),i=c(n(636602)),u=c(n(308920)),l=n(698243),s=c(n(248369)),f=n(861798),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=["349134787773988865"],h=((a={})[d.RPCCommands.SET_ACTIVITY]={scope:(r={},r[d.RPC_SCOPE_CONFIG.ANY]=[d.OAuth2Scopes.RPC,d.OAuth2Scopes.RPC_ACTIVITIES_WRITE,d.RPC_LOCAL_SCOPE],r),validation:function(e){return e.object().required().keys({pid:e.number().min(0),activity:e.object().keys({state:e.string().min(2).max(128),details:e.string().min(2).max(128),timestamps:e.object().keys({start:e.number().min(1),end:e.number().min(1)}),assets:e.object().keys({large_image:e.string().min(1).max(256),large_text:e.string().min(2).max(128),small_image:e.string().min(1).max(256),small_text:e.string().min(2).max(128)}),party:e.object().keys({id:e.string().min(2).max(128),size:e.array().items(e.number().min(1)).length(2),
privacy:e.number().default(d.ActivityPartyPrivacy.PRIVATE).valid([d.ActivityPartyPrivacy.PRIVATE,d.ActivityPartyPrivacy.PUBLIC])}),secrets:e.object().keys({match:e.string().min(2).max(128),join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),game_session_id:e.string().max(128),buttons:e.array().items(e.object().keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(3),type:e.number().default(d.ActivityTypes.PLAYING).valid(d.ActivityTypes.PLAYING,d.ActivityTypes.WATCHING)}).allow(null)})},handler:function(e){var t,n=e.socket,r=e.args,a=r.pid,c=r.activity,v=e.isSocketConnected;if(![d.TransportTypes.IPC,d.TransportTypes.WEBSOCKET,d.TransportTypes.POST_MESSAGE].includes(n.transport))throw new s.default(d.RPCErrors.INVALID_COMMAND,'command not available from "'+n.transport+'" transport')
;if(null==a&&d.TransportTypes.IPC===n.transport)throw new s.default(d.RPCErrors.INVALID_COMMAND,"nonzero pid required");if(null==c){i.default.dispatch({type:d.ActionTypes.LOCAL_ACTIVITY_UPDATE,socketId:n.id,pid:a,activity:c});return Promise.resolve(c)}c.name=n.application.name;c.application_id=n.application.id;var h=n.transport===d.TransportTypes.POST_MESSAGE,m=(0,f.computeActivityFlags)(c,h);m>0&&(c.flags=m);delete c.instance;null===(t=c.party)||void 0===t||delete t.privacy;var _=c.game_session_id;delete c.game_session_id;var g,E=c.assets,S=c.party,O=c.secrets,b=c.timestamps,I=c.buttons,C=c.type;(null==C||C!==d.ActivityTypes.PLAYING&&!h)&&(c.type=d.ActivityTypes.PLAYING);if(null!=O){var T=o.default.values(O).filter((function(e){return!!e}));if(null!=S&&o.default.intersection(T,[S.id]).length>0&&!y.includes(n.application.id))throw new s.default(d.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets cannot match the party id")
;if(o.default.uniq(T).length<T.length)throw new s.default(d.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets must be unique");if(null!=I)throw new s.default(d.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets cannot currently be sent with buttons")}if(null!=I){c.metadata={button_urls:I.map((function(e){return e.url}))};c.buttons=I.map((function(e){return e.label}))}if(null!=b)for(var A=0,P=Object.keys(b);A<P.length;A++){var M=P[A];Date.now().toString().length-b[M].toString().length>2&&(b[M]=Math.floor(1e3*b[M]))}if(null==E)g=Promise.resolve([]);else{if(null==n.application||null==n.application.id)throw new Error;g=(0,l.getAssetIds)(n.application.id,[E.large_image,E.small_image])}return g.then((function(e){var t=p(e,2),r=t[0],o=t[1];if(null!=E){null!=r?E.large_image=r:delete E.large_image;null!=o?E.small_image=o:delete E.small_image}if(v()){i.default.dispatch({type:d.ActionTypes.LOCAL_ACTIVITY_UPDATE,socketId:n.id,pid:a,activity:c,activitySessionId:_});var l=c.secrets,s=c.party,f={
application_id:n.application.id,type:c.type};if(null!=l){f.has_match_secret=!!l.match;f.has_join_secret=!!l.join}null!=E&&(f.has_images=!(!E.large_image&&!E.small_image));if(null!=s){f.party_max=null!=s.size?s.size[1]:void 0;f.party_id=s.id}null!=_&&(f.activity_session_id=_);u.default.track(d.AnalyticEvents.ACTIVITY_UPDATED,f);return c}}))}},a);t.default=h},855566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(248369)),o=u(n(424062)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[i.RPCCommands.SUBSCRIBE]={handler:function(e){var t=e.server,n=e.socket,r=e.evt,u=e.args;return new Promise((function(e){var l=t.events[r];if(null==l)throw new a.default(i.RPCErrors.INVALID_EVENT,"Invalid event: "+r);if(!(0,o.default)(n.authorization.scopes,l.scope))throw new a.default(i.RPCErrors.INVALID_PERMISSIONS,"Not authenticated or invalid scope");var s=l.handler({args:u,socket:n});setImmediate((function(){
return t.addSubscription(n,r,u,s)}));e({evt:r})}))}},r[i.RPCCommands.UNSUBSCRIBE]={handler:function(e){var t=e.server,n=e.socket,r=e.evt,o=e.args;if(null==t.events[r])throw new a.default(i.RPCErrors.INVALID_EVENT,"Invalid event: "+r);t.removeSubscription(n,r,o);return{evt:r}}},r);t.default=l},511502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=(r=n(871778))&&r.__esModule?r:{default:r},i=n(770348);var u=((a={})[i.RPCCommands.USER_SETTINGS_GET_LOCALE]={scope:i.OAuth2Scopes.IDENTIFY,handler:function(){return{locale:o.default.locale}}},a);t.default=u},663148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(483559),o=l(n(248369)),i=l(n(838641)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.RPCCommands.GET_USER]={scope:u.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id
;return(0,a.getUser)(t).then(i.default).catch((function(){throw new o.default(u.RPCErrors.INVALID_USER,"Invalid user id: "+t)}))}},r);t.default=s},655369:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r;return(r={})[o.RPCEvents.VOICE_SETTINGS_UPDATE]={scope:(n={},n[o.RPC_SCOPE_CONFIG.ANY]=[o.OAuth2Scopes.RPC,o.OAuth2Scopes.RPC_VOICE_READ],n),handler:function(){return function(t){var n=t.prevState,r=t.dispatch,o=e();a.default.isEqual(o,n)||r(o);return o}}},r[o.RPCEvents.VOICE_SETTINGS_UPDATE_2]={scope:o.RPC_LOCAL_SCOPE,handler:function(e){var n=e.socket;return function(e){var r=e.prevState,o=e.dispatch;if(null==n.application.id)return r;var i=t(n.application.id);a.default.isEqual(i,r)||o(i);return i}}},r};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(770348)},768050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i,u,l,s,f,d,c,p,v,y,h,m,_,g,E,S,O,b,I,C,T=G(n(496486)),A=G(n(389726)),P=G(n(644263)),M=G(n(30098)),N=G(n(319111)),R=G(n(893160)),w=G(n(728429)),D=G(n(387692)),L=G(n(248369)),j=n(861798),k=G(n(838641)),U=n(770348);function G(e){return e&&e.__esModule?e:{default:e}}function F(e){var t,n=e.args.channel_id,r=e.socket,a=P.default.getChannel(n);if(null==a||!(0,j.hasMessageReadPermission)(a,r.application.id,r.authorization.scopes))throw new L.default(U.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+n);if(a.isNSFW()&&!0!==(null===(t=w.default.getCurrentUser())||void 0===t?void 0:t.nsfwAllowed))throw new L.default(U.RPCErrors.INVALID_CHANNEL,"Invalid nsfw channel id: "+a.id)}function x(e){var t=e.args,n=t.lobby_id,r=t.channel_id;if(null!=r){if(null==P.default.getChannel(r))throw new L.default(U.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+r)}if(null!=n){if(null==N.default.getLobby(n))throw new L.default(U.RPCErrors.INVALID_LOBBY,"Invalid lobby id: "+n)}}
var V=((C={})[U.RPCEvents.GUILD_STATUS]={scope:U.OAuth2Scopes.RPC,handler:function(e){var t=e.args.guild_id;if(null==M.default.getGuild(t))throw new L.default(U.RPCErrors.INVALID_GUILD,"Invalid guild id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=M.default.getGuild(t);if(null!=a){var o={guild:{id:a.id,name:a.name,icon_url:a.getIconURL(128)||null},online:0};T.default.isEqual(n,o)||r(o);return o}}}},C[U.RPCEvents.VOICE_STATE_CREATE]={scope:(r={},r[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_VOICE_READ],r),handler:function(e){var t=e.args.channel_id;if(null==P.default.getChannel(t))throw new L.default(U.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=P.default.getChannel(t);if(null!=a){var o=a.getGuildId(),i=Object.values(D.default.getVoiceStatesForChannel(a.id));if(n){T.default.differenceBy(i,n,(function(e){return e.userId})).forEach((function(e){return r((0,j.transformVoiceState)(o,a.id,e))}))}
return i}}}},C[U.RPCEvents.VOICE_STATE_DELETE]={scope:(a={},a[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_VOICE_READ],a),handler:function(e){var t=e.args.channel_id;if(null==P.default.getChannel(t))throw new L.default(U.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=P.default.getChannel(t);if(null!=a){var o=a.getGuildId(),i=Object.values(D.default.getVoiceStatesForChannel(a.id));T.default.differenceBy(n,i,(function(e){return e.userId})).forEach((function(e){return r((0,j.transformVoiceState)(o,a.id,e))}));return i}}}},C[U.RPCEvents.VOICE_STATE_UPDATE]={scope:(o={},o[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_VOICE_READ],o),handler:function(e){var t=e.args.channel_id;if(null==P.default.getChannel(t))throw new L.default(U.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=P.default.getChannel(t);if(null!=a){
var o=a.getGuildId(),i=Object.values(D.default.getVoiceStatesForChannel(a.id)).map((function(e){return(0,j.transformVoiceState)(o,a.id,e)}));T.default.differenceWith(i,n,T.default.isEqual).forEach((function(e){return r(e)}));return i}}}},C[U.RPCEvents.VOICE_CONNECTION_STATUS]={scope:(i={},i[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_VOICE_READ],i),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={state:(0,j.getVoiceConnectionState)(R.default.getState()),hostname:R.default.getHostname(),pings:R.default.getPings(),average_ping:R.default.getAveragePing(),last_ping:R.default.getLastPing()};T.default.isEqual(r,t)||n(r);return r}}},C[U.RPCEvents.MESSAGE_CREATE]={scope:U.OAuth2Scopes.RPC,handler:F},C[U.RPCEvents.MESSAGE_UPDATE]={scope:U.OAuth2Scopes.RPC,handler:F},C[U.RPCEvents.MESSAGE_DELETE]={scope:U.OAuth2Scopes.RPC,handler:F},
C[U.RPCEvents.SPEAKING_START]=((u={})[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_VOICE_READ,U.RPC_LOCAL_SCOPE],u.handler=x,u),C[U.RPCEvents.SPEAKING_STOP]=((l={})[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_VOICE_READ,U.RPC_LOCAL_SCOPE],l.handler=x,l),C[U.RPCEvents.GUILD_CREATE]={scope:U.OAuth2Scopes.RPC,handler:function(){}},C[U.RPCEvents.CHANNEL_CREATE]={scope:U.OAuth2Scopes.RPC,handler:function(){}},C[U.RPCEvents.GAME_JOIN]={scope:(s={},s[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.RPC_LOCAL_SCOPE],s),handler:function(){}},C[U.RPCEvents.GAME_SPECTATE]={scope:(f={},f[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.RPC_LOCAL_SCOPE],f),handler:function(){}},C[U.RPCEvents.ACTIVITY_JOIN]={scope:(d={},d[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],d),handler:function(){}},C[U.RPCEvents.ACTIVITY_JOIN_REQUEST]={scope:(c={},c[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.RPC_LOCAL_SCOPE],c),
handler:function(){}},C[U.RPCEvents.ACTIVITY_SPECTATE]={scope:(p={},p[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],p),handler:function(){}},C[U.RPCEvents.ACTIVITY_INVITE]={scope:(v={},v[U.RPC_SCOPE_CONFIG.ANY]=[U.OAuth2Scopes.RPC,U.RPC_LOCAL_SCOPE],v),handler:function(){}},C[U.RPCEvents.VOICE_CHANNEL_SELECT]={scope:U.OAuth2Scopes.RPC,handler:function(){}},C[U.RPCEvents.NOTIFICATION_CREATE]={scope:(y={},y[U.RPC_SCOPE_CONFIG.ALL]=[U.OAuth2Scopes.RPC,U.OAuth2Scopes.RPC_NOTIFICATIONS_READ],y),handler:function(){}},C[U.RPCEvents.RELATIONSHIP_UPDATE]={scope:U.RPC_LOCAL_SCOPE,handler:function(){}},C[U.RPCEvents.CURRENT_USER_UPDATE]={scope:(h={},h[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_LOCAL_SCOPE,U.OAuth2Scopes.IDENTIFY],h),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={currentUser:w.default.getCurrentUser()};null==r.currentUser||null!=t&&(0,A.default)(r,t)||n((0,k.default)(r.currentUser));return r}}},C[U.RPCEvents.LOBBY_UPDATE]={
scope:(m={},m[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],m),handler:function(){}},C[U.RPCEvents.LOBBY_DELETE]={scope:(_={},_[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],_),handler:function(){}},C[U.RPCEvents.LOBBY_MEMBER_CONNECT]={scope:(g={},g[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],g),handler:function(){}},C[U.RPCEvents.LOBBY_MEMBER_UPDATE]={scope:(E={},E[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],E),handler:function(){}},C[U.RPCEvents.LOBBY_MEMBER_DISCONNECT]={scope:(S={},S[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],S),handler:function(){}},C[U.RPCEvents.LOBBY_MESSAGE]={scope:(O={},O[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_AUTHENTICATED_SCOPE,U.RPC_LOCAL_SCOPE],O),handler:function(){}},C[U.RPCEvents.ENTITLEMENT_CREATE]={scope:(b={},b[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_LOCAL_SCOPE,U.RPC_AUTHENTICATED_SCOPE],b),handler:function(){}},
C[U.RPCEvents.ENTITLEMENT_DELETE]={scope:(I={},I[U.RPC_SCOPE_CONFIG.ANY]=[U.RPC_LOCAL_SCOPE,U.RPC_AUTHENTICATED_SCOPE],I),handler:function(){}},C[U.RPCEvents.USER_ACHIEVEMENT_UPDATE]={scope:U.RPC_LOCAL_SCOPE,handler:function(){}},C);t.default=V},641402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(496486)),a=i(n(248369)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){this.transport=e;this.version=t;this.encoding=n;this.id=r.default.uniqueId();this.authorization={authing:!1,scopes:[],accessToken:null,expires:new Date(0)};this.application={id:null,name:null,icon:null};if(null==t||t>o.RPC_VERSION||t<1)throw new a.default(o.RPCCloseCodes.INVALID_VERSION,"Invalid Version: "+t)}},524650:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(248369)),a=u(n(676606)),o=u(n(641402)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}
function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(t,n,a,o,u,l,s,f){var d;d=e.call(this,i.TransportTypes.POST_MESSAGE,o,u)||this;if(-1===["etf","json"].indexOf(u))throw new r.default(i.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+u);if("etf"===u)throw new r.default(i.RPCCloseCodes.INVALID_ENCODING,"Erlpack cannot be used on this client");d.origin=t;d.postMessageToRPCClient=n;d.frameId=a;d.logger=l;d.postClose=s;d.onSendingToRPCClient=f;return d}var n=t.prototype;n.send=function(e){var t;null===(t=this.onSendingToRPCClient)||void 0===t||t.call(this,e,this.id);this.postMessageToRPCClient([a.default.FRAME,e],this.origin)};n.close=function(e,t){this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient)};return t}(o.default);t.default=s},478370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r=l(n(717187)),a=n(956506),o=l(n(248369)),i=l(n(676606)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=new Map,y=new Set,h=function(e,t,n){n([i.default.CLOSE,t],e)},m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(t,r,i,l){var s;(s=e.call(this)||this).disconnectSocket=function(e,t,n){var r,a;void 0===n&&(n=!1);s.emit("disconnect",e,n?void 0:t);e.close(t.code,null!==(r=t.message)&&void 0!==r?r:"Unknown")
;var o=null!==(a=Array.from(v.entries()).find((function(t){var n=d(t,2);n[0];return n[1]===e})))&&void 0!==a?a:[null,null],i=d(o,1)[0];null!=i&&v.delete(i)};s.handleIFrameMount=function(e){var t=e.id;y.add(t)};s.handleIFrameUnmount=function(e){var t,n=e.id;y.delete(n);var r=null!==(t=Array.from(v.entries()).find((function(e){var t=d(e,2);t[0];return t[1].frameId===n})))&&void 0!==t?t:[null,null],a=d(r,2),o=a[0],i=a[1];if(null!=i&&null!=o){s.disconnectSocket(i,{code:u.RPCCloseCodes.CLOSE_NORMAL,message:"iFrame gone"},!0);v.delete(o)}};s.handleMessage=function(e,t,n){var r=v.get(t);try{s.routeEvent(r,t,e,n)}catch(e){null!=r?s.disconnectSocket(r,{code:e.code,message:e.message},!0):h(t,{code:e.code,message:e.message},n)}};s.handleFrame=function(e,t,n){var r,a,i;if(e!==t.origin)throw new o.default(u.RPCCloseCodes.INVALID_ORIGIN,"Origin has changed");try{i="string"==typeof n?JSON.parse(n):n}catch(e){throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Payload not recognized encoding")}
null===(r=(a=s).onFrameHandled)||void 0===r||r.call(a,i,s.logger,t);s.emit("request",t,i)};s.handleHandshake=function(){var e=f(regeneratorRuntime.mark((function e(t,r,a){var i,l,f,d,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(54533).then(n.t.bind(n,197683,23));case 2:i=e.sent.default;e.prev=3;i.assert(r,i.object().required().keys({v:i.number().min(1).max(1).required(),encoding:i.string().equal("json").optional(),client_id:i.string().required(),frame_id:i.string().required()}));e.next=10;break;case 7:e.prev=7;e.t0=e.catch(3);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,e.t0.message);case 10:f=(l=r).frame_id;if(!!y.has(f)){e.next=16;break}s.logger.error("Unrecognized frame ID "+f);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Unrecognized frame ID "+f);case 16:e.prev=16;d=s.createPostMessageProxySocket(t,a,f,Number(l.v),null!==(c=l.encoding)&&void 0!==c?c:"json",s.logger,h);e.next=24;break;case 20:e.prev=20
;e.t1=e.catch(16);s.logger.error("Error opening window socket "+e.t1);throw e.t1;case 24:s.logger.info("Socket Opened: "+d.id);e.prev=25;e.next=28;return s.validateSocketClient(d,t,l.client_id);case 28:if(y.has(f)){e.next=31;break}s.logger.error("Frame ID "+f+" no longer exists");throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Unrecognized frame ID "+f);case 31:v.set(t,d);y.delete(f);s.emit("connect",d);s.logger.info("Socket Validated: "+d.id);e.next=41;break;case 37:e.prev=37;e.t2=e.catch(25);s.logger.info("Socket Closed: "+d.id+", "+e.t2.message);throw e.t2;case 41:case"end":return e.stop()}}),e,null,[[3,7],[16,20],[25,37]])})));return function(t,n,r){return e.apply(this,arguments)}}();s.handleClose=function(){var e=f(regeneratorRuntime.mark((function e(t,r){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(54533).then(n.t.bind(n,197683,23));case 2:a=e.sent.default;e.prev=3
;a.assert(r,a.object().required().unknown(!0).keys({code:a.number().valid(Object.values(u.RPCCloseCodes)).required(),message:a.string().optional()}));e.next=10;break;case 7:e.prev=7;e.t0=e.catch(3);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,e.t0.message);case 10:i=r;s.disconnectSocket(t,i);case 12:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t,n){return e.apply(this,arguments)}}();a.ComponentDispatch.subscribe(u.ComponentActions.IFRAME_MOUNT,s.handleIFrameMount);a.ComponentDispatch.subscribe(u.ComponentActions.IFRAME_UNMOUNT,s.handleIFrameUnmount);s.validateSocketClient=t;s.logger=r;s.createPostMessageProxySocket=i;s.onFrameHandled=l;return s}t.prototype.routeEvent=function(e,t,n,r){if(!Array.isArray(n))throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Protocol error");var a=d(n,2),l=a[0],s=a[1];switch(l){case i.default.HANDSHAKE:if(null!=e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Already connected");return this.handleHandshake(t,s,r)
;case i.default.FRAME:if(null==e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Not connected");return this.handleFrame(t,e,s);case i.default.CLOSE:if(null==e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Not connected");return this.handleClose(e,s);default:throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Invalid opcode")}};return t}(r.default);t.default=m},542490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=m(n(945771)),a=m(n(922629)),o=n(985918),i=m(n(768050)),u=m(n(43889)),l=m(n(267735)),s=n(766552),f=m(n(406266)),d=m(n(180450)),c=m(n(594875)),p=m(n(965443)),v=m(n(572110)),y=m(n(261469)),h=m(n(632303));function m(e){return e&&e.__esModule?e:{default:e}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}
var g=_({},o.crossPlatformCommands,{},f.default,{},d.default,{},c.default,{},p.default,{},v.default,{},h.default,{},y.default,{},u.default.authCommands),E=_({},i.default,{},s.overlayEventHandlers,{},u.default.voiceSettingsEvents);var S={server:l.default,commands:g,events:E,stores:[r.default],transports:[u.default.postMessageTransport],registerTransportsForEmbeddedPlatform:function(){a.default.ensureModule("discord_rpc").then((function(){for(var e=0,t=[n(444287).Z,n(650801).Z];e<t.length;e++){var r=t[e];l.default.registerTransport(r)}}))}};t.default=S},43889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(192367),a=i(n(81436)),o=i(n(593621));function i(e){return e&&e.__esModule?e:{default:e}}var u={authCommands:a.default,voiceSettingsEvents:r.voiceSettingsEventHandlers,postMessageTransport:o.default};t.default=u},766552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.overlayEventHandlers=void 0
;var r,a=s(n(496486)),o=s(n(191839)),i=s(n(81636)),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var f=((r={})[l.RPCEvents.OVERLAY_UPDATE]={scope:l.RPC_LOCAL_SCOPE,handler:function(e){var t=e.args.pid,n=e.socket;if("number"!=typeof t||t<10)throw new u.default(l.RPCErrors.INVALID_EVENT,"Invalid pid");return function(e){var r=e.prevState,u=e.dispatch,l=i.default.enabled,s=!0,f=n.application.id;if(null!=f){var d=o.default.getActiveLibraryApplication(f);null!=d&&(l=l&&d.isOverlayEnabled());s=i.default.isInputLocked(t)}var c={enabled:l,locked:s};a.default.isEqual(c,r)||u(c);return c}}},r);t.overlayEventHandlers=f},192367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.voiceSettingsEventHandlers=void 0;var r,a=(r=n(655369))&&r.__esModule?r:{default:r},o=n(367983);var i=(0,a.default)(o.getDeprecatedVoiceSettings,o.getVoiceSettings);t.voiceSettingsEventHandlers=i},367983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.getVoiceSettings=t.getDeprecatedVoiceSettings=void 0;t.unlockOverlay=function(e){if(a.default.isReady(e)){r.default.setLocked(!1,e);return{lock:function(){r.default.setLocked(!0,e)},context:s.AppContext.OVERLAY}}o.default.focus(null,!0);return{lock:function(){o.default.setForegroundProcess(e)},context:s.AppContext.APP}};t.validateSocketClient=void 0;t.validateTransportType=function(e){if(s.TransportTypes.IPC!==e&&s.TransportTypes.POST_MESSAGE!==e)throw new u.default(s.RPCErrors.INVALID_COMMAND,"Invalid transport.")};var r=f(n(390557)),a=f(n(81636)),o=f(n(922629)),i=n(339943),u=f(n(248369)),l=n(861798),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var c=["207646673902501888"];var p=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,
l.validateOriginAndUpdateSocket)(t,n);if(r||!(0,l.isMatchingOrigin)(n)){e.next=6;break}t.authorization.scopes=[s.RPC_PRIVATE_SCOPE,s.RPC_PRIVATE_LIMITED_SCOPE];return e.abrupt("return",Promise.resolve());case 6:if(r){e.next=8;break}return e.abrupt("return",Promise.reject(new u.default(s.RPCCloseCodes.INVALID_CLIENTID,"No Client ID Specified")));case 8:a=o.default.releaseChannel!==s.PublicReleaseChannels.CANARY&&!c.includes(r)&&t.transport!==s.TransportTypes.POST_MESSAGE;e.next=11;return(0,l.processSocketThrottlers)(r,a);case 11:return e.abrupt("return",(0,l.fetchApplicationsRPC)(t,r,n));case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}();t.validateSocketClient=p;t.getDeprecatedVoiceSettings=function(){return(0,l.getDeprecatedVoiceSettingsWithShortcut)((function(e){
var t=[];null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=function(e){return e.map((function(e){var t;return{type:e[0],code:e[1],name:null!==(t=(0,i.codeToKey)(e))&&void 0!==t?t:"unknown"}}))}(e.modeOptions.shortcut));return t}))};t.getVoiceSettings=function(e){return(0,l.getVoiceSettingsWithShortcut)(e,(function(e){var t="";null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,i.toString)(e.modeOptions.shortcut));return t}))}},804135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(682644)),a=o(n(542490));function o(e){return e&&e.__esModule?e:{default:e}}var i=new r.default(a.default);t.default=i},406266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),f=N(n(312260)),d=n(557782),c=N(n(234161)),p=n(508510),v=N(n(767766)),y=n(689575),h=N(n(902305)),m=N(n(644263)),_=N(n(30098)),g=N(n(423086)),E=N(n(689389)),S=N(n(211136)),O=N(n(690445)),b=n(194322),I=n(245838),C=N(n(248369)),T=n(861798),A=n(367983),P=n(770348),M=n(371621);function N(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}function j(e,t,n,r,a){return k.apply(this,arguments)}function k(){return(k=L(regeneratorRuntime.mark((function e(t,n,r,a,o){var i,u,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===o&&(o="");if(null!=(i=g.default.getApplicationActivity(n))&&null!=i.secrets&&(0,T.validateActivityInvite)(a,i.party,i.secrets)){e.next=4;break}throw new C.default(P.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");case 4:if(!(u=(0,v.default)(i,O.default))){e.next=8;break}l=(0,A.unlockOverlay)(t),s=l.lock;return e.abrupt("return",(0,d.openModal)(i,u).then((function(){s()
;throw new C.default(P.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")})));case 8:e.next=10;return f.default.sendActivityInviteUser({userId:r,type:a,activity:i,content:o,location:"In-Game Invite"});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=((l={})[P.RPCCommands.SEND_ACTIVITY_JOIN_INVITE]={scope:(r={},r[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],r),handler:function(e){var t=e.socket,n=e.args,r=n.user_id,a=n.pid,o=t.application.id;if(null==o)throw new C.default(P.RPCErrors.INVALID_COMMAND,"No application.");return j(a,o,r,P.ActivityActionTypes.JOIN)}},l[P.RPCCommands.CLOSE_ACTIVITY_JOIN_REQUEST]={scope:(a={},a[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],a),handler:function(e){var t=e.args.user_id,n=m.default.getDMFromUserId(t);null!=n&&(0,p.ack)(n,!0,!0)}},l[P.RPCCommands.ACTIVITY_INVITE_USER]={scope:(o={},
o[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],o),validation:function(e){return e.object().required().keys({user_id:e.string().required(),type:e.number().required().valid([P.ActivityActionTypes.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.user_id,o=n.content,i=n.pid,u=t.application.id;if(null==u)throw new C.default(P.RPCErrors.INVALID_COMMAND,"No application.");return j(i,u,a,r,o)}},l[P.RPCCommands.ACCEPT_ACTIVITY_INVITE]={scope:(i={},i[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],i),validation:function(e){return e.object().required().keys({type:e.number().required().valid([P.ActivityActionTypes.JOIN]),user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.user_id,o=n.session_id,i=n.channel_id,u=n.message_id,l=t.application.id
;if(null==l)throw new C.default(P.RPCErrors.INVALID_COMMAND,"No application.");var s=Promise.resolve(!1);if(r===P.ActivityActionTypes.JOIN)s=c.default.join(a,o,l,i,u);return s.then((function(e){if(!e)throw new C.default(P.RPCErrors.INVALID_INVITE,"Invite is expired or invalid.")}))}},l[P.RPCCommands.OPEN_INVITE_DIALOG]={scope:(u={},u[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],u),handler:function(e){var t,r,a=e.socket,o=S.default.getVoiceChannelId(),i=m.default.getChannel(o);if(null==i)throw new C.default(P.RPCErrors.INVALID_CHANNEL,"Invalid channel "+o);var u=_.default.getGuild(i.getGuildId());if(null==u)throw new C.default(P.RPCErrors.INVALID_CHANNEL,"Invalid guild "+i.getGuildId());if(!(0,y.canViewInviteModal)(E.default,u,i))throw new C.default(P.RPCErrors.INVALID_PERMISSIONS,"No invite permissions for "+o);var l=h.default.getWindow(P.PopoutWindowKeys.CHANNEL_CALL_POPOUT);(null===(t=l)||void 0===t?void 0:t.closed)&&(l=null)
;var f=null!=l?P.AppContext.POPOUT:P.AppContext.APP;(0,I.exitFullScreen)({},void 0,null===(r=l)||void 0===r?void 0:r.document);(0,b.openModalLazy)(L(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return s.createElement(r,w({},e,{guild:u,channel:i,applicationId:a.application.id,analyticsLocation:P.AnalyticsLocations.ACTIVITY_RPC,source:P.InstantInviteSources.ACTIVITY_INVITE}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:f===P.AppContext.POPOUT?M.POPOUT_MODAL_CONTEXT:M.DEFAULT_MODAL_CONTEXT})}},l);t.default=U},180450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o=O(n(118915)),i=n(91817),u=n(851792),l=O(n(644263)),s=O(n(288356)),f=O(n(211136)),d=O(n(728429)),c=O(n(47969)),p=O(n(424099)),v=n(194322),y=O(n(308920)),h=n(685677),m=O(n(922629)),_=O(n(248369)),g=n(861798),E=n(770348),S=n(418173);function O(e){return e&&e.__esModule?e:{default:e}}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e,t){var n=c.default.isEntitledToSku(d.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,u.fetchUserEntitlementsForApplication)(t).then((function(){
return!0===c.default.isEntitledToSku(d.default.getCurrentUser(),e,t)}))}var A=((a={})[E.RPCCommands.VALIDATE_APPLICATION]={scope:E.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;try{if(null==t)throw new _.default(E.RPCErrors.INVALID_COMMAND,"No application.");var r=s.default.getGame(t);if(null==r)throw new _.default(E.RPCErrors.INVALID_ENTITLEMENT,"SKU does not exist.");var a=r.primarySkuId;if(null==a)throw new _.default(E.RPCErrors.INVALID_ENTITLEMENT,"SKU does not exist.");return Promise.race([T(a,r.id).then((function(e){if(!e)throw new _.default(E.RPCErrors.INVALID_ENTITLEMENT,"User does not have entitlement.")})),(0,i.timeoutPromise)(1e4).then((function(){throw new _.default(E.RPCErrors.INVALID_ENTITLEMENT,"Timed out fetching entitlement.")}))])}catch(e){if(e.code===E.RPCErrors.INVALID_ENTITLEMENT){m.default.focus(null,!0);(0,v.openModalLazy)(C(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.next=2;return Promise.all([n.e(40532),n.e(65526)]).then(n.bind(n,865526));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return React.createElement(a,b({},e,{applicationId:t}))}));case 5:case"end":return e.stop()}}),e)}))))}throw e}}},a[E.RPCCommands.GET_ENTITLEMENT_TICKET]={scope:E.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;if(null==t)throw new _.default(E.RPCErrors.INVALID_COMMAND,"No application.");return o.default.post({url:E.Endpoints.ENTITLEMENT_TICKET(t),body:{test_mode:p.default.inTestModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body})).catch((function(e){m.default.focus(null,!0);(0,v.openModalLazy)(C(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65526)]).then(n.bind(n,865526));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){
return React.createElement(a,b({},e,{applicationId:t}))}));case 5:case"end":return e.stop()}}),e)}))));throw e}))}},a[E.RPCCommands.GET_ACTIVITY_JOIN_TICKET]=((r={})[E.RPC_SCOPE_CONFIG.ANY]=[E.OAuth2Scopes.RPC,E.RPC_AUTHENTICATED_SCOPE],r.handler=function(e){var t=e.socket;(0,g.validatePostMessageTransport)(t.transport);(0,g.validateApplication)(t.application);var n=t.application.id;if(!S.JOIN_TICKET_EMBEDDED_APPS.has(n))throw new _.default(E.RPCErrors.INVALID_COMMAND,"This application cannot access this API");var r=l.default.getChannel(f.default.getVoiceChannelId()),a=null==r?void 0:r.getGuildId();if(null==r||null==a)throw new _.default(E.RPCErrors.INVALID_COMMAND,"Invalid channel");return o.default.post({url:E.Endpoints.ACTIVITY_JOIN_TICKET(n,a,r.id),retries:2,oldFormErrors:!0}).then((function(e){return e.body})).catch((function(e){throw e}))},r),a[E.RPCCommands.SEND_GENERIC_EVENT]={scope:E.RPC_AUTHENTICATED_SCOPE,handler:function(){
console.warn("The SEND_GENERIC_EVENT api has been deprecated.")}},a[E.RPCCommands.SEND_ANALYTICS_EVENT]={validation:function(e){return e.object().required().keys({event_name:e.string().required(),event_properties:e.object().required()})},handler:function(e){var t,n=e.socket,r=e.args,a=r.event_name,o=r.event_properties;(0,g.validatePostMessageTransport)(n.transport);(0,g.validateApplication)(n.application);var i=n.application.id,u=l.default.getChannel(f.default.getVoiceChannelId()),d=null==u?void 0:u.getGuildId();if(null==u||null==d)throw new _.default(E.RPCErrors.INVALID_COMMAND,"Invalid channel");var c=s.default.getGame(i);if(!(0,h.hasFlag)(null!==(t=null==c?void 0:c.flags)&&void 0!==t?t:0,E.ApplicationFlags.EMBEDDED_FIRST_PARTY))throw new _.default(E.RPCErrors.INVALID_COMMAND,"This application cannot access this API");y.default.track(a,b({},o,{activity_application_id:i,activity_guild_id:d}))}},a[E.RPCCommands.GET_APPLICATION_TICKET]={scope:E.RPC_LOCAL_SCOPE,handler:function(e){
var t=e.socket.application.id;if(null==t)throw new _.default(E.RPCErrors.INVALID_COMMAND,"No application.");return o.default.post({url:E.Endpoints.APPLICATION_TICKET(t),body:{test_mode:p.default.inTestModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body}))}},a);t.default=A},81436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=c(n(480831)),o=n(94066),i=n(194322),u=n(864489),l=c(n(922629)),s=c(n(964125)),f=n(770348),d=n(371621);function c(e){
return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}var y=(0,s.default)((function(e,t,n,u,l,s,f,c,p,y,h,m,_){var g="OAuth2Authorize_"+e+"_"+y+"_"+h;return new Promise((function(E){var S=function(e){E(e)};(0,i.openModal)((function(a){return r.createElement(o.OAuth2AuthorizeModal,v({},a,{authorization:t,clientId:e,scopes:null!=n?n:[],callback:S,responseType:l,redirectUri:s,codeChallenge:f,codeChallengeMethod:c,state:p,permissions:u,guildId:y,channelId:h,prompt:m,disableGuildSelect:"boolean"==typeof _?_:"true"===_}))}),{modalKey:g,onCloseRequest:function(){(0,i.closeModal)(g);E(void 0)}},(0,a.default)(t.application)?d.POPOUT_MODAL_CONTEXT:d.DEFAULT_MODAL_CONTEXT)}))
}),(function(e){if(u.isPlatformEmbedded){var t=(0,a.default)(e)?f.PopoutWindowKeys.CHANNEL_CALL_POPOUT:null;(0,u.isWindows)()?l.default.minimize(t):l.default.restore(t);l.default.focus(t)}}));t.default=y},594875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=h(n(636602)),o=n(557782),i=h(n(23170)),u=h(n(390557)),l=h(n(767766)),s=h(n(423086)),f=h(n(690445)),d=n(194322),c=h(n(248369)),p=n(861798),v=n(367983),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}
function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}var E=((r={})[y.RPCCommands.SET_OVERLAY_LOCKED]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.locked,r=t.pid;if(null==e.socket.application.id)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");u.default.setLocked(n,r)}},r[y.RPCCommands.OPEN_OVERLAY_ACTIVITY_INVITE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({type:e.number().required().valid([y.ActivityActionTypes.JOIN]),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.pid,i=t.application.id;if(null==i)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");var u=s.default.getApplicationActivity(i);if(null==u||null==u.secrets||!(0,
p.validateActivityInvite)(r,u.party,u.secrets))throw new c.default(y.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");var d=(0,v.unlockOverlay)(a).lock,h=(0,l.default)(u,f.default);return(0,o.openModal)(u,h).then((function(){d();if(h)throw new c.default(y.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")}))}},r[y.RPCCommands.OPEN_OVERLAY_GUILD_INVITE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({code:e.string().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.code,r=t.pid;if(null==e.socket.application.id)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");return i.default.resolveInvite(n,"Game SDK").then((function(e){var t=e.invite,n=e.code;if(null==t)throw new c.default(y.RPCErrors.INVALID_INVITE,"Invalid invite id: "+n);var o=(0,
v.unlockOverlay)(r),i=o.context,u=o.lock;return new Promise((function(e){a.default.dispatch({type:y.ActionTypes.INVITE_MODAL_OPEN,invite:t,code:n,context:i,resolve:e})})).then(u)}))}},r[y.RPCCommands.OPEN_OVERLAY_VOICE_SETTINGS]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({pid:e.number().min(0).required()})},handler:function(e){var t=e.args.pid,r=e.socket,a=r.application.id;if(null==a)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");var o=(0,v.unlockOverlay)(t).lock;return new Promise((function(e){(0,d.openModalLazy)(g(regeneratorRuntime.mark((function t(){var i,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(72936),n.e(15560)]).then(n.bind(n,215560));case 2:i=t.sent;u=i.default;return t.abrupt("return",(function(t){return React.createElement(u,m({},t,{mediaEngineContext:a,title:r.application.name,onClose:function(){t.onClose();o();e()}}))}));case 5:
case"end":return t.stop()}}),t)}))))}))}},r);t.default=E},965443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(919094),i=S(n(636602)),u=n(832635),l=n(241889),s=S(n(861315)),f=S(n(740852)),d=S(n(23170)),c=S(n(920061)),p=n(139982),v=S(n(728429)),y=n(194322),h=S(n(308920)),m=S(n(608417)),_=S(n(922629)),g=S(n(248369)),E=n(770348);function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){
return e?n:t})(e)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e,t){null!=e&&h.default.track(E.AnalyticEvents.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,o.extractId)(e),link_type:t})}var A=((r={})[E.RPCCommands.INVITE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){return C(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.args.code;t.next=3
;return d.default.resolveInvite(n,"Desktop Modal");case 3:r=t.sent;if(null!=(a=r.invite)){t.next=7;break}throw new g.default(E.RPCErrors.INVALID_INVITE,"Invalid invite id: "+n);case 7:i.default.dispatch({type:E.ActionTypes.INVITE_MODAL_OPEN,invite:a,code:n,context:E.AppContext.APP});return t.abrupt("return",{invite:a,code:n});case 9:case"end":return t.stop()}}),t)})))()}},r[E.RPCCommands.GUILD_TEMPLATE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){return C(regeneratorRuntime.mark((function t(){var r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.args.code;if(null!=v.default.getCurrentUser()){t.next=3;break}return t.abrupt("return");case 3:t.next=5;return c.default.resolveGuildTemplate(r);case 5:o=t.sent;if(null!=(i=o.guildTemplate)){t.next=9;break}throw new g.default(E.RPCErrors.INVALID_GUILD_TEMPLATE,"Invalid guild template id: "+r);case 9:_.default.focus();(0,y.openModalLazy)(C(regeneratorRuntime.mark((function e(){var t,r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(5141),n.e(4053)]).then(n.bind(n,704053));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,b({},e,{guildTemplate:i}))}));case 5:case"end":return e.stop()}}),e)}))));return t.abrupt("return",{guildTemplate:i,code:r});case 12:case"end":return t.stop()}}),t)})))()}},r[E.RPCCommands.GIFT_CODE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args.code;return new Promise((function(e,r){i.default.wait((function(){f.default.resolveGiftCode(t,!0,!0).then((function(r){var o=r.giftCode;_.default.focus();h.default.track(E.AnalyticEvents.OPEN_MODAL,{type:"gift_accept",location:E.DIRECT_ANALYTICS_LOCATION});(0,y.openModalLazy)(C(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(9199)]).then(n.bind(n,109199));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,b({code:t},e))}));case 5:case"end":return e.stop()}}),e)}))));e({giftCode:o})})).catch((function(){return r(new g.default(E.RPCErrors.INVALID_GIFT_CODE,"Invalid gift code: "+t))}))}))}))}},r[E.RPCCommands.DEEP_LINK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.type,r=t.params;_.default.focus();switch(n){case E.RPCDeepLinks.USER_SETTINGS:if(null!=r){(0,p.replaceWith)(E.Routes.SETTINGS(r.section,r.subsection));T(r.fingerprint,E.DynamicLinkType.SETTINGS)}break;case E.RPCDeepLinks.CHANGELOG:if(null!=r){(0,p.replaceWith)(m.default.formatPathWithQuery(E.Routes.CHANGELOGS(r.date),r.query));T(r.fingerprint,E.DynamicLinkType.CHANGELOG)}break;case E.RPCDeepLinks.LIBRARY:(0,p.replaceWith)(E.Routes.APPLICATION_LIBRARY);null!=r&&T(r.fingerprint,E.DynamicLinkType.LIBRARY);break;case E.RPCDeepLinks.STORE_HOME:(0,
p.replaceWith)(E.Routes.APPLICATION_STORE);null!=r&&T(r.fingerprint,E.DynamicLinkType.STORE);break;case E.RPCDeepLinks.STORE_LISTING:if(null!=r){(0,p.replaceWith)(E.Routes.APPLICATION_STORE_LISTING_SKU(r.skuId,r.slug));T(r.fingerprint,E.DynamicLinkType.STORE)}}}},r[E.RPCCommands.BROWSER_HANDOFF]={scope:E.RPC_PRIVATE_LIMITED_SCOPE,handler:function(e){var t=e.args,n=t.handoffToken,r=t.fingerprint;_.default.focus(null,!0);(0,l.handoffEnd)(n,r)}},r[E.RPCCommands.CONNECTIONS_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.providerType,r=t.code,a=t.openid_params,o=t.state;return s.default.callback(n,{code:r,openid_params:a,state:o})}},r[E.RPCCommands.BRAINTREE_POPUP_BRIDGE_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.state,r=t.path,a=t.query;return(0,u.popupBridgeCallback)({paymentSourceType:E.PaymentSourceTypes.PAYPAL,state:n,path:r,query:a})}},r[E.RPCCommands.BILLING_POPUP_BRIDGE_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,
handler:function(e){var t=e.args,n=t.state,r=t.path,a=t.query,o=t.payment_source_type;return(0,u.popupBridgeCallback)({paymentSourceType:o,state:n,path:r,query:a})}},r);t.default=A},572110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l=g(n(851792)),s=g(n(723420)),f=g(n(376543)),d=n(168558),c=m(n(231765)),p=m(n(424099)),v=m(n(248369)),y=n(367983),h=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e){if(null==e)return{lock:h.NOOP_NULL,context:h.AppContext.APP};var t=(0,y.unlockOverlay)(e);return{lock:t.lock,context:t.context}}function S(e,t){var n={subscriptionTier:h.PremiumSubscriptionSKUs.TIER_2,analyticsObject:t};switch(e){case h.AppContext.APP:return c.default.openPremiumPaymentModalInApp(n);case h.AppContext.OVERLAY:return c.default.openPremiumPaymentModalInOverlay(n);default:throw new Error("Unexpected app context: "+e)}}var O=((u={})[h.RPCCommands.START_PURCHASE]=((r={})[h.RPC_SCOPE_CONFIG.ANY]=[h.RPC_AUTHENTICATED_SCOPE,h.RPC_LOCAL_SCOPE],r.validation=function(e){return e.object().required().keys({sku_id:e.string().required(),pid:e.number().min(0)})},r.handler=function(e){var t=e.socket,n=e.args,r=n.sku_id,a=n.pid;(0,y.validateTransportType)(t.transport);var o=t.application.id;if(null==o)throw new v.default(h.RPCErrors.INVALID_COMMAND,"No application.")
;var i=E(t.transport!==h.TransportTypes.POST_MESSAGE?a:null),u=i.lock,l=i.context,s={page:h.AnalyticsPages.IN_APP};return(0,d.openIAPPurchaseModal)(o,r,(function(){return S(l,s)}),s,l).then((function(e){u();return e}),(function(e){u();if(null!=e)throw new v.default(h.RPCErrors.PURCHASE_ERROR,e);throw new v.default(h.RPCErrors.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))},r),u[h.RPCCommands.GET_SKUS]=((a={})[h.RPC_SCOPE_CONFIG.ANY]=[h.RPC_AUTHENTICATED_SCOPE,h.RPC_LOCAL_SCOPE],a.handler=function(e){var t=e.socket;(0,y.validateTransportType)(t.transport);var n=t.application.id;if(null==n)throw new v.default(h.RPCErrors.INVALID_COMMAND,"No application.");return p.default.inTestModeForApplication(n)?s.fetchSKUsForApplication(n).then((function(e){return e.filter((function(e){return null!=e.price}))})):f.fetchAllStoreListingsForApplication(n).then((function(e){return(null!=e?e:[]).map((function(e){return e.sku})).filter((function(e){return null!=e.price}))}))},a),
u[h.RPCCommands.START_PREMIUM_PURCHASE]=((o={})[h.RPC_SCOPE_CONFIG.ANY]=[h.RPC_AUTHENTICATED_SCOPE,h.RPC_LOCAL_SCOPE],o.validation=function(e){return e.object().keys({pid:e.number().min(0)})},o.handler=function(e){var t=e.socket,n=e.args.pid;(0,y.validateTransportType)(t.transport);if(null==t.application.id)throw new v.default(h.RPCErrors.INVALID_COMMAND,"No application.");var r=E(t.transport!==h.TransportTypes.POST_MESSAGE?n:null),a=r.lock;return S(r.context,{page:h.AnalyticsPages.IN_APP}).then((function(){a()}),(function(e){a();if(null!=e)throw new v.default(h.RPCErrors.PURCHASE_ERROR,e);throw new v.default(h.RPCErrors.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))},o),u[h.RPCCommands.GET_ENTITLEMENTS]=((i={})[h.RPC_SCOPE_CONFIG.ANY]=[h.RPC_AUTHENTICATED_SCOPE,h.RPC_LOCAL_SCOPE],i.handler=function(e){var t=e.socket;(0,y.validateTransportType)(t.transport);var n=t.application.id;if(null==n)throw new v.default(h.RPCErrors.INVALID_COMMAND,"No application.")
;return l.fetchUserEntitlementsForApplication(n).then((function(e){return null!=e?e:[]}))},i),u);t.default=O},261469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(740207)),o=s(n(635014)),i=n(339943),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.application.id;if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return t}var d=((r={})[l.RPCCommands.SET_VOICE_SETTINGS_2]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({input_mode:e.object().keys({type:e.string().valid(Object.keys(l.InputModes)),shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.input_mode,u=n.self_mute,l=n.self_deaf,s=f(t);null!=r&&a.default.setMode(r.type,{shortcut:(0,i.toCombo)(r.shortcut)},s);null!=u&&u!==o.default.isSelfMute(s)&&a.default.toggleSelfMute(s)
;null!=l&&l!==o.default.isSelfDeaf(s)&&a.default.toggleSelfDeaf(s)}},r[l.RPCCommands.SET_USER_VOICE_SETTINGS_2]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.user_id,i=n.mute,u=n.volume,l=f(t);null!=i&&i!==o.default.isLocalMute(r,l)&&a.default.toggleLocalMute(r,l);null!=u&&a.default.setLocalVolume(r,u,l)}},r);t.default=d},632303:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u=p(n(740207)),l=p(n(635014)),s=p(n(728429)),f=p(n(248369)),d=n(367983),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}var v=((i={})[c.RPCCommands.SET_USER_VOICE_SETTINGS]={scope:(r={},r[c.RPC_SCOPE_CONFIG.ANY]=[c.OAuth2Scopes.RPC,c.OAuth2Scopes.RPC_VOICE_WRITE],r),validation:function(e){return e.object().required().keys({user_id:e.string().required(),pan:e.object().keys({
left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.user_id,r=t.pan,a=t.volume,o=t.mute,i=s.default.getCurrentUser();if(null==s.default.getUser(n)||(null==i?void 0:i.id)===n)throw new f.default(c.RPCErrors.INVALID_USER,"Invalid user id: "+n);null!=r&&u.default.setLocalPan(n,r.left,r.right);null!=a&&u.default.setLocalVolume(n,a);if(null!=o){var d=l.default.isLocalMute(n);(d&&!o||!d&&o)&&u.default.toggleLocalMute(n)}return{user_id:n,pan:l.default.getLocalPan(n),volume:l.default.getLocalVolume(n),mute:l.default.isLocalMute(n)}}},i[c.RPCCommands.GET_VOICE_SETTINGS]={scope:(a={},a[c.RPC_SCOPE_CONFIG.ANY]=[c.OAuth2Scopes.RPC,c.OAuth2Scopes.RPC_VOICE_READ],a),handler:function(){return(0,d.getDeprecatedVoiceSettings)()}},i[c.RPCCommands.SET_VOICE_SETTINGS]={scope:(o={},o[c.RPC_SCOPE_CONFIG.ANY]=[c.OAuth2Scopes.RPC,c.OAuth2Scopes.RPC_VOICE_WRITE],o),validation:function(e){
return e.object().required().keys({input:e.object().keys({device_id:e.string().valid(Object.keys(l.default.getInputDevices())),volume:e.number().min(0).max(100)}),output:e.object().keys({device_id:e.string().valid(Object.keys(l.default.getOutputDevices())),volume:e.number().min(0).max(200)}),mode:e.object().keys({type:e.string().valid(Object.keys(c.InputModes)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items(e.object().keys({type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.input,r=t.output,a=t.mode,o=t.automatic_gain_control,i=t.echo_cancellation,s=t.noise_suppression,f=t.qos,c=t.silence_warning,p=t.deaf,v=t.mute;if(n){
null!=n.device_id&&u.default.setInputDevice(n.device_id);null!=n.volume&&u.default.setInputVolume(n.volume)}if(r){null!=r.device_id&&u.default.setOutputDevice(r.device_id);null!=r.volume&&u.default.setOutputVolume(r.volume)}if(a){var y=l.default.getMode(),h=l.default.getModeOptions();null!=a.type&&(y=a.type);null!=a.auto_threshold&&(h.autoThreshold=a.auto_threshold);null!=a.threshold&&(h.threshold=a.threshold);null!=a.shortcut&&(h.shortcut=a.shortcut.map((function(e){return[e.type,e.code]})));null!=a.delay&&(h.delay=a.delay);u.default.setMode(y,h)}null!=o&&u.default.setAutomaticGainControl(o);null!=i&&u.default.setEchoCancellation(i);null!=s&&u.default.setNoiseSuppression(s);null!=f&&u.default.setQoS(f);null!=c&&u.default.setSilenceWarning(c);if(null!=p){var m=l.default.isSelfDeaf();(m&&!p||!m&&p)&&u.default.toggleSelfDeaf()}if(null!=v){var _=l.default.isSelfMute();(_&&!v||!_&&v)&&u.default.toggleSelfMute()}return(0,d.getDeprecatedVoiceSettings)()}},i);t.default=v},650801:(e,t,n)=>{
"use strict";({value:!0});t.Z=void 0;var r=n(348764),a=c(n(717187)),o=c(n(496486)),i=c(n(791548)),u=c(n(922629)),l=c(n(318671)),s=c(n(641402)),f=n(367983),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y,h=u.default.requireModule("discord_rpc").RPCIPC,m=new i.default("RPCServer:IPC"),_={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function g(e,t){null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function E(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function S(e){return new Promise((function(t,n){"string"==typeof e&&(e=h.net.createConnection(e));e.pause();e.on("readable",(function(){try{b(e)}catch(t){e.end(O(_.CLOSE,{code:1003,message:t.message}));e.destroy()}}));var r=function(){try{e.end();e.destroy()}catch(e){}
},a=Promise.race([new Promise((function(t){return e.on("error",(function(){return t()}))})),new Promise((function(t,n){e.on("pong",(function(){return n(new Error("socket responded with pong"))}))})),new Promise((function(e,t){setTimeout((function(){return t(new Error("socket alive timeout"))}),1e3)}))]).then((function(){r()}),(function(e){r();throw e}));e.write(O(_.PING,o.default.uniqueId()));return a.then(t,n)}))}function O(e,t){t=JSON.stringify(t);var n=r.Buffer.byteLength(t),a=r.Buffer.alloc(8+n);a.writeInt32LE(e,0);a.writeInt32LE(n,4);a.write(t,8,n);return function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}(a)}function b(e){var t=e.read(8);if(t){var n=(t=r.Buffer.from(t)).readInt32LE(0),a=t.readInt32LE(4);if(!Object.values(_).includes(n)||a<0)throw new Error("protocol error");if(!(t=e.read(a)))throw new Error("data size does not match what was received");t=r.Buffer.from(t);var o=JSON.parse(t.toString());switch(n){case _.PING:e.emit("ping",o)
;e.write(O(_.PONG,o));break;case _.PONG:e.emit("pong",o);break;case _.HANDSHAKE:if(E(e))throw new Error("already did handshake");g(e,!0);e.emit("handshake",o);break;case _.FRAME:if(!E(e))throw new Error("did not handshake");e.emit("request",o);break;case _.CLOSE:e.end();e.destroy()}b(e)}}var I=function(e){p(t,e);function t(t,n,r){var a;(a=e.call(this,"ipc",n,r)||this)._socket=t;return a}var n=t.prototype;n.send=function(e){m.info("Socket Emit: "+this.id,(0,l.default)(e));this._socket.write(O(_.FRAME,e))};n.close=function(e,t){this._socket.end(O(_.CLOSE,{code:e,message:t}));this._socket.destroy()};return t}(s.default),C=new(function(e){p(t,e);function t(){var t;t=e.call(this)||this;(y=h.net.createServer((function(e){return t.handleConnection(e)}))).on("error",(function(e){return m.error("Error: "+e.message)}));h.getAvailableSocket(S).then((function(e){y.listen(e,(function(){("function"==typeof y.listening?y.listening():y.listening)&&m.info("Starting on "+y.address())}))}));return t}
t.prototype.handleConnection=function(e){var t=this;g(e,!1);e.pause();e.on("readable",(function(){try{b(e)}catch(t){e.end(O(_.CLOSE,{code:d.RPCCloseCodes.CLOSE_UNSUPPORTED,message:t.message}));e.destroy()}}));e.once("handshake",(function(n){var r,a=n.client_id,o=+n.v;try{r=new I(e,o,"json")}catch(t){e.end(O(_.CLOSE,{code:t.code,message:t.message}));e.destroy();return}m.info("Socket Opened: "+r.id);e.on("error",(function(e){return m.error("Socket Error: "+e.message)}));e.on("close",(function(){m.info("Socket Close: "+r.id);t.emit("disconnect",r)}));(0,f.validateSocketClient)(r,null,a).then((function(){e.on("request",(function(e){m.info("Socket Message: "+r.id,(0,l.default)(e));t.emit("request",r,e)}));t.emit("connect",r)})).catch((function(e){var t=e.code,n=e.message;return r.close(t,n)}))}))};return t}(a.default));t.Z=C},444287:(e,t,n)=>{"use strict";var r=n(348764).Buffer;({value:!0});t.Z=void 0
;var a,o=_(n(717187)),i=_(n(496486)),u=_(n(817673)),l=_(n(608575)),s=_(n(636602)),f=_(n(791548)),d=_(n(909243)),c=_(n(922629)),p=_(n(248369)),v=_(n(318671)),y=_(n(641402)),h=n(367983),m=n(770348);function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}try{a=c.default.requireModule("discord_erlpack")}catch(e){try{a=c.default.requireModule("erlpack")}catch(e){}}var I,C=c.default.requireModule("discord_rpc").RPCWebSocket,T=window.GLOBAL_ENV.MARKETING_ENDPOINT,A=new f.default("RPCServer:WSS"),P=[];function M(e){return"function"==typeof e?e():e}function N(e){void 0===e&&(e=0)
;var t=e>0?void 0:function(){if(M(I.listening)){var e=I.address().port;A.info("Starting on "+e);s.default.dispatch({type:m.ActionTypes.RPC_SERVER_READY,port:e})}};I.listen(m.RPC_STARTING_PORT+e%m.RPC_PORT_RANGE,"127.0.0.1",t)}function R(e,t,n,a,o){void 0===a&&(a=200);void 0===o&&(o={});var i=M(e.headers).origin?{"Access-Control-Allow-Origin":M(e.headers).origin,"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":["Content-Type","Authorization"].join(", ")}:{};n=n?JSON.stringify(n):"";a=200!==a||n.length?a:204;t.setHeader("Content-Length",r.byteLength(n));t.setHeader("Content-Type","application/json");t.writeHead(a,b({},o,{},i));t.end(n)}function w(e,t,n,r,a){void 0===a&&(a=0);R(e,t,{code:a,message:r},n)}var D=function(e){S(t,e);function t(t,n,r){var o;o=e.call(this,"ws",n,r)||this;if(-1===["etf","json"].indexOf(r))throw new p.default(m.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+r)
;if("etf"===r&&null==a)throw new p.default(m.RPCCloseCodes.INVALID_ENCODING,"Erlpack cannot be used on this client");o._socket=t;return o}var n=t.prototype;n.send=function(e){(d.default.isLoggingOverlayEvents||e.cmd!==m.RPCCommands.OVERLAY&&e.evt!==m.RPCEvents.OVERLAY)&&A.info("Socket Emit: "+this.id,(0,v.default)(e));null!=a&&"etf"===this.encoding?this._socket.send(a.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))};n.close=function(e,t){this._socket.close(e,t)};return t}(y.default),L=function(e){S(t,e);function t(t,n,r,a){var o;o=e.call(this,"http",r,a)||this;if("json"!==a)throw new p.default(m.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+a);o._sendCallback=t;o._closeCallback=n;return o}var n=t.prototype;n.send=function(e){(d.default.isLoggingOverlayEvents||e.cmd!==m.RPCCommands.OVERLAY)&&A.info("Socket Emit: "+this.id,e);this._sendCallback(e)};n.close=function(e,t){this._closeCallback(t,e)};return t}(y.default),j=new(function(e){S(t,e);function t(){var t
;t=e.call(this)||this;var n=0;(I=C.http.createServer()).on("error",(function(e){A.error("Error: "+e.message);("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout((function(){return N(++n)}),1e3)}));I.on("request",t.handleRequest.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)));N(n);var r={instanceId:I.instanceId||0,server:I};new C.ws.Server(r).on("connection",(function(e){return t.handleConnection(e)}));return t}var n=t.prototype;n.handleRequest=function(e,t){var n=this,r=g(M(e.url).split("?"),2),a=r[0],o=r[1],i=M(e.method);if("/rpc"!==a||"OPTIONS"!==i){var s="POST"===i;if("/rpc"!==a||"GET"!==i&&!s)w(e,t,404,"Not Found");else{var f=u.default.parse(o),d=s?M(e.headers)["content-type"].split("/")[1]:"json",c=function(){var e=l.default.parse(f.callback),n=e.protocol,r=e.host;n===location.protocol&&r===location.host?t.setHeader("Location",f.callback):t.setHeader("Location",T);t.writeHead(301)
;t.end()},p=new L(s?R.bind(null,e,t):c,s?w.bind(null,e,t,400):c,+f.v,d);if(s)(0,h.validateSocketClient)(p,M(e.headers).origin,f.client_id).then((function(){var r="";e.on("data",(function(e){return r+=e}));e.on("error",(function(){return w(e,t,500,"Internal Server Error")}));e.on("end",(function(){return n.handleMessage(p,r)}))})).catch((function(e){var t=e.code,n=e.message;return p.close(t,n)}));else{p.authorization.scopes=[m.RPC_PRIVATE_LIMITED_SCOPE];this.handleMessage(p,decodeURIComponent(f.payload))}}}else R(e,t,{body:""})};n.handleConnection=function(e){var t,n=this,r=u.default.parse(M(e.upgradeReq).url.split("?")[1]),a=M(e.upgradeReq).headers.origin||"";try{t=new D(e,+r.v,r.encoding||"json")}catch(t){e.close(t.code,t.message);return}A.info("Socket Opened: "+t.id);e.on("error",(function(e){return A.error("WS Error: "+e.message)}));e.on("close",(function(e,r){A.info("Socket Closed: "+t.id+", code "+e+", message "+r);i.default.remove(P,(function(e){return e===t}))
;n.emit("disconnect",t)}));(0,h.validateSocketClient)(t,a,r.client_id).then((function(){P.push(t);e.on("message",(function(e){return n.handleMessage(t,e)}));n.emit("connect",t)})).catch((function(e){var n=e.code,r=e.message;return t.close(n,r)}))};n.handleMessage=function(e,t){var n;try{if(null!=a&&"etf"===e.encoding)n=a.unpack(t);else{if("string"!=typeof t)throw new Error;n=JSON.parse(t)}}catch(t){e.close(m.RPCCloseCodes.CLOSE_UNSUPPORTED,"Payload not "+e.encoding);return}(d.default.isLoggingOverlayEvents||n.cmd!==m.RPCCommands.OVERLAY)&&A.info("Socket Message: "+e.id,(0,v.default)(n));this.emit("request",e,n)};return t}(o.default));t.Z=j},593621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(791548)),a=f(n(909243)),o=f(n(318671)),i=f(n(478370)),u=n(367983),l=f(n(176829)),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}var d=new r.default("RPCServer:PostMessage"),c=function(e,t,n){
(a.default.isLoggingOverlayEvents||e.cmd!==s.RPCCommands.OVERLAY)&&t.info("Socket Message: "+n.id,(0,o.default)(e))};var p=function(){var e=new i.default(u.validateSocketClient,d,l.default,c);window.addEventListener("message",(function(t){if(window!==t.source)if(null!=t.source&&null!=t.source.postMessage){var n=t.source,r=t.data,a=t.origin;e.handleMessage(r,a,(function(e,t){n.postMessage(e,t)}))}else d.error("Unknown event source")}));return e}();t.default=p},176829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(909243)),a=u(n(318671)),o=u(n(524650)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n,u,l,s,f){return new o.default(e,t,n,u,l,s,f,(function(e,t){(r.default.isLoggingOverlayEvents||e.cmd!==i.RPCCommands.OVERLAY&&e.evt!==i.RPCEvents.OVERLAY)&&s.info("Socket Emit: "+t,(0,a.default)(e))}))};t.default=l},478910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(21774),i=n(770348);var u={init:function(){a.default.subscribe(i.ActionTypes.USER_SETTINGS_UPDATE,o.refreshSearchTokens);a.default.subscribe(i.ActionTypes.I18N_LOAD_SUCCESS,o.refreshSearchTokens)}};t.default=u},626643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,r.useStateFromStores)([l.default],(function(){var t=l.default.getQuery(e),n=l.default.getRawResults(e);if(null==t||null==n)return[];var r=(0,a.createASTHighlighter)(t.content||"");return n.map((function(e){return e.map((function(e){var t=(0,o.createMessageRecord)(e);return t.isSearchHit?t.set("customRenderedContent",(0,i.default)(t,{postProcessor:r})):t}))}))}),[e]),n=(0,r.useStateFromStoresArray)([u.default],(function(){var e=0;return[t.map((function(t){return t.filter((function(t){var n=u.default.isBlocked(t.author.id);n&&t.isSearchHit&&e++;return!n||t.isSearchHit}))})),e]}),[t]),s=(p=n,v=2,
function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=s[0],c=s[1];var p,v;return{searchResults:d,blockCount:c}};var r=n(536211),a=n(697255),o=n(202929),i=s(n(116518)),u=s(n(290629)),l=s(n(205982));function s(e){
return e&&e.__esModule?e:{default:e}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},326648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(151097)),i=v(n(80828)),u=v(n(186465)),l=v(n(730977)),s=v(n(776360)),f=v(n(550270)),d=n(770348),c=v(n(247001)),p=v(n(794097));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){
return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.searchMode,n=e.searchByMode;return m("header",{className:p.default.searchHeader},void 0,a.createElement(g,e),m(u.default,{orientation:"horizontal",className:p.default.searchHeaderTabList,selectedItem:t,onItemSelect:n},void 0,m(u.default.Item,{id:d.SearchModes.NEWEST
},void 0,c.default.Messages.SEARCH_NEWEST_SHORT),m(u.default.Item,{id:d.SearchModes.OLDEST},void 0,c.default.Messages.SEARCH_OLDEST_SHORT),m(u.default.Item,{id:d.SearchModes.MOST_RELEVANT},void 0,c.default.Messages.SEARCH_MOST_RELEVANT_SHORT)))}_.displayName="SearchHeader";function g(e){var t,n=e.isSearching,r=e.isIndexing,o=e.documentsIndexed;(r||n)&&(t=m("div",{className:p.default.spinnerWrapper},void 0,m(i.default,{type:i.default.Type.SPINNING_CIRCLE,className:p.default.spinner,itemClassName:p.default.spinnerPath})));var u=r&&!n;return m("div",{className:p.default.totalResults,role:"status"},void 0,u?m(l.default,{text:c.default.Messages.SEARCH_STILL_INDEXING_HINT.format({count:o})},void 0,(function(n){return a.createElement("div",h({className:p.default.totalResultsWrapper},n),a.createElement(E,e),t)})):a.createElement(E,e),u?null:t)}g.displayName="TotalContent";function E(e){var t=e.isSearching,n=e.isIndexing,r=e.totalResults;if(t)return m(s.default,{size:s.default.Sizes.SIZE_16,
color:s.default.Colors.HEADER_PRIMARY},void 0,c.default.Messages.SEARCHING);if(n)return m(s.default,{size:s.default.Sizes.SIZE_16},void 0,m(o.default,{className:p.default.helpdeskLink,href:f.default.getArticleURL(d.HelpdeskArticles.SEARCH_INDEXING)},void 0,c.default.Messages.STILL_INDEXING));var a=r.toLocaleString();return m(s.default,{size:s.default.Sizes.SIZE_16,color:s.default.Colors.HEADER_PRIMARY},void 0,c.default.Messages.TOTAL_RESULTS.format({count:a}))}},301929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
}(n(667294));var r,a=i(n(668281)),o=i(n(574628));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.changePage,n=e.offset,r=e.totalResults,i=e.pageLength,u=Math.floor(n/i)+1;return l("div",{className:o.default.container},void 0,l(a.default,{currentPage:u,totalCount:r,pageSize:i,onPageChange:t,maxVisiblePages:5}))}s.displayName="SearchPagination"},458517:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(496486)),i=n(378158),u=p(n(314234)),l=p(n(2914)),s=p(n(644263)),f=p(n(16941)),d=p(n(247001)),c=p(n(248556));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}function E(e,t){var n,r=null===(n=window)||void 0===n?void 0:n.getSelection();if(null!=r&&!r.isCollapsed)return!0;if(null==e||null==t)return!1
;for(;e instanceof Element&&e!==t;){var a=e.tagName;if("A"===a||"IMG"===a||"BUTTON"===a)return!0;e=e.parentNode}return!1}var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).containerRef=a.createRef();t.hitRef=a.createRef();t.handleContextMenu=function(e,t){var r=s.default.getChannel(t.channel_id);if(null!=r){e.stopPropagation();(0,i.openContextMenuLazy)(e,_(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(56530),n.e(25496)]).then(n.bind(n,925496));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,h({},e,{message:t,channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))}};t.jumpTo=function(e){if(null!=e){e.preventDefault();e.stopPropagation()}
var n=t.props,r=n.onJump,a=n.result.find((function(e){return e.isSearchHit}));null!=a&&r(a)};t.handleMessageClick=function(e){E(e.target,t.containerRef.current)?e.stopPropagation():t.jumpTo(e)};return t}t.prototype.render=function(){var e=this,t=this.props,n=t.result,r=t.listItemProps,i=t.searchOffset,p=t.index,v=t.totalResults,m=o.default.find(n,(function(e){return e.isSearchHit}));if(null==m)return null;var _=s.default.getChannel(m.channel_id);if(null==_)return null;var g="search-result-"+m.id;return y(u.default,{ringTarget:this.hitRef,ringClassName:c.default.searchResultFocusRing,offset:4},void 0,a.createElement("li",h({className:c.default.container},r,{"aria-posinset":1+i+p,"aria-setsize":v,"aria-labelledby":g}),y(f.default,{tabIndex:-1,onClick:this.handleMessageClick,innerRef:this.containerRef,className:c.default.searchResult,focusProps:{enabled:!1}},void 0,a.createElement("div",{ref:this.hitRef,className:c.default.message,key:m.id},y(l.default,{id:g,message:m,channel:_,
onContextMenu:function(t){return e.handleContextMenu(t,m)},animateAvatar:!1,subscribeToComponentDispatch:!1}))),y("div",{className:c.default.buttonsContainer,"aria-hidden":!0},void 0,y(f.default,{className:c.default.button,onClick:this.jumpTo},void 0,d.default.Messages.JUMP))))};return t}(a.PureComponent);t.default=S;S.displayName="SearchResult"},315021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.search,n=e.searchId,r=e.renderEmbeds,w=e.scrollTo,D=e.searchResults,L=e.blockCount,U=t.offset,G=t.totalResults,F=t.isSearching,x=t.showBlockedResults,V=h.RenderSpoilers.useSetting(),W=a.useCallback((function(e){e!==S.default.getChannelId()&&u.default.transitionToInviteChannelSync(e)}),[]),H=a.useCallback((function(e){F||s.changePage(n,e-1)}),[n,F]),B=a.useCallback((function(e){if(e.blocked)i.default.show({title:N.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:N.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),
confirmText:N.default.Messages.OKAY});else{var t=m.default.getChannel(e.channel_id),r=null!=t?t.getGuildId():null;l.default.trackJump(e.channel_id,e.id,"Search Results",{search_id:E.default.getAnalyticsId(n)});(0,y.transitionTo)(M.Routes.CHANNEL(r,e.channel_id,e.id))}}),[n]),z=a.useMemo((function(){if(null==D)return[];var e,t=0;return D.reduce((function(n,r){var a=r.find((function(e){return e.isSearchHit}));if(!x&&null!=a&&g.default.isBlocked(a.author.id))return n;var o=m.default.getChannel(r[0].channel_id);if(null==o)return n;e&&e===o.id||n.push({channel:o,results:[],startIndex:t});t+=1;n[n.length-1].results.push(r);e=null==o?void 0:o.id;return n}),[])}),[D,x]),Y=a.useRef([]),$=z.reduce((function(e,t){return e+1+t.results.length}),0),K=a.useCallback((function(e,t){if(f.default.keyboardModeEnabled){var n=Y.current,r=null!=t?n[t]:void 0;if(null!=r&&null!=r.hitRef.current){var a=r.hitRef.current.getClientRects()[0],o=a.top-.5*a.height;w(o,!1,(function(){var t
;null===(t=document.getElementById(e))||void 0===t||t.focus()}))}}}),[w]),q=a.useCallback((function(e){var t=Y.current[e];null==t||t.jumpTo()}),[]),Z=(0,o.useListNavigator)({navId:"search-results",itemCount:$,focusedIndex:0,setFocus:K,onSelect:q}),X=z.map((function(e){var t,o=e.channel,i=e.results,u=e.startIndex,l=null!=o?(0,d.computeChannelName)(o,O.default,g.default,!1):"???",s=null!==(t=(0,c.default)(o))&&void 0!==t?t:C.default,f=_.default.can(M.Permissions.MANAGE_MESSAGES,o);return k(I.SpoilerDisplayContext.Provider,{value:(0,v.default)(V,f)},void 0,k("ul",{role:"group",className:R.default.searchResultGroup,"aria-label":l},o.id+"-"+u,k(b.default,{onClick:function(){return W(o.id)}},void 0,k(T.default,{className:R.default.channelName,size:T.default.Sizes.SIZE_16,color:T.default.Colors.HEADER_PRIMARY},void 0,k(s,{className:R.default.channelNameIcon,width:16,height:16}),k("span",{},void 0,l))),i.map((function(e,t){var o=u+t;return a.createElement(P.default,{ref:function(e){
return Y.current[o]=e},totalResults:G,scrollTo:w,searchId:n,renderEmbeds:r,searchOffset:U,pageResultsLength:i.length,result:e,index:o,key:"search-result-"+o,onJump:B,listItemProps:Z.getItemProps({index:o})})}))))}));X.push();var Q=a.useRef(null);a.useLayoutEffect((function(){var e;null===(e=Q.current)||void 0===e||e.focus()}),[D]);var J=(0,p.useFocusJumpSection)();return a.createElement(a.Fragment,null,a.createElement("div",j({ref:Q},Z.getContainerProps(),J,{"aria-busy":F}),X),L>0?k(b.default,{tag:"div",className:R.default.resultsBlocked,onClick:function(){return s.setShowBlockedResults(n,!x)}},void 0,k("div",{className:R.default.resultsBlockedImage}),k("div",{className:R.default.resultsBlockedText},void 0,x?N.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:L}):N.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:L}))):null,!F&&k(A.default,{changePage:H,offset:U,totalResults:G,pageLength:M.SEARCH_PAGE_SIZE}))}
;var r,a=L(n(667294)),o=n(515664),i=w(n(190040)),u=w(n(23170)),l=w(n(786345)),s=L(n(896846)),f=w(n(235879)),d=n(678928),c=w(n(786661)),p=n(632123),v=w(n(916372)),y=n(139982),h=n(894826),m=w(n(644263)),_=w(n(689389)),g=w(n(290629)),E=w(n(205982)),S=w(n(211136)),O=w(n(728429)),b=w(n(16941)),I=n(364767),C=w(n(562796)),T=w(n(776360)),A=w(n(301929)),P=w(n(458517)),M=n(770348),N=w(n(247001)),R=w(n(464999));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}function j(){j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return j.apply(this,arguments)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},225379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=j
;var r,a=T(n(667294)),o=I(n(294184)),i=I(n(496486)),u=n(536211),l=I(n(23170)),s=T(n(896846)),f=I(n(844784)),d=n(894826),c=I(n(205982)),p=I(n(211136)),v=I(n(871778)),y=I(n(49465)),h=I(n(235742)),m=n(956506),_=I(n(626643)),g=I(n(326648)),E=I(n(315021)),S=n(770348),O=I(n(247001)),b=I(n(22542));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}var R=function(e){M(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).autoAnalytics=function(e){void 0===e&&(e=null);if(null!=t.props.searchAnalyticsId){var n=0,r=0,a=0,o=0
;null!=t.props.searchResults&&(0,i.default)(t.props.searchResults).flatten().filter((function(e){return e.isSearchHit})).forEach((function(e){if(null!=e.content&&""!==e.content){n++;/https?:\/\/[^\s]+/.test(e.content)&&o++}null!=e.embeds&&e.embeds.length>0&&a++;null!=e.attachments&&e.attachments.length>0&&r++}));f.default.trackWithMetadata(S.AnalyticEvents.SEARCH_RESULT_VIEWED,{search_type:t.props.searchType,search_id:t.props.searchAnalyticsId,prev_search_id:e!==t.props.searchAnalyticsId?e:null,is_error:t.props.searchHasError,limit:t.props.searchLimit,offset:t.props.searchOffset,page:Math.floor(t.props.searchOffset/t.props.searchLimit)+1,total_results:t.props.searchTotalResults,page_results:null!=t.props.searchResults?t.props.searchResults.length:null,is_indexing:t.props.searchIsIndexing,page_num_messages:n,page_num_links:o,page_num_embeds:a,page_num_attach:r})}};return t}var n=t.prototype;n.componentDidMount=function(){this.autoAnalytics()};n.componentDidUpdate=function(e){
this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)};n.render=function(){return null};return t}(a.Component);R.displayName="SearchResultsViewedAutoAnalytics";var w=function(e){var t=e.children;return P("div",{className:b.default.emptyResultsWrap},void 0,P("div",{className:b.default.emptyResultsContent},void 0,t))};w.displayName="EmptyResults";var D=P(y.default,{}),L=function(e){M(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).state={searchMode:S.SearchModes.NEWEST};t.scrollerRef=a.createRef();t.scrollTo=function(e,n,r){var a=t.scrollerRef.current;if(null!=a){var o=a.getScrollerState().scrollTop-e;a.scrollTo({to:o,animate:n,callback:r})}};t.selectChannel=function(e){e!==p.default.getChannelId()&&l.default.transitionToInviteChannelSync(e)};t.searchPrevious=function(){var e=t.props,n=e.searchId
;e.search.isSearching||s.searchPreviousPage(n)};t.searchNext=function(){var e=t.props,n=e.searchId;e.search.isSearching||s.searchNextPage(n)};t.handleSearchResultsClose=function(){var e=t.props.searchId;s.clearSearchState(e)};t.searchByMode=function(e){var n=t.props,r=n.searchId,a=n.search.isSearching;if(e!==t.state.searchMode&&!a){f.default.trackWithMetadata(S.AnalyticEvents.SEARCH_RESULT_SORT_CHANGED,{search_id:c.default.getAnalyticsId(r),new_sort_type:e});s.searchByMode(r,e);t.setState({searchMode:e})}};t.toggleShowBlockedMessages=function(){var e=t.props,n=e.searchId,r=e.search.showBlockedResults;s.setShowBlockedResults(n,!r)};t.renderHeader=function(){var e=t.state.searchMode,n=t.props.search,r=n.totalResults,a=n.isSearching,o=n.isHistoricalIndexing,i=n.documentsIndexed;return P(g.default,{searchMode:e,searchByMode:t.searchByMode,totalResults:r,isSearching:a,isIndexing:o,documentsIndexed:i})};t.renderIndexing=function(){
var e=c.default.getSearchType(t.props.searchId)===S.SearchTypes.GUILD?O.default.Messages.SEARCH_GUILD_STILL_INDEXING:O.default.Messages.SEARCH_DM_STILL_INDEXING;return P(w,{},void 0,D,P("div",{className:(b.default.emptyResultsText,b.default.stillIndexing)},void 0,e))};t.renderNoResults=function(){var e,n,r=t.props.search.showNoResultsAlt,a=r?O.default.Messages.SEARCH_NO_RESULTS_ALT:O.default.Messages.SEARCH_NO_RESULTS;return P(w,{},void 0,P("div",{className:(0,o.default)(b.default.noResultsImage,(e={},e[b.default.alt]=r,e))}),P("div",{className:(0,o.default)(b.default.emptyResultsText,b.default.noResults,(n={},n[b.default.alt]=r,n))},void 0,a))};t.renderError=function(){return P(w,{},void 0,P("div",{className:b.default.errorImage}),P("div",{className:(0,o.default)(b.default.emptyResultsText,b.default.errorMessage)},void 0,O.default.Messages.SEARCH_ERROR))};t.renderContent=function(){
var e=t.props,n=e.searchResults,r=e.blockCount,a=t.props.search,o=a.totalResults,i=a.isSearching,u=a.isIndexing;return a.hasError?t.renderError():u?t.renderIndexing():i?null:o>0?P(E.default,{search:t.props.search,searchResults:n,blockCount:r,searchId:t.props.searchId,renderEmbeds:t.props.renderEmbeds,scrollTo:t.scrollTo}):t.renderNoResults()};return t}var n=t.prototype;n.componentDidMount=function(){m.ComponentDispatch.subscribe(S.ComponentActions.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};n.componentWillUnmount=function(){m.ComponentDispatch.unsubscribe(S.ComponentActions.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};n.componentDidUpdate=function(e){var t=e.search;if(this.props.search.showBlockedResults!==t.showBlockedResults){var n=this.scrollerRef.current;if(null==n)return;n.scrollToBottom()}};n.render=function(){
var e=this.props,t=e.searchAnalyticsId,n=e.searchType,r=e.searchResults,o=this.props.search,i=o.offset,u=o.hasError,l=o.totalResults,s=o.isHistoricalIndexing;return P("section",{className:b.default.searchResultsWrap,"aria-label":O.default.Messages.SEARCH_RESULTS_SECTION_LABEL},void 0,this.renderHeader(),a.createElement(h.default,{ref:this.scrollerRef,className:b.default.scroller},this.renderContent()),P(R,{searchType:n,searchAnalyticsId:t,searchResults:r,searchOffset:i,searchLimit:S.SEARCH_PAGE_SIZE,searchHasError:u,searchTotalResults:l,searchIsIndexing:s}))};return t}(a.PureComponent);L.displayName="SearchResults";function j(e){var t=e.searchId;return a.createElement(L,A({searchId:t},(0,u.useStateFromStoresObject)([c.default],(function(){return{search:c.default.getResultsState(t),searchAnalyticsId:c.default.getAnalyticsId(t),searchType:c.default.getSearchType()}}),[t]),(0,_.default)(t),{renderEmbeds:d.RenderEmbeds.useSetting(),developerMode:d.DeveloperMode.useSetting()},(0,
u.useStateFromStoresObject)([v.default],(function(){return{theme:v.default.theme}}))))}j.displayName="ConnectedSearchResults"},268660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=d(n(294184)),u=d(n(74854)),l=d(n(550024)),s=n(836233),f=d(n(913165));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}!function(e){e[e.ENTERING=0]="ENTERING";e[e.LEAVING=1]="LEAVING";e[e.APPEARING=2]="APPEARING";e[e.STATIC=3]="STATIC"}(a||(a={}));var m=function(e){y(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={animationProgress:new u.default.Value(0),targetHeight:0,baseHeight:0,animationState:null};t.direction=t.props.getDirection();t._measureRef=o.createRef();return t}var n=t.prototype;n.componentDidMount=function(){if(null!=this._measureRef.current){var e=this._measureRef.current.getBoundingClientRect().height;this.setState({targetHeight:e,baseHeight:this.props.getBaseHeight()})}};n.componentDidUpdate=function(e,t){t.targetHeight!==this.state.targetHeight&&this.props.setHeight(this.state.targetHeight)};n.componentWillAppear=function(e){this.setState({animationState:a.APPEARING});e()};n.componentDidAppear=function(){var e=this.state,t=e.animationProgress,n=e.targetHeight;t.setValue(2);this.setState({animationState:a.STATIC,baseHeight:n})};n.componentWillEnter=function(e){var t=this.props.duration,n=this.state.animationProgress;this.setState({animationState:a.ENTERING})
;this.props.setHeight(this.state.targetHeight);u.default.timing(n,{toValue:2,duration:t,delay:t/2}).start(e)};n.componentDidEnter=function(){this.setState({animationState:a.STATIC})};n.componentWillLeave=function(e){var t=this.state.animationProgress,n=this.props,r=n.duration,o=n.getDirection;this.direction=o();this.setState({animationState:a.LEAVING});u.default.timing(t,{toValue:0,duration:r}).start(e)};n.componentDidLeave=function(){this.setState({animationState:a.STATIC})};n.getAnimatedStyle=function(){var e,t,n=this.context.reducedMotion,r=this.props.fillParent,o=this.state,i=o.animationProgress,l=o.animationState,s=o.baseHeight,f=o.targetHeight,d=null!==(e=this.props.sideMargin)&&void 0!==e?e:0,c=null!==(t=this.props.verticalMargin)&&void 0!==t?t:0,p=l===a.LEAVING,y=l===a.ENTERING,h=(p?-1:1)*this.direction,m={overflow:y||p?"hidden":"visible",position:p?"absolute":void 0,top:p?c:void 0,left:p?d:void 0,right:p?d:void 0,bottom:p?c:void 0},_={transform:[{translateX:i.interpolate({
inputRange:[0,2],outputRange:[150*h+"%","0%"],extrapolate:"clamp",easing:u.default.Easing.inOut(u.default.Easing.ease)})}]};return v({},m,{},n.enabled?null:_,{opacity:i.interpolate({inputRange:[0,2],outputRange:[0,1],extrapolate:"clamp",easing:u.default.Easing.inOut(u.default.Easing.ease)}),height:y?i.interpolate({inputRange:[0,1],outputRange:[s,f],extrapolate:"clamp",easing:u.default.Easing.inOut(u.default.Easing.ease)}):r?"100%":"auto"})};n.render=function(){var e,t=this.props,n=t.fillParent,r=t.className,l=t.animatedNodeClassName,s=t.staticClassName,d=this.state.animationState;return n?o.createElement("div",{ref:this._measureRef,className:(0,i.default)(f.default.measurementFill,r,(e={},e[(0,i.default)(f.default.measurementFillStatic,s)]=d===a.STATIC,e))},p(u.default.div,{className:(0,i.default)(f.default.animatedNode,l),style:this.getAnimatedStyle()},void 0,this.props.children)):o.createElement("div",{ref:this._measureRef,className:(0,i.default)(f.default.measurement,r)
},p(u.default.div,{className:(0,i.default)(f.default.animatedNode,l),style:this.getAnimatedStyle()},void 0,this.props.children))};return t}(o.PureComponent);m.displayName="SequenceAnimation";m.contextType=s.AccessibilityPreferencesContext;m.defaultProps={duration:300};var _=function(e){y(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).stepHeights={};t.prevStep=null;t.prevSteps=[];t.getBaseHeight=function(){return null!=t.prevStep&&null!=t.stepHeights[t.prevStep]?t.stepHeights[t.prevStep]:0};t.getDirection=function(){var e=t.props,n=e.steps,r=e.step,a=null!=t.prevStep?n.indexOf(t.prevStep):-1,o=-1===a&&null!=t.prevStep?t.prevSteps.indexOf(t.prevStep):-1;return Math.max(a,o)>n.indexOf(r)?-1:1};t.setHeight=function(e){var n=t.props.step;t.stepHeights[n]=e};return t}var n=t.prototype;n.componentDidMount=function(){this.setPrevSteps()};n.componentDidUpdate=function(){this.setPrevSteps()}
;n.setPrevSteps=function(){var e=this.props,t=e.step,n=e.steps;this.prevStep=t;this.prevSteps=n};n.render=function(){var e=this.props,t=e.step,n=e.className,r=e.innerClassName,a=e.animatedNodeClassName,o=e.staticClassName,u=e.sideMargin,s=e.verticalMargin,d=e.children,c=e.fillParent;return p(l.default,{component:"div",className:(0,i.default)(f.default.transitionGroup,n)},void 0,p(m,{fillParent:c,sideMargin:u,verticalMargin:s,getDirection:this.getDirection,getBaseHeight:this.getBaseHeight,className:r,animatedNodeClassName:a,staticClassName:o,setHeight:this.setHeight},""+t,d))};return t}(o.Component);t.default=_;_.displayName="Sequencer";_.defaultProps={fillParent:!1}},394444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.UserSettingsManager=void 0;var r=l(n(636602)),a=l(n(929031)),o=l(n(177230)),i=l(n(871778)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return s(e,t)}var f=!1,d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(u.ActionTypes.CONNECTION_OPEN,this.setVerifyTimezone);r.default.subscribe(u.ActionTypes.CONNECTION_OPEN_SUPPLEMENTAL,this.maybeShowChangeLanguageToast);r.default.subscribe(u.ActionTypes.OVERLAY_INITIALIZE,this.setVerifyTimezone);r.default.subscribe(u.ActionTypes.USER_SETTINGS_UPDATE,this.ensureTimezoneUpdated)};n.maybeShowChangeLanguageToast=function(){};n._terminate=function(){r.default.unsubscribe(u.ActionTypes.CONNECTION_OPEN,this.setVerifyTimezone);r.default.unsubscribe(u.ActionTypes.OVERLAY_INITIALIZE,this.setVerifyTimezone);r.default.unsubscribe(u.ActionTypes.USER_SETTINGS_UPDATE,this.ensureTimezoneUpdated)};n.setVerifyTimezone=function(){f=!0};n.ensureTimezoneUpdated=function(){if(f){f=!1;var e=(new Date).getTimezoneOffset()
;i.default.timezoneOffset!==e&&setImmediate((function(){return a.default.updateRemoteSettings({timezoneOffset:e})}))}};return t}(o.default);t.UserSettingsManager=d;var c=new d;t.default=c},546914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(636602)),a=i(n(786345)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={openChannelAsSidebar:function(e){var t=e.channelId,n=e.messageId,i=e.baseChannelId;r.default.dispatch({type:o.ActionTypes.SIDEBAR_VIEW_CHANNEL,baseChannelId:i,channelId:t});a.default.jumpToMessage({channelId:t,messageId:n,flash:!0})},closeChannelSidebar:function(e){r.default.dirtyDispatch({type:o.ActionTypes.SIDEBAR_CLOSE,baseChannelId:e})}};t.default=u},625483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(f=(0,a.useState)(null),d=2,function(e){if(Array.isArray(e))return e}(f)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(f,d)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(f,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=e[0],n=e[1],r=(0,a.useRef)(null),u=(0,a.useCallback)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.default.v4()
;r.current=a;n(t);e.prev=3;e.next=6;return i.playSound(t);case 6:e.prev=6;r.current===a&&n(null);return e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[3,,6,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[]);var f,d;return{playSound:u,playingSoundId:t}};var r,a=n(667294),o=(r=n(468811))&&r.__esModule?r:{default:r},i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(948924));function u(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},845634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.closeSoundboardWindow=S;t.openSoundboardWindow=function(e){return E.apply(this,arguments)};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=d(n(89320)),o=n(8475),i=d(n(893160)),u=d(n(922629)),l=d(n(176719)),s=n(770348),f=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}var m={width:372,height:316,resizable:!1,movable:!1,alwaysOnTop:!0,frame:!1,transparent:!0,hasShadow:!1,skipTaskbar:!0,menubar:!0,backgroundColor:"#00000000"},_=m.width-40,g=m.height-40;function E(){return(E=h(regeneratorRuntime.mark((function e(t){var n,r,d,c,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.default.getGuildId(),r=v(l.default,{guildId:n,width:_,height:g,keepOpen:t,onClose:S});if(null!=n){e.next=3;break}return e.abrupt("return");case 3:e.next=5;return u.default.invoke("GET_MOUSE_COORDINATES");case 5:d=e.sent;c=d.x;y=d.y;(0,o.open)(s.PopoutWindowKeys.SOUNDBOARD,(function(e){return v(a.default,{windowKey:e,withTitleBar:!1,title:f.default.Messages.SOUNDBOARD_POPOUT_WINDOW_TITLE,onBlur:S},void 0,r)
}),p({},m,{left:c-m.width/2,top:y-m.height/2}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){(0,o.close)(s.PopoutWindowKeys.SOUNDBOARD)}},751037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=T(n(667294)),o=I(n(294184)),i=n(536211),u=I(n(526098)),l=I(n(964285)),s=I(n(151097)),f=I(n(16941)),d=I(n(80828)),c=n(688388),p=I(n(634230)),v=I(n(118138)),y=I(n(155393)),h=n(194322),m=I(n(776360)),_=T(n(948924)),g=I(n(637193)),E=I(n(625483)),S=n(770348),O=I(n(247001)),b=I(n(883740));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function N(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,u,"next",e)}function u(e){M(o,r,a,i,u,"throw",e)}i(void 0)}))}}var R=P(d.default,{});function w(e){var t=e.guildId,r=e.onClose,o=(0,i.useStateFromStores)([g.default],(function(){return g.default.getSoundsForGuild(t)})),d=(0,i.useStateFromStores)([g.default],(function(){return g.default.getIsFetchingSoundsForGuild(t)})),v=(0,E.default)(),y=v.playSound,I=v.playingSoundId;function C(){r();(0,h.openModalLazy)(N(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(72936),n.e(31656)]).then(n.bind(n,431656));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}a.useEffect((function(){_.fetchSoundsForGuild(t)}),[t]);return P("div",{className:b.default.root},void 0,P("div",{
className:b.default.header},void 0,P(c.FormTitle,{className:b.default.headerText},void 0,O.default.Messages.GUILD_SETTINGS_SOUNDBOARD,P(u.default,{className:b.default.betaTag})),P(f.default,{className:b.default.settingsClickArea,onClick:function(){r();l.default.open(t,S.GuildSettingsSections.SOUNDBOARD)}},void 0,P(p.default,{className:b.default.settingsIcon}))),d?R:P(D,{guildId:t,onPlay:y,playingSoundId:I,sounds:o}),P(m.default,{className:b.default.keybindHint},void 0,O.default.Messages.SOUNDBOARD_KEYBIND_HINT.format({openSettingsHook:function(e,t){return P(s.default,{onClick:C},t,e)}})))}w.displayName="SoundboardPopout";function D(e){var t=e.sounds,n=e.guildId,r=e.onPlay,a=e.playingSoundId;return P("div",{className:b.default.soundGrid},void 0,t.map((function(e){return P(L,{playing:a===e.id,sound:e,onPlay:function(){return r(e.id)}},e.id)})),P(j,{guildId:n}))}D.displayName="SoundGrid";function L(e){var t,n=e.onPlay,r=e.sound,a=e.playing;return P(f.default,{className:(0,
o.default)(b.default.soundButton,(t={},t[b.default.playing]=a,t)),onClick:n},void 0,P(m.default,{size:m.default.Sizes.SIZE_12,color:m.default.Colors.HEADER_PRIMARY},void 0,r.name),P("div",{className:b.default.buttonOverlay},void 0,P(v.default,{className:b.default.playIcon})))}L.displayName="SoundButton";function j(e){var t=e.guildId;return P(f.default,{className:b.default.soundAddButton,onClick:function(){(0,h.openModalLazy)(N(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65026)]).then(n.bind(n,465026));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,A({},e,{guildId:t}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,P(y.default,{className:b.default.soundAddIcon}),P(m.default,{size:m.default.Sizes.SIZE_12,color:m.default.Colors.HEADER_PRIMARY},void 0,O.default.Messages.SOUNDBOARD_SOUND_ADD_SOUND),P("div",{
className:b.default.buttonOverlay}))}j.displayName="SoundUploadButton"},176719:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var r,a=h(n(667294)),o=v(n(294184)),i=n(536211),u=v(n(16941)),l=v(n(971639)),s=n(262045),f=h(n(948924)),d=v(n(637193)),c=v(n(625483)),p=v(n(524779));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){
n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=[{x:1,y:.5},{x:.88,y:.8},{x:.5,y:1},{x:.11,y:.8},{x:0,y:.5},{x:.11,y:.21},{x:.5,y:0},{x:.88,y:.21}];function b(e,t,n){var r=e*t;return e>.5?r-n:e<.5?r:r-n/2}var I=S("filter",{id:"soundboard-wheel-background-shadow",x:"0",y:"0",width:"288",height:"288",filterUnits:"userSpaceOnUse",
colorInterpolationFilters:"sRGB"},void 0,S("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),S("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),S("feOffset",{dy:"8"}),S("feGaussianBlur",{stdDeviation:"8"}),S("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),S("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_489_60382"}),S("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_489_60382",result:"shape"}));function C(e){var t=e.wheelWidth,n=e.wheelHeight,r=e.itemWidth,o=e.itemHeight,i=e.showDeadZoneIndicator,u=e.onItemSelect,l=e.children,f=a.useRef([]),d=a.useRef(!0),c=function(e){u(null);d.current=e},v={x:t/2,y:n/2},y=l.map((function(e,i){var u=O[i];if(null==u)throw new Error("Too many items supplied "+l.length+" expected max of "+O.length);var s=b(u.x,t,r),d=b(u.y,n,o);return a.createElement("div",{ref:function(e){return f.current[i]=e},key:i,className:p.default.chatWheelItem,style:{
left:s,top:d,width:r,height:o}},e)}));return S("div",{className:p.default.chatWheel,style:{width:t,height:n},onMouseMove:function(e){if(!d.current){for(var r={x:e.clientX,y:e.clientY},a=(0,s.extendLineSegment)(v,r,Math.max(t,n)),o=0;o<f.current.length;o++){var i=f.current[o];if(null!=i){var l=i.getBoundingClientRect();if((0,s.doesLineSegmentIntersectRectangle)(v,a,l)){u(o);return}}}u(null)}}},void 0,S("svg",{className:p.default.chatWheelBackground,viewBox:"0 0 288 288",xmlns:"http://www.w3.org/2000/svg"},void 0,I,S("g",{filter:"url(#soundboard-wheel-background-shadow)"},void 0,S("circle",{className:p.default.chatWheelBackground,cx:"144",cy:"144",r:"103.68",strokeWidth:"40.32"}),i&&S("circle",{className:p.default.chatWheelDeadZone,onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},cx:"144",cy:"144",r:"28.8"}))),y)}C.displayName="ChatWheel";function T(e){var t=e.guildId,n=e.width,r=e.height,s=e.keepOpen,v=e.onClose,y=(0,
i.useStateFromStores)([d.default],(function(){return d.default.getSoundsForGuild(t)})),h=(0,c.default)().playSound,m=a.useRef(null),E=g(a.useState(null),2),O=E[0],b=E[1];a.useEffect((function(){function e(){return(e=_(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return f.fetchSoundsForGuild(t);case 2:0===e.sent.length&&v();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,v]);a.useEffect((function(){return function(){var e=m.current;s||null==e||h(e)}}),[s,h]);var I=function(e){m.current=e;b(e)};return 0===y.length?null:S(C,{wheelWidth:n,wheelHeight:r,itemWidth:96,itemHeight:52,showDeadZoneIndicator:!s,activeItem:O,onItemSelect:function(e){if(null!=e){var t=y[e];null!=t&&I(t.id)}else I(null)}},void 0,y.map((function(e){var t;return S(u.default,{className:(0,o.default)(p.default.soundButton,(t={},t[p.default.soundButtonActive]=O===e.id,t)),
onClick:function(){return function(e){h(e);v()}(e.id)}},e.id,S(l.default,{},void 0,e.name))})))}T.displayName="SoundboardWheel"},619476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r=(0,a.useStateFromStores)([u.default,i.default],(function(){return null!=t?(0,s.default)(u.default,i.default,t,e):void 0}),[e,t]);if(null==r||null==e||null==t)return null;var v=r.isCurrentUser||r.notPlayable||r.playingSameTrack,y=r.isCurrentUser||r.syncingWithUser||r.syncingWithParty;return[h(o.MenuItem,{id:"spotify-play-"+e.session_id,action:function(){return(0,d.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_PLAY,n)},label:p.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_PLAY_ON_SPOTIFY,subtext:v?(0,l.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_PLAY):void 0,disabled:v}),r.canPlaySpotify?h(o.MenuItem,{id:"spotify-sync-"+e.session_id,action:function(){return(0,f.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_SYNC,n)},
label:p.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_LISTEN_ALONG,subtext:y?(0,l.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_SYNC):void 0,disabled:y}):null]};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(145122),i=v(n(423046)),u=v(n(146411)),l=v(n(601715)),s=v(n(985923)),f=v(n(909630)),d=v(n(669790)),c=n(673810),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},1430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.audienceAckRequestToSpeak=E;t.editStage=function(e,t,n){return b.apply(this,arguments)};t.endStage=function(e){return I.apply(this,arguments)};t.inviteUserToStage=function(e,t){var n=e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n,t),body:{suppress:!1,request_to_speak_timestamp:(new Date).toISOString(),channel_id:e.id}})};t.moveSelfToAudience=function(e){var t=null==e?void 0:e.getGuildId();(0,
r.default)(null!=t,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(t),body:{suppress:!0,channel_id:e.id,self_video:!1,self_stream:!1}})};t.moveUserToAudience=function(e,t){if(null==t||null==e)return;var n=t.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");S(t,e.id,!0);return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n,e.id),body:{suppress:!0,channel_id:t.id,self_video:!1,self_stream:!1}})};t.removeUserFromChannel=function(e,t){var n=null==t?void 0:t.getGuildId();if(null==n||null==e)return;u.default.setChannel(n,e.id,null)};t.setEveryoneRolePermissionAllowed=function(e,t,n){var o=e.getGuildId();(0,r.default)(null!=o,"Channel cannot be guildless");var u=e.permissionOverwrites[o],s=g({id:o,type:l.PermissionOverwriteType.ROLE,allow:d.default.NONE,deny:d.default.NONE},u);if(n){s.allow=a.default.add(s.allow,t);s.deny=a.default.remove(s.deny,t)}else{s.allow=a.default.remove(s.allow,t)
;s.deny=a.default.add(s.deny,t)}i.default.updatePermissionOverwrite(e.id,s)};t.setUserSuppress=S;t.startStage=function(e,t,n,r){return O.apply(this,arguments)};t.toggleRequestToSpeak=function(e,t){var n=e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");t&&(0,s.trackWithMetadata)(y.AnalyticEvents.REQUEST_TO_SPEAK_INITIATED,g({},(0,c.getStageChannelMetadata)(e)));return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n),body:{request_to_speak_timestamp:t?(new Date).toISOString():null,channel_id:e.id}})};var r=h(n(441143)),a=h(n(267258)),o=h(n(118915)),i=h(n(709403)),u=h(n(415275)),l=n(81069),s=n(844784),f=h(n(387692)),d=h(n(656016)),c=n(411315),p=n(169769),v=n(104144),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){var n=null==e?void 0:e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");var a=f.default.getVoiceStateForChannel(e.id);(0,v.getAudienceRequestToSpeakState)(a)!==v.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK||t||(0,s.trackWithMetadata)(y.AnalyticEvents.PROMOTED_TO_SPEAKER,g({},(0,c.getStageChannelMetadata)(e)));return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n),body:{suppress:t,request_to_speak_timestamp:null,channel_id:e.id}})}function S(e,t,n){var a=e.getGuildId();(0,r.default)(null!=a,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(a,t),body:{suppress:n,channel_id:e.id}})}
function O(){return(O=_(regeneratorRuntime.mark((function e(t,n,r,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return(0,p.startStageInstance)(t.id,n,r,a);case 4:o=e.sent;E(t,!1);return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=_(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return(0,p.updateStageInstance)(t.id,n,r);case 4:a=e.sent;return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=_(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,p.endStageInstance)(t.id);case 2:case"end":return e.stop()}}),e)
})))).apply(this,arguments)}},685810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.participantMemberInfo=function(e){var t;if((0,a.isNewUser)(e.user))return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_TO_DISCORD;var n=null===(t=e.member)||void 0===t?void 0:t.joinedAt;if(null==n)return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NON_MEMBER;if(null!=e.member&&e.member.roles.length>0){var r,i;return null!==(r=null===(i=e.role)||void 0===i?void 0:i.name)&&void 0!==r?r:o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER_ROLES}if((new Date).getTime()-Date.parse(n)<864e5)return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_MEMBER;return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER};var r,a=n(873838),o=(r=n(247001))&&r.__esModule?r:{default:r}},411315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fillChunk=function(e,t,n){var a=(0,r.chunk)(e,t),o=null!=n?n:t;return a.reduce((function(e,t){
if(o<=t.length)return[].concat(v(e),[t]);var n=[].concat(v(t),v(new Array(o-t.length).fill(null)));return[].concat(v(e),[n])}),[])};t.getRemoveModeratorTooltipHint=function(e,t){switch(e){case f.RowType.OWNER:return d.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_OWNER;case f.RowType.ADMINISTRATOR:return d.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_ADMINISTRATOR;case f.RowType.MEMBER:case f.RowType.ROLE:return t?d.default.Messages.CHANNEL_PERMISSIONS_CANNOT_REMOVE_PERMISSIONS:d.default.Messages.CHANNEL_PERMISSIONS_REMOVE_MODERATOR_TOOLTIP;case f.RowType.EMPTY_STATE:return null}};t.getStageChannelMetadata=function(e){var t=u.default.getStageInstanceByChannel(e.id);return{channel_id:e.id,guild_id:e.guild_id,topic:null==t?void 0:t.topic,media_session_id:a.default.getMediaSessionId(),request_to_speak_state:i.default.canEveryoneRole(s.Permissions.REQUEST_TO_SPEAK,e)?l.RequestToSpeakPermissionStates.EVERYONE:l.RequestToSpeakPermissionStates.NO_ONE,
stage_instance_id:null==t?void 0:t.id}};t.isVersionEqual=function(e,t){var n=p(e,2)[1],r=p(t,2)[1];return n===r};t.summarizeUsernamesParticipating=function(e,t,n,r){var a=t[0],i=o.default.getName(e,n,a),u=null!=r?r:t.length;if(1===u&&null!=a)return i;if(null==a)return d.default.Messages.SPEAKING_COUNT.format({count:u});return d.default.Messages.USER_SUMMARY_WITH_OTHERS.format({name:i,count:u-1})};t.summarizeUsernamesParticipatingWithSpeakerNickname=function(e,t,n){var r=null!=n?n:e.length;if(1===r&&null!=t)return t;if(null==t)return d.default.Messages.SPEAKING_COUNT.format({count:r});return d.default.Messages.USER_SUMMARY_WITH_OTHERS.format({name:t,count:r-1})};var r=n(496486),a=c(n(893160)),o=c(n(29652)),i=c(n(656016)),u=c(n(217964)),l=n(808961),s=n(770348),f=n(739889),d=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},342716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=v(n(636602)),a=v(n(740207)),o=n(123516),i=v(n(177230)),u=n(747868),l=v(n(607209)),s=v(n(423046)),f=v(n(644263)),d=v(n(635014)),c=n(104144),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).handleVoiceStateUpdates=function(e){
var n=e.voiceStates,r=s.default.getId();n.forEach((function(e){var n;if(e.userId===r){if(null===(n=f.default.getChannel(e.channelId))||void 0===n?void 0:n.isGuildStageVoice()){if(!((0,c.getAudienceRequestToSpeakState)(e)===c.RequestToSpeakStates.ON_STAGE)){t.handleStopStream(e);t.handleStopUserVideo()}}}}))};t.handleStopStream=function(e){var t=l.default.getActiveStreamForUser(e.userId);null!=t&&(0,o.stopStream)((0,u.encodeStreamKey)(t),!1)};t.handleStopUserVideo=function(){d.default.isVideoEnabled()&&a.default.setVideoEnabled(!1)};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(p.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};n._terminate=function(){r.default.unsubscribe(p.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};return t}(i.default));t.default=h},169769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.endStageInstance=function(e){return a.default.delete(o.Endpoints.STAGE_INSTANCE(e))}
;t.startStageInstance=function(e,t,n,r,a){return l.apply(this,arguments)};t.updateStageInstance=function(e,t,n){return s.apply(this,arguments)};var r,a=(r=n(118915))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){i(o,r,a,u,l,"next",e)}function l(e){i(o,r,a,u,l,"throw",e)}u(void 0)}))}}function l(){return(l=u(regeneratorRuntime.mark((function e(t,n,r,i,u){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.post({url:o.Endpoints.STAGE_INSTANCES,body:{channel_id:t,topic:n,privacy_level:r,guild_scheduled_event_id:u,send_start_notification:i}});case 2:l=e.sent;return e.abrupt("return",l.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){
return(s=u(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.patch({url:o.Endpoints.STAGE_INSTANCE(t),body:{topic:n,privacy_level:r}});case 2:i=e.sent;return e.abrupt("return",i.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},913687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(!e.isGuildStageVoice())return!1;if(!u.default.isLive(e.id))return!1;var t=r.default.getId();if(!i.default.isModerator(t,e.id))return!1;var n=a.default.getMutableParticipants(e.id,o.StageChannelParticipantNamedIndex.MODERATOR);if(n.length<=1)return!0;if(!i.default.isSpeaker(t,e.id))return!1;return n.filter((function(e){return e.id!==t&&e.speaker})).length<=0};var r=l(n(423046)),a=l(n(897191)),o=n(921867),i=l(n(258079)),u=l(n(217964));function l(e){return e&&e.__esModule?e:{default:e}}},530877:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getId()}));return(0,i.default)(t,e)===i.RequestToSpeakStates.ON_STAGE};var r,a=n(536211),o=(r=n(423046))&&r.__esModule?r:{default:r},i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(104144));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}},724571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,
r.useStateFromStores)([a.default,o.default,i.default],(function(){var t=a.default.getId();return o.default.getVoiceChannelId()===e?i.default.getPermissionsForUser(t,e):null}),[e])};var r=n(536211),a=u(n(423046)),o=u(n(211136)),i=u(n(258079));function u(e){return e&&e.__esModule?e:{default:e}}},902477:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useRequestToSpeakPermission=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getChannel(e)}),[e]),n=i.default.canEveryoneRole(l.Permissions.REQUEST_TO_SPEAK,t),s=(p=r.useState(n),v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){
if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],c=s[1];var p,v;r.useEffect((function(){n!==f&&c(n)}),[n]);return[f,function(e){if(null!=t){c(e);(0,u.setEveryoneRolePermissionAllowed)(t,l.Permissions.REQUEST_TO_SPEAK,e)}}]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=s(n(644263)),i=s(n(656016)),u=n(1430),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},945544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useStageChannelParticipantsList=m;t.useStageChannelParticipantsListThrottled=function(e,t,n,r){void 0===r&&(r=!1);var a=m(e,t,r),o=v(a,2),i=o[0],u=o[1],l=v((0,d.useThrottledState)(a,n,[t[s.StageChannelParticipantNamedIndex.AUDIENCE]]),2),f=l[0],c=l[1],p=[i[_.SELECTED],i[_.SPEAKER],f[_.AUDIENCE]],y=[u[_.SELECTED],u[_.SPEAKER],c[_.AUDIENCE]];if(r){p.splice(1,0,i[_.MEDIA]);y.splice(1,0,u[_.MEDIA])}return[p,y]};t.useThrottleDurationForChannel=function(e){var t=(0,
l.useStageParticipantsCount)(e,s.StageChannelParticipantNamedIndex.AUDIENCE),n=v(r.useState(!1),2),a=n[0],o=n[1];r.useEffect((function(){t>100?o(!0):t<75&&o(!1)}),[t]);return a?5e3:0};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486),o=n(536211),i=c(n(825724)),u=c(n(897191)),l=n(216554),s=n(921867),f=n(411315),d=n(2663);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){var l=(0,o.useStateFromStores)([u.default],(function(){
return[e,u.default.getParticipantsVersion(e)]}),[e],f.isVersionEqual),d=(0,o.useStateFromStores)([i.default],(function(){return i.default.getSelectedParticipantId(e)}),[e]);return r.useMemo((function(){var r=[],o=[],i=-1,f=[];if(n)for(var c,p=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(u.default.getMutableParticipants(e,s.StageChannelParticipantNamedIndex.SPEAKER));!(c=p()).done;){var v=c.value;if(!v.voiceState.selfVideo&&v.type!==s.StageChannelParticipantTypes.STREAM)break;v.id!==d&&f.push(v);i++}var h=function(e,t,n){var u=n?e.filter((function(e,t){return e.id!==d&&t>i})):e,l=(0,a.chunk)(u,t);o.push(l)
;r.push(l.length)},m=null!=d?u.default.getParticipant(e,d):null;(null==m?void 0:m.speaker)?h([m],1,!1):h([],1,!1);[s.StageChannelParticipantNamedIndex.SPEAKER,s.StageChannelParticipantNamedIndex.AUDIENCE].forEach((function(e){h(u.default.getMutableParticipants(l[0],e),t[e],e===s.StageChannelParticipantNamedIndex.SPEAKER)}));h(f,1,!1);return[r,o]}),[l,t,d,n,e])}var _;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE";e[e.MEDIA=3]="MEDIA"}(_||(_={}))},641474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=3);return(n=(0,a.useStateFromStores)([o.default],(function(){for(var n,r=o.default.getMutableParticipants(e),a=[],i=function(){var e=n.value;if(a.length>=t)return"break";if(null!=a.find((function(t){return t.id===e.user.id})))return"continue";a.push(e.user)},l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(n=l()).done;){var s=i();if("break"===s)break}return[{participants:r,usersInSummary:a},o.default.getParticipantsVersion(e)]}),[e,t],i.isVersionEqual),r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(n,r)||u(n,r)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];var n,r};var r,a=n(536211),o=(r=n(897191))&&r.__esModule?r:{default:r},i=n(411315);function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},2663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useThrottledState=t.useThrottledFunction=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=function(e){return e};t.useThrottledState=function(e,t,n,a){void 0===n&&(n=[]);var o=s(l,t,n,a),i=r.useRef(e);r.useEffect((function(){var t=o(e);i.current=t}),[e,o]);return 0===t?e:i.current};var s=function(e,t,n,o){void 0===n&&(n=[]);var u=r.useRef((0,a.throttle)(e,t,o));r.useEffect((function(){u.current=(0,a.throttle)(e,t,o);return function(){var e;null===(e=u.current)||void 0===e||e.cancel()}}),[e,t,o].concat(i(n)));return u.current};t.useThrottledFunction=s},462867:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,o.useStateFromStores)([i.default],(function(){return i.default.getId()})),n=(0,
l.default)(t,e.id),r=n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK||n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,s=(p=a.useState(r),v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
}()),f=s[0],c=s[1];var p,v;a.useEffect((function(){c(r)}),[r]);return[f,function(){n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK?(0,u.audienceAckRequestToSpeak)(e,!0):(0,u.toggleRequestToSpeak)(e,!f);c(!f)}]};var r,a=f(n(667294)),o=n(536211),i=(r=n(423046))&&r.__esModule?r:{default:r},u=n(1430),l=f(n(104144));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},158579:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=s(n(667294)),i=s(n(2850)),u=(r=n(339753))&&r.__esModule?r:{default:r};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=o.memo((function(e){var t=e.channel,n=e.participants,r=e.maxTiles;if(0===n.length)return null;for(var a=[],o=0;o<r;o++)if(o<n.length){var l=n[o];a.push(f(i.default,{channel:t,participant:l},l.id))}else a.push(f(i.AudienceEmptyTile,{},o));return f("div",{className:u.default.participants},void 0,a)}));t.default=d},386191:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(776360)),i=l(n(247001)),u=l(n(326714));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=a.memo((function(e){var t,n=e.role,r=e.participantCount;return f("div",{className:u.default.roleContainer},void 0,f(o.default,{className:u.default.roleName,size:o.default.Sizes.SIZE_12
},void 0,null!==(t=null==n?void 0:n.name)&&void 0!==t?t:i.default.Messages.AUDIENCE_LABEL,"â€”",r))}));t.default=d},2850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.AudienceEmptyTile=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=b(n(294184)),i=b(n(441143)),u=n(536211),l=n(378158),s=b(n(818994)),f=b(n(711195)),d=b(n(414068)),c=b(n(876874)),p=b(n(16941)),v=b(n(160629)),y=b(n(337322)),h=b(n(782732)),m=b(n(924671)),_=b(n(776360)),g=b(n(29652)),E=n(104144),S=n(770348),O=b(n(967709));function b(e){return e&&e.__esModule?e:{default:e}}
function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=a.memo((function(e){var t=e.guildId,n=e.channelId,r=e.user,a=e.isPremium,o=e.isBlocked;return P("div",{className:O.default.textContainer},void 0,o?P(y.default,{className:O.default.blockedIcon,color:S.Colors.STATUS_RED}):null,P(_.default,{className:O.default.text,size:_.default.Sizes.SIZE_14,color:_.default.Colors.HEADER_PRIMARY},void 0,g.default.getName(t,n,r)),a?P(h.default,{className:O.default.boost,color:S.Colors.GUILD_BOOSTING_PINK}):null)})),N=a.memo((function(e){var t,n,r,i=e.participant,u=e.guildId,l=e.channel,s=e.isPremium,f=i.user,d=i.blocked,c=i.rtsState,p=c===E.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,v=c===E.RequestToSpeakStates.REQUESTED_TO_SPEAK||p;return a.createElement(a.Fragment,null,P("div",{className:O.default.avatarContainer},void 0,v&&P(m.default,{className:(0,o.default)(O.default.icon,(t={},t[O.default.invited]=p,t))}),P("img",{
src:null!==(n=f.getAvatarURL(l.guild_id,56,!1))&&void 0!==n?n:void 0,alt:f.username,"aria-label":f.username,className:(0,o.default)(O.default.avatar,(r={},r[O.default.faded]=d,r))})),P(M,{guildId:u,channelId:l.id,user:f,isPremium:s,isBlocked:d}))})),R=function(){return P("div",{className:O.default.tileBaseContainer})};t.AudienceEmptyTile=R;R.displayName="AudienceEmptyTile";var w=a.memo((function(e){var t=e.participant,r=e.channel,y=t.user,h=t.blocked,m=r.getGuildId(),_=a.useContext(s.default),g=(0,u.useStateFromStores)([c.default],(function(){var e;return null!=m&&null!=(null===(e=c.default.getMember(m,y.id))||void 0===e?void 0:e.premiumSince)}),[m,y.id]);(0,i.default)(null!=m,"Channel cannot be guildless");var E=a.useCallback((function(e){(0,l.openContextMenuLazy)(e,A(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(41501),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,C({},e,{user:y,guildId:m,channelId:r.id,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}));case 5:case"end":return e.stop()}}),e)}))),{context:_})}),[y,m,r.id,_]),S=a.useCallback((function(e){return a.createElement(d.default,C({},e,{guildId:m,channelId:r.id,userId:y.id}))}),[r.id,m,y.id]),b=P(N,{participant:t,guildId:m,channel:r,isPremium:g});return P(v.default,{preload:function(){return(0,f.default)(y.id,y.getAvatarURL(r.guild_id,80),{guildId:r.guild_id})},renderPopout:S,position:v.default.Positions.RIGHT,spacing:8},void 0,(function(e){var t;return a.createElement(p.default,C({className:(0,o.default)(O.default.tileContainer,(t={},t[O.default.singleIcon]=g||h,t[O.default.doubleIcon]=g&&h,t)),onContextMenu:E},e),b)}))}));t.default=w},226155:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(709578)),i=f(n(635014)),u=f(n(974661)),l=f(n(180573)),s=["aspectRatio","blocked","channel","className","focused","children","inCall","inPopout","noBorder","onClick","onContextMenu","onDoubleClick","onVideoResize","paused","pulseSpeakingIndicator","participant","width"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e){var t=e.aspectRatio,n=e.blocked,r=e.channel,f=e.className,d=e.focused,v=e.children,y=e.inCall,h=e.inPopout,m=e.noBorder,_=e.onClick,g=e.onContextMenu,E=e.onDoubleClick,S=e.onVideoResize,O=e.paused,b=e.pulseSpeakingIndicator,I=e.participant,C=e.width,T=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s),A=i.default.getVideoComponent();return c("div",{style:{width:C},className:l.default.spaceBetweenTiles},void 0,c(u.default,{className:l.default.tileSizer,aspectRatio:t},void 0,a.createElement(o.default,p({blocked:n,channel:r,className:f,focused:d,inCall:y,inPopout:h,noBorder:m,onClick:_,onContextMenu:g,onDoubleClick:E,onVideoResize:S,participant:I,paused:O,pulseSpeakingIndicator:b,videoComponent:A,width:C},T)),v))}v.displayName="AutosizingCallTile"},991636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(294184)),o=s(n(247001)),i=s(n(300443)),u=s(n(483683)),l=s(n(63685));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.className,n=e.children;return d("div",{className:(0,a.default)(i.default.container,t)},void 0,d("img",{alt:o.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:l.default,className:(0,a.default)(i.default.sparkleIcon,i.default.sparkleBottom)
}),n,d("img",{alt:o.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:u.default,className:(0,a.default)(i.default.sparkleIcon,i.default.sparkleTop)}))}c.displayName="IconWithSparkles"},542402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;_(n(667294));var r,a=h(n(294184)),o=h(n(644263)),i=h(n(211136)),u=h(n(956117)),l=h(n(337322)),s=_(n(177101)),f=h(n(776360)),d=n(1430),c=h(n(14325)),p=n(123718),v=h(n(247001)),y=h(n(110717));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=i.default.getVoiceChannelId();if(null!=t){var n=o.default.getChannel(t);null!=n&&(0,d.audienceAckRequestToSpeak)(n,e)}}function S(){var e,t=(0,c.default)(),n=null!==(e=(0,p.useStageBlockedUsersCount)(null==t?void 0:t.id))&&void 0!==e?e:0;return g(s.default,{className:y.default.container,color:s.NoticeColors.NOTIFICATION},void 0,g("div",{},void 0,v.default.Messages.STAGE_SPEAK_INVITE_HEADER),n>0?g("div",{
className:y.default.blocked},void 0,g(l.default,{width:12,height:12,className:y.default.blockedIcon}),g("div",{className:y.default.blockedText},void 0,v.default.Messages.STAGE_SPEAK_INVITE_HEADER_BLOCKED_USERS.format({number:n}))):null,g(u.default,{className:(0,a.default)(y.default.button,y.default.acceptButton),size:u.default.Sizes.MIN,color:u.default.Colors.WHITE,onClick:function(){return E(!1)}},void 0,g(f.default,{className:y.default.acceptText,size:f.default.Sizes.SIZE_12,color:f.default.Colors.CUSTOM},void 0,v.default.Messages.STAGE_SPEAK_INVITE_ACCEPT)),g(u.default,{className:(0,a.default)(y.default.button,y.default.declineButton),look:u.default.Looks.OUTLINED,size:u.default.Sizes.MIN,color:u.default.Colors.WHITE,onClick:function(){return E(!0)}},void 0,g(f.default,{className:y.default.declineText,size:f.default.Sizes.SIZE_12,color:f.default.Colors.CUSTOM},void 0,v.default.Messages.STAGE_SPEAK_INVITE_DECLINE)))}S.displayName="InvitedToSpeakNotice"},214563:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(730977)),i=f(n(980351)),u=n(478036),l=f(n(247001)),s=f(n(817463));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}
function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(){return p(o.default,{text:l.default.Messages.STAGE_MODERATOR_TOOLTIP},void 0,(function(e){return a.createElement("div",c({},e,{className:s.default.container}),p(i.default,{color:u.Colors.WHITE}))}))};v.displayName="ModeratorBadge";var y=v;t.default=y},397789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(966708),u=h(n(145122)),l=h(n(563621)),s=h(n(160629)),f=h(n(91424)),d=h(n(811198)),c=h(n(878556)),p=n(770348),v=h(n(247001)),y=h(n(607673));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,i.useChannelNotificationRadioItems)(t);return S(u.default,{navId:"notification-settings",onClose:n,"aria-label":v.default.Messages.NOTIFICATION_SETTINGS,onSelect:r},void 0,a)}O.displayName="NotificationSettingsMenu";function b(e){var t=e.channel,n=g(a.useState(!1),2),r=n[0],i=n[1],u=(0,o.useStateFromStores)([l.default],(function(){return l.default.getChannelOverrides(t.guild_id)[t.id]}),[t.guild_id,t.id]),h=(null==u?void 0:u.message_notifications)===p.UserNotificationSettings.NO_MESSAGES,m=v.default.Messages.NOTIFICATION_SETTINGS;return S(s.default,{shouldShow:r,animation:s.default.Animation.NONE,
position:s.default.Positions.BOTTOM,align:s.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return i(!1)},renderPopout:function(e){return a.createElement(O,_({},e,{channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(c.default.Icon,_({},e,{onClick:function(){return i((function(e){return!e}))},tooltip:n?null:m,icon:h?d.default:f.default,foreground:h?y.default.strikethrough:null,"aria-label":m}))}))}b.displayName="NotificationSettingsButton"},885903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r)}(n(667294));var r,a=u(n(332282)),o=u(n(991636)),i=u(n(364266));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.className;return s(o.default,{className:t},void 0,s("div",{className:i.default.background},void 0,s(a.default,{className:i.default.foreground,width:32,height:32})))}f.displayName="RaisedHandsEmptyStateImage"},460936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=oe;var r,a=F(n(667294)),o=U(n(294184)),i=U(n(441143)),u=n(536211),l=n(378158),s=F(n(538930)),f=n(982437),d=U(n(711195)),c=U(n(414068)),p=U(n(876874)),v=U(n(689389)),y=U(n(788739)),h=U(n(956117)),m=U(n(16941)),_=U(n(160629)),g=U(n(567668)),E=U(n(730977)),S=U(n(259530)),O=U(n(855480)),b=U(n(833837)),I=U(n(924671)),C=U(n(776360)),T=U(n(521358)),A=n(1430),P=n(216554),M=n(685810),N=n(104144),R=U(n(801967)),w=n(902477),D=U(n(885903)),L=n(478036),j=U(n(247001)),k=U(n(983953));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function x(){x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return x.apply(this,arguments)}function V(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){V(o,r,a,i,u,"next",e)}function u(e){V(o,r,a,i,u,"throw",e)}i(void 0)}))}}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{
i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Y,$=z(I.default,{}),K=z(S.default,{}),q=a.memo((function(e){var t=e.toggleRequestToSpeakSidebar;return z("div",{className:k.default.headerContainer},void 0,$,z(C.default,{className:k.default.headerTitle,size:C.default.Sizes.SIZE_16,color:C.default.Colors.HEADER_PRIMARY},void 0,j.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE),z(m.default,{className:k.default.headerClose,onClick:t,"aria-label":j.default.Messages.CLOSE},void 0,K))})),Z=z(O.default,{width:16,height:16}),X=a.memo((function(e){var t=e.channel;return z(m.default,{className:k.default.selfSpeakerContainer,onClick:function(){(0,A.audienceAckRequestToSpeak)(t,!1)}},void 0,z("div",{className:(0,o.default)(k.default.buttonContainer,k.default.selfSpeakerButton)},void 0,Z),z(C.default,{className:k.default.selfSpeakerText,size:C.default.Sizes.SIZE_16,color:C.default.Colors.CUSTOM
},void 0,j.default.Messages.MODERATOR_RAISE_OWN_HAND))})),Q=z(b.default,{width:16,height:16}),J=z(S.default,{width:16,height:16}),ee=a.memo((function(e){var t=e.channel,r=e.participant,v=e.tempDisableOnInit,g=void 0!==v&&v,S=H(a.useState(g),2),O=S[0],b=S[1];a.useEffect((function(){if(O){var e=setTimeout((function(){return b(!1)}),1e3);return function(){return clearTimeout(e)}}}),[]);var I=t.getGuildId();(0,i.default)(null!=I,"Channel cannot be guildless");var T=(0,u.useStateFromStoresObject)([y.default],(function(){return{isMobile:y.default.isMobileOnline(r.user.id),status:y.default.getStatus(r.user.id,I)}})),P=T.isMobile,R=T.status,w=(0,u.useStateFromStores)([p.default],(function(){return p.default.getMember(I,r.user.id)})),D=a.useMemo((function(){var e;return(e={})[I]=[r.user.id],e}),[I,r.user.id]);(0,f.useSubscribeGuildMembers)(D);var L=r.rtsState===N.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;function U(){(0,A.setUserSuppress)(t,r.user.id,!1)}function G(){(0,
A.setUserSuppress)(t,r.user.id,!0)}var F=function(e){(0,l.openContextMenuLazy)(e,W(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(41501),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,x({},e,{user:r.user,guildId:I,channelId:t.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))};return z("div",{className:k.default.participantRowContainer},void 0,z(_.default,{preload:function(){return(0,d.default)(r.user.id,r.user.getAvatarURL(t.guild_id,80),{guildId:t.guild_id})},renderPopout:function(e){return a.createElement(c.default,x({},e,{userId:r.user.id,guildId:I,channelId:t.id}))},position:_.default.Positions.LEFT,spacing:16},void 0,(function(e){var t;return a.createElement(m.default,x({className:k.default.participantMemberContainer,
onContextMenu:F},e),z(s.default,{size:s.Sizes.SIZE_40,className:k.default.participantAvatar,user:r.user,isMobile:P,status:R}),z("div",{className:k.default.participantTextContainer},void 0,z(C.default,{className:k.default.participantName,size:C.default.Sizes.SIZE_16,color:C.default.Colors.CUSTOM,style:{color:null!==(t=null==w?void 0:w.colorString)&&void 0!==t?t:void 0}},void 0,r.userNick),z(C.default,{size:C.default.Sizes.SIZE_12,color:C.default.Colors.HEADER_SECONDARY},void 0,(0,M.participantMemberInfo)(r))))})),z(E.default,{text:L?j.default.Messages.REQUEST_TO_SPEAK_INVITATION_SEND:j.default.Messages.REQUEST_TO_SPEAK_ACCEPT},void 0,(function(e){return a.createElement(h.default,x({},e,{innerClassName:k.default.buttonContainer,look:h.default.Looks.BLANK,size:h.default.Sizes.NONE,onClick:U,disabled:L||O}),Q)})),z(E.default,{text:j.default.Messages.REQUEST_TO_SPEAK_DECLINE},void 0,(function(e){return a.createElement(h.default,x({},e,{innerClassName:(0,
o.default)(k.default.buttonContainer,k.default.buttonMargin),look:h.default.Looks.BLANK,size:h.default.Sizes.NONE,onClick:G}),J)})))})),te=a.memo((function(e){var t=e.channel,n=H((0,w.useRequestToSpeakPermission)(t.id),2),r=n[0],a=n[1];return z(g.default,{className:k.default.toggle,onChange:a,value:r},void 0,j.default.Messages.MODERATOR_ALLOW_EVERYONE_RAISE_HAND)})),ne=z(D.default,{}),re=a.memo((function(){return z("div",{className:k.default.emptyStateContainer},void 0,ne,z(C.default,{className:k.default.emptyStateTitle,size:C.default.Sizes.SIZE_20,color:C.default.Colors.HEADER_PRIMARY},void 0,j.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_TITLE),z(C.default,{className:k.default.emptyStateBody,size:C.default.Sizes.SIZE_14,color:C.default.Colors.HEADER_SECONDARY},void 0,j.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_BODY))}));!function(e){e[e.TOGGLE_REQUEST_TO_SPEAK=0]="TOGGLE_REQUEST_TO_SPEAK";e[e.MAKE_SPEAKER=1]="MAKE_SPEAKER";e[e.PARTICIPANTS=2]="PARTICIPANTS"}(Y||(Y={}))
;var ae=z(re,{},"participants-empty");function oe(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,r=(0,R.default)(t.id).speaker,a=(0,P.useSortedRequestToSpeakParticipants)(t.id),o=[(0,u.useStateFromStores)([v.default],(function(){return v.default.can(L.Permissions.MANAGE_CHANNELS,t)||v.default.can(L.Permissions.MANAGE_ROLES,t)}))?1:0,r?0:1,Math.max(1,a.length)];var i=z(te,{channel:t},"rts-toggle"),l=z(X,{channel:t},"make-speaker");return z("div",{className:k.default.container},void 0,z(q,{toggleRequestToSpeakSidebar:n}),z(T.default,{className:k.default.contentContainer,sections:o,sectionHeight:function(e){return e===Y.PARTICIPANTS?40:0},rowHeight:function(e){switch(e){case Y.TOGGLE_REQUEST_TO_SPEAK:return 66;case Y.MAKE_SPEAKER:return 48;case Y.PARTICIPANTS:return 0===a.length?178:48}return 0},renderRow:function(e){var n=e.section,r=e.row;switch(n){case Y.TOGGLE_REQUEST_TO_SPEAK:return i;case Y.MAKE_SPEAKER:return l;case Y.PARTICIPANTS:if(0===a.length)return ae;var o=a[r]
;return z(ee,{channel:t,participant:o,tempDisableOnInit:!0},o.id)}return null},renderSection:function(e){return e.section===Y.PARTICIPANTS?z(C.default,{className:k.default.listTitle,size:C.default.Sizes.SIZE_12,color:C.default.Colors.HEADER_SECONDARY},"participants-section",a.length>0?j.default.Messages.REQUEST_TO_SPEAK_LIST_TITLE.format({numHands:a.length}):j.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE):null}}))}oe.displayName="RequestToSpeakSidebar"},492626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r)
}(n(667294));var r,a,o=(r=n(203418))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var l=function(e){var t=e.children;return e.shouldAnimate?u("div",{className:o.default.outerContainer},void 0,u("div",{className:o.default.innerContainer},void 0,t)):t};l.displayName="SpeakerPulse";var s=l;t.default=s},551619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=J
;var r,a=W(n(667294)),o=x(n(294184)),i=x(n(441143)),u=n(496486),l=n(473727),s=n(536211),f=x(n(972247)),d=x(n(636602)),c=x(n(825724)),p=x(n(66384)),v=x(n(818994)),y=n(596271),h=W(n(8475)),m=x(n(902305)),_=n(139982),g=W(n(430251)),E=x(n(866219)),S=x(n(561603)),O=x(n(423046)),b=x(n(211136)),I=n(194322),C=n(319986),T=n(864489),A=n(518802),P=x(n(922629)),M=W(n(285256)),N=x(n(460936)),R=x(n(460372)),w=x(n(600577)),D=x(n(268372)),L=x(n(35997)),j=x(n(357474)),k=n(770348),U=n(859089),G=x(n(247001)),F=x(n(76034));function x(e){return e&&e.__esModule?e:{default:e}}function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}function W(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function H(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){H(o,r,a,i,u,"next",e)}function u(e){H(o,r,a,i,u,"throw",e)}i(void 0)}))}}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var K="HasBeenInStageChannel",q=function(e,t){return function(){var n=e.getGuildId()
;null!=n&&null!=t&&(0,_.transitionToGuild)(n,t);h.openChannelCallPopout(e)}},Z=function(){d.default.wait((function(){return h.close(k.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}))};function X(e){var t=e.channel,n=e.appContext,r=e.popoutOpen,o=e.popoutWindow,i=e.selectedParticipant,u=t.getGuildId(),l=(0,s.useStateFromStores)([b.default],(function(){return b.default.getMostRecentSelectedTextChannelId(u)}),[u]),f=O.default.getId(),d=!(0,s.useStateFromStores)([c.default],(function(){return c.default.isFullscreenInContext(n)}))&&(!T.isPlatformEmbedded||T.isPlatformEmbedded&&P.default.supportsFeature(k.NativeFeatures.POPOUT_WINDOWS)),v=null!=i&&i.type!==U.ParticipantTypes.ACTIVITY&&i.user.id!==f,y=a.useMemo((function(){var e;return null!==(e=null==o?void 0:o.window)&&void 0!==e?e:window}),[o]),h=(0,j.default)({channel:t,appContext:n,popoutOpen:r,popoutWindow:o,currentWindow:y});return a.createElement(a.Fragment,null,v?$(S.default,{context:(0,p.default)(i.type),userId:i.user.id,currentWindow:y,
sliderClassName:F.default.volumeSlider}):null,d?$(E.default,{className:F.default.rightTrayIcon,popoutOpen:r,onOpenPopout:q(t,l),onClosePopout:Z}):null,h)}function Q(e){var t,n=e.channel,r=e.toggleRequestToSpeakSidebar,o=e.showRequestToSpeakSidebar,f=a.useContext(v.default),d=(0,s.useStateFromStores)([m.default],(function(){return m.default.getWindow(k.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),p=null!=d&&!d.closed,h=(0,s.useStateFromStores)([b.default],(function(){return b.default.getVoiceChannelId()===n.id}),[n.id]),_=(0,s.useStateFromStores)([c.default],(function(){return c.default.getSelectedParticipant(n.id)}),[n.id]),E=p&&f!==k.AppContext.POPOUT,S=z(a.useState(0),2),O=S[0],I=S[1],T=(0,M.default)().isOnStartStageScreen;(0,M.useUpdateIsOnStartStageScreenEffect)(n);a.useEffect((function(){!h&&p&&Z()}),[p,h]);if(!h&&!p){var A=(0,y.getGuildIdForGenericRedirect)(n),P=n.getGuildId();(0,i.default)(null!=P,"Guild voice channel without guild id.");return $(l.Redirect,{to:(0,
C.previousTextChannelRouteForGuild)(null!=A?A:P)})}t=T?$(L.default,{channel:n,onContinueClick:function(){return(0,M.setIsOnStartStageScreen)(!1)}}):$(w.default,{channel:n,onScroll:function(e){var t=e.target.scrollTop;(0,u.debounce)((function(){return I(t)}),1e3,{leading:!0})()}});var N=$(D.default,{channel:n,toggleRequestToSpeakSidebar:r,showRequestToSpeakSidebar:o,isOnStartStageScreen:T}),j=$(X,{channel:n,appContext:f,popoutOpen:p,popoutWindow:d,selectedParticipant:_}),U=$(R.default,{channel:n});return $(g.default,{disableGradients:0===O&&g.DisableGradient.TOP,renderBottomCenter:function(){return N},renderBottomRight:function(){return j},renderHeader:function(){return U},onActive:function(){},onPreventIdle:function(){},onAllowIdle:function(){},onForceIdle:function(){},screenMessage:E?{mainText:G.default.Messages.POPOUT_PLAYER_OPENED}:null,idle:!1},void 0,!E&&t)}Q.displayName="StageChannelCallContent";function J(e){
var t,r=e.channel,i=e.appContext,u=void 0===i?k.AppContext.APP:i,l=z(a.useState(!1),2),s=l[0],d=l[1],c=a.useCallback((function(){d(!s)}),[s]);a.useEffect((function(){if(null==f.default.get(K)){(0,I.openModalLazy)(B(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2345)]).then(n.bind(n,102345));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))));f.default.set(K,Date.now())}}),[]);return $("div",{className:F.default.container},void 0,$("div",{className:(0,o.default)(F.default.callContainer,(0,A.getThemeClass)(k.ThemeTypes.DARK),(t={},t[F.default.sidebarVisible]=s,t))},void 0,$(v.default.Provider,{value:u},void 0,$(Q,{channel:r,toggleRequestToSpeakSidebar:c,showRequestToSpeakSidebar:s}))),s?$(N.default,{channel:r,toggleRequestToSpeakSidebar:c}):null)}J.displayName="StageChannelCall"
},460372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=D;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=C(n(294184)),i=n(536211),u=C(n(818994)),l=C(n(678928)),s=C(n(981706)),f=C(n(689389)),d=C(n(634230)),c=C(n(332282)),p=C(n(878556)),v=C(n(776360)),y=n(864489),h=n(518802),m=C(n(922629)),_=n(559133),g=n(365744),E=C(n(217964)),S=C(n(397789)),O=n(770348),b=C(n(247001)),I=C(n(903330));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){
return e?n:t})(e)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function N(){return R.apply(this,arguments)}function R(){return(R=M(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,y.isOSX)()||!y.isPlatformEmbedded){
e.next=14;break}e.next=3;return null===(n=(r=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===n?void 0:n.call(r);case 3:e.t1=t=e.sent;e.t0=null!==e.t1;if(!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t;e.next=12;break;case 11:e.t2="Maximize";case 12:"Minimize"===(a=e.t2)?m.default.minimize():"Maximize"===a&&m.default.maximize();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.channel,n=a.useContext(u.default),r=(0,i.useStateFromStores)([f.default],(function(){return f.default.can(g.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}));return a.createElement(a.Fragment,null,A(S.default,{channel:t}),A(s.default,{guildId:t.guild_id,className:I.default.eventsButton}),r?A(p.default.Icon,{onClick:function(){(0,_.openStageChannelSettings)(t,n)},tooltip:b.default.Messages.STAGE_SETTINGS,"aria-label":b.default.Messages.STAGE_SETTINGS,icon:d.default}):null)}function D(e){var t=e.channel,n=(0,l.default)(t),r=(0,
i.useStateFromStores)([E.default],(function(){return E.default.getStageInstanceByChannel(t.id)}));return A(p.default,{toolbar:A(w,{channel:t}),onDoubleClick:N,transparent:!0,className:(0,o.default)((0,h.getThemeClass)(O.ThemeTypes.DARK),I.default.participants)},void 0,A(p.default.Icon,{icon:c.default,disabled:!0,"aria-label":b.default.Messages.STAGE_CHANNEL,className:I.default.icon}),A(p.default.Title,{className:I.default.channelName},void 0,n),null!=r?a.createElement(a.Fragment,null,A(p.default.Divider,{className:I.default.divider}),A(v.default,{size:v.default.Sizes.SIZE_16,color:v.default.Colors.HEADER_SECONDARY,className:I.default.title},void 0,null==r?void 0:r.topic)):null)}D.displayName="StageChannelCallHeader"},25974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=n(536211),u=h(n(689389)),l=h(n(337322)),s=h(n(878338)),f=h(n(855480)),d=h(n(776360)),c=n(365744),p=h(n(217964)),v=h(n(247001)),y=h(n(957652));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=14;var E=function(e){var t=e.subtitle;return _(d.default,{color:d.default.Colors.HEADER_SECONDARY,size:d.default.Sizes.SIZE_14,className:(0,o.default)(y.default.subtitle,y.default.height)},void 0,t)};E.displayName="StageSubtitle";var S=function(e){var t=e.speakerCount,n=e.audienceCount,r=e.blockedCount;return _("div",{className:y.default.height},void 0,_("div",{className:y.default.stageSummary},void 0,_(f.default,{height:g,width:g,className:y.default.icon}),_(d.default,{color:d.default.Colors.HEADER_SECONDARY,size:d.default.Sizes.SIZE_12},void 0,v.default.Messages.SPEAKING_COUNT.format({count:String(t)})),_("div",{className:y.default.dotSeparator}),_(s.default,{width:g,height:g,className:y.default.icon}),_(d.default,{color:d.default.Colors.HEADER_SECONDARY,size:d.default.Sizes.SIZE_12},void 0,v.default.Messages.LISTENING_COUNT.format({count:String(n)})),r>0?a.createElement(a.Fragment,null,_("div",{
className:y.default.dotSeparator}),_(l.default,{width:g,height:g,className:y.default.icon}),_(d.default,{color:d.default.Colors.HEADER_SECONDARY,size:d.default.Sizes.SIZE_12},void 0,v.default.Messages.BLOCKED_COUNT.format({count:String(r)}))):null))};S.displayName="StageSummary";var O=function(e){var t=e.channel,n=e.speakerCount,r=e.audienceCount,a=e.blockedCount,o=(0,i.useStateFromStores)([p.default],(function(){return p.default.getStageInstanceByChannel(t.id)}),[t.id]),l=(0,i.useStateFromStores)([u.default],(function(){return u.default.can(c.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),s=function(e,t){return t?v.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR:v.default.Messages.STAGE_START_PROMPT_TITLE}(0,l),f=null!=o,h=l&&!f?v.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR_DESKTOP:void 0;return _("div",{className:y.default.container},void 0,!f&&_(d.default,{size:d.default.Sizes.SIZE_20,color:d.default.Colors.HEADER_PRIMARY,className:y.default.title},void 0,s),null!=h?_(E,{
subtitle:h}):_(S,{speakerCount:n,audienceCount:r,blockedCount:a}))};O.displayName="StageChannelCallTopic";var b=O;t.default=b},600577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.LayoutSections=void 0;var r,a=b(n(667294)),o=n(536211),i=S(n(864345)),u=S(n(825724)),l=S(n(728429)),s=S(n(387692)),f=S(n(897191)),d=n(921867),c=S(n(217964)),p=n(945544),v=S(n(158579)),y=S(n(386191)),h=S(n(25974)),m=S(n(586315)),_=S(n(576989)),g=b(n(533646)),E=S(n(298579));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A,P=424,M=624,N=824;t.LayoutSections=A;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE"}(A||(t.LayoutSections=A={}));var R=function(e){var t,n,r,i=e.channel,S=e.width,O=e.onScroll,b=(0,o.useStateFromStores)([l.default],(function(){var e;return null===(e=l.default.getCurrentUser())||void 0===e?void 0:e.id}),[]),T=(0,o.useStateFromStores)([u.default],(function(){
return u.default.getSelectedParticipantId(i.id)})),R=(0,o.useStateFromStores)([s.default],(function(){return s.default.isInChannel(i.id,b)}),[b,i.id]),w=(0,o.useStateFromStoresObject)([f.default],(function(){var e=f.default.getParticipantCount(i.id,d.StageChannelParticipantNamedIndex.AUDIENCE);return{speakerCount:f.default.getParticipantCount(i.id,d.StageChannelParticipantNamedIndex.SPEAKER),audienceCount:e,blockedCount:f.default.getParticipantCount(i.id,d.StageChannelParticipantNamedIndex.BLOCKED),selectedStageParticipant:null!=T?f.default.getParticipant(i.id,T):null}}),[T]),D=w.speakerCount,L=w.audienceCount,j=w.blockedCount,k=w.selectedStageParticipant,U=function(e){return Math.floor((e-32)/102)}(S),G=function(e){return e<P?1:e<M?2:e<N?3:4}(S),F=((t={})[d.StageChannelParticipantNamedIndex.SPEAKER]=G,t[d.StageChannelParticipantNamedIndex.AUDIENCE]=U,t[d.StageChannelParticipantNamedIndex.SELECTED]=1,t),x=(0,p.useThrottleDurationForChannel)(i.id),V=C((0,
p.useStageChannelParticipantsListThrottled)(i.id,F,x),2),W=V[0],H=V[1],B=[Math.max(null!==(n=W[A.SELECTED])&&void 0!==n?n:1,1),Math.max(null!==(r=W[A.SPEAKER])&&void 0!==r?r:1,1),W[A.AUDIENCE]],z=function(e,t){var n=Math.floor(e/t-8);return{speakerTileWidth:n,speakerTileHeight:Math.floor(n/g.SPEAKER_TILE_ASPECT_RATIO)}}(S,G),Y=z.speakerTileWidth,$=z.speakerTileHeight,K=Math.min(S-64,3*Y+8),q=null!=(0,o.useStateFromStores)([c.default],(function(){return c.default.getStageInstanceByChannel(i.id)}),[i.id]),Z=function(e){return e===W.length-1},X=I(h.default,{channel:i,audienceCount:L,speakerCount:D,blockedCount:j},"speaker-header");return R?I(m.default,{sections:B,renderSection:function(e){var t=e.section;return t===A.SELECTED?X:t===A.AUDIENCE?0===L?null:I(y.default,{participantCount:L},"audience-header-"+t):null},sectionHeight:function(e){return e===A.SPEAKER?q?90:154:64},renderRow:function(e){var t=e.section,n=e.row,r=H[t][n];if(null==(null==r?void 0:r.length))return null;switch(t){
case A.SELECTED:return 0===r.length||null==r[0]?null:I("div",{className:E.default.focusedRow},"selected-participant",I(g.default,{channel:i,participant:r[0],width:K}));case A.SPEAKER:return I(a.Fragment,{},"speakers-"+t+"-"+n,I(_.default,{tileWidth:Y,channel:i,participants:r,selectedParticipant:k}));case A.AUDIENCE:return I(v.default,{channel:i,participants:r,maxTiles:U},"audience-"+t+"-"+n);default:return null}},rowHeight:function(e){return null==H[e][A.SELECTED]?0:e===A.SELECTED?K/g.SPEAKER_TILE_ASPECT_RATIO+8:e===A.SPEAKER?$:98},renderFooter:function(e){var t=e.section;return t===A.SPEAKER?I("div",{className:E.default.divider},"speaker-divider"):Z(t)?I("div",{className:E.default.spacer},"bottom-spacer"):null},footerHeight:function(e){return e===A.SPEAKER?24:Z(e)?88:0},className:E.default.scroller,chunkSize:60,onScroll:O}):null};R.displayName="StageChannelCallView";var w=(0,i.default)(R);t.default=w},268372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=ce(n(667294)),o=fe(n(294184)),i=n(536211),u=fe(n(136873)),l=fe(n(825724)),s=fe(n(190320)),f=fe(n(818994)),d=fe(n(932018)),c=fe(n(590087)),p=fe(n(379310)),v=n(668516),y=fe(n(5031)),h=fe(n(620859)),m=fe(n(473842)),_=ce(n(145122)),g=fe(n(373115)),E=fe(n(431388)),S=fe(n(770404)),O=fe(n(423405)),b=n(839166),I=fe(n(493051)),C=fe(n(222935)),T=n(143414),A=fe(n(607576)),P=fe(n(645675)),M=fe(n(423046)),N=fe(n(30098)),R=fe(n(635014)),w=fe(n(689389)),D=fe(n(728429)),L=fe(n(956117)),j=fe(n(160629)),k=fe(n(930600)),U=fe(n(155084)),G=fe(n(833837)),F=fe(n(2604)),x=fe(n(924671)),V=fe(n(496709)),W=fe(n(233121)),H=n(194322),B=ce(n(272544)),z=fe(n(776360)),Y=n(559133),$=n(1430),K=n(216554),q=n(921867),Z=n(318678),X=n(365744),Q=fe(n(258079)),J=fe(n(217964)),ee=fe(n(461713)),te=fe(n(913687)),ne=fe(n(530877)),re=fe(n(697160)),ae=fe(n(462867)),oe=n(770348),ie=n(474477),ue=n(371621),le=fe(n(247001)),se=fe(n(639286));function fe(e){return e&&e.__esModule?e:{default:e}}function de(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(de=function(e){return e?n:t})(e)}function ce(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=de(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function pe(){pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return pe.apply(this,arguments)}function ve(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){ve(o,r,a,i,u,"next",e)}function u(e){ve(o,r,a,i,u,"throw",e)}i(void 0)}))}}function he(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e){var t=e.channel,n=e.appContext;(0,te.default)(t)?(0,Y.openEndStageModal)(t,n):u.default.disconnect()}function Ee(e,t){return e?le.default.Messages.AUDIENCE_LOWER_HAND:t?le.default.Messages.AUDIENCE_RAISE_HAND_CTA:le.default.Messages.AUDIENCE_RAISE_HAND_NO_PERMISSION}var Se=a.memo((function(e){var t=e.channel,n=me((0,ae.default)(t),2),r=n[0],a=n[1],o=(0,i.useStateFromStores)([w.default],(function(){return w.default.can(oe.Permissions.REQUEST_TO_SPEAK,t)}))
;return he("div",{className:se.default.container},void 0,he(T.CenterControlButton,{color:r?"white":"primaryDark",label:Ee(r,o),iconComponent:function(){return he(x.default,{className:r?se.default.raisedHandButtonIconActive:se.default.raisedHandButtonIcon})},onClick:a,disabled:!o&&!r}),he(Te,{channel:t}),he(Ne,{channel:t}))})),Oe={16:B.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_16,22:B.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_22,29:B.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_29};var be=he(V.default,{});function Ie(e){var t=e.toggleRequestToSpeakSidebar,n=e.showRequestToSpeakSidebar;return he(T.CenterControlButton,{className:(0,o.default)(se.default.speakerRaiseHandButton),color:n?"white":"primaryDark",label:n?le.default.Messages.REQUEST_TO_SPEAK_AREA_CLOSE:le.default.Messages.REQUEST_TO_SPEAK_AREA_OPEN,iconComponent:function(){return be},onClick:t})}Ie.displayName="RequestToSpeakButton";var Ce=he(F.default,{});function Te(e){var t=e.channel,r=a.useContext(f.default),o=(0,
i.useStateFromStores)([w.default],(function(){return w.default.can(oe.Permissions.CREATE_INSTANT_INVITE,t)})),u=(0,i.useStateFromStores)([N.default],(function(){return N.default.getGuild(t.guild_id)})),l=(0,i.useStateFromStores)([J.default],(function(){return J.default.getStageInstanceByChannel(t.id)})),s=o||null!=(null==l?void 0:l.invite_code);if(null==u||!s)return null;return he(T.CenterControlButton,{className:se.default.buttonSpacing,label:le.default.Messages.INSTANT_INVITE,iconComponent:function(){return Ce},onClick:function(){(0,H.openModalLazy)(ye(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,pe({},e,{guild:u,channel:t,source:oe.InstantInviteSources.CHANNEL_CALL}))}));case 5:case"end":return e.stop()}}),e)}))),{
contextKey:r===oe.AppContext.POPOUT?ue.POPOUT_MODAL_CONTEXT:ue.DEFAULT_MODAL_CONTEXT})}})}Te.displayName="InviteButton";var Ae=he(G.default,{});function Pe(e){var t=e.onClick;return he(T.CenterControlButton,{className:(0,o.default)(se.default.makeMeASpeakerButton),label:le.default.Messages.MODERATOR_RAISE_OWN_HAND,iconComponent:function(){return Ae},onClick:t})}Pe.displayName="MakeMeASpeakerButton";var Me=he(W.default,{height:24,width:24});function Ne(e){var t=e.channel,n=e.onSelect,r=a.useContext(f.default),u=(0,v.useCanCreateEditDeleteEvent)(t.guild_id,t),l=(0,i.useStateFromStores)([J.default],(function(){return J.default.getStageInstanceByChannel(t.id)}),[t.id]),s=null!=(null==l?void 0:l.guild_scheduled_event_id),d=M.default.getId(),c=Q.default.isModerator(d,t.id);return s&&(u||c)?he(j.default,{renderPopout:function(e){var a=e.closePopout;return he(C.default,{},void 0,he(_.default,{navId:"exit-options","aria-label":le.default.Messages.SET_STATUS,onClose:a,onSelect:n
},void 0,he(_.MenuItem,{id:"end-stage",color:ie.MenuItemColor.DANGER,action:function(){return(0,Y.openEndGuildEventConfirmationModal)(t,r)},label:le.default.Messages.END_GUILD_EVENT_FOR_EVERYONE,icon:k.default})))},align:j.default.Align.CENTER,position:j.default.Positions.TOP,animation:j.default.Animation.FADE},void 0,(function(e){var n=e.onClick;return he(T.CenterControlButton,{className:se.default.buttonSpacing,label:le.default.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,color:"red",iconComponent:function(){return Me},onClick:function(){return ge({channel:t,appContext:r})},onPopoutClick:n})})):he(L.default,{size:L.default.Sizes.MEDIUM,color:L.default.Colors.RED,className:(0,o.default)(se.default.buttonSpacing,se.default.leaveQuietlyButton),onClick:function(){return ge({channel:t,appContext:r})}},void 0,he("div",{className:se.default.leaveQuietlyButtonInnerContainer},void 0,he(z.default,{color:z.default.Colors.CUSTOM},void 0,le.default.Messages.AUDIENCE_DISCONNECT),he(W.default,{
height:24,width:24,className:se.default.leaveQuietlyIcon})))}Ne.displayName="ExitStageButton";var Re=he(U.default,{});function we(e){var t=e.onClick;return he(T.CenterControlButton,{className:(0,o.default)(se.default.audienceButton),label:le.default.Messages.MOVE_ME_TO_AUDIENCE,iconComponent:function(){return Re},onClick:t})}we.displayName="MoveToAudienceButton";var De=a.memo((function(e){var t,n,r=e.channel,u=e.toggleRequestToSpeakSidebar,l=e.showRequestToSpeakSidebar,f=(0,O.default)(r),v=f.suppress,y=f.selfMute,h=f.mute,m=v||y||h,_=(0,Z.useCanModerateRequestToSpeak)(r.id),T=ee.default.useExperiment({guildId:null!==(t=r.getGuildId())&&void 0!==t?t:""}).showVideoControls,M=(0,g.default)(),N=M.cameraUnavailable,w=M.enabled,L=(0,S.default)(r),k=(0,E.default)(r),U=k.limit,G=k.reachedLimit,F=(0,i.useStateFromStores)([D.default],(function(){return D.default.getCurrentUser()})),x=(0,i.useStateFromStores)([R.default],(function(){return(0,p.default)(R.default)})),V=(0,
K.useStageParticipantsCount)(r.id,q.StageChannelParticipantNamedIndex.REQUESTED_TO_SPEAK_ONLY),W=(n=V)<10?16:n<100?22:29;if(null==F)return null;var H=a.createElement(a.Fragment,null,he(j.default,{renderPopout:function(e){var t=e.closePopout;return he(C.default,{},void 0,he(d.default,{onClose:t}))},position:j.default.Positions.TOP,align:j.default.Align.CENTER,animation:j.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return he(P.default,{centerButton:!0,color:w?"white":"primaryDark",hasPermission:L,enabled:w,cameraUnavailable:N,onChange:b.handleToggleVideo,onCameraUnavailable:I.default,channelLimitReached:G,channelLimit:U,popoutOpen:r,onPopoutClick:n})})),he(b.GoLiveButton,{coloring:["primaryDark","white"],channel:r,currentUser:F,exitFullScreen:function(){return null},canGoLive:x,hasPermission:L}));return he("div",{className:se.default.container},void 0,!v&&he(we,{onClick:function(){return(0,$.moveSelfToAudience)(r)}}),_&&v&&he(Pe,{onClick:function(){return(0,
$.audienceAckRequestToSpeak)(r,!1)}}),v?null:he("div",{className:se.default.avControls},void 0,T&&H,he(j.default,{renderPopout:function(e){var t=e.closePopout;return he(C.default,{},void 0,he(s.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0}))},align:j.default.Align.CENTER,position:j.default.Positions.TOP,animation:j.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return he(A.default,{color:m?"white":"primaryDark",centerButton:!0,onPopoutClick:n,selfMute:y,serverMute:h,suppress:v,popoutOpen:r,onClick:function(){return(0,c.default)(h,v)}})}))),_?he("div",{className:(0,o.default)(se.default.speakerRaiseHandButtonContainer,se.default.buttonSpacing)},void 0,V>0?he(B.default,{mask:Oe[W],width:56,height:56},void 0,he(Ie,{toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:l})):he(Ie,{toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:l}),V>0?he(z.default,{className:se.default.speakerRaiseHandBadge,size:z.default.Sizes.SIZE_12,style:{width:W
}},void 0,V>=100?"99+":V):null):null,he(Te,{channel:r}),he(Ne,{channel:r}))}));function Le(e){var t=e.channel;return he("div",{className:se.default.container},void 0,he(Ne,{channel:t}))}Le.displayName="StartStageControlTray";var je=a.memo((function(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,r=e.showRequestToSpeakSidebar,a=e.isOnStartStageScreen,o=(0,ne.default)(t.id),u=(0,Z.useCanModerateRequestToSpeak)(t.id),s=(0,i.useStateFromStores)([w.default],(function(){return w.default.can(X.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),f=t.guild_id,d=(0,v.useCanCreateEditDeleteEvent)(f,t),c=(0,re.default)(t.id),p=(0,i.useStateFromStores)([l.default],(function(){return null!=t?l.default.getSelectedParticipant(t.id):null})),_=!c&&null==p;return a?he(Le,{channel:t}):o||u?he("div",{className:se.default.containerColumn},void 0,he("div",{className:se.default.eventPrompts},void 0,_?he(h.default,{guildId:f,channelId:null==t?void 0:t.id}):null,he("div",{className:se.default.separator
}),_&&s?he(m.default,{channel:t}):null,he("div",{className:se.default.separator}),_&&d?he(y.default,{guildId:f}):null,he("div",{className:se.default.separator})),he(De,{channel:t,toggleRequestToSpeakSidebar:n,showRequestToSpeakSidebar:r})):he(Se,{channel:t})}));t.default=je},586315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(753274),o=u(n(237727)),i=u(n(790875));function u(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)(i.default.auto,i.default.fade,null!==(r=ResizeObserver)&&void 0!==r?r:a.ResizeObserver);t.default=l},248414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.StageChannelNowPlayingDelegate=void 0;var r,a=y(n(667294)),o=p(n(342518)),i=p(n(644263)),u=p(n(16941)),l=p(n(971639)),s=y(n(637356)),f=n(13761),d=p(n(217964)),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t,n,r=e.activity,p=(null!==(t=(0,
f.unpackStageChannelParty)(r))&&void 0!==t?t:{}).channelId,v=(0,o.default)([d.default],(function(){return d.default.getStageInstanceByChannel(p)}),[p]),y=a.useRef(null),m=a.useCallback((function(){var e=i.default.getChannel(p);null!=e&&s.connectAndOpen(e)}),[p]),_=null!==(n=null==v?void 0:v.topic)&&void 0!==n?n:r.name,g=c.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_JOIN.format({channel:_});return a.createElement("div",{ref:y},h(u.default,{onClick:m,focusProps:{ringTarget:y}},void 0,h(l.default,{},void 0,g)))}m.displayName="StageChannelBody";var _=function(){function e(){this.body=m}var t=e.prototype;t.shouldShow=function(e){return(0,f.shouldShowActivity)(e)};t.createHeader=function(e){return{subtitle:c.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_DEFAULT,icon:null}};return e}();t.StageChannelNowPlayingDelegate=_},576989:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(533646)),i=u(n(403800));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=a.memo((function(e){var t=e.channel,n=e.participants,r=e.tileWidth,a=e.selectedParticipant;return s("div",{className:i.default.rowContainer},void 0,n.map((function(e){return e.id===(null==a?void 0:a.id)?null:s(o.default,{channel:t,participant:e,width:r},e.id)})))}));t.default=f},533646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.SPEAKER_TILE_ASPECT_RATIO=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=P(n(441143)),i=n(536211),u=P(n(229132)),l=n(378158),s=n(123516),f=n(836233),d=P(n(825724)),c=P(n(818994)),p=n(747868),v=n(385753),y=P(n(711195)),h=P(n(414068)),m=P(n(607209)),_=P(n(30098)),g=P(n(689389)),E=P(n(387692)),S=P(n(160629)),O=P(n(258079)),b=P(n(226155)),I=P(n(214563)),C=n(770348),T=n(859089),A=P(n(892314));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}var L=16/9;t.SPEAKER_TILE_ASPECT_RATIO=L;var j=w(I.default,{}),k=function(e){var t=e.stageParticipant,n=e.rtcParticipant,r=e.channel,o=e.guildId,i=e.user,u=e.width,l=e.isModerator,s=e.onContextMenu,d=e.inPopout,c=a.useContext(f.AccessibilityPreferencesContext).reducedMotion,p=t.blocked,v=t.id;return w(S.default,{preload:null==n?void 0:function(){return(0,y.default)(n.user.id,n.user.getAvatarURL(r.guild_id,80),{guildId:r.guild_id})},renderPopout:function(e){return a.createElement(h.default,D({},e,{guildId:o,channelId:r.id,userId:i.id}))
},position:S.default.Positions.RIGHT,spacing:8},void 0,(function(e){return a.createElement(b.default,D({key:v},e,{participant:n,aspectRatio:L,blocked:p,channel:r,className:A.default.tile,inCall:!0,inPopout:d,paused:!1,pulseSpeakingIndicator:!c.enabled,width:u,onClick:function(t,n){return e.onClick(n)},onContextMenu:s}),l&&j)}))};k.displayName="StageVoiceTile";var U=w(I.default,{}),G=function(e){var t=e.stageParticipant,n=e.rtcParticipant,r=e.channel,o=e.width,l=e.isModerator,c=e.onContextMenu,y=e.inPopout,h=a.useContext(f.AccessibilityPreferencesContext).reducedMotion,S=t.id,O=t.blocked,I=(0,i.useStateFromStoresArray)([m.default],(function(){return m.default.getAllActiveStreams()}),[]),P=(0,i.useStateFromStores)([d.default],(function(){return null!=r?d.default.getSelectedParticipant(r.id):null})),M=a.useCallback((function(e,t){if(e.type===T.ParticipantTypes.STREAM){if(0===I.filter((function(t){return(0,p.encodeStreamKey)(t)===e.id&&t.state!==C.ApplicationStreamStates.ENDED})).length){
if(!(0,v.canWatchStream)(r,E.default,_.default,g.default))return;(0,s.watchStream)((0,p.decodeStreamKey)(e.id),{forceMultiple:t.shiftKey})}}(null==P?void 0:P.id)===e.id?u.default.selectParticipant(r.id,null):u.default.selectParticipant(r.id,e.id)}),[I,r,P]);return w(b.default,{participant:n,aspectRatio:L,blocked:O,channel:r,className:A.default.tile,inCall:!0,inPopout:y,onClick:M,onContextMenu:c,paused:!1,pulseSpeakingIndicator:!h.enabled,width:o},S,l&&U)};G.displayName="StageMediaTile";var F=a.memo((function(e){var t,r=e.participant,u=e.channel,s=e.width,f=a.useContext(c.default),p=u.getGuildId();(0,o.default)(null!=p,"Channel cannot be guildless");var v=r.user,y=(0,i.useStateFromStores)([d.default],(function(){return d.default.getParticipant(u.id,r.id)}),[u.id,r.id]),h=(0,i.useStateFromStores)([O.default],(function(){return O.default.isModerator(v.id,u.id)}),[u.id,v.id]);if(null==y||y.type===T.ParticipantTypes.ACTIVITY)return null;var m=function(e,t){switch(e.type){
case T.ParticipantTypes.HIDDEN_STREAM:case T.ParticipantTypes.STREAM:(0,l.openContextMenuLazy)(t,R(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return n.e(96434).then(n.bind(n,596434));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,D({},t,{stream:e.stream,appContext:f,exitFullscreen:function(){}}))}));case 5:case"end":return t.stop()}}),t)}))),{context:f});return;case T.ParticipantTypes.USER:default:(0,l.openContextMenuLazy)(t,R(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(41501),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,D({},e,{user:v,guildId:p,channelId:u.id,showMediaItems:!0,showStageChannelItems:!0,
showChatItems:!1}))}));case 5:case"end":return e.stop()}}),e)}))),{context:f})}},_=y.type===T.ParticipantTypes.USER&&!(null===(t=y.voiceState)||void 0===t?void 0:t.selfVideo);return a.createElement(a.Fragment,null,w(_?k:G,{stageParticipant:r,rtcParticipant:y,channel:u,guildId:p,user:v,width:s,isModerator:h,onContextMenu:m,inPopout:f===C.AppContext.POPOUT}))}));t.default=F},35997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContinuePrompt=T;t.default=P;I(n(667294));var r,a=n(536211),o=n(668516),i=O(n(176079)),u=O(n(5031)),l=O(n(620859)),s=O(n(473842)),f=O(n(689389)),d=O(n(332282)),c=O(n(971639)),p=O(n(776360)),v=I(n(152731)),y=n(365744),h=O(n(641474)),m=O(n(697160)),_=O(n(991636)),g=n(770348),E=O(n(247001)),S=O(n(910215));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){var t=e.onClick;return C(i.default,{iconContainerClassName:S.default.continueIconContainer,icon:C(d.default,{className:S.default.continueIcon,height:20,
width:20}),color:g.Colors.PRIMARY_DARK_700,title:E.default.Messages.STAGE_CONTINUE_PROMPT_TITLE,description:E.default.Messages.STAGE_CONTINUE_PROMPT_SUBTITLE,onClick:t})}T.displayName="ContinuePrompt";function A(e){var t=e.channel,n=(0,h.default)(t.id),r=n.participants,a=n.usersInSummary;return C("div",{className:S.default.audienceSummary},void 0,C(v.default,{className:S.default.summaryItem,guildId:t.guild_id,users:a,size:v.Sizes.SIZE_16}),C(p.default,{size:p.default.Sizes.SIZE_14,color:p.default.Colors.HEADER_SECONDARY},void 0,function(e){if(0===e.length)return"";if(1===e.length)return E.default.Messages.STAGE_AUDIENCE_WAITING_ONE.format({first:e[0].userNick});if(2===e.length)return E.default.Messages.STAGE_AUDIENCE_WAITING_TWO.format({first:e[0].userNick,second:e[1].userNick});var t=e.length-2;return E.default.Messages.STAGE_AUDIENCE_WAITING_MANY.format({first:e[0].userNick,second:e[1].userNick,numOthers:t})}(r)))}A.displayName="AudienceSummary";function P(e){
var t=e.channel,n=e.onContinueClick,r=(0,a.useStateFromStores)([f.default],(function(){return f.default.can(y.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),i=t.guild_id,v=(0,o.useCanCreateEditDeleteEvent)(i,t),h=(0,m.default)(t.id);return C("div",{className:S.default.container},void 0,C(_.default,{},void 0,C("div",{className:S.default.iconBackground},void 0,C(d.default,{width:40,height:40,className:S.default.icon}))),C("div",{className:S.default.headerContainer},void 0,C(c.default,{className:S.default.title,size:c.default.Sizes.SIZE_24},void 0,E.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR),C(p.default,{className:S.default.subtitle,size:p.default.Sizes.SIZE_14},void 0,E.default.Messages.STAGE_START_PROMPT_SUBTITLE)),h?null:C(l.default,{guildId:i,channelId:t.id}),r?C(s.default,{className:S.default.eventPrompt,channel:t}):null,v?C(u.default,{className:S.default.eventPrompt,guildId:i}):null,C("hr",{className:S.default.separator}),C(T,{onClick:n}),C(A,{channel:t}))}
P.displayName="StartStageChannelCallView"},357474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=O(n(667294)),o=n(536211),i=E(n(636602)),u=E(n(229132)),l=E(n(833692)),s=n(844784),f=E(n(825724)),d=O(n(8475)),c=E(n(278851)),p=E(n(211136)),v=E(n(308920)),y=n(956506),h=n(864489),m=n(245838),_=n(770348),g=E(n(76034));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function C(e){var t=e.channel,n=e.appContext,r=e.popoutOpen,E=e.popoutWindow,S=e.currentWindow,O=n===_.AppContext.POPOUT,C=a.useRef(null),T=(0,o.useStateFromStoresObject)([f.default],(function(){var e=f.default.getMode(t.id),r=n===_.AppContext.POPOUT;r&&(e=_.ChannelModes.VIDEO);var a=e===_.ChannelModes.VIDEO?f.default.getLayout(t.id,n):_.ChannelLayouts.MINIMUM
;r&&a!==_.ChannelLayouts.FULL_SCREEN&&(a=_.ChannelLayouts.NO_CHAT);return{currentLayout:a,mode:e}}),[t,n]),A=T.currentLayout,P=T.mode,M=(0,o.useStateFromStores)([p.default],(function(){return p.default.getVoiceChannelId()===t.id}),[t.id]);a.useEffect((function(){C.current=P}));var N=a.useRef(A),R=a.useMemo((function(){var e=null!=E&&O?E.document:document,t=S.document.getElementById("app-mount");return{currentWindow:S,currentDocument:e,rootNode:t}}),[E,O,S]),w=R.currentDocument,D=R.rootNode,L=r&&!O,j=P===_.ChannelModes.VIDEO&&M&&!L,k=a.useCallback((function(e,r){if(r!==e){u.default.updateLayout(t.id,r,n);r===_.ChannelLayouts.FULL_SCREEN&&t.isPrivate()&&y.ComponentDispatch.dispatch(_.ComponentActions.TEXTAREA_BLUR)}}),[n,t]),U=a.useCallback((function(e){if(null!=D&&e===_.ChannelLayouts.FULL_SCREEN){k(e,N.current);(0,m.exitFullScreen)((function(e){N.current=e}),l.default.resized,w)}}),[w,k,D]),G=a.useCallback((function(e){return function(){if(null!=D)if(e!==_.ChannelLayouts.FULL_SCREEN){
N.current=e;k(e,_.ChannelLayouts.FULL_SCREEN);(0,m.requestFullScreen)(D,l.default.resized)}else U(e)}}),[k,U,D]);a.useEffect((function(){var e=function(){null!=D&&((0,m.isFullScreen)(D,w)||A!==_.ChannelLayouts.FULL_SCREEN||G(A)())};w.addEventListener(m.FULLSCREEN_CHANGE_EVENT,e);return function(){w.removeEventListener(m.FULLSCREEN_CHANGE_EVENT,e)}}),[w,A,G,D]);a.useEffect((function(){v.default.track(_.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,I({video_layout:O?"popout":A},(0,s.collectVoiceAnalyticsMetadata)(t.id)));return function(){O&&(0,h.isOSX)()||U(A)}}),[]);a.useEffect((function(){null!=D&&C.current===_.ChannelModes.VIDEO&&P===_.ChannelModes.VOICE&&(0,m.exitFullScreen)(D,l.default.resized,w)}),[w,P,C,D]);a.useEffect((function(){!M&&O&&i.default.wait((function(){return d.close(_.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}))}),[M,O]);return j?b(c.default,{themeable:!1,node:D,guestWindow:E,className:g.default.rightTrayIcon,onClick:G(A)}):null}C.displayName="useFullscreenChannelCallButton"},
192110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PrivateThreadMode=void 0;t.getDefaultThreadName=I;t.getIsPrivate=b;t.useCreateThreadCommon=function(e,t,n,r,o,u,s,c,y,h){return a.useCallback(function(){var a,g=(a=regeneratorRuntime.mark((function a(g,E,S){var O,T,A,P,M,N,R,w;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:T=null==t||!1;A=b(r,o);if(""===(P=null!==(O=r.name)&&void 0!==O?O:"")&&y){M=I(e,t);P=""!==M?M:_.default.Messages.THREAD}N=e.isForumChannel()?(0,v.getPostAutoArchiveDuration)(e,n):c?(0,v.getThreeDayAutoArchiveDurationOrDefault)(e,n,r.autoArchiveDuration):(0,v.getAutoArchiveDuration)(e,n,r.autoArchiveDuration);R=f.default.getChannel(t);a.next=8;return p.default.createThread(e,t,P,A?m.ChannelTypes.PRIVATE_THREAD:e.type===m.ChannelTypes.GUILD_ANNOUNCEMENT?m.ChannelTypes.ANNOUNCEMENT_THREAD:m.ChannelTypes.PUBLIC_THREAD,u,N);case 8:if((w=a.sent)!==R){i.default.clearDraft(e.id,d.DraftType.ThreadSettings)
;i.default.clearDraft(e.id,d.DraftType.FirstThreadMessage);l.default.clearAll(e.id,d.DraftType.FirstThreadMessage);null==s||s(w);(T||g.length>0||null!=E&&E.length>0||null!=S&&S.length>0)&&C(w,g,E,S,h)}case 10:case"end":return a.stop()}}),a)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){O(o,n,r,i,u,"next",e)}function u(e){O(o,n,r,i,u,"throw",e)}i(void 0)}))});return function(e,t,n){return g.apply(this,arguments)}}(),[e,t,n,r,s,o,u,c,y,h])};t.useGetThreadDraftSettings=function(e){return(0,o.useStateFromStores)([d.default],(function(){var t;return null==e?null:null!==(t=d.default.getThreadSettings(e))&&void 0!==t?t:d.default.getThreadDraftWithParentMessageId(e)}))};t.usePrivateThreadMode=function(e){var t=(0,y.useCanStartPublicThread)(e),n=(0,y.useCanStartPrivateThread)(e),a=(0,y.useCouldStartPrivateThreadWithFeature)(e);return n?t?r.Enabled:r.PrivateOnly:a?r.DisabledWithUpsell:r.Disabled}
;var r,a=S(n(667294)),o=n(536211),i=g(n(186705)),u=g(n(786345)),l=g(n(413546)),s=g(n(614293)),f=g(n(644263)),d=S(n(687549)),c=g(n(201292)),p=g(n(887174)),v=n(192751),y=n(819235),h=g(n(521595)),m=n(770348),_=g(n(247001));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}t.PrivateThreadMode=r;!function(e){
e[e.Disabled=1]="Disabled";e[e.Enabled=2]="Enabled";e[e.PrivateOnly=3]="PrivateOnly";e[e.DisabledWithUpsell=4]="DisabledWithUpsell"}(r||(t.PrivateThreadMode=r={}));function b(e,t){return t===r.PrivateOnly||null!==(n=e.isPrivate)&&void 0!==n&&n;var n}function I(e,t){var n,r,a,o=null==t?null:c.default.getMessage(e.id,t),i=null!==(n=null==o||null===(r=o.embeds)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.rawTitle)&&void 0!==n?n:"";if(""!==i)return i.length>40?i.substring(0,40)+"...":i;for(var u,l=(0,h.default)((null!==(u=null==o?void 0:o.content)&&void 0!==u?u:"").split("\n")[0],!0).split(/(?:\s|[!@#$%^&*()_\-+={}[\]:";'<>?,./])+/),s=l[0],f=1;f<l.length;f++){var d=s+" "+l[f];if(d.length>40)break;s=d}s.length>40&&(s=s.substring(0,40)+"...");return s}function C(e,t,n,r,a){if(!(null!=a&&null!=r&&r.length>0))return null!=n&&n.length>0?u.default.sendStickers(e.id,n,t):u.default.sendMessage(e.id,s.default.parse(e,t));a(e,r,t,n)}},965484:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(536211)),a=s(n(636602)),o=s(n(649563)),i=s(n(423046)),u=s(n(644263)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c={init:function(){a.default.subscribe(l.ActionTypes.CHANNEL_DELETE,(function(e){var t=e.channel;if(null!=t.guild_id){var n=u.default.getAllThreadsForParent(t.id);if(n.length>0){r.default.Store.pauseEmittingChanges();try{for(var o,i=f(n);!(o=i()).done;){var s=o.value;a.default.dispatch({type:l.ActionTypes.THREAD_DELETE,channel:s,guildHashes:void 0})}}finally{r.default.Store.resumeEmittingChanges();r.default.Store.emitChanges()}}}}));a.default.subscribe(l.ActionTypes.MESSAGE_CREATE,(function(e){var t,n,r=e.channelId,a=e.message,l=u.default.getChannel(r);if(a.author.id===i.default.getId()&&(null==l?void 0:l.isActiveThread())){var s=new Date(null!==(t=null===(n=l.threadMetadata)||void 0===n?void 0:n.archiveTimestamp)&&void 0!==t?t:0).getTime();Date.now()-s<5e3&&o.default.resort(l.parent_id)}}))}};t.default=c},84902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useThreadMemberListSections=function(e,t){
(0,o.useStateFromStores)([i.default],(function(){return i.default.getMemberListVersion(e)}));var n=(0,o.useStateFromStores)([i.default],(function(){return i.default.getMemberListSections(e)})),l=r.useMemo((function(){var e=(0,a.default)(t.roles).values().filter((function(e){return e.hoist})).sortBy((function(e){return e.position})).reverse().map((function(e){return e.id})).value();e.push("online","offline");return e}),[t.roles]);return null==n?[]:l.map((function(e){var r,a,o=t.roles[e];return{label:"online"===e?u.default.Messages.STATUS_ONLINE:"offline"===e?u.default.Messages.STATUS_OFFLINE:o.name,userIds:null!==(r=null===(a=n[e])||void 0===a?void 0:a.userIds)&&void 0!==r?r:[],id:e,roleId:e}}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(496486)),o=n(536211),i=l(n(698099)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},698099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=h(n(496486)),o=h(n(536211)),i=h(n(636602)),u=h(n(644263)),l=h(n(876874)),s=h(n(832721)),f=h(n(788739)),d=h(n(690445)),c=h(n(728429)),p=n(71246),v=h(n(656016)),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E={},S=function(){function e(e,t,n){this.guildId=e;this.parentId=t;this.threadId=n;this.version=0
;this.sections={};this.allUserIds=new Set}var t=e.prototype;t.rebuild=function(e){var t=this;this.version++;this.sections={};null!=e&&(this.allUserIds=new Set(e));var n=u.default.getChannel(this.parentId);(0,a.default)(Array.from(this.allUserIds)).map((function(e){var r=_(t.calculateNewState(e,n),3);return{userId:e,sectionId:r[0],displayName:r[1],canViewChannel:r[2]}})).sortBy((function(e){return e.userId})).sortBy((function(e){return e.displayName})).forEach((function(e){t.addUser(e.userId,e.sectionId,e.displayName,e.canViewChannel,!0)}))};t.updateMultipleUserIds=function(e,t){var n=this;if(null!=t&&this.guildId!==t)return!1;if(0===(e=e.filter((function(e){return n.allUserIds.has(e)}))).length)return!1;e.length>50?this.rebuild():e.forEach((function(e){return n.updateUserId(e)}));return!0};t.updateUserId=function(e){if(!this.allUserIds.has(e))return!1
;var t=_(this.findOldState(e),3),n=t[0],r=t[1],a=t[2],o=_(this.calculateNewState(e,u.default.getChannel(this.parentId)),3),i=o[0],l=o[1],s=o[2];if(n===i&&r===l&&a===s)return!1;this.removeUserId(e,n);this.addUser(e,i,l,s);return!0};t.addUserId=function(e){var t=_(this.calculateNewState(e,u.default.getChannel(this.parentId)),3),n=t[0],r=t[1],a=t[2];this.addUser(e,n,r,a)};t.removeUserId=function(e,t){this.allUserIds.delete(e);if(null!=t&&this.removeUserIdFromSection(e,t))return!0;for(var n in this.sections)if(this.removeUserIdFromSection(e,n))return!0;return!1};t.addUser=function(e,t,n,r,a){this.allUserIds.add(e);var o=c.default.getUser(e);if(null!=o&&""!==o.username){t in this.sections||(this.sections[t]={sectionId:t,usersById:{},userIds:[]});var i=this.sections[t];i.usersById[e]={userId:e,displayName:n,canViewChannel:r};if(a)i.userIds.push(e);else{var u=this.findUserIdSortedPosition(i,e,n);i.userIds.splice(u,0,e)}this.version++}};t.findUserIdSortedPosition=function(e,t,n){
for(var r=e.userIds,a=e.usersById,o=0;o<r.length;o++){var i=r[o],u=a[i].displayName;if(u===n){if(t<i)return o}else if(null==u){if(null!=n)return o}else if(null!=n&&n<u)return o}return r.length};t.removeUserIdFromSection=function(e,t){var n=this.sections[t];if(null==t)return!1;if(e in n.usersById){delete n.usersById[e];n.userIds=n.userIds.filter((function(t){return t!==e}));this.version++;return!0}return!1};t.findOldState=function(e){for(var t in this.sections){var n=this.sections[t];if(e in n.usersById){var r=n.usersById[e];return[t,r.displayName,r.canViewChannel]}}return[void 0,void 0,!1]};t.calculateNewState=function(e,t){
var n,r,a=l.default.getMember(this.guildId,e),o=c.default.getUser(e),i=c.default.getCurrentUser(),u=(null==o?void 0:o.id)===(null==i?void 0:i.id)?d.default.getStatus():f.default.getStatus(e,this.guildId),s=null!=o&&null!=t&&v.default.can(y.Permissions.VIEW_CHANNEL,o,t),p=u!==y.StatusTypes.OFFLINE&&u!==y.StatusTypes.INVISIBLE&&u!==y.StatusTypes.UNKNOWN?null!==(n=null==a?void 0:a.hoistRoleId)&&void 0!==n?n:"online":"offline",h=null!==(r=null==a?void 0:a.nick)&&void 0!==r?r:null==o?void 0:o.username;return[p,null==h?void 0:h.toLowerCase(),s]};return e}();function O(e){return b(e.user.id)}function b(e){if(null==e)return!1;var t=!1;for(var n in E)E[n].updateUserId(e)&&(t=!0);return t}function I(e){var t=e.guildId,n=!1;for(var r in E)if(E[r].guildId===t){E[r].rebuild();n=!0}return n}var C=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){
this.waitFor(u.default,l.default,s.default,f.default,d.default,c.default);this.syncWith([s.default],(function(){var e=s.default.getSubscribedThreadIds(),t=!1;for(var n in E)if(!e.has(n)){delete E[n];t=!0}return t}));this.syncWith([d.default],(function(){var e;return b(null===(e=c.default.getCurrentUser())||void 0===e?void 0:e.id)}))};n.getMemberListVersion=function(e){var t;return null===(t=E[e])||void 0===t?void 0:t.version};n.getMemberListSections=function(e){var t;return null===(t=E[e])||void 0===t?void 0:t.sections};n.canUserViewChannel=function(e,t,n){var r,a,o=E[e];if(null==o)return!1;var i=null===(r=o.sections[t])||void 0===r?void 0:r.usersById[n];return null!==(a=null==i?void 0:i.canViewChannel)&&void 0!==a&&a};return t}(o.default.Store))(i.default,((r={})[y.ActionTypes.CONNECTION_OPEN]=function(){E={}},r[y.ActionTypes.THREAD_MEMBERS_UPDATE]=function(e){if(!(e.id in E))return!1;var t,n;null===(t=e.addedMembers)||void 0===t||t.forEach((function(t){var n=t.userId
;return E[e.id].addUserId(n)}));null===(n=e.removedMemberIds)||void 0===n||n.forEach((function(t){return E[e.id].removeUserId(t)}))},r[y.ActionTypes.THREAD_UPDATE]=function(e){var t,n=e.channel;if(!(n.id in E)||!0!==(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived))return!1;delete E[n.id]},r[y.ActionTypes.THREAD_DELETE]=function(e){var t=e.channel;if(!(t.id in E))return!1;delete E[t.id]},r[y.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates,n=new Set(t.map((function(e){return e.channel.id}))),r=!1;for(var a in E)if(n.has(E[a].parentId)){E[a].rebuild();r=!0}return r},r[y.ActionTypes.THREAD_MEMBER_LIST_UPDATE]=function(e){var t=e.threadId,n=e.guildId,r=e.members,a=u.default.getChannel(t),o=null==a?void 0:a.parent_id;if(null!=o){E[t]=new S(n,o,t);E[t].rebuild(r.map((function(e){return e.user_id})))}},r[y.ActionTypes.USER_UPDATE]=O,r[y.ActionTypes.PRESENCE_UPDATE]=O,r[y.ActionTypes.GUILD_MEMBER_ADD]=O,r[y.ActionTypes.GUILD_MEMBER_UPDATE]=O,
r[y.ActionTypes.GUILD_MEMBER_REMOVE]=O,r[y.ActionTypes.PRESENCES_REPLACE]=function(e){var t=e.presences,n=(0,a.default)(t).map((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.id})).filter(p.isNotNullish).uniq().value(),r=!1;for(var o in E)E[o].updateMultipleUserIds(n)&&(r=!0);return r},r[y.ActionTypes.GUILD_MEMBERS_CHUNK]=function(e){var t=e.guildId,n=e.members.map((function(e){return e.user.id})),r=!1;for(var a in E)E[a].updateMultipleUserIds(n,t)&&(r=!0);return r},r[y.ActionTypes.GUILD_ROLE_UPDATE]=I,r[y.ActionTypes.GUILD_ROLE_DELETE]=I,r));t.default=C},447840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n;if(null==e.threadMetadata)return 0;var o=null!==(t=r.default.lastMessageId(e.id))&&void 0!==t?t:e.id,i=a.default.extractTimestamp(o),u=e.threadMetadata.archiveTimestamp?new Date(e.threadMetadata.archiveTimestamp).getTime():0,l=60*(null===(n=e.threadMetadata)||void 0===n?void 0:n.autoArchiveDuration)*1e3
;return Math.max(i,u)+l};var r=o(n(191391)),a=o(n(71636));function o(e){return e&&e.__esModule?e:{default:e}}},521595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){e=e.replace(/[\\"#:/@<>]/g,"");t&&(e=e.trim());return e}},861370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ye
;var r,a=ue(n(667294)),o=oe(n(294184)),i=oe(n(95298)),u=n(536211),l=oe(n(186705)),s=oe(n(55189)),f=oe(n(786630)),d=oe(n(284382)),c=oe(n(805918)),p=oe(n(235879)),v=oe(n(271180)),y=n(856746),h=oe(n(907616)),m=oe(n(820652)),_=oe(n(822350)),g=oe(n(872134)),E=oe(n(58941)),S=oe(n(2914)),O=oe(n(422207)),b=n(770755),I=n(894826),C=oe(n(644263)),T=ue(n(687549)),A=oe(n(30098)),P=oe(n(201292)),M=oe(n(689389)),N=oe(n(680873)),R=oe(n(956117)),w=oe(n(789446)),D=oe(n(16941)),L=ue(n(279950)),j=n(730977),k=n(688388),U=oe(n(259530)),G=oe(n(82050)),F=oe(n(830759)),x=oe(n(878556)),V=oe(n(776360)),W=oe(n(582945)),H=n(993442),B=n(682937),z=n(871382),Y=n(247726),$=oe(n(887174)),K=n(192751),q=n(192110),Z=n(819235),X=oe(n(521595)),Q=oe(n(342570)),J=oe(n(690653)),ee=oe(n(387812)),te=n(770348),ne=oe(n(247001)),re=oe(n(271615)),ae=oe(n(704586));function oe(e){return e&&e.__esModule?e:{default:e}}function ie(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ie=function(e){
return e?n:t})(e)}function ue(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ie(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function le(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function se(){se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return se.apply(this,arguments)}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var pe=y.ChatInputTypes.THREAD_CREATION,ve=(0,_.default)({id:"2021-12_alt_thread_creation2",label:"Alternate thread creation",kind:"guild",defaultConfig:{useNewCreation:!1},treatments:[{id:1,label:"On",config:{useNewCreation:!0}}]});function ye(e){var t,n=e.parentChannelId,r=e.parentMessageId,a=e.location,o=(0,u.useStateFromStores)([C.default],(function(){return C.default.getChannel(n)})),i=(0,Z.useCreateThreadText)(),l=ve.useExperiment({guildId:null!==(t=null==o?void 0:o.guild_id)&&void 0!==t?t:""},{autoTrackExposure:!0}).useNewCreation;return null==o?null:l?ce(Q.default,{parentChannelId:n,parentMessageId:r,location:a}):ce(H.ComponentDispatchGroupProvider,{},void 0,ce("section",{"aria-label":i,className:re.default.container
},void 0,ce(c.default,{channel:o,draftType:T.DraftType.FirstThreadMessage}),ce(x.default,{toolbar:ce(x.default.Icon,{icon:U.default,tooltip:ne.default.Messages.CLOSE,onClick:function(){return $.default.closeAndClearThreadSidebar(n)}})},void 0,ce(x.default.Icon,{icon:F.default,disabled:!0,"aria-label":ne.default.Messages.THREAD}),ce(x.default.Title,{},void 0,ne.default.Messages.NEW_THREAD)),ce(he,{parentChannel:o,parentMessageId:r,location:a})))}ye.displayName="CreateThreadSidebar";function he(e){var t=e.parentChannel,n=e.parentMessageId,r=e.location,d=null!=n,c=!d,y=a.useContext(H.ComponentDispatchGroupContext),_=(0,u.useStateFromStores)([p.default],(function(){return p.default.messageGroupSpacing})),S=(0,u.useStateFromStores)([A.default],(function(){return A.default.getGuild(t.guild_id)})),I=Z.ThreadDurationExperiment.useExperiment({guildId:t.guild_id}),C=I.useThreeDayArchiveDuration,P=I.hideArchiveDropdown;a.useEffect((function(){Z.ThreadDurationExperiment.trackExposure({
guildId:t.guild_id})}),[t.guild_id]);var U=C?{autoArchiveDuration:(0,K.getThreeDayAutoArchiveDurationOrDefault)(t,S,null)}:{},x=fe(a.useState(U),2),X=x[0],Q=x[1],J=fe(a.useState({textValue:"",richValue:i.default.deserialize("")}),2),oe=J[0],ie=J[1];a.useEffect((function(){function e(e){var n,r=T.default.getDraft(t.id,T.DraftType.FirstThreadMessage);0!==r.length&&!0!==e||ie({textValue:r,richValue:i.default.deserialize(r)});Q(null!==(n=T.default.getThreadSettings(t.id))&&void 0!==n?n:{})}e(!0);T.default.addChangeListener(e);return function(){T.default.removeChangeListener(e)}}),[t.id]);var ue=a.useCallback((function(e){Q((function(t){return se({},t,{},e)}));l.default.changeThreadSettings(t.id,se({},e,{parentMessageId:n}))}),[t.id,n]),de=(0,q.usePrivateThreadMode)(t),ve=a.useRef(oe.textValue.trim().length>0);a.useEffect((function(){ve.current=ve.current||oe.textValue.trim().length>0}),[oe]);var ye=(0,u.useStateFromStores)([M.default],(function(){
return M.default.can(te.Permissions.ATTACH_FILES,t)})),he=function(e,t,n,r,o,i,u,l){var s=fe(a.useState(!1),2),f=s[0],d=s[1],c=fe(a.useState(!1),2),p=c[0],v=c[1],y=(0,ee.default)(e,t,n,r,o,u,$.default.openThreadSidebarForViewing,l),h=a.useCallback(function(){var n,a=(n=regeneratorRuntime.mark((function n(a,o,u){var l,s,f,c,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null==a&&(a=i.textValue);a=a.trim();null!=o&&0!==o.length||(o=null===(s=O.default.getStickerPreview(e.id,pe.drafts.type))||void 0===s?void 0:s.map((function(e){return e.id})));null!=u&&0!==u.length||(u=N.default.getUploads(e.id,T.DraftType.FirstThreadMessage));f=null!==(l=r.name)&&void 0!==l?l:"";c=0===f.length;p=null==t&&""===a&&(null==o||0===o.length)&&0===u.length;d(c);v(p);if(!c&&!p){n.next=11;break}return n.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 11:if(null!=t){n.next=18;break}n.next=14;return(0,z.applyChatRestrictions)({content:a,stickers:o,uploads:u,type:pe,
channel:e});case 14:if(n.sent.valid){n.next=18;break}return n.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 18:n.next=20;return y(a,o,u);case 20:(0,b.clearStickerPreview)(e.id,pe.drafts.type);return n.abrupt("return",{shouldClear:!0,shouldRefocus:!1});case 22:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){le(o,r,a,i,u,"next",e)}function u(e){le(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t,n){return a.apply(this,arguments)}}(),[y,i.textValue,r.name,t,e]);return{hasNameError:f,hasMessageError:p,submit:h}}(t,n,S,X,de,oe,r,C),Ee=he.hasNameError,Se=he.hasMessageError,Oe=he.submit,be=function(e,t,n,r,a){var i=(0,q.getIsPrivate)(t,r),u=function(e){e.stopPropagation();e.preventDefault();var t=(0,B.minimumRequiredTierForGuildFeature)(te.GuildFeatures.PRIVATE_THREADS);null!=a&&null!=t&&(0,E.default)({analyticsSourceLocation:{section:te.AnalyticsSections.CREATE_THREAD_SIDEBAR,
object:te.AnalyticsObjects.PRIVATE_THREAD_CHECKBOX},guild:a,targetBoostedGuildTier:t})},l=null!=a&&!a.hasFeature(te.GuildFeatures.PRIVATE_THREADS),s=null!=a?ce(g.default,{guild:a,guildFeature:te.GuildFeatures.PRIVATE_THREADS,tooltipPosition:j.TooltipPositions.TOP,className:re.default.privateThreadFeaturePill,onClick:u}):null,f=ce("div",{className:re.default.privateThreadFormTitle},void 0,ce("span",{className:re.default.privateThreadFormTitleText},void 0,ne.default.Messages.PRIVATE_THREAD),s),d=ce(w.default,{className:(0,o.default)(re.default.checkbox),type:w.default.Types.INVERTED,disabled:r===q.PrivateThreadMode.PrivateOnly||r===q.PrivateThreadMode.DisabledWithUpsell,value:i,onChange:function(e,t){return n({isPrivate:t})}},void 0,ce(V.default,{size:V.default.Sizes.SIZE_16,color:V.default.Colors.CUSTOM},void 0,ne.default.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL));return e||r===q.PrivateThreadMode.Disabled?null:ce(k.FormSection,{title:f,className:re.default.formSection
},void 0,l?ce(D.default,{onClick:u},void 0,d):d,i?ce(V.default,{className:re.default.privateThreadDescription,size:V.default.Sizes.SIZE_12,color:V.default.Colors.HEADER_SECONDARY},void 0,ne.default.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION):null)}(d,X,ue,de,S),Ie=me(t,S,X,ue),Ce=_e(t,X,ue,Ee),Te=function(e,t,n,r,i,u){var f,d=fe(a.useState(!1),2),c=d[0],p=d[1],y=a.useCallback((function(){return p(!0)}),[]),h=a.useCallback((function(){return p(!1)}),[]),m=a.useCallback((function(t,n,a){l.default.saveDraft(e.id,n,T.DraftType.FirstThreadMessage);r((function(t){""!==n&&t.textValue!==n?s.default.startTyping(e.id):""===n&&s.default.stopTyping(e.id);return{textValue:n,richValue:a}}))}),[e.id,r]),_=a.useCallback((function(e,t,n){return i(e,n,t)}),[i]);(0,H.useComponentAction)({event:te.ComponentActions.TEXTAREA_FOCUS,handler:y});(0,H.useComponentAction)({event:te.ComponentActions.TEXTAREA_BLUR,handler:h});var g=u&&0===n.textValue.trim().length;return t?ce(k.FormSection,{
title:ne.default.Messages.FORM_THREAD_STARTER_MESSAGE_SECTION_LABEL,className:re.default.formSection},void 0,ce(v.default,{type:pe,channel:e,placeholder:ne.default.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,textValue:n.textValue,richValue:n.richValue,focused:c,className:re.default.channelTextArea,innerClassName:(0,o.default)(re.default.channelTextAreaInner,(f={},f[re.default.channelTextAreaInnerFocused]=c,f[re.default.channelTextAreaInnerError]=g,f)),onFocus:y,onBlur:h,onChange:m,onSubmit:_,promptToUpload:Y.promptToUpload}),ce(L.Error,{error:g?ne.default.Messages.FORM_THREAD_STARTER_MESSAGE_REQUIRED_ERROR:null})):null}(t,c||ve.current,oe,ie,Oe,Se),Ae=a.useCallback((function(){y.bumpDispatchPriority()}),[y]),Pe=(0,q.getIsPrivate)(X,de)?G.default:F.default;return ce("div",{className:re.default.chat,onMouseDown:Ae,onFocus:Ae},void 0,ce("div",{className:(0,o.default)(re.default.messagesWrapper,"group-spacing-"+_)},void 0,ce("form",{onSubmit:function(e){e.preventDefault();Oe()},
className:re.default.form},void 0,ce(W.default,{className:re.default.scroller,fade:!0},void 0,ce("div",{className:re.default.scrollerInner},void 0,ce(m.default,{channelId:"create-thread-null"},void 0,ce("div",{className:ae.default.iconWrapper},void 0,ce(Pe,{className:ae.default.icon})),Ce,Te,ce(h.default,{channelId:t.id,type:pe,canAttachFiles:ye}),P?null:Ie,t.type===te.ChannelTypes.GUILD_TEXT?be:null),ce(ge,{parentChannel:t,parentMessageId:n}))),ce("div",{className:re.default.submitContainer},void 0,ce(R.default,{className:re.default.submitButton,type:"submit"},void 0,ne.default.Messages.CREATE_THREAD),ce(f.default,{channel:t,isThreadCreation:!0})))))}he.displayName="ChatArea";function me(e,t,n,r){var a=Z.ThreadDurationExperiment.useExperiment({guildId:e.guild_id}).useThreeDayArchiveDuration?(0,K.getThreeDayAutoArchiveDurationOrDefault)(e,t,n.autoArchiveDuration):(0,K.getAutoArchiveDuration)(e,t,n.autoArchiveDuration);return ce(d.default,{
page:null!=t?te.AnalyticsPages.GUILD_CHANNEL:null,section:te.AnalyticsSections.CREATE_THREAD_SIDEBAR},void 0,ce(J.default,{autoArchiveDuration:a,guild:t,channel:e,onChange:function(e){r({autoArchiveDuration:e})}}))}me.displayName="useAutoArchiveDropdown";function _e(e,t,n,r){var o,i=a.useRef(null),u=null!==(o=t.name)&&void 0!==o?o:"";a.useLayoutEffect((function(){var e;null===(e=i.current)||void 0===e||e.focus()}),[]);return ce(k.FormSection,{title:ne.default.Messages.THREAD_NAME,className:re.default.formSection},void 0,ce(L.default,{inputRef:i,value:u,placeholder:ne.default.Messages.FORM_THREAD_NAME_PLACEHOLDER,maxLength:te.MAX_CHANNEL_NAME_LENGTH,onChange:function(t){n({name:(0,X.default)(t,!1)});""!==t?s.default.startTyping(e.id):s.default.stopTyping(e.id)},onBlur:function(){var e=(0,X.default)(u,!0);e!==u&&n({name:e})},error:r&&0===u.trim().length?ne.default.Messages.FORM_THREAD_NAME_REQUIRED_ERROR:null}))}_e.displayName="useThreadName";function ge(e){
var t=e.parentChannel,n=e.parentMessageId,r=(0,u.useStateFromStores)([P.default],(function(){return null==n?null:P.default.getMessage(t.id,n)})),a=I.MessageDisplayCompact.useSetting();return null!=r?ce(S.default,{className:re.default.messagePreview,message:r,channel:t,compact:a,renderThreadAccessory:!1}):null}},342570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=se
;var r,a=ne(n(667294)),o=ee(n(294184)),i=ee(n(95298)),u=n(536211),l=ee(n(186705)),s=ee(n(55189)),f=ee(n(786630)),d=ee(n(805918)),c=ee(n(235879)),p=ee(n(271180)),v=n(856746),y=ee(n(907616)),h=ee(n(820652)),m=ee(n(872134)),_=ee(n(58941)),g=ee(n(2914)),E=ee(n(422207)),S=n(770755),O=n(894826),b=ee(n(644263)),I=ne(n(687549)),C=ee(n(30098)),T=ee(n(201292)),A=ee(n(689389)),P=ee(n(680873)),M=ee(n(789446)),N=ee(n(16941)),R=ee(n(279950)),w=n(730977),D=n(688388),L=ee(n(259530)),j=ee(n(82050)),k=ee(n(830759)),U=ee(n(878556)),G=ee(n(776360)),F=ee(n(582945)),x=n(993442),V=n(682937),W=n(871382),H=n(247726),B=ee(n(887174)),z=n(192751),Y=n(192110),$=n(819235),K=ee(n(521595)),q=ee(n(387812)),Z=n(770348),X=ee(n(247001)),Q=ee(n(271615)),J=ee(n(704586));function ee(e){return e&&e.__esModule?e:{default:e}}function te(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(te=function(e){return e?n:t})(e)}function ne(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=te(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function re(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ae(){ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ae.apply(this,arguments)}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value)
;if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var le=v.ChatInputTypes.THREAD_CREATION;function se(e){var t=e.parentChannelId,n=e.parentMessageId,r=e.location,a=(0,u.useStateFromStores)([b.default],(function(){return b.default.getChannel(t)})),o=(0,$.useCreateThreadText)();return null==a?null:ue(x.ComponentDispatchGroupProvider,{},void 0,ue("section",{"aria-label":o,className:Q.default.container},void 0,ue(d.default,{channel:a,draftType:I.DraftType.FirstThreadMessage}),ue(U.default,{toolbar:ue(U.default.Icon,{icon:L.default,tooltip:X.default.Messages.CLOSE,onClick:function(){return B.default.closeAndClearThreadSidebar(t)}})},void 0,ue(U.default.Icon,{icon:k.default,disabled:!0,"aria-label":X.default.Messages.THREAD}),ue(U.default.Title,{},void 0,X.default.Messages.NEW_THREAD)),ue(fe,{parentChannel:a,parentMessageId:n,location:r})))}se.displayName="CreateThreadSidebar";function fe(e){
var t=e.parentChannel,n=e.parentMessageId,r=e.location,s=null!=n,d=a.useContext(x.ComponentDispatchGroupContext),p=(0,u.useStateFromStores)([c.default],(function(){return c.default.messageGroupSpacing})),v=(0,u.useStateFromStores)([C.default],(function(){return C.default.getGuild(t.guild_id)})),g=$.ThreadDurationExperiment.useExperiment({guildId:t.guild_id}).useThreeDayArchiveDuration;a.useEffect((function(){$.ThreadDurationExperiment.trackExposure({guildId:t.guild_id})}),[t.guild_id]);var O=g?{autoArchiveDuration:(0,z.getThreeDayAutoArchiveDurationOrDefault)(t,v,null)}:{},b=oe(a.useState(O),2),T=b[0],R=b[1],L=oe(a.useState({textValue:"",richValue:i.default.deserialize("")}),2),U=L[0],H=L[1];a.useEffect((function(){function e(e){var n,r=I.default.getDraft(t.id,I.DraftType.FirstThreadMessage);0!==r.length&&!0!==e||H({textValue:r,richValue:i.default.deserialize(r)});R(null!==(n=I.default.getThreadSettings(t.id))&&void 0!==n?n:{})}e(!0);I.default.addChangeListener(e);return function(){
I.default.removeChangeListener(e)}}),[t.id]);var K=a.useCallback((function(e){R((function(t){return ae({},t,{},e)}));l.default.changeThreadSettings(t.id,ae({},e,{parentMessageId:n}))}),[t.id,n]),ee=(0,u.useStateFromStores)([A.default],(function(){return A.default.can(Z.Permissions.ATTACH_FILES,t)})),te=(0,Y.usePrivateThreadMode)(t),ne=function(e,t,n,r,o,i,u,l){var s=oe(a.useState(!1),2),f=s[0],d=s[1],c=oe(a.useState(!1),2),p=c[0],v=c[1],y=(0,q.default)(e,t,n,r,o,u,B.default.openThreadSidebarForViewing,l,!0),h=a.useCallback(function(){var n,a=(n=regeneratorRuntime.mark((function n(a,o,u){var l,s,f,c,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null==a&&(a=i.textValue);a=a.trim();null!=o&&0!==o.length||(o=null===(s=E.default.getStickerPreview(e.id,le.drafts.type))||void 0===s?void 0:s.map((function(e){return e.id})));null!=u&&0!==u.length||(u=P.default.getUploads(e.id,I.DraftType.FirstThreadMessage));f=null!==(l=r.name)&&void 0!==l?l:""
;c=null==t&&0===f.length;p=""===a&&(null==o||0===o.length)&&0===u.length;d(c);v(p);if(!c&&!p){n.next=11;break}return n.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 11:if(null!=t){n.next=18;break}n.next=14;return(0,W.applyChatRestrictions)({content:a,stickers:o,uploads:u,type:le,channel:e});case 14:if(n.sent.valid){n.next=18;break}return n.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 18:n.next=20;return y(a,o,u);case 20:(0,S.clearStickerPreview)(e.id,le.drafts.type);return n.abrupt("return",{shouldClear:!0,shouldRefocus:!1});case 22:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){re(o,r,a,i,u,"next",e)}function u(e){re(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t,n){return a.apply(this,arguments)}}(),[y,i.textValue,r.name,t,e]);return{hasNameError:f,hasMessageError:p,submit:h}
}(t,n,v,T,te,U,r,g),ie=ne.hasNameError,se=ne.hasMessageError,fe=ne.submit,ve=function(e,t,n,r,a){var i=(0,Y.getIsPrivate)(t,r),u=function(e){e.stopPropagation();e.preventDefault();var t=(0,V.minimumRequiredTierForGuildFeature)(Z.GuildFeatures.PRIVATE_THREADS);null!=a&&null!=t&&(0,_.default)({analyticsSourceLocation:{section:Z.AnalyticsSections.CREATE_THREAD_SIDEBAR,object:Z.AnalyticsObjects.PRIVATE_THREAD_CHECKBOX},guild:a,targetBoostedGuildTier:t})},l=null!=a&&!a.hasFeature(Z.GuildFeatures.PRIVATE_THREADS),s=null!=a?ue(m.default,{guild:a,guildFeature:Z.GuildFeatures.PRIVATE_THREADS,tooltipPosition:w.TooltipPositions.TOP,className:Q.default.privateThreadFeaturePill,onClick:u}):null,f=ue("div",{className:Q.default.privateThreadFormTitle},void 0,ue("span",{className:Q.default.privateThreadFormTitleText},void 0,X.default.Messages.PRIVATE_THREAD),s),d=ue(M.default,{className:(0,o.default)(Q.default.checkbox),type:M.default.Types.INVERTED,
disabled:r===Y.PrivateThreadMode.PrivateOnly||r===Y.PrivateThreadMode.DisabledWithUpsell,value:i,onChange:function(e,t){return n({isPrivate:t})}},void 0,ue(G.default,{size:G.default.Sizes.SIZE_16,color:G.default.Colors.CUSTOM},void 0,X.default.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL));return e||r===Y.PrivateThreadMode.Disabled?null:ue(D.FormSection,{title:f,className:Q.default.formSection},void 0,l?ue(N.default,{onClick:u},void 0,d):d,i?ue(G.default,{className:Q.default.privateThreadDescription,size:G.default.Sizes.SIZE_12,color:G.default.Colors.HEADER_SECONDARY},void 0,X.default.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION):null)}(s,T,K,te,v),ye=de(t,n,T,K,ie,null!=n),he=ce(t,U,H,fe,se),me=a.useCallback((function(){d.bumpDispatchPriority()}),[d]),_e=(0,Y.getIsPrivate)(T,te)?j.default:k.default;return ue("div",{className:Q.default.chat,onMouseDown:me,onFocus:me},void 0,ue("div",{className:(0,o.default)(Q.default.messagesWrapper,"group-spacing-"+p)},void 0,ue("form",{
onSubmit:function(e){e.preventDefault();fe()},className:Q.default.form},void 0,ue(F.default,{className:Q.default.scroller,fade:!0},void 0,ue("div",{className:Q.default.scrollerInner},void 0,ue(h.default,{channelId:"create-thread-null"},void 0,ue("div",{className:J.default.iconWrapper},void 0,ue(_e,{className:J.default.icon})),ye,t.type===Z.ChannelTypes.GUILD_TEXT?ve:null),ue(pe,{parentChannel:t,parentMessageId:n}))),ue("div",{className:Q.default.submitContainer},void 0,ue(y.default,{channelId:t.id,type:le,canAttachFiles:ee}),he,ue(f.default,{channel:t,isThreadCreation:!0})))))}fe.displayName="ChatArea";function de(e,t,n,r,a,o){var i,u=null!==(i=n.name)&&void 0!==i?i:"",l=(0,Y.getDefaultThreadName)(e,t);return ue(D.FormSection,{title:X.default.Messages.THREAD_NAME+(o?" (Optional)":""),className:Q.default.formSection},void 0,ue(R.default,{value:u,placeholder:""!==l?l:X.default.Messages.FORM_THREAD_NAME_PLACEHOLDER,maxLength:Z.MAX_CHANNEL_NAME_LENGTH,onChange:function(t){r({name:(0,
K.default)(t,!1)});""!==t?s.default.startTyping(e.id):s.default.stopTyping(e.id)},onBlur:function(){var e=(0,K.default)(u,!0);e!==u&&r({name:e})},error:a&&0===u.trim().length?X.default.Messages.FORM_THREAD_NAME_REQUIRED_ERROR:null}))}de.displayName="useThreadName";function ce(e,t,n,r,i){var u,f=oe(a.useState(!0),2),d=f[0],c=f[1],v=a.useCallback((function(){return c(!0)}),[]),y=a.useCallback((function(){return c(!1)}),[]),h=a.useCallback((function(t,r,a){l.default.saveDraft(e.id,r,I.DraftType.FirstThreadMessage);n((function(t){""!==r&&t.textValue!==r?s.default.startTyping(e.id):""===r&&s.default.stopTyping(e.id);return{textValue:r,richValue:a}}))}),[e.id,n]),m=a.useCallback((function(e,t,n){return r(e,n,t)}),[r]);(0,x.useComponentAction)({event:Z.ComponentActions.TEXTAREA_FOCUS,handler:v});(0,x.useComponentAction)({event:Z.ComponentActions.TEXTAREA_BLUR,handler:y});var _=i&&0===t.textValue.trim().length;return ue(p.default,{type:le,channel:e,
placeholder:X.default.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,textValue:t.textValue,richValue:t.richValue,focused:d,className:Q.default.channelTextArea2,innerClassName:(0,o.default)(Q.default.channelTextAreaInner2,(u={},u[Q.default.channelTextAreaInnerError2]=_,u)),onFocus:v,onBlur:y,onChange:h,onSubmit:m,promptToUpload:H.promptToUpload})}ce.displayName="useFirstThreadMessage";function pe(e){var t=e.parentChannel,n=e.parentMessageId,r=(0,u.useStateFromStores)([T.default],(function(){return null==n?null:T.default.getMessage(t.id,n)})),a=O.MessageDisplayCompact.useSetting();return null!=r?ue(g.default,{className:Q.default.messagePreview,message:r,channel:t,compact:a,renderThreadAccessory:!1}):null}},690653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(294184)),i=n(321248),u=_(n(872134)),l=_(n(58941)),s=n(688388),f=n(967965),d=n(308920),c=n(682937),p=n(192751),v=n(819235),y=n(770348),h=_(n(247001)),m=_(n(604055));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{
i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=function(e){var t=e.guild,n=e.channel,r=e.autoArchiveDuration,_=e.onChange,g=e.isDisabled,S=(0,p.getAutoArchiveOptions)(t),I=a.useContext(d.AnalyticsContext),C=v.ThreadDurationExperiment.useExperiment({guildId:n.guild_id}).useThreeDayArchiveDuration,T=(0,i.useTrackThreadArchivalDurationUpsell)(I.location,t,n),A=function(e,n){var r,a,i=S.find((function(t){return e.value===t.value}));(null===(r=i)||void 0===r?void 0:r.value)===p.THREE_DAYS&&C&&(i=void 0);if(null!=i&&null!=i.guildFeature&&null!=t){var l,s;return b("span",{className:(0,o.default)(m.default.optionLabel,(l={},l[m.default.dropdownOption]=n,l))},void 0,b("span",{className:(0,
o.default)(m.default.optionLabelCopy,(s={},s[m.default.disabledOptionLabel]=!i.enabled,s))},void 0,e.label),b(u.default,{guild:t,guildFeature:i.guildFeature}))}return b("span",{className:(0,o.default)(m.default.optionLabel,(a={},a[m.default.dropdownOption]=n,a))},void 0,e.label)};return b(s.FormSection,{title:h.default.Messages.FORM_THREAD_AUTO_ARCHIVE_SECTION_LABEL,className:m.default.formSection},void 0,b(f.SingleSelect,{isDisabled:g,options:S,value:r,maxVisibleItems:S.length,onOpen:T,onChange:function(e){var n,r=S.find((function(t){return t.value===e}));(null===(n=r)||void 0===n?void 0:n.value)===p.THREE_DAYS&&C&&(r=void 0);if(null==r||r.enabled||null==r.guildFeature)return _(e);var a=(0,c.minimumRequiredTierForGuildFeature)(r.guildFeature);null!=t&&null!=a&&(0,l.default)({analyticsSourceLocation:O({},I.location,{object:y.AnalyticsObjects.THREAD_ARCHIVE_DURATION_DROPDOWN,objectType:(0,c.boostedGuildTierToAnalyticsObjectType)(a)}),guild:t,targetBoostedGuildTier:a})},
optionClassName:m.default.dropdownOption,renderOptionLabel:function(e){return A(e,!0)},renderOptionValue:function(e){var t=E(e,1)[0];return A(t,!1)}}))};I.displayName="ThreadAutoArchiveDropdown";var C=I;t.default=C},556250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(496486)),i=n(536211),u=m(n(265851)),l=m(n(160629)),s=m(n(830759)),f=n(878556),d=m(n(776360)),c=m(n(782270)),p=n(566142),v=m(n(39447)),y=m(n(247001)),h=m(n(517831));function m(e){return e&&e.__esModule?e:{default:e}}
function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.channel,n=S(a.useState(!1),2),r=n[0],m=n[1],_=(0,i.useStateFromStores)([c.default],(function(){return(0,o.default)(c.default.getThreadsForGuild(t.guild_id)).values().filter((function(e){
return e.parentId===t.id})).size()})),O=a.useCallback((function(){m(!1)}),[]),b=a.useCallback((function(){r||(0,p.trackThreadBrowserOpened)("Popout");m(!r)}),[r]);return E(l.default,{animation:l.default.Animation.NONE,position:l.default.Positions.BOTTOM,align:l.default.Align.RIGHT,autoInvert:!1,shouldShow:r,onRequestClose:O,renderPopout:function(){return E(u.default,{},void 0,E(v.default,{className:h.default.browser,channel:t,onClose:O}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(f.Icon,g({},e,{className:h.default.icon,onClick:b,icon:s.default,"aria-label":y.default.Messages.THREADS,tooltip:n?null:y.default.Messages.THREADS,selected:n}),_>0?E(d.default,{size:d.default.Sizes.SIZE_16,color:d.default.Colors.INTERACTIVE_NORMAL,className:h.default.count},void 0,_>=100?"99+":_):null)}))}b.displayName="ThreadBrowserPopout"},73942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(160629)),i=h(n(91424)),u=h(n(811198)),l=h(n(878556)),s=n(956506),f=n(895431),d=h(n(358751)),c=n(64072),p=n(770348),v=h(n(247001)),y=h(n(353121));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.channel,n=(0,f.useThreadNotificationSetting)(t),r=E(a.useState(!1),2),h=r[0],m=r[1];a.useEffect((function(){var e=function(){return m(!0)};s.ComponentDispatch.subscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){s.ComponentDispatch.unsubscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var S=v.default.Messages.NOTIFICATION_SETTINGS;return _(o.default,{shouldShow:h,animation:o.default.Animation.NONE,position:o.default.Positions.BOTTOM,align:o.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){
return m(!1)},renderPopout:function(e){return a.createElement(d.default,g({},e,{channel:t,navId:"thread-context",label:v.default.Messages.THREAD_ACTIONS_MENU_LABEL}))}},void 0,(function(e,t){var r=t.isShown;return a.createElement(l.default.Icon,g({},e,{onClick:function(){return m((function(e){return!e}))},tooltip:r?null:S,icon:n===c.ThreadMemberFlags.NO_MESSAGES?u.default:i.default,foreground:n===c.ThreadMemberFlags.NO_MESSAGES?y.default.strikethrough:null,"aria-label":S,selected:r}))}))}O.displayName="ThreadNotificationSettingsButton"},627900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var r,a=S(n(667294)),o=g(n(691692)),i=g(n(609510)),u=g(n(894630)),l=g(n(783938)),s=g(n(326348)),f=g(n(730205)),d=g(n(730487)),c=S(n(145122)),p=n(894826),v=g(n(160629)),y=g(n(775803)),h=g(n(878556)),m=g(n(887174)),_=g(n(247001));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){var t=e.channel,n=I(a.useState(!1),2),r=n[0],o=n[1];function i(){o((function(e){return!e}))}var u=_.default.Messages.MORE;return O(v.default,{shouldShow:r,animation:v.default.Animation.NONE,position:v.default.Positions.BOTTOM,align:v.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return o(!1)},renderPopout:function(e){return a.createElement(A,b({},e,{channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(h.default.Icon,b({},e,{onClick:i,tooltip:n?null:u,icon:y.default,"aria-label":u,selected:n}))}))}T.displayName="ThreadOverflowMenuButton";function A(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,o.default)(t),v=(0,s.default)(t),y=(0,d.default)(t.id),h=(0,
i.default)(t),g=(0,u.default)(t,"Toolbar Overflow"),E=(0,l.default)(t),S=(0,f.default)(t),b=p.UseThreadSidebar.useSetting();return O(c.default,{navId:"thread-context",onClose:n,"aria-label":_.default.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:r},void 0,O(c.MenuGroup,{},void 0,g),O(c.MenuGroup,{},void 0,v,E,b?O(c.MenuItem,{id:"open",label:_.default.Messages.OPEN_IN_SPLIT_VIEW,action:function(){m.default.openThreadSidebarForViewing(t)}}):null),O(c.MenuGroup,{},void 0,S,a,h),O(c.MenuGroup,{},void 0,y))}A.displayName="OverflowMenu"},621688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=e.channel,r=e.baseChannelId;return a.createElement(a.Fragment,null,!0===(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived)?null:M(b.default,{channel:n}),M(D,{channel:n}),M(E.default.Icon,{icon:m.default,tooltip:C.default.Messages.CLOSE,onClick:function(){return O.default.closeThreadSidebar(null!=r?r:n.parent_id)}}))}
;var r,a=P(n(667294)),o=T(n(691692)),i=T(n(609510)),u=T(n(894630)),l=T(n(783938)),s=T(n(326348)),f=T(n(480864)),d=T(n(233557)),c=T(n(730205)),p=T(n(730487)),v=P(n(145122)),y=n(391869),h=T(n(160629)),m=T(n(259530)),_=T(n(435012)),g=T(n(775803)),E=T(n(878556)),S=n(956506),O=T(n(887174)),b=T(n(73942)),I=n(770348),C=T(n(247001));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}
return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e){var t=e.channel,n=R(a.useState(!1),2),r=n[0],o=n[1];function i(){o((function(e){return!e}))}var u=C.default.Messages.MORE;return M(h.default,{shouldShow:r,animation:h.default.Animation.NONE,position:h.default.Positions.BOTTOM,align:h.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return o(!1)},renderPopout:function(e){return a.createElement(L,N({},e,{channel:t}))}
},void 0,(function(e,t){var n=t.isShown;return a.createElement(E.default.Icon,N({},e,{onClick:i,tooltip:n?null:u,icon:g.default,"aria-label":u,selected:n}))}))}D.displayName="OverflowMenuButton";function L(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,u.default)(t,"Sidebar Overflow"),h=(0,l.default)(t),m=(0,f.default)(t),g=(0,d.default)(t),E=(0,o.default)(t),O=(0,s.default)(t),b=(0,i.default)(t),T=(0,p.default)(t.id),A=(0,c.default)(t);function P(){(0,y.transitionToChannel)(t.id)}return M(v.default,{navId:"thread-context",onClose:n,"aria-label":C.default.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:r},void 0,M(v.MenuGroup,{},void 0,a,M(v.MenuItem,{id:"open",label:C.default.Messages.OPEN_IN_FULL_VIEW,action:P})),M(v.MenuGroup,{},void 0,m,g),M(v.MenuGroup,{},void 0,O,h),M(v.MenuGroup,{},void 0,M(v.MenuItem,{id:"search",label:C.default.Messages.SEARCH,icon:_.default,action:function(){P();setTimeout((function(){S.ComponentDispatch.dispatch(I.ComponentActions.FOCUS_SEARCH,{
prefillCurrentChannel:!1})}),2e3)}}),M(v.MenuItem,{id:"pins",label:C.default.Messages.PINS,icon:_.default,action:function(){P();S.ComponentDispatch.dispatch(I.ComponentActions.TOGGLE_CHANNEL_PINS)}})),M(v.MenuGroup,{},void 0,A,E,b),M(v.MenuGroup,{},void 0,T))}L.displayName="OverflowMenu"},252283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=e.baseChannelId,b=(0,o.useStateFromStores)([v.default],(function(){return v.default.getChannel(t)})),I=(0,o.useStateFromStores)([h.default],(function(){return h.default.getGuild(null==b?void 0:b.getGuildId())})),T=(0,f.default)(b),M=a.useRef(!1);a.useEffect((function(){if(null!=b&&!M.current){M.current=!0;var e=(0,s.collectThreadMetadata)(v.default.getChannel(b.id),!0);(0,s.trackWithMetadata)(E.AnalyticEvents.CHANNEL_OPENED,P({},e,{channel_id:b.id,guild_id:b.guild_id,parent_id:b.parent_id,channel_view:"Split View"}))}}),[b]);if(null==b||null==I)return null;var N=C(g.default,{
channel:b,baseChannelId:r});return a.createElement(a.Fragment,null,C(l.default,{channel:b,draftType:y.DraftType.ChannelMessage}),C(m.default,{toolbar:N,"aria-label":S.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,(0,c.renderTitle)({channel:b,channelName:T,guild:I,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,A(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,P({},e,{channel:b}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){null!=b&&(0,p.transitionToChannel)(b.id)}})),C("div",{className:O.default.chat},void 0,C(_.default,{channel:b,narrow:!0}),C(u.default,{channel:b,guild:I,chatInputType:d.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=b(n(914789)),l=b(n(805918)),s=n(844784),f=b(n(678928)),d=n(856746),c=n(451115),p=n(391869),v=b(n(644263)),y=n(687549),h=b(n(30098)),m=b(n(878556)),_=b(n(734239)),g=b(n(621688)),E=n(770348),S=b(n(247001)),O=b(n(974290));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}},387812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,l,s,f,d,c,p){var v=r.useCallback((function(e,t,n,r){
a.default.uploadFiles(e.id,t,i.DraftType.FirstThreadMessage,o.default.parse(e,n),{stickerIds:r})}),[]);return(0,u.useCreateThreadCommon)(e,t,n,l,s,f,d,c,p,v)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(274710)),o=l(n(614293)),i=n(687549),u=n(192110);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},785992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SPEECH_RATE_INCREMENTS=t.MAX_TTS_LENGTH=void 0
;t.MAX_TTS_LENGTH=200;t.SPEECH_RATE_INCREMENTS=[0,.25,.5,.75,1,1.25,1.5,1.75,2,2.25,2.5,2.75,3,3.25,3.5,3.75,4,4.25,4.5,4.75,5,5.25,5.5,5.75,6,6.25,6.5,6.75,7,7.25,7.5,7.75,8,8.25,8.5,8.75,9,9.25,9.5,9.75,10]},340877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=P(n(636602)),a=A(n(448549)),o=n(678928),i=A(n(86031)),u=n(894826),l=P(n(423046)),s=P(n(502546)),f=P(n(644263)),d=P(n(876874)),c=P(n(30098)),p=P(n(635014)),v=P(n(201292)),y=P(n(919935)),h=P(n(290629)),m=P(n(211136)),_=P(n(563621)),g=P(n(871778)),E=P(n(728429)),S=n(43247),O=P(n(91603)),b=n(785992),I=n(770348),C=P(n(247001));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e){return e&&e.__esModule?e:{default:e}}var M=[],N=null,R=null,w=null;function D(e,t,n,r){var a=c.default.getGuild(n),i=e.replace(I.MARKDOWN_SPOILER_REGEXP_GLOBAL,C.default.Messages.SPOILER).replace(/<@!?(\d+)>/g,(function(e,t){var r=E.default.getUser(t);return null==r?e:d.default.getNick(n,r.id)||r.username})).replace(/<@&?(\d+)>/g,(function(e,t){var n=null!=a?a.roles[t]:null;return null!=n&&null!=n.name?n.name:C.default.Messages.MESSAGE_TTS_DELETED_ROLE})).replace(/<#(\d+)>/g,(function(e,t){var n=f.default.getChannel(t);return null==n?e:(0,o.computeChannelName)(n,E.default,h.default)})).replace(/<a?:(\w+):(\d+)>/g,(function(e,t){return C.default.Messages.EMOJI+" "+t})).replace(/<\/([^\s]+?):(\d+)>/g,(function(e,t){return"/"+t}))
;return null==r?C.default.Messages.MESSAGE_TTS.format({username:t,body:i}):C.default.Messages.MESSAGE_TTS_REPLY.format({username:t,body:i,replyUsername:r})}function L(){if(!a.supported)return!1;var e=g.default.locale;if(null==w){var t;w=null===(t=window.speechSynthesis)||void 0===t?void 0:t.getVoices()}var n=w.filter((function(t){return t.lang===e||t.lang.slice(0,e.length)===e}));R=n.length>0?n[0]:null}function j(e,t,n,r,o){var i=a.createUtterance(e,n);if(null!==i){null==R&&L();if(t)(0,S.stopSpeaking)();else{var u;null===(u=N)||void 0===u||u.removeEventListener("end",S.stopSpeaking)}i.addEventListener("end",S.stopSpeaking);null!=r&&i.addEventListener("start",r);null!=o&&i.addEventListener("end",o);N=i;a.speakUtterance(i,R)}}function k(e,t,n,r,a){j(e,t,a,(function(){(0,S.speakingMessage)(n,r)}))}function U(e){j(e.text,e.interrupt,e.maxLength,e.onStart,e.onEnd)}function G(){null!==N&&N.removeEventListener("end",S.stopSpeaking);a.cancelAll();N=null;return!0}function F(e){
var t,n,r=e.messageId,a=e.channelId,o=f.default.getChannel(a);if(null==o)return!1;var u=v.default.getMessage(a,r);if(null==u)return!1;var l=u.type===I.MessageTypes.REPLY?i.default.getMessageByReference(u.messageReference):null,s=(null==l?void 0:l.state)===i.ReferencedMessageState.LOADED?null==l||null===(t=l.message)||void 0===t?void 0:t.author:null,c=null!=s?null!==(n=d.default.getNick(o.guild_id,null==s?void 0:s.id))&&void 0!==n?n:s.username:null,p=o.getGuildId(),y=d.default.getNick(p,u.author.id)||u.author.username;k(D(u.content,y,p,c),!0,o.id,u.id);return!0}function x(e){var t=e.channelId,n=e.message;if(e.optimistic||p.default.isSelfDeaf())return!1;var r=f.default.getChannel(t);if(null==r)return!1;var a=m.default.getChannelId(),o=s.default.getCurrentSidebarChannelId(a),i=t===a||t===o,c=u.EnableTTSCommand.getSetting()&&n.tts&&i,v=y.default.getTTSType(),g=n.author.id!==l.default.getId()&&(v===I.TTSNotificationTypes.ALL_CHANNELS||v===I.TTSNotificationTypes.SELECTED_CHANNEL&&i)
;if((c||g)&&!h.default.isBlocked(n.author.id)){var E,S;if(M.indexOf(n.id)>=0)return!1;M.unshift(n.id)>10&&M.pop();var O=r.getGuildId();if(O&&_.default.getMutedChannels(O).has(t))return!1;var C=d.default.getNick(O,n.author.id)||n.author.username,T=n.type===I.MessageTypes.REPLY?null===(E=n.referenced_message)||void 0===E?void 0:E.author:null,A=null!=T?null!==(S=d.default.getNick(O,null==T?void 0:T.id))&&void 0!==S?S:T.username:null;k(D(n.content,C,O,A),!1,r.id,n.id,b.MAX_TTS_LENGTH)}return!1}function V(e){var t=e.id,n=e.channelId,r=O.default.currentMessage;if(null!=r&&t===r.messageId&&n===r.channelId){(0,S.stopSpeaking)();return!0}return!1}function W(){p.default.isSelfDeaf()&&a.cancelAll()}var H={init:function(){r.default.subscribe(I.ActionTypes.SPEAK_TEXT,U);r.default.subscribe(I.ActionTypes.SPEAK_MESSAGE,F);r.default.subscribe(I.ActionTypes.STOP_SPEAKING,G);r.default.subscribe(I.ActionTypes.MESSAGE_CREATE,x);r.default.subscribe(I.ActionTypes.MESSAGE_DELETE,V)
;r.default.subscribe(I.ActionTypes.AUDIO_TOGGLE_SELF_DEAF,W);r.default.subscribe(I.ActionTypes.USER_SETTINGS_UPDATE,L);r.default.subscribe(I.ActionTypes.I18N_LOAD_SUCCESS,L)}};t.default=H},418968:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=m(n(667294)),a=y(n(636602)),o=y(n(177230)),i=y(n(200738)),u=y(n(288356)),l=y(n(788739)),s=y(n(290629)),f=y(n(728429)),d=n(194322),c=m(n(308920)),p=n(770348),v=n(673810);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}var O=null;function b(e){return I.apply(this,arguments)}function I(){return(I=S(regeneratorRuntime.mark((function e(t){var a,o,y,h,m,g,E,b,I,C,T,A,P,M,N,R,w,D,L,j,k,U;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b=t.userId,I=t.section,C=t.guildId,
T=void 0===C?p.ME:C,A=t.friendToken,P=t.autoFocusNote,M=t.analyticsLocation;if(null!=(N=f.default.getUser(b))){e.next=4;break}return e.abrupt("return");case 4:if(null!=(R=l.default.getPrimaryActivity(b))){w=R.party;D=R.assets;L=null!=R.application_id?u.default.getGame(R.application_id):null}j=l.default.getStatus(b);k=l.default.isMobileOnline(b);U=j;j===p.StatusTypes.ONLINE&&(U=k?p.AnalyticsUserStatusTypes.ONLINE_MOBILE:p.AnalyticsUserStatusTypes.ONLINE_DESKTOP);e.next=12;return(0,d.openModalLazy)(S(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(16972)]).then(n.bind(n,116972));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,_({},e,{user:N,autoFocusNote:P,guildId:T,friendToken:A,initialSection:I}))}));case 5:case"end":return e.stop()}}),e)}))));case 12:O=e.sent;c.default.track(p.AnalyticEvents.OPEN_MODAL,_({
type:"Profile Modal",other_user_id:b,application_id:null!==(a=null==R?void 0:R.application_id)&&void 0!==a?a:null,application_name:null==R?void 0:R.name,sku_id:null!==(o=null===(y=L)||void 0===y?void 0:y.primarySkuId)&&void 0!==o?o:null,is_friend:s.default.isFriend(b),has_images:Boolean(null!=D&&(D.large_image||D.small_image)),party_max:null===(h=w)||void 0===h||null===(m=h.size)||void 0===m?void 0:m[1],party_id:null===(g=w)||void 0===g?void 0:g.id,party_platform:(0,v.isSpotifyParty)(null===(E=w)||void 0===E?void 0:E.id)?p.PlatformTypes.SPOTIFY:null,game_platform:(0,i.default)(R),profile_user_status:U,profile_has_nitro_customization:null!=N.banner},null==M?null:(0,c.expandLocation)(M)));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){null!=O&&(0,d.closeModal)(O);O=null}var T=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype
;n._initialize=function(){a.default.subscribe(p.ActionTypes.USER_PROFILE_MODAL_OPEN,b);a.default.subscribe(p.ActionTypes.USER_PROFILE_MODAL_CLOSE,C)};n._terminate=function(){a.default.unsubscribe(p.ActionTypes.USER_PROFILE_MODAL_OPEN,b);a.default.unsubscribe(p.ActionTypes.USER_PROFILE_MODAL_CLOSE,C)};return t}(o.default));t.default=T},142006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=_(n(294184)),i=n(536211),u=n(483559),l=_(n(257867)),s=_(n(956117)),f=_(n(530250)),d=n(354479),c=n(688388),p=n(3400),v=_(n(582945)),y=n(770348),h=_(n(247001)),m=_(n(634298));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){
var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=E(c.FormDivider,{}),T=E(c.FormDivider,{});function A(e){var t=e.transitionState,r=(0,i.useStateFromStoresObject)([l.default],(function(){return{requiredAction:l.default.getAction()}})).requiredAction,_=b(a.useState(!1),2),g=_[0],S=_[1],I=(0,d.useUID)();function A(){return(A=O(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0);if(r!==y.UserRequiredActions.AGREEMENTS){e.next=8;break}e.next=4;return(0,u.acceptAgreements)();case 4:t=e.sent;S(t);e.next=13;break;case 8:if(r!==y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT){e.next=13;break}e.next=11;return(0,u.acknowledgeTOSNotification)();case 11:n=e.sent;S(n);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return E(p.ModalRoot,{"aria-labelledby":I,transitionState:t,className:(0,
o.default)(m.default.modal,m.default.specificOverride,"theme-light")},void 0,E("div",{id:I,className:m.default.title},void 0,h.default.Messages.NEW_TERMS_TITLE),C,E(v.default,{},void 0,E(c.FormText,{className:m.default.description},void 0,r===y.UserRequiredActions.AGREEMENTS?h.default.Messages.TERMS_AGREEMENT_DESCRIPTION_1:r===y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT?h.default.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_1.format({date:y.TOS_AGREEMENT_DUE_BY}):null),E(c.FormText,{className:m.default.description},void 0,r===y.UserRequiredActions.AGREEMENTS?h.default.Messages.TERMS_AGREEMENT_DESCRIPTION_2:r===y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT?h.default.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_2:null),E(f.default,{className:m.default.container,align:f.default.Align.CENTER,justify:f.default.Justify.CENTER},void 0,E(f.default,{direction:f.default.Direction.VERTICAL},void 0,E("div",{className:m.default.link},void 0,h.default.Messages.TERMS_OF_SERVICE.format({
url:y.MarketingURLs.TERMS})),E("div",{className:m.default.link},void 0,h.default.Messages.PRIVACY_POLICY.format({url:y.MarketingURLs.PRIVACY})),E("div",{className:m.default.link},void 0,h.default.Messages.COMMUNITY_GUIDELINES.format({url:y.MarketingURLs.GUIDELINES})),E("div",{className:m.default.link},void 0,h.default.Messages.BLOG_POST.format({url:y.MarketingURLs.TOS_UPDATE_FEB_2022}))),E("img",{className:m.default.image,alt:"",src:n(31890)}))),T,E("div",{className:m.default.buttonContainer},void 0,E(s.default,{className:m.default.button,submitting:g,onClick:function(){return A.apply(this,arguments)}},void 0,h.default.Messages.GOT_IT)))}A.displayName="UserAgreementsModal"},77670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=h(n(667294)),o=v(n(636602)),i=h(n(403607)),u=v(n(728429)),l=n(378444),s=v(n(749033)),f=n(194322),d=v(n(142006)),c=n(770348),p=n(478036);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var _="AGREEMENTS_MODAL_KEY",g=m(i.default,{}),E={init:function(){o.default.subscribe(c.ActionTypes.CONNECTION_OPEN,this.handleRequiredAction);o.default.subscribe(c.ActionTypes.USER_REQUIRED_ACTION_UPDATE,this.handleRequiredAction);o.default.subscribe(c.ActionTypes.CURRENT_USER_UPDATE,this.handleCurrentUserUpdate);o.default.subscribe(c.ActionTypes.LOGOUT,this.handleLogout)},handleRequiredAction:function(e){var t=e.requiredAction;if(null==u.default.getCurrentUser()){(0,l.closeFullScreenLayer)("verification");(0,f.hasModalOpen)(_)&&(0,f.closeModal)(_)}else if(t===c.UserRequiredActions.REQUIRE_CAPTCHA||t===c.UserRequiredActions.REQUIRE_VERIFIED_EMAIL||t===c.UserRequiredActions.REQUIRE_VERIFIED_PHONE)(0,l.openFullScreenLayer)((function(){return g}),{layerKey:"verification",Layer:s.default});else if(t===c.UserRequiredActions.AGREEMENTS||t===c.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT)(0,f.openModal)((function(e){return a.createElement(d.default,e)}),{modalKey:_,
onCloseRequest:p.NOOP_NULL});else if(null==t){(0,l.closeFullScreenLayer)("verification");(0,f.hasModalOpen)(_)&&(0,f.closeModal)(_)}},handleLogout:function(){(0,l.closeFullScreenLayer)("verification")},handleCurrentUserUpdate:function(e){e.user.verified&&(0,f.closeModal)(i.EMAIL_VERIFICATION_MODAL_KEY)}};t.default=E},421010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}var f={},d=null;function c(){f={};d=null}var p=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}t.prototype.getEmailSettings=function(){return{categories:f,initialized:d}};return t}(a.default.Store))(o.default,((r={})[i.ActionTypes.CONNECTION_OPEN]=c,r[i.ActionTypes.LOGOUT]=c,r[i.ActionTypes.EMAIL_SETTINGS_FETCH_SUCCESS]=function(e){var t=e.settings;f=t.categories;d=t.initialized},r[i.ActionTypes.EMAIL_SETTINGS_UPDATE_SUCCESS]=function(e){var t=e.settings;f=t.categories},r[i.ActionTypes.EMAIL_SETTINGS_UPDATE]=function(e){var t=e.updates;f=s({},f,{},t)},r));t.default=p},933411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(213192)),a=f(n(496486)),o=f(n(536211)),i=n(358103),u=f(n(972247)),l=n(324828),s=n(840433);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=(0,r.default)({IMAGE:null,VIDEO:null}),n=o.default.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[function(e){return null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e},function(e){return Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}}]).state
;return null==n||0===n.favorites.length?[]:n.favorites.map((function(r,a){var o=i.FavoriteGIF.create();o.format=r.format===t.IMAGE?i.GIFType.IMAGE:r.format===t.VIDEO?i.GIFType.VIDEO:i.GIFType.NONE;o.src=r.src;o.width=r.width;o.height=r.height;o.order=n.favorites.length-a+e;return{url:r.url,favorite:o}}))}var v=[{version:2,run:function(e){var t=p(1);if(0===t.length)return!1;null==e.favoriteGifs&&(e.favoriteGifs=i.FavoriteGIFs.create());e.favoriteGifs.gifs={};for(var n,r=d(t);!(n=r()).done;){var a=n.value,o=a.url,u=a.favorite;e.favoriteGifs.gifs[o]=u}e.favoriteGifs.hideTooltip=t.length>2;return!0},cleanup:function(){}},{version:3,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[function(e){return null==e||0===Object.keys(e).length?{usageHistory:{},favorites:[]}:e},function(e){if(null==e||0===Object.keys(e).length)return{usageHistory:{},favorites:[]};null==e.favorites&&(e.favorites=[]);return e}]).state;if(null==t)return!1;var n=!1
;if(t.favorites.length>0){e.favoriteStickers=i.FavoriteStickers.create();e.favoriteStickers.stickerIds=a.default.uniq(t.favorites).slice(0,s.MAX_FAVORITES);n=!0}if(a.default.size(t.usageHistory)>0){e.stickerFrecency=i.StickerFrecency.create();e.stickerFrecency.stickers=(0,l.serializeUsageHistory)(t.usageHistory,100);n=!0}return n},cleanup:function(){u.default.remove("StickersPersistedStore")}},{version:4,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{usageHistory:u.default.get("EmojiUsageHistory")||{}}}]).state;if(null==t)return!1;var n=!1;if(null!=t.favorites&&t.favorites.length>0){e.favoriteEmojis=i.FavoriteEmojis.create();e.favoriteEmojis.emojis=a.default.uniq(t.favorites).slice(0,s.MAX_FAVORITES);n=!0}if(a.default.size(t.usageHistory)>0){e.emojiFrecency=i.EmojiFrecency.create();e.emojiFrecency.emojis=(0,l.serializeUsageHistory)(t.usageHistory,100);n=!0}return n},cleanup:function(){u.default.remove("EmojiStore")
;u.default.remove("EmojiUsageHistory");u.default.remove("EmojiDiversitySurrogate")}},{version:6,run:function(e){null==e.favoriteGifs&&(e.favoriteGifs=i.FavoriteGIFs.create());null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});var t=p(1);if(0===t.length)return!1;(0,a.default)(e.favoriteGifs.gifs).values().sortBy("order").forEach((function(e,n){return e.order=t.length+1+n}));for(var n,r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length,o=0,u=d(t);!(n=u()).done;){var l=n.value,f=l.url,c=l.favorite;c.order=t.length-o;o++;if(f in e.favoriteGifs.gifs)e.favoriteGifs.gifs[f].order=c.order;else{var v=i.FavoriteGIF.toBinary(c).length+f.length+7;if(!(r+v>s.MAX_FAVORITE_GIFS_SIZE)){r+=v;e.favoriteGifs.gifs[f]=c}}}r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length;for(;r>s.MAX_FAVORITE_GIFS_SIZE;){var y=0;for(var h in e.favoriteGifs.gifs){delete e.favoriteGifs.gifs[h];if(++y>=10)break}r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length}return!0},cleanup:function(){}},{version:7,run:function(e){
var t=o.default.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]).state;if(null==t)return!1;var n=!1;if(a.default.size(t.usageHistory)>0){e.applicationCommandFrecency=i.ApplicationCommandFrecency.create();e.applicationCommandFrecency.applicationCommands=(0,l.serializeUsageHistory)(t.usageHistory,500);n=!0}return n},cleanup:function(){u.default.remove("ApplicationCommandFrecency")}}];t.default=v},409501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=y(n(496486)),a=n(358103),o=y(n(972247)),i=y(n(636602)),u=y(n(290760)),l=y(n(371732)),s=y(n(433385)),f=n(828593),d=y(n(960441)),c=n(324828),p=n(840433),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}
function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var _="lastFrecencySavedTime",g=3e5*Math.random(),E=864e5+Math.floor(36e5*Math.random()),S=null,O=Date.now(),b={init:function(){i.default.subscribe(v.ActionTypes.CONNECTION_OPEN,I);i.default.subscribe(v.ActionTypes.CONNECTION_RESUMED,I);i.default.subscribe(v.ActionTypes.CONNECTION_CLOSED,C);f.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return!1},processProto:function(){P(!0)}});f.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return l.default.hasPendingUsage()&&d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(l.default.hasPendingUsage()&&d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.stickerFrecency=a.StickerFrecency.create();e.stickerFrecency.stickers=(0,c.serializeUsageHistory)(l.default.stickerFrecencyWithoutFetchingLatest.usageHistory,100)}}})
;f.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return s.default.hasPendingUsage()&&d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(s.default.hasPendingUsage()&&d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.emojiFrecency=a.EmojiFrecency.create();e.emojiFrecency.emojis=(0,c.serializeUsageHistory)(s.default.emojiFrecencyWithoutFetchingLatest.usageHistory,100)}}});f.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return u.default.hasPendingUsage()&&d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(u.default.hasPendingUsage()&&d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.applicationCommandFrecency=a.ApplicationCommandFrecency.create();e.applicationCommandFrecency.applicationCommands=(0,
c.serializeUsageHistory)(u.default.getCommandFrecencyWithoutLoadingLatest().usageHistory,500)}}})}};t.default=b;function I(){var e;O=null!==(e=o.default.get(_))&&void 0!==e?e:Date.now();P(!1)}function C(){clearTimeout(S);S=null}function T(){return A.apply(this,arguments)}function A(){return(A=m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O=Date.now();P(!0);if(d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.next=6;break}if(!(l.default.hasPendingUsage()||s.default.hasPendingUsage()||u.default.hasPendingUsage())){e.next=6;break}e.next=6;return f.FrecencyUserSettingsActionCreators.loadIfNecessary();case 6:r.default.forEach(f.UserSettingsActionCreatorsByType,(function(e){e.markDirtyIfHasPendingChange()}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){if(e){O=Date.now();o.default.set(_,O)}null!=S&&clearTimeout(S);var t=Date.now()-O,n=Math.max(g,E-t)
;S=setTimeout(T,n)}},562497:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(536211)),a=n(923387),o=n(629015),i=p(n(972247)),u=n(6505),l=p(n(644263)),s=n(925179),f=n(324828),d=n(770348),c=n(198622);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var n=!1;null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array});null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array);if(!(0,s.hasBit)(e.userContent.dismissedContents,t)){e.userContent.dismissedContents=(0,s.addBit)(e.userContent.dismissedContents,t);n=!0}return n}function y(e,t,n){return!!u.HotspotStore.hasHiddenHotspot(t)&&v(e,n)}var h=[{version:2,run:function(e){var t,n;!function(e){e.Mentions="Recent Mentions";e.Unreads="Inbox"}(n||(n={}));if(null!=e.inbox)return!1;var r=!1,o=a.InboxSettings.create();e.inbox=o;if(i.default.get("seenInboxTutorial",!1)){o.viewedTutorial=!0;r=!0}var u=i.default.get("recentsButtonTab2")
;if(null!=u){o.currentTab=u===n.Mentions?a.InboxTab.MENTIONS:a.InboxTab.UNREADS;r=!0}var s=null!==(t=i.default.get("unread-messages-collapsed-channels"))&&void 0!==t?t:{};for(var d in s){var c;if(s[d]){var p=l.default.getChannel(d);if(null!=p){r=!0;(0,f.mutateUserChannelSettings)(e,null!==(c=p.guild_id)&&void 0!==c?c:"0",p.id,(function(e){e.collapsedInInbox=!0}))}}}return r},cleanup:function(){i.default.remove("seenInboxTutorial");i.default.remove("recentsButtonTab2");i.default.remove("unread-messages-collapsed-channels")}},{version:3,run:function(e){var t=r.default.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{diversitySurrogate:i.default.get("EmojiDiversitySurrogate")||""}}]).state;if(null==t)return!1;var n=!1;if(null!=t.diversitySurrogate&&""!==t.diversitySurrogate){null==e.textAndImages&&(e.textAndImages=a.TextAndImagesSettings.create());null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=o.StringValue.create())
;e.textAndImages.diversitySurrogate.value=t.diversitySurrogate;n=!0}return n},cleanup:function(){}},{version:4,run:function(e){var t=!1;(!0===i.default.get("HAS_SEEN_HUB_UPSELL")||u.HotspotStore.hasHiddenHotspot(u.HotspotLocations.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=v(e,a.DismissibleContent.HUB_WAITLIST_UPSELL));return t},cleanup:function(){i.default.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,run:function(e){var t,n,r,u,l,s,f,d=!1;e.textAndImages=null!==(t=e.textAndImages)&&void 0!==t?t:a.TextAndImagesSettings.create();e.notifications=null!==(n=e.notifications)&&void 0!==n?n:a.NotificationSettings.create();e.privacy=null!==(r=e.privacy)&&void 0!==r?r:a.PrivacySettings.create();e.voiceAndVideo=null!==(u=e.voiceAndVideo)&&void 0!==u?u:a.VoiceAndVideoSettings.create();e.gameLibrary=null!==(l=e.gameLibrary)&&void 0!==l?l:a.GameLibrarySettings.create();e.debug=null!==(s=e.debug)&&void 0!==s?s:a.DebugSettings.create();var c=null!==(f=i.default.get("UserSettingsStore"))&&void 0!==f?f:{}
;if("boolean"==typeof c.useRichChatTextBox){e.textAndImages.useRichChatInput=o.BoolValue.create({value:c.useRichChatTextBox});d=!0}if("string"==typeof c.renderSpoilers){e.textAndImages.renderSpoilers=o.StringValue.create({value:c.renderSpoilers});d=!0}if("boolean"==typeof c.useThreadSidebar){e.textAndImages.useThreadSidebar=o.BoolValue.create({value:c.useThreadSidebar});d=!0}if("boolean"==typeof c.showInAppNotifications){e.notifications.showInAppNotifications=o.BoolValue.create({value:c.showInAppNotifications});d=!0}if(c.emojiPickerCollapsedSections instanceof Array){e.textAndImages.emojiPickerCollapsedSections=c.emojiPickerCollapsedSections;d=!0}if(c.stickerPickerCollapsedSections instanceof Array){e.textAndImages.stickerPickerCollapsedSections=c.stickerPickerCollapsedSections;d=!0}if("boolean"==typeof c.viewImageDescriptions){e.textAndImages.viewImageDescriptions=o.BoolValue.create({value:c.viewImageDescriptions});d=!0}if("boolean"==typeof c.showCommandSuggestions){
e.textAndImages.showCommandSuggestions=o.BoolValue.create({value:c.showCommandSuggestions});d=!0}if("boolean"==typeof c.alwaysPreviewVideo){e.voiceAndVideo.alwaysPreviewVideo=o.BoolValue.create({value:c.alwaysPreviewVideo});d=!0}if("boolean"==typeof c.notifyFriendsOnGoLive){e.notifications.notifyFriendsOnGoLive=o.BoolValue.create({value:c.notifyFriendsOnGoLive});d=!0}if("boolean"==typeof c.installShortcutDesktop){e.gameLibrary.installShortcutDesktop=o.BoolValue.create({value:c.installShortcutDesktop});d=!0}if("boolean"==typeof c.installShortcutStartMenu){e.gameLibrary.installShortcutStartMenu=o.BoolValue.create({value:c.installShortcutStartMenu});d=!0}if("boolean"==typeof c.allowActivityPartyPrivacyFriends){e.privacy.allowActivityPartyPrivacyFriends=o.BoolValue.create({value:c.allowActivityPartyPrivacyFriends});d=!0}if("boolean"==typeof c.allowActivityPartyPrivacyVoiceChannel){e.privacy.allowActivityPartyPrivacyVoiceChannel=o.BoolValue.create({
value:c.allowActivityPartyPrivacyVoiceChannel});d=!0}if("boolean"==typeof c.rtcPanelShowVoiceStates){e.debug.rtcPanelShowVoiceStates=o.BoolValue.create({value:c.rtcPanelShowVoiceStates});d=!0}return d},cleanup:function(){}},{version:7,run:function(e){return y(e,u.HotspotLocations.APPLICATION_COMMAND_TOOLTIP,a.DismissibleContent.APPLICATION_COMMAND_TOOLTIP)},cleanup:function(){}},{version:8,run:function(e){return y(e,u.HotspotLocations.CHANNEL_BANNER_MEMBER_LIST_NOTICE,a.DismissibleContent.CHANNELINFO_CHANNELBANNER_NOTICE)},cleanup:function(){}},{version:9,run:function(e){u.HotspotStore.hasHiddenHotspot(u.HotspotLocations.MULTI_ACCOUNT_TOOLTIP)&&i.default.set(c.MULTIACCOUNT_TOOLTIP_SEEN_KEY,"true");return y(e,u.HotspotLocations.MULTI_ACCOUNT_TOOLTIP,a.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP)},cleanup:function(){}},{version:10,run:function(e){
var t,n=y(e,u.HotspotLocations.HUB_LINK_CHANNEL_NOTICE,a.DismissibleContent.CHANNEL_NOTICE_HUBLINK),r=null!==(t=i.default.get("channelNotices"))&&void 0!==t?t:{};!1===r[d.ChannelNoticeTypes.INVITE]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_INVITE)&&(n=!0);!1===r[d.ChannelNoticeTypes.QUICKSWITCHER]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0);!1===r[d.ChannelNoticeTypes.GUILD_BOOSTING_GUILD_AFFINITY]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION_AFFINITY)&&(n=!0);!1===r[d.ChannelNoticeTypes.GUILD_BOOSTING]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0);return n},cleanup:function(){i.default.remove("channelNotices")}},{version:11,run:function(e){var t=!1;y(e,u.HotspotLocations.GUILD_EVENT_UPSELL,a.DismissibleContent.GUILD_HEADER_EVENT_UPSELL)&&(t=!0);y(e,u.HotspotLocations.PREMIUM_GUILD_MEMBER_PROFILE,a.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_MEMBER_PROFILE)&&(t=!0)
;y(e,u.HotspotLocations.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS)&&(t=!0);y(e,u.HotspotLocations.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0);return t},cleanup:function(){}},{version:12,run:function(e){var t=!1;i.default.get("hideNag")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0);i.default.get("hideConnectSpotify")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);i.default.get("hideConnectPlayStation")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);i.default.get("hideMFASMSNotice")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0);return t},cleanup:function(){i.default.remove("hideNag");i.default.remove("hideConnectSpotify");i.default.remove("hideConnectPlayStation");i.default.remove("hideMFASMSNotice")}},{version:13,run:function(e){var t=!1
;i.default.get("hidePremiumPromo")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0);i.default.get("hidePremiumTier2TrialEnding")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0);i.default.get("hidePremiumReactivateNotice")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0);y(e,u.HotspotLocations.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_INVITE_SPLASH)&&(t=!0);return t},cleanup:function(){i.default.remove("hidePremiumPromo");i.default.remove("hidePremiumTier2TrialEnding");i.default.remove("hidePremiumReactivateNotice")}},{version:14,run:function(e){return y(e,u.HotspotLocations.ACTIVITY_BEB_TUTORIAL,a.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK)},cleanup:function(){}}];t.default=h},859566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=c(n(496486)),a=c(n(636602)),o=c(n(933411)),i=c(n(562497)),u=c(n(228087)),l=n(828593),s=c(n(960441)),f=n(840433),d=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}var p={init:function(){u.default[f.UserSettingsTypes.PRELOADED_USER_SETTINGS]=i.default;u.default[f.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS]=o.default;a.default.subscribe(d.ActionTypes.CONNECTION_OPEN,v);a.default.subscribe(d.ActionTypes.USER_SETTINGS_PROTO_ENQUEUE_UPDATE,y);a.default.subscribe(d.ActionTypes.USER_SETTINGS_PROTO_LOAD_IF_NECESSARY,h);a.default.subscribe(d.ActionTypes.APP_STATE_UPDATE,m)}};t.default=p;function v(){var e=s.default.getFullState(),t=e[f.UserSettingsTypes.PRELOADED_USER_SETTINGS];t.editInfo.triggeredMigrations&&l.PreloadedUserSettingsActionCreators.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs);r.default.forEach(l.UserSettingsActionCreatorsByType,(function(t,n){null!=e[Number(n)].editInfo.offlineEditDataVersion&&t.scheduleSaveFromOfflineEdit()}))}function y(e){
var t=e.settings,n=t.proto,r=t.type,a=e.delaySeconds,o=e.jitter;l.UserSettingsActionCreatorsByType[r].markDirty(n,{delaySeconds:a,jitter:o})}function h(e){var t=e.settingsType;l.UserSettingsActionCreatorsByType[t].loadIfNecessary()}function m(e){var t=e.state;"inactive"!==t&&"background"!==t||r.default.forEach(l.UserSettingsActionCreatorsByType,(function(e,t){if(null!=s.default.getFullState()[Number(t)].editInfo.timeout){e.logger.log("Triggering persistChanges due to AppStateUpdate");e.persistChanges()}}))}},197105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=c(n(740207)),u=n(145122),l=c(n(999607)),s=c(n(635014)),f=n(758956),d=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return y.apply(this,arguments)}function h(){var e=(0,o.useStateFromStores)([s.default],(function(){return(0,f.amplitudeToPerceptual)(s.default.getInputVolume())}));return v(u.MenuControlItem,{id:"input",label:d.default.Messages.FORM_LABEL_INPUT_VOLUME,control:function(t,n){return a.createElement(l.default,y({},t,{ref:n,value:e,onChange:function(e){return i.default.setInputVolume((0,f.perceptualToAmplitude)(e))},"aria-label":d.default.Messages.FORM_LABEL_INPUT_VOLUME}))}})}h.displayName="useInputDeviceVolumeItem"},989546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=!l.isPlatformEmbedded,t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getMode()})),n=function(e,n){return p(i.MenuRadioItem,{id:e,group:"input-modes",label:n,checked:t===e,action:function(){return o.default.setMode(e)}},e)}
;return[n(s.InputModes.VOICE_ACTIVITY,f.default.Messages.INPUT_MODE_VAD),n(s.InputModes.PUSH_TO_TALK,e?f.default.Messages.INPUT_MODE_PTT_LIMITED:f.default.Messages.INPUT_MODE_PTT)]};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=d(n(740207)),i=n(145122),u=d(n(635014)),l=n(864489),s=n(770348),f=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},793963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=p(n(740207)),u=n(145122),l=p(n(999607)),s=p(n(635014)),f=n(758956),d=n(864489),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(){var e=(0,
o.useStateFromStores)([s.default],(function(){return(0,f.amplitudeToPerceptual)(s.default.getOutputVolume())}));return y(u.MenuControlItem,{id:"output",label:c.default.Messages.FORM_LABEL_OUTPUT_VOLUME,control:function(t,n){return a.createElement(l.default,h({},t,{ref:n,value:e,maxValue:d.isPlatformEmbedded?200:100,onChange:function(e){return i.default.setOutputVolume((0,f.perceptualToAmplitude)(e))},"aria-label":c.default.Messages.FORM_LABEL_OUTPUT_VOLUME}))}})}m.displayName="useOutputDeviceVolumeItem"},914905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showInvalidUsernameToast=function(){(0,o.showToast)((0,a.createToast)(i.default.Messages.USER_SETTINGS_UPDATE_FAILURE,a.ToastType.FAILURE))};var r,a=n(767019),o=n(143586),i=(r=n(247001))&&r.__esModule?r:{default:r}},712594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,r.useStateFromStores)([a.default],(function(){return(0,o.default)(a.default)}))}
;var r=n(536211),a=i(n(635014)),o=i(n(895355));function i(e){return e&&e.__esModule?e:{default:e}}},213787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.guildExperiment=void 0;t.useHorizontalParticipantsLayoutExperiment=function(e){var t=a.useExperiment({guildId:e}).isHorizontalLayout,n=o.useExperiment({},{autoTrackExposure:!0}).isHorizontalLayout;return t||n};t.userExperiment=void 0;var r=n(373505),a=(0,r.createExperiment)({kind:"guild",id:"2022-01_horizontal_participants_ga",label:"Horizontal video participants layout (guilds)",defaultConfig:{isHorizontalLayout:!1},treatments:[{id:0,label:"Control",config:{isHorizontalLayout:!1}},{id:1,label:"Use horizontal layout",config:{isHorizontalLayout:!0}}]});t.guildExperiment=a;var o=(0,r.createExperiment)({kind:"user",id:"2022-01_horizontal_participants_user_ga",label:"Horizontal video participants layout (users)",defaultConfig:{isHorizontalLayout:!1},treatments:[{id:0,label:"Control",config:{isHorizontalLayout:!1
}},{id:1,label:"Use horizontal layout",config:{isHorizontalLayout:!0}}]});t.userExperiment=o},203737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t.type===o.ParticipantTypes.ACTIVITY)return null;return a.default.getName(e.getGuildId(),e.id,t.user)};var r,a=(r=n(29652))&&r.__esModule?r:{default:r},o=n(859089)},183612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n;return e.type!==r.ParticipantTypes.ACTIVITY&&((0,r.isStreamParticipant)(e)?null!=e.streamId:null!==(t=null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&void 0!==t&&t)};var r=n(859089)},373115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStoresObject)([o.default],(function(){var e,t,n=null===(e=null===(t=(0,r.default)(o.default.getVideoDevices()).values().first())||void 0===t?void 0:t.disabled)||void 0===e||e;return{
enabled:o.default.isVideoEnabled(),cameraUnavailable:n||!o.default.supports(i.Features.VIDEO)}})),t=e.enabled,n=e.cameraUnavailable;return{enabled:t,cameraUnavailable:n}};var r=u(n(496486)),a=n(536211),o=u(n(635014)),i=n(376293);function u(e){return e&&e.__esModule?e:{default:e}}},105847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getDeafStates=l;var r=n(536211),a=u(n(423046)),o=u(n(635014)),i=u(n(387692));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r){var u;void 0===t&&(t=i.default);void 0===n&&(n=o.default);void 0===r&&(r=a.default);var l=null!=e?t.getVoiceState(e.getGuildId(),r.getId()):null;return{selfDeaf:n.isSelfDeaf(),deaf:null!==(u=null==l?void 0:l.deaf)&&void 0!==u&&u}}var s=function(e){return(0,r.useStateFromStoresObject)([i.default,o.default,a.default],(function(){return l(e,i.default,o.default,a.default)}))};t.default=s},423405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;t.getMuteStates=d;var r=n(536211),a=f(n(686305)),o=f(n(423046)),i=f(n(635014)),u=f(n(689389)),l=f(n(387692)),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,f,d){var c;void 0===t&&(t=o.default);void 0===n&&(n=l.default);void 0===r&&(r=i.default);void 0===f&&(f=u.default);void 0===d&&(d=a.default);var p=null!=e?n.getVoiceState(e.getGuildId(),t.getId()):null,v=r.isSelfMute()||r.isSelfMutedTemporarily(),y=null==e?void 0:e.getGuildId(),h=d.isViewingRoles(y)&&!f.can(s.Permissions.SPEAK,e);return{selfMute:v,suppress:(null==p?void 0:p.suppress)||h,mute:null!==(c=null==p?void 0:p.mute)&&void 0!==c&&c}}var c=function(e){return(0,r.useStateFromStoresObject)([l.default,o.default,i.default,u.default,a.default],(function(){return d(e,o.default,l.default,i.default,u.default,a.default)}))};t.default=c},830543:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Avatars=G;t.default=x;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=D(n(294184)),i=D(n(496486)),u=n(536211),l=n(556470),s=D(n(303798)),f=D(n(474177)),d=D(n(93879)),c=D(n(769195)),p=D(n(205990)),v=D(n(322946)),y=D(n(469487)),h=D(n(818994)),m=D(n(423046)),_=D(n(689389)),g=D(n(728429)),E=D(n(956117)),S=D(n(80828)),O=n(730977),b=D(n(628551)),I=D(n(776360)),C=n(698243),T=n(71246),A=D(n(29652)),P=n(770348),M=n(418173),N=n(942675),R=D(n(247001)),w=D(n(854911));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){
return e?n:t})(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(e){var t,n,r=e.avatarSize,a=e.compact,u=e.guildId,l=e.users,s=null!=r?r:N.Sizes.SIZE_32,f=(0,N.getAvatarSize)(s),d=l.length-3,c=(0,i.default)(l).take(3).map((function(e,t){var n,r,i=null==e?void 0:e.toString();return U(O.TooltipContainer,{text:i,color:O.TooltipColors.GREY,className:(0,o.default)(w.default.avatar,(n={},n[w.default.compact]=a,n))},e.id,U(b.default,{className:(0,o.default)((r={},r[w.default.avatarMask]=t!==l.length-1,r)),src:e.getAvatarURL(u,f),"aria-label":i,size:s}))})).value();return U("div",{className:(0,
o.default)(w.default.avatars,(t={},t[w.default.compact]=a,t))},void 0,c,d>0?U("div",{style:{width:f,height:f},className:(0,o.default)(w.default.overflow,w.default.avatar,(n={},n[w.default.compact]=a,n))},void 0,U(I.default,{color:I.default.Colors.INTERACTIVE_NORMAL,size:a?I.default.Sizes.SIZE_10:I.default.Sizes.SIZE_16},void 0,"+"+d)):null)}G.displayName="Avatars";function F(e){var t,n,r,i=e.participants,f=e.application,d=e.currentEmbeddedApplication,c=e.channel,v=e.width,y=e.joinSecret,S=v<=400,O=function(e){return e>400?[b.default.Sizes.SIZE_56,56]:e>300?[b.default.Sizes.SIZE_32,32]:e>200?[b.default.Sizes.SIZE_24,24]:[b.default.Sizes.SIZE_16,16]}(v),C=a.useContext(h.default),N=(0,u.useStateFromStoresArray)([g.default,m.default],(function(){return Array.from(i).map((function(e){return m.default.getId()===e?null:g.default.getUser(e)})).filter(T.isNotNullish)})),D=(0,u.useStateFromStores)([s.default],(function(){return s.default.getEmbeddedActivitiesForChannel(c.id).find((function(e){
return e.application_id===f.id}))})),L=(0,l.useAnalyticsContext)(),j=null!==(t=A.default.getName(c.getGuildId(),c.id,null==N?void 0:N[0]))&&void 0!==t?t:null==N||null===(n=N[0])||void 0===n?void 0:n.username,k=(0,u.useStateFromStores)([_.default],(function(){return _.default.can(P.Permissions.USE_EMBEDDED_ACTIVITIES,c)}),[c])&&null!=y;return U("div",{className:w.default.splash},void 0,U(G,{avatarSize:O[0],compact:S,guildId:c.getGuildId(),users:N}),!S&&U(I.default,{size:I.default.Sizes.SIZE_16,className:w.default.subheader},void 0,N.length>1?R.default.Messages.EMBEDDED_ACTIVITIES_ARE_PLAYING.format({username:j,count:N.length-1}):R.default.Messages.EMBEDDED_ACTIVITIES_IS_PLAYING.format({username:j})),U(I.default,{size:S?I.default.Sizes.SIZE_16:I.default.Sizes.SIZE_24,className:(0,o.default)(w.default.header,(r={},r[w.default.compact]=S,r))},void 0,f.name),U("div",{className:w.default.buttons},void 0,k?U(E.default,{size:S?E.default.Sizes.TINY:E.default.Sizes.MEDIUM,
className:w.default.button,onClick:function(e){e.stopPropagation();null!=D&&(0,p.default)(D,!0,d,c.id,M.ActivityIntent.PLAY,L.location,C)}},void 0,R.default.Messages.EMBEDDED_ACTIVITIES_JOIN_ACTIVITY):null))}F.displayName="Splash";function x(e){var t,n=e.participant,r=e.width,o=e.selected,i=e.interactible,u=e.channel,l=n.id,s=(0,f.default)(),p=(null==s?void 0:s.channelId)===u.id&&s.application_id===l,h=(0,d.default)(),m=j((0,y.default)([l]),1)[0],_=j(a.useState(null),2),g=_[0],E=_[1],O=!p&&null==n.joinSecret,b=!o&&p,I=!p,T=!p&&!o;a.useEffect((function(){(0,C.getAssetIds)(l,["embedded_background"]).then((function(e){var t=j(e,1)[0];return E(t)}))}),[l]);if(O)t=U(S.default,{className:w.default.spinner});else{var A;t=a.createElement(a.Fragment,null,b&&U(c.default,{className:w.default.iframe,embedId:(0,v.default)(u.id,l)}),I&&null!=m&&null!=g&&U("img",{className:w.default.splashImage,alt:m.name,src:null!==(A=(0,C.getAssetImage)(m.id,g,1024))&&void 0!==A?A:""}),T&&null!=m&&U(F,{width:r,
channel:u,participants:n.participants,application:m,currentEmbeddedApplication:h,joinSecret:n.joinSecret}),i||I?null:U("div",{className:w.default.clickShield}))}return U("div",{className:w.default.container},void 0,t)}x.displayName="ActivityTile"},611456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=i(n(294184)),o=i(n(917507));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){
return e?n:t})(e)}var l=r.forwardRef((function(e,t){var n,i=e.children,u=e.className,l=e.style,s=e.noBorder,f=void 0!==s&&s,d=e.participantUserId;return r.createElement("div",{className:(0,a.default)(u,o.default.tile,(n={},n[o.default.noBorder]=f,n)),style:l,ref:t,"data-selenium-video-tile":d},i)}));t.default=l},440556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(294184)),i=u(n(969600));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={aStreamId:null,aReady:!1,bStreamId:t.props.streamId,bReady:!0};t.handleReady=function(){t.state.aReady?t.setState({bReady:!0,aStreamId:null,aReady:!1}):t.setState({aReady:!0,bStreamId:null,bReady:!1})};t.handleDoubleClick=function(e){var n=t.props,r=n.onDoubleClick,a=n.id;null==r||r(e,a)};t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.id;null==r||r(e,a)};return t}t.getDerivedStateFromProps=function(e,t){var n=e.streamId;if(t.aReady){if(n!==t.aStreamId)return null==n?{bStreamId:n,bReady:!0,aStreamId:null,aReady:!1}:{bStreamId:n,bReady:!1}}else if(n!==t.bStreamId)return null==n?{aStreamId:n,aReady:!0,bStreamId:null,bReady:!1}:{aStreamId:n,aReady:!1};return null};var n=t.prototype;n.renderVideo=function(e,t){var n=this.props,r=n.children,o=n.mirror,u=n.paused,l=n.component;if(null==e){if(null==r)return null;var d=a.Children.only(r)
;return a.cloneElement(d,f({style:{display:t&&!o?void 0:"none"}},d.props))}return s(l,{paused:u,className:i.default.media,streamId:e,onReady:t?null:this.handleReady})};n.render=function(){var e,t=this.props,n=t.mirror,r=t.className;return s("div",{className:(0,o.default)(i.default.video,r,(e={},e[i.default.mirror]=n,e)),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderVideo(this.state.aStreamId,this.state.aReady),this.renderVideo(this.state.bStreamId,this.state.bReady))};return t}(a.PureComponent);c.displayName="BufferedVideo";c.defaultProps={paused:!0};var p=c;t.default=p},709578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.CallTileOverlay=t.CallTileFit=void 0
;var r,a=H(n(667294)),o=V(n(294184)),i=n(536211),u=V(n(740207)),l=V(n(284382)),s=V(n(66384)),f=n(625905),d=V(n(423046)),c=V(n(635014)),p=V(n(16941)),v=V(n(730977)),y=H(n(971146)),h=V(n(337322)),m=V(n(79027)),_=V(n(428990)),g=V(n(324582)),E=V(n(287317)),S=V(n(68259)),O=V(n(775803)),b=V(n(149982)),I=V(n(335709)),C=V(n(776360)),T=V(n(203737)),A=V(n(830543)),P=V(n(611456)),M=H(n(55055)),N=V(n(522503)),R=n(227482),w=V(n(700598)),D=n(770348),L=n(859089),j=n(376293),k=V(n(247001)),U=V(n(32599)),G=["onClick"],F=["onClick"],x=["onClick"];function V(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function H(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var $=a.memo((function(e){var t,n,r,v,h=e.participant,_=e.onDoubleClick,g=e.onContextMenu,E=e.onClick,S=e.onMouseDown,O=e.onKeyDown,b=e.className,I=e.style,C=e.channel,R=e.width,k=e.inPopout,G=e.onVideoResize,F=e.inCall,x=void 0!==F&&F,V=e.selected,W=void 0!==V&&V,H=e.noBorder,B=void 0!==H&&H,z=e.noVideoRender,$=void 0!==z&&z,K=e.focused,q=void 0!==K&&K,Z=e.blocked,X=void 0!==Z&&Z,J=e.fit,ee=void 0===J?y.default.Fit.CONTAIN:J,te=e.paused,ne=void 0!==te&&te,re=e.pulseSpeakingIndicator,ae=void 0!==re&&re,oe=a.useContext(f.IdleStateContext),ie=(0,i.useStateFromStores)([d.default],(function(){return d.default.getId()})),ue=h.type===L.ParticipantTypes.ACTIVITY?null:null===(t=h.user)||void 0===t?void 0:t.id,le=(0,i.useStateFromStores)([c.default],(function(){return null!=ue&&c.default.isLocalVideoDisabled(ue,(0,s.default)(h.type))}),[ue,h.type]),se=(0,w.default)(h,ie),fe=se.speaking,de=se.muted,ce=se.deafen,pe=se.ringing,ve=se.hasVideo,ye=(0,i.useStateFromStores)([c.default],(function(){
return null!=ue&&c.default.isLocalMute(ue,(0,s.default)(h.type))}),[ue,h.type]),he=h.type===L.ParticipantTypes.STREAM&&ue===ie,me=a.useCallback((function(){null!=ue&&u.default.toggleLocalMute(ue,j.MediaEngineContextTypes.STREAM)}),[ue]),_e=a.useCallback((function(e){null==E||E(h,e)}),[E,h]),ge=a.useCallback((function(e){null==_||_(h,e)}),[_,h]),Ee=a.useCallback((function(e){null==g||g(h,e)}),[g,h]),Se=null,Oe=null,be=!0;switch(h.type){case L.ParticipantTypes.STREAM:Se=Y(M.default,{participant:h,selected:W,width:R,fit:ee,onVideoResize:G,paused:ne,inPopout:k});Oe=Y(M.StreamTileIndicators,{participant:h,selected:W,width:R,focused:q,idle:oe});be=!1;break;case L.ParticipantTypes.USER:Se=Y(N.default,{channel:C,inCall:x,participant:h,fit:ee,onVideoResize:G,paused:ne,selected:W,width:R,blocked:X,noVideoRender:$,pulseSpeakingIndicator:ae});break;case L.ParticipantTypes.ACTIVITY:Se=Y(A.default,{interactible:q,participant:h,selected:W,channel:C,width:R});break
;case L.ParticipantTypes.HIDDEN_STREAM:Se=Y(M.default,{participant:h,selected:W,width:R,fit:ee,onVideoResize:G,paused:ne,inPopout:k})}var Ie=a.useRef(null);return Y(l.default,{section:D.AnalyticsSections.VOICE_CHANNEL_TILE},void 0,Y("div",{className:(0,o.default)(U.default.wrapper,(n={},n[U.default.ringing]=pe,n),b)},void 0,a.createElement(P.default,{ref:Ie,className:(0,o.default)(U.default.tile,(r={},r[U.default.noBorder]=B,r[U.default.noInteraction]=null==E,r[U.default.idle]=oe,r[U.default.videoLayer]=be,r)),noBorder:B,style:I,participantUserId:ue},Y(p.default,{focusProps:{ringTarget:Ie,offset:1},onDoubleClick:ge,onContextMenu:Ee,onClick:_e,onMouseDown:S,onKeyDown:O,className:U.default.tileChild},void 0,Se,B?null:Y("div",{className:U.default.indicators},void 0,Oe),W?Y("div",{className:U.default.selectedScreen},void 0,Y(m.default,{className:U.default.selectedIcon})):null,h.type!==L.ParticipantTypes.ACTIVITY?Y(Q,{focused:q,width:R,inCall:x,participantType:h.type,hasVideo:null!=ve&&ve,
muted:de,deafen:ce,idle:oe,title:(0,T.default)(C,h),blocked:X,localMute:ye,localVideoDisabled:le,hideAudioIcon:he,onContextMenu:Ee,onToggleMute:me}):null,x&&!B?Y("div",{className:(0,o.default)(U.default.border,(v={},v[U.default.speaking]=fe&&!q,v))}):null))))}));$.displayName="CallTile";var K=Y(I.default,{}),q=Y(b.default,{}),Z=Y(O.default,{}),X=Y("div",{}),Q=a.memo((function(e){var t,n,r=e.muted,i=e.deafen,u=e.idle,l=e.title,s=e.width,f=e.hasVideo,d=e.inCall,y=e.localMute,O=e.localVideoDisabled,b=e.focused,I=e.blocked,T=e.hideAudioIcon,A=e.participantType,P=e.onContextMenu,M=e.onToggleMute,N=null,w=null,V=null,W=(0,R.isVideoCompact)(s),H=(0,R.isNamesCompact)(s);if(!T)if(i||r||y){var $;N=Y(i?g.default:E.default,{foreground:(0,o.default)(($={},$[U.default.localMuteStrikethrough]=y&&!i,$)),className:U.default.status});y&&A===L.ParticipantTypes.STREAM&&f&&!b&&(N=Y(v.default,{text:k.default.Messages.UNMUTE},void 0,(function(e){var t=e.onClick,n=z(e,G)
;return a.createElement(p.default,B({},n,{onClick:function(e){e.stopPropagation();null==t||t();M()},className:(0,o.default)(U.default.status,U.default.interactive)}),K)})))}else y||A!==L.ParticipantTypes.STREAM||!f||W||b||(N=Y(v.default,{text:k.default.Messages.MUTE},void 0,(function(e){var t=e.onClick,n=z(e,F);return a.createElement(p.default,B({},n,{onClick:function(e){e.stopPropagation();null==t||t();M()},className:(0,o.default)(U.default.status,U.default.interactive,U.default.toggleMute)}),q)})));d&&c.default.supports(j.Features.VIDEO)||!f||(w=Y(m.default,{className:U.default.status}));d&&f&&O&&(w=Y(_.default,{className:U.default.status,foreground:U.default.localMuteStrikethrough}));A===L.ParticipantTypes.STREAM&&!b&&f&&(V=Y(v.default,{text:k.default.Messages.OPTIONS},void 0,(function(e){var t=e.onClick,n=z(e,x);return a.createElement(p.default,B({},n,{onClick:function(e){e.stopPropagation();null==t||t();P(e)},className:(0,o.default)(U.default.status,U.default.interactive)}),Z)})))
;return Y("div",{className:(0,o.default)(U.default.overlay,(t={},t[U.default.small]=s<195,t))},void 0,H||b?X:Y(C.default,{className:(0,o.default)(U.default.overlayTitle,(n={},n[U.default.idle]=u,n)),color:C.default.Colors.CUSTOM,size:C.default.Sizes.SIZE_16},void 0,I?Y("div",{className:U.default.blocked},void 0,Y(h.default,{className:U.default.blockedIcon,color:D.Colors.STATUS_RED})):null,A===L.ParticipantTypes.STREAM&&Y(S.default,{className:U.default.titleIcon}),l&&Y("span",{className:U.default.overlayTitleText},void 0,l)),Y("div",{className:U.default.statusContainer},void 0,w,N,V))}));t.CallTileOverlay=Q;Q.displayName="CallTitleOverlay";var J=y.VideoStreamFit;t.CallTileFit=J;var ee=$;t.default=ee},288146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CallTileCTA=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(956117)),u=f(n(730977)),l=f(n(760443)),s=["onClick"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){
p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e){var t=e.children,n=e.onClick,r=e.className,f=e.tooltip;return c(u.default,{text:f},void 0,(function(e){var u=e.onClick,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return a.createElement(i.default,p({},f,{onClick:function(e){null==n||n(e);null==u||u()},innerClassName:l.default.buttonReset,color:(0,o.default)(l.default.cta,r),size:i.default.Sizes.MIN}),t)}))}v.displayName="CallTileCTA"},921532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=c(n(667294)),o=f(n(972247)),i=n(365561),u=c(n(709578)),l=n(770348),s=f(n(974777));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h="CameraPreviewPosition";function m(e){
var t=e.width,n=e.onContextMenuParticipant,r=e.height,f=e.channel,d=e.participants,c=function(){var e=v(a.useState((function(){return o.default.get(h,l.PictureInPicturePositions.BOTTOM_RIGHT)})),2),t=e[0],n=e[1];return[t,a.useCallback((function(e){o.default.set(h,e);n(e)}),[])]}(),y=v(c,2),m=y[0],_=y[1],g=a.useRef(null),E=null==f.getGuildId()?70:50;a.useLayoutEffect((function(){var e;null===(e=g.current)||void 0===e||e.ensureIsInPosition()}),[d.length]);return p("div",{className:s.default.container},void 0,a.createElement(i.PictureInPictureWindow,{position:m,id:0,ref:g,onMove:function(e,t){return _(t)},maxX:t,maxY:r,edgeOffsetTop:E,edgeOffsetBottom:70,edgeOffsetLeft:16,edgeOffsetRight:16},p("div",{className:s.default.tileContainer},void 0,d.map((function(e){return p(u.default,{participant:e,channel:f,onContextMenu:n,className:s.default.tile,fit:u.CallTileFit.COVER,inCall:!0,inPopout:!1,width:160})})))))}m.displayName="CameraPreview"},839166:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.GoLiveButton=Ne;t.default=ke;t.handleToggleVideo=Pe
;var r,a=Ee(n(667294)),o=_e(n(294184)),i=_e(n(441143)),u=n(248088),l=n(536211),s=_e(n(740207)),f=_e(n(136873)),d=n(123516),c=_e(n(284382)),p=n(556470),v=_e(n(213847)),y=n(836233),h=_e(n(235879)),m=n(746920),_=Ee(n(303798)),g=n(698462),E=n(186096),S=_e(n(198016)),O=_e(n(62954)),b=n(245546),I=_e(n(469487)),C=_e(n(825724)),T=_e(n(190320)),A=_e(n(818994)),P=_e(n(932018)),M=_e(n(590087)),N=n(747868),R=_e(n(379310)),w=_e(n(908921)),D=n(902399),L=_e(n(604686)),j=_e(n(620859)),k=Ee(n(278352)),U=_e(n(652566)),G=_e(n(134893)),F=_e(n(222935)),x=_e(n(605520)),V=_e(n(643779)),W=_e(n(67286)),H=_e(n(401311)),B=_e(n(607576)),z=_e(n(305914)),Y=_e(n(735319)),$=_e(n(645675)),K=_e(n(607209)),q=_e(n(635014)),Z=_e(n(689389)),X=_e(n(211136)),Q=_e(n(728429)),J=_e(n(230047)),ee=_e(n(160629)),te=_e(n(308920)),ne=_e(n(373115)),re=_e(n(431388)),ae=_e(n(770404)),oe=_e(n(423405)),ie=_e(n(336940)),ue=_e(n(493051)),le=_e(n(602824)),se=_e(n(310261)),fe=_e(n(30269)),de=n(770348),ce=n(418173),pe=n(859089),ve=n(439142),ye=_e(n(247001)),he=_e(n(716698)),me=["onClick"]
;function _e(e){return e&&e.__esModule?e:{default:e}}function ge(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ge=function(e){return e?n:t})(e)}function Ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ge(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||Oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){if(e){if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(){Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ie.apply(this,arguments)}function Ce(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Te(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Te(o,r,a,i,u,"next",e)}function u(e){Te(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Pe(e,t){if(q.default.isVideoEnabled()!==e){var n=function(){return s.default.setVideoEnabled(e)};e?(0,fe.default)(n,t):n()}}function Me(){var e=(0,l.useStateFromStores)([h.default],(function(){return h.default.useReducedMotion}));function t(){return(t=Ae(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return n.e(68088).then(n.t.bind(n,568088,19));case 2:t=e.sent;r=t.default;return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Ce(J.default,{importData:function(){return t.apply(this,arguments)},shouldAnimate:!e,className:he.default.sparkles})}Me.displayName="Sparkles";function Ne(e){var t=e.channel,n=e.currentUser,r=e.exitFullScreen,o=e.canGoLive,i=e.coloring,u=e.hasPermission,s=a.useContext(A.default),f=(0,l.useStateFromStoresArray)([K.default],(function(){return K.default.getAllActiveStreams()})).find((function(e){return e.ownerId===n.id})),d=t.getGuildId(),c=a.useCallback((function(){null==r||r();if(!o)return(0,le.default)();(0,se.default)(d,t.id,de.AnalyticsPages.GUILD_CHANNEL)}),[d,t.id,o,r]),p=null!=f;return Ce(G.default,{},void 0,Ce(ee.default,{renderPopout:function(e){var r=e.closePopout;return Ce(F.default,{},void 0,Ce(ie.default,{channel:t,currentUser:n,activeStreams:null!=f?[f]:[],handleGoLive:c,onClose:r,appContext:s}))},
position:ee.default.Positions.TOP,align:ee.default.Align.CENTER,animation:ee.default.Animation.FADE},void 0,(function(e,t){var n=t.isShown,r=e.onClick,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,me);return Ce("div",{},void 0,null!=f?a.createElement(z.default,Ie({},l,{color:i[1],centerButton:!0,className:he.default.controlButton,onClick:function(){return(0,w.default)(f)},isSelfStream:!0,onPopoutClick:p?r:null,popoutOpen:n,shouldShowTooltip:!n})):a.createElement(Y.default,Ie({},l,{centerButton:!0,color:i[0],className:he.default.controlButton,hasPermission:u,onClick:o?c:le.default,onPopoutClick:p?r:null,popoutOpen:n,shouldShowTooltip:!n})))})))}Ne.displayName="GoLiveButton";var Re,we=Ce(Me,{});function De(e){var t=e.channel,n=(0,l.useStateFromStores)([Z.default],(function(){return Z.default.can(de.Permissions.USE_EMBEDDED_ACTIVITIES,t)&&null!=t.guild_id}),[t]),r=t.getGuildId(),o=(0,
S.default)(r)&&null!=r,i=Se((0,l.useStateFromStores)([_.default],(function(){return null!=t.id&&""!==t.id?_.default.getEmbeddedActivitiesForChannel(t.id):_.NO_ACTIVITIES})),1)[0],u=Se((0,I.default)(null!=i?[i.application_id]:[]),1)[0],s=(0,l.useStateFromStores)([_.default],(function(){return _.default.isLaunchingActivity()})),f=function(e){var t=(0,l.useStateFromStoresArray)([_.default],(function(){return null!=e?_.default.getEnabledAppIds(e):[]})),n=(0,g.useBeb)(e),r=(0,l.useStateFromStores)([U.default],(function(){return n&&!U.default.hasHotspot(ve.HotspotLocations.ACTIVITY_BEB_SPARKLES)&&ce.BEB_ACTIVITIES.some((function(e){return t.includes(e)}))}));a.useEffect((function(){r&&te.default.track(de.AnalyticEvents.TOOLTIP_VIEWED,{type:"embedded_activity_control_tray_sparkles"})}),[r]);return{shouldShowBebSparkles:r,handleSparkleClick:function(){r&&k.hideHotspot(ve.HotspotLocations.ACTIVITY_BEB_SPARKLES)}}}(r),d=f.shouldShowBebSparkles,c=f.handleSparkleClick,v=(0,p.useAnalyticsContext)()
;a.useEffect((function(){r&&(0,m.fetchEmbeddedActivities)(r)}),[r]);var y=(0,E.useFreeActivityIndicator)({guildId:r});if(!o)return null;var h=!n||s,C=null!=i&&null!=u;return Ce(ee.default,{position:ee.default.Positions.TOP,align:ee.default.Align.CENTER,renderPopout:function(e){var n=e.closePopout;return Ce(O.default,{channel:t,onClose:n,locationObject:v.location})}},void 0,(function(e){var t=e.onClick;return Ce("div",{className:he.default.buttonContainer},void 0,Ce(x.default,{className:he.default.controlButton,disabled:h,label:n?ye.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY:ye.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS,isActivityActive:C,onClick:function(e){c();t(e)}}),y?Ce(b.FreeActivityIndicatorDot,{top:4,right:10,size:12,maskColor:b.MaskColor.BLACK}):null,d?we:null)}))}De.displayName="ConnectedActivityButton";!function(e){e.ACTIVITY="ACTIVITY";e.STREAM="STREAM";e.CALL="CALL";e.EVENT="EVENT"}(Re||(Re={}));var Le=a.memo((function(e){
var t=e.connectedActivityApplicationId,n=e.currentUser,r=e.onDisconnectCall,o=e.channel,i=(0,l.useStateFromStores)([C.default],(function(){return C.default.getSelectedParticipant(o.id)})),s=a.useContext(y.AccessibilityPreferencesContext).reducedMotion,c=Se(a.useState(!1),2),p=c[0],v=c[1],h=null==i?void 0:i.id,_=(0,l.useStateFromStores)([K.default],(function(){return null!=h?K.default.getActiveStreamForStreamKey(h):null}),[h]),g=(null==i?void 0:i.type)===pe.ParticipantTypes.STREAM&&null!=_&&_.ownerId!==(null==n?void 0:n.id),E=(0,l.useStateFromStoresArray)([K.default],(function(){return K.default.getAllActiveStreamsForChannel(o.id).filter((function(e){return e.ownerId!==(null==n?void 0:n.id)}))})),S=(0,D.useActiveEvent)(o.id),O=a.useCallback((function(){return(null==i?void 0:i.type)===pe.ParticipantTypes.ACTIVITY&&i.id===t?Re.ACTIVITY:g?Re.STREAM:null!=S?Re.EVENT:Re.CALL}),[i,t,g,S]),b=Se(a.useState(O()),2),I=b[0],T=b[1],A=(0,u.useSpring)({opacity:p?.2:1,
transform:p&&!s.enabled?"scale(0.7)":"scale(1)",config:{mass:2,tension:p?600:1e3,friction:45,precision:.01,clamp:p},onRest:function(){T(O());v(!1)}});a.useEffect((function(){O()!==I&&v(!0)}),[I,O]);var P=function(e,t){var n={centerButton:!0,className:he.default.controlButton,popoutOpen:e};switch(I){case Re.ACTIVITY:return a.createElement(W.default,Ie({},n,{color:"red",onClick:function(){return null!=i&&(0,m.stopEmbeddedActivity)(o.id,i.id)},onPopoutClick:E.length>0?t:null}));case Re.STREAM:return a.createElement(z.default,Ie({},n,{color:"red",onClick:function(){if(null!=_)(0,d.stopStream)((0,N.encodeStreamKey)(_));else for(var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Oe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(E);!(e=t()).done;){var n=e.value;(0,d.stopStream)((0,N.encodeStreamKey)(n))}},onPopoutClick:E.length>1?t:null,isSelfStream:!1}));case Re.CALL:return a.createElement(H.default,Ie({},n,{color:"red",onClick:function(){f.default.disconnect();null==r||r()},onPopoutClick:E.length>0?t:null}));case Re.EVENT:return Ce(L.default,{guildId:o.guild_id,channelId:o.id,onClick:function(){f.default.disconnect();null==r||r()}})}};return Ce(ee.default,{renderPopout:function(e){var t=e.closePopout;return Ce(ie.default,{channel:o,currentUser:n,activeStreams:E,handleGoLive:de.NOOP_NULL,hideSelfOptions:!0,onClose:t})},position:ee.default.Positions.TOP,align:ee.default.Align.CENTER,animation:ee.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return Ce(u.animated.div,{style:A},void 0,P(r,n))}))}));function je(e){
var t=e.channel,n=e.cameraUnavailable,r=e.hasCameraPermission,i=a.useContext(A.default),u=(0,re.default)(t),l=u.reachedLimit,s=u.limit,d=a.useCallback((function(){(0,fe.default)((function(){return f.default.selectVoiceChannel(t.id,!0)}),i)}),[t.id,i]),c=a.useCallback((function(){f.default.selectVoiceChannel(t.id,!1)}),[t.id]),p=a.useCallback((function(){n?(0,ue.default)():d()}),[n,d]);return a.createElement(a.Fragment,null,Ce($.default,{enabled:!0,centerButton:!0,join:!0,color:"green",channelLimitReached:l,channelLimit:s,channel:t,cameraUnavailable:n,hasPermission:r,onCameraUnavailable:p,className:he.default.controlButton,iconClassName:he.default.joinIcon,onChange:d}),Ce(V.default,{centerButton:!0,color:"green",channel:t,className:(0,o.default)(he.default.controlButton,he.default.lastButton),onClick:c}))}function ke(e){var t=e.channel,n=e.mode,r=e.className,a=e.onDisconnectCall,u=e.exitFullScreen,s=(0,l.useStateFromStores)([Q.default],(function(){var e=Q.default.getCurrentUser();(0,
i.default)(null!=e,"CenterControlTray: currentUser cannot be undefined");return e})),f=(0,ne.default)(),d=f.cameraUnavailable,p=f.enabled,y=(0,ae.default)(t),h=(0,oe.default)(t),m=h.suppress,g=h.selfMute,E=h.mute,S=m||g||E,O=(0,l.useStateFromStoresObject)([q.default],(function(){return{canGoLive:(0,R.default)(q.default)}})).canGoLive,b=(0,l.useStateFromStores)([X.default],(function(){return X.default.getVoiceChannelId()===t.id}),[t]),I=(0,l.useStateFromStores)([_.default],(function(){var e=_.default.getSelfEmbeddedActivityForChannel(t.id);return null!=e?e.application_id:null})),C=(0,re.default)(t),A=C.reachedLimit,N=C.limit,w=(0,v.default)();if(!b)return Ce(je,{channel:t,cameraUnavailable:d,hasCameraPermission:y});var D="primaryDark";n===de.ChannelModes.VOICE&&(D=w===de.ThemeTypes.LIGHT?"primaryLight":D);var L="white";n===de.ChannelModes.VOICE&&(L=w===de.ThemeTypes.LIGHT?"activeLight":L);return Ce(c.default,{section:de.AnalyticsSections.VOICE_CONTROL_TRAY},void 0,Ce("div",{
className:he.default.eventPromptsContainer},void 0,Ce(j.default,{guildId:t.guild_id,channelId:t.id})),Ce("div",{className:(0,o.default)(he.default.wrapper,r)},void 0,Ce(ee.default,{renderPopout:function(e){var t=e.closePopout;return Ce(F.default,{},void 0,Ce(P.default,{onClose:t}))},position:ee.default.Positions.TOP,align:ee.default.Align.CENTER,animation:ee.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return Ce($.default,{centerButton:!0,color:p?L:D,hasPermission:y,className:he.default.controlButton,enabled:p,cameraUnavailable:d,onChange:Pe,onCameraUnavailable:ue.default,channelLimitReached:A,channelLimit:N,popoutOpen:r,onPopoutClick:n})})),Ce(De,{channel:t}),Ce(Ne,{coloring:[D,L],channel:t,currentUser:s,exitFullScreen:u,canGoLive:O,hasPermission:y}),Ce(ee.default,{renderPopout:function(e){var t=e.closePopout;return Ce(F.default,{},void 0,Ce(T.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0,renderInputModes:!0}))},
align:ee.default.Align.CENTER,position:ee.default.Positions.TOP,animation:ee.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return Ce(B.default,{color:S?L:D,centerButton:!0,onPopoutClick:n,className:he.default.controlButton,selfMute:g,serverMute:E,suppress:m,popoutOpen:r,onClick:function(){return(0,M.default)(E,m)}})})),Ce(Le,{connectedActivityApplicationId:I,currentUser:s,channel:t,onDisconnectCall:a})))}ke.displayName="CenterControlTray"},828839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=M(n(294184)),i=n(248088),u=n(536211),l=M(n(864345)),s=M(n(303798)),f=M(n(936353)),d=M(n(715801)),c=M(n(423046)),p=M(n(635014)),v=M(n(974661)),y=M(n(530250)),h=n(956506),m=n(213787),_=M(n(709578)),g=M(n(921532)),E=n(421622),S=M(n(170555)),O=M(n(508957)),b=M(n(151503)),I=M(n(232269)),C=M(n(486082)),T=n(770348),A=n(859089),P=M(n(367374));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){
w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e){var t,n=e.onSelectParticipant,r=e.onContextMenuParticipant,l=e.onFullscreenParticipant,f=e.participants,y=e.filteredParticipants,m=e.popoutWindow,S=e.inCall,O=e.channel,b=e.selectedParticipant,I=e.showParticipants,M=void 0===I||I,N=e.className,L=e.paused,j=e.width,k=e.height,U=e.layout,G=e.idle,F=null!=m,x=j<=E.FORCE_HIDE_PARTICIPANTS_WIDTH,V=M&&!x,W=p.default.getVideoComponent(),H=c.default.getId(),B=(0,u.useStateFromStores)([s.default],(function(){return s.default.getSelfEmbeddedActivityForChannel(O.id)})),z=D(a.useState({width:0,height:0}),2),Y=z[0],$=z[1],K=D(a.useState(!1),2),q=K[0],Z=K[1],X=(0,i.useSpring)({value:V?1:0,config:w({},i.config.stiff,{clamp:!0}),onStart:function(){return Z(!0)},
onChange:function(){return h.ComponentDispatch.dispatch(T.ComponentActions.REMEASURE_TARGET)},onRest:function(){Z(!1);h.ComponentDispatch.dispatch(T.ComponentActions.REMEASURE_TARGET)}}),Q=(0,i.useTransition)(b,{keys:function(e){return null==e?void 0:e.id},config:w({},i.config.stiff,{clamp:!0}),initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}}),J=a.useCallback((function(e){$(e)}),[]),ee=b.type===A.ParticipantTypes.ACTIVITY&&(null==B?void 0:B.application_id)===b.id,te=b.type!==A.ParticipantTypes.ACTIVITY&&null!=b.streamId&&Y.width>0&&Y.height>0?Y.width/Y.height:1.7777777777777777,ne=V||L?[]:(0,E.getPipParticipants)(f,b,H),re=Math.min(k,k-(b.type===A.ParticipantTypes.ACTIVITY?144:0))*te,ae=V?j-E.PARTICIPANTS_WIDTH:j;return R(i.animated.div,{style:{paddingLeft:X.value.to((function(e){return 8*e+"px"})),paddingRight:X.value.to((function(e){return E.PARTICIPANTS_WIDTH*e+8*e+"px"}))},className:(0,o.default)(P.default.root,P.default.flexCenter,N)},void 0,R("div",{
className:P.default.videoFrame},void 0,R("div",{style:{maxWidth:re+"px"},className:P.default.videoWrapper},void 0,R(v.default,{className:P.default.videoSizer,aspectRatio:te},void 0,Q((function(e,t,a){var o=a.key;return null!=t?R(i.animated.div,{className:P.default.videoWrapperAnimated,style:e},o,R(_.default,{focused:!0,noBorder:!V,channel:O,className:P.default.focusedVideo,videoComponent:W,paused:L,width:ae,participant:t,onClick:n,onDoubleClick:l,onContextMenu:r,onVideoResize:J,inCall:S,inPopout:F})):null})))),x||U===T.ChannelLayouts.MINIMUM||U===T.ChannelLayouts.NORMAL||ee?null:R(d.default,{channelId:O.id,isParticipantsOpen:M,className:(0,o.default)(P.default.participantsButton,(t={},t[P.default.idle]=G,t))})),R(i.animated.div,{className:P.default.participantsWrapperAnimated,style:{transform:X.value.to((function(e){return"translateX("+-1*e*E.PARTICIPANTS_WIDTH+"px)"})),visibility:X.value.to((function(e){return 0===e?"hidden":"visible"}))}},void 0,R(C.default,{channel:O,onClick:n,
onContextMenu:r,onDoubleClick:l,participants:y,selectedParticipantId:b.id,inCall:S,paused:L||q||!V,popoutWindow:m})),ne.length>0?R(g.default,{onContextMenuParticipant:r,width:j,height:k,channel:O,participants:ne}):null)}j.displayName="FocusedView";var k=(0,l.default)((function(e){var t,n=e.participants,r=e.filteredParticipants,i=e.selectedParticipant,u=e.participantsVersion,l=e.layout,s=e.onSelectParticipant,d=e.onContextMenuParticipant,p=e.onFullscreenParticipant,v=e.channel,_=e.guild,g=e.className,E=e.inCall,C=e.showParticipants,M=void 0===C||C,N=e.paused,w=void 0!==N&&N,D=e.width,L=e.height,k=e.idle,U=e.mode,G=e.popoutWindow;a.useEffect((function(){h.ComponentDispatch.dispatch(T.ComponentActions.REMEASURE_TARGET)}),[D,L]);var F=a.useMemo((function(){return r.filter((function(e){return e.type!==A.ParticipantTypes.ACTIVITY||!e.participants.has(c.default.getId())}))}),[r,u]),x=(0,m.useHorizontalParticipantsLayoutExperiment)(null!==(t=v.getGuildId())&&void 0!==t?t:"")
;if((null==_?void 0:_.hasFeature(T.GuildFeatures.TEXT_IN_VOICE_ENABLED))&&!E)return R(S.default,{channel:v,participants:n});if(U===T.ChannelModes.VOICE)return R(f.default,{guildId:v.guild_id,width:D,className:P.default.voiceCallWrapper,participants:n,onContextMenu:d});r=E?r:n;var V=null!=G;return null==i?0===r.length?R(I.default,{className:(0,o.default)(P.default.videoGrid,P.default.hiddenParticipants),channelId:v.id,width:D}):R(y.default,{className:P.default.videoGridWrapper,justify:y.default.Justify.CENTER,align:y.default.Align.CENTER},void 0,R(O.default,{channel:v,className:P.default.videoGrid,participants:F,totalNumberOfParticipants:n.length,layout:l,onClick:s,onDoubleClick:p,onContextMenu:d,paused:w,inCall:E,inPopout:V})):x||(null==_?void 0:_.hasFeature(T.GuildFeatures.TEXT_IN_VOICE_ENABLED))?R(b.default,{onFullscreenParticipant:p,onContextMenuParticipant:d,onSelectParticipant:s,selectedParticipant:i,filteredParticipants:F,participants:n,popoutWindow:G,className:g,idle:k,height:L,
width:D,layout:l,inCall:E,channel:v,showParticipants:M}):R(j,{onFullscreenParticipant:p,onContextMenuParticipant:d,onSelectParticipant:s,selectedParticipant:i,filteredParticipants:F,participants:n,popoutWindow:G,className:g,idle:k,height:L,width:D,layout:l,inCall:E,channel:v,showParticipants:M})}));t.default=k},421622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PARTICIPANTS_WIDTH=t.FORCE_HIDE_PARTICIPANTS_WIDTH=void 0;t.getPipParticipants=function(e,t,n){if(null==t||t.type===i.ParticipantTypes.ACTIVITY)return[];return[t.type===i.ParticipantTypes.STREAM?e.find((function(e){return e.type===i.ParticipantTypes.USER&&e.id===(null==t?void 0:t.user.id)&&e.id!==n&&(0,o.default)(e)})):null,t.type===i.ParticipantTypes.USER?e.find((function(e){return e.type===i.ParticipantTypes.STREAM&&e.user.id===(null==t?void 0:t.user.id)&&null!=e.streamId})):null,t.id!==n?e.find((function(e){return e.type===i.ParticipantTypes.USER&&e.id===n&&(0,o.default)(e)
})):null].filter(a.isNotNullish)};var r,a=n(71246),o=(r=n(183612))&&r.__esModule?r:{default:r},i=n(859089);t.PARTICIPANTS_WIDTH=228;t.FORCE_HIDE_PARTICIPANTS_WIDTH=684},170555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getParticipantNamesText=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(136873)),i=v(n(956117)),u=v(n(971639)),l=v(n(776360)),s=v(n(203737)),f=v(n(709578)),d=n(859089),c=v(n(247001)),p=v(n(657091));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return 0===t.length?c.default.Messages.CURRENTLY_IN_VOICE_EMPTY:1===t.length?c.default.Messages.CURRENTLY_IN_VOICE_1.format({a:(0,s.default)(e,t[0])}):2===t.length?c.default.Messages.CURRENTLY_IN_VOICE_2.format({a:(0,s.default)(e,t[0]),b:(0,s.default)(e,t[1])}):t.length>2?c.default.Messages.CURRENTLY_IN_VOICE_2_N.format({a:(0,s.default)(e,t[0]),b:(0,s.default)(e,t[1]),n:t.length-2}):void 0}function _(e){
var t=e.participants,n=e.channel,r=t.filter(d.isUserParticipant),s=a.useCallback((function(){o.default.selectVoiceChannel(n.id)}),[n.id]),v=4===r.length?2:3;return h("div",{className:p.default.container},void 0,h("div",{className:p.default.tiles,style:{maxWidth:168*v}},void 0,r.slice(0,5).map((function(e){return h(f.default,{participant:e,channel:n,className:p.default.tile,paused:!0,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id)}))),h(u.default,{className:p.default.channelName,size:u.default.Sizes.SIZE_32},void 0,n.name),h("div",{className:p.default.participantsRow},void 0,h(l.default,{color:l.default.Colors.HEADER_SECONDARY},void 0,m(n,r))),h(i.default,{className:p.default.joinButton,color:i.default.Colors.GREEN,onClick:s,size:i.default.Sizes.MEDIUM},void 0,c.default.Messages.JOIN_VOICE))}_.displayName="ChannelCallEmpty";var g=_;t.default=g},508957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(689575),u=p(n(30098)),l=p(n(689389)),s=p(n(838696)),f=p(n(709578)),d=p(n(421417)),c=p(n(946234));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.participants,n=e.onClick,r=e.onDoubleClick,p=e.onContextMenu,v=e.channel,h=e.className,m=e.inCall,_=e.inPopout,g=e.layout,E=e.totalNumberOfParticipants,S=e.paused,O=void 0!==S&&S,b=a.useRef({triggerResize:function(){return null}});a.useEffect((function(){var e;null===(e=b.current)||void 0===e||e.triggerResize()}),[g]);var I=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(v.guild_id)}),[v.guild_id]),C=(0,o.useStateFromStores)([l.default],(function(){return v.isPrivate()||(0,i.canViewInviteModal)(l.default,I,v)}),[I,v]),T=(null==I?void 0:I.afkChannelId)===v.id,A=v.userLimit<=0||v.userLimit>1,P=t.map((function(e){return function(t){return y(f.default,{participant:e,channel:v,className:c.default.tile,paused:O,onClick:n,onDoubleClick:r,onContextMenu:p,inCall:m,width:t,inPopout:_
},e.id)}}));1===E&&null!=I&&C&&!T&&A&&P.push((function(e){return y(d.default,{width:e,channel:v,guild:I,inPopout:_})}));var M=a.useCallback((function(e){var n,r;return null!==(n=null===(r=t[e])||void 0===r?void 0:r.id)&&void 0!==n?n:"empty-tile"}),[t]);return a.createElement(s.default,{ref:b,className:h,keyExtractor:M,paddingTop:64,paddingBottom:64},P)}h.displayName="ChannelCallGrid"},421417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=y(n(667294)),o=n(194322),i=p(n(611456)),u=y(n(518931)),l=n(770348),s=n(371621),f=p(n(247001)),d=p(n(200146)),c=p(n(222917));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e){var t=e.channel,r=e.guild,p=e.width,v=e.inPopout;return h(i.default,{className:d.default.root},void 0,h(u.default,{artURL:c.default,size:(0,u.getSizeForWidth)(p),header:f.default.Messages.STREAM_SINGLE_PERSON_BODY,onCTAClick:function(){return(0,o.openModalLazy)(g(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,m({},e,{guild:r,channel:t,source:l.InstantInviteSources.CHANNEL_CALL}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:v?s.POPOUT_MODAL_CONTEXT:s.DEFAULT_MODAL_CONTEXT})},
callToAction:f.default.Messages.INSTANT_INVITE}))}E.displayName="EmptyTile"},518931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;t.getSizeForWidth=function(e){return e<400?"small":e<1e3?"medium":"large"};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(294184)),o=s(n(956117)),i=s(n(530250)),u=s(n(776360)),l=s(n(260382));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.onCTAClick,n=e.callToAction,r=e.header,s=e.description,f=e.size,c=e.className,p=e.artURL,v=e.noArt,y=void 0!==v&&v,h=e.selected,m=void 0!==h&&h;return d(i.default,{className:c,justify:i.default.Justify.CENTER,align:i.default.Align.CENTER,direction:i.default.Direction.VERTICAL},void 0,!y&&null!=p&&d("div",{className:(0,a.default)(l.default.art,l.default[f]),style:{backgroundImage:"url("+p+")"}}),null!=r?d(u.default,{color:u.default.Colors.CUSTOM,size:u.default.Sizes.SIZE_16,className:l.default.header},void 0,r):null,null!=s?d(u.default,{
color:u.default.Colors.CUSTOM,className:l.default.description,size:u.default.Sizes.SIZE_14},void 0,s):null,m||null==n?null:d(o.default,{className:l.default.outerButton,size:o.default.Sizes.NONE,color:o.default.Colors.WHITE,look:o.default.Looks.BLANK,innerClassName:l.default.button,onClick:function(e){e.stopPropagation();null==t||t(e)}},void 0,n))}c.displayName="EmptyState"},151503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var r,a=b(n(667294)),o=S(n(294184)),i=n(248088),u=S(n(145371)),l=S(n(715801)),s=S(n(423046)),f=S(n(635014)),d=S(n(974661)),c=n(956506),p=S(n(709578)),v=S(n(921532)),y=n(421622),h=b(n(449183)),m=n(770348),_=n(859089),g=S(n(367374)),E=S(n(398720));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return C.apply(this,arguments)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=8+h.PARTICIPANTS_HEIGHT;function M(e){var t,n=e.onSelectParticipant,r=e.onContextMenuParticipant,S=e.onFullscreenParticipant,O=e.participants,b=e.filteredParticipants,A=e.popoutWindow,M=e.inCall,N=e.channel,R=e.selectedParticipant,w=e.showParticipants,D=void 0===w||w,L=e.className,j=e.paused,k=e.width,U=e.height,G=e.layout,F=e.idle,x=null!=A,V=f.default.getVideoComponent(),W=s.default.getId(),H=T(a.useState(null),2),B=H[0],z=H[1],Y=T(a.useState(!0),2),$=Y[0],K=Y[1],q=T(a.useState(!1),2),Z=q[0],X=q[1],Q=R.type===_.ParticipantTypes.ACTIVITY,J=!Q&&null!=R.streamId,ee=J&&null!=B&&B.width>0&&B.height>0?B.width/B.height:1.7777777777777777,te=U<=2*P+144,ne=D&&!te,re=(0,u.default)(ne),ae=0;(Q||ne)&&(ae+=72);Q&&!ne&&(ae+=48);ne&&(ae+=.5*P+8);var oe,ie=U-2*ae,ue=ie*ee,le=Math.floor(Math.min(k,ue)/ee),se=U>k/ee+72+P+8;oe=!ne&&!Q?40+Math.max(0,72-(U-le)/2):ne?-16:-8;a.useEffect((function(){var e=setTimeout((function(){K(!1)}),250)
;return function(){clearTimeout(e)}}),[]);var fe=(0,i.useSpring)({value:ne?1:0,delay:se||!ne?0:100,config:C({},i.config.stiff,{clamp:!0}),onStart:function(){return X(!0)},onChange:function(){return c.ComponentDispatch.dispatch(m.ComponentActions.REMEASURE_TARGET)},onRest:function(){X(!1);c.ComponentDispatch.dispatch(m.ComponentActions.REMEASURE_TARGET)}}),de=(0,i.useSpring)({value:ne?1:0,config:C({},i.config.stiff,{clamp:!0})}),ce=(0,i.useSpring)({value:ue,config:C({},i.config.stiff,{clamp:!0}),immediate:re===ne&&de.value.idle}),pe=(0,i.useSpring)({value:oe,config:C({},i.config.stiff,{clamp:!0})}),ve=(0,i.useTransition)(R,{keys:function(e){return null==e?void 0:e.id},config:C({},i.config.stiff,{clamp:!0}),initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}}),ye=a.useCallback((function(e){z(e);K(!1)}),[]),he=ne||j?[]:(0,y.getPipParticipants)(O,R,W),me=(0,h.useVisibleParticipants)(k,b),_e=me.visibleParticipants,ge=me.participantTileWidth;return I("div",{className:(0,
o.default)(E.default.root,g.default.flexCenter,L)},void 0,I("div",{className:E.default.tileWrapper,style:{opacity:J&&$?0:1}},void 0,I(i.animated.div,{className:E.default.videoFrame,style:{translateY:de.value.to((function(e){return-e*P/2}))}},void 0,I(i.animated.div,{style:{width:ce.value},className:E.default.videoWrapper},void 0,I(d.default,{className:g.default.videoSizer,aspectRatio:ee},void 0,ve((function(e,t,a){var o=a.key;return null!=t?I(i.animated.div,{className:g.default.videoWrapperAnimated,style:e},o,I(p.default,{focused:!0,noBorder:ue>=k||ie>=U,channel:N,className:g.default.focusedVideo,videoComponent:V,paused:j,width:k,participant:t,onClick:n,onDoubleClick:S,onContextMenu:r,onVideoResize:ye,inCall:M,inPopout:x})):null})))),te||G===m.ChannelLayouts.MINIMUM||G===m.ChannelLayouts.NORMAL?null:I(i.animated.div,{className:(0,o.default)(E.default.actionRow,(t={},t[E.default.idle]=F,t)),style:{bottom:pe.value}},void 0,I(l.default,{channelId:N.id,isParticipantsOpen:D,isVertical:!0
}))),I(i.animated.div,{className:E.default.participantsWrapperAnimated,style:{translateY:fe.value.to((function(e){return e*P/2})),opacity:fe.value,visibility:fe.value.to((function(e){return 0===e?"hidden":"visible"}))}},void 0,I(h.default,{channel:N,onClick:n,onContextMenu:r,onDoubleClick:S,participants:_e,participantTileWidth:ge,selectedParticipantId:R.id,inCall:M,paused:j||Z||!D,popoutWindow:A}))),he.length>0?I(v.default,{onContextMenuParticipant:r,width:k,height:U,channel:N,participants:he}):null)}M.displayName="HorizontalFocusedView"},449183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PARTICIPANTS_HEIGHT=void 0;t.default=I;t.useVisibleParticipants=function(e,t){var n=m(a.useState(Date.now()),2),r=n[0],u=n[1];a.useEffect((function(){var e=setTimeout((function(){u(Date.now())}),1e4);return function(){clearTimeout(e)}}),[t]);var s=a.useRef({}),d=a.useMemo((function(){var n=Date.now(),r=(0,o.sortBy)(t,(function(e){return function(e,t){var n
;void 0===t&&(t=Date.now());switch(e.type){case f.ParticipantTypes.ACTIVITY:return"\0"+e.sortKey;case f.ParticipantTypes.HIDDEN_STREAM:case f.ParticipantTypes.STREAM:return""+(0,i.userKey)(e.userNick,e.user);case f.ParticipantTypes.USER:var r="";e.speaking?r="":t-e.lastSpoke<O?r="":(null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&(r="");return""+r+(a=e.lastSpoke,o=String(E).length,String(E-a).padStart(o,"0"))+(0,i.userKey)(e.userNick,e.user)}var a,o}(e,n)})),a=m((0,o.partition)(r,f.isStreamParticipant),2),u=a[0],d=a[1],c=d.findIndex(b),p=null;if(-1!==c){p=d[c];d.splice(c,1)}var v=null!=p?e-S-8:e,y=Math.floor((v-8)/132),g=Math.max(0,Math.min(y,12,t.length)),I=Math.min((v-8)/g-8,S),C=Math.max(0,g-u.length),T=u.slice(0,g),A=d.slice(0,C),P=new Array(C);if(C>0){for(var M,N=[],R=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0
;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(A);!(M=R()).done;){var w=M.value,D=s.current[w.id];null!=D&&D<C?P[D]=w:N.push(w)}for(var L=0;L<P.length;L++)if(null==P[L]){var j=N.shift();if(null==j)break;P[L]=j}}var k=P.filter(l.isNotNullish),U=(0,o.keyBy)((0,o.range)(k.length),(function(e){return k[e].id}));s.current=U;var G=[].concat(h(T),h(k));null!=p&&G.push(p);return{visibleParticipants:G,participantTileWidth:I}}),[e,t,r]),c=d.visibleParticipants,p=d.participantTileWidth;return{visibleParticipants:c,participantTileWidth:p}};var r,a=v(n(667294)),o=n(496486),i=n(269503),u=c(n(423046)),l=n(71246),s=v(n(709578)),f=n(859089),d=c(n(388832));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){
return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=864e13;t.PARTICIPANTS_HEIGHT=112;var S=16/9*112+8,O=1e4;function b(e){var t,n=u.default.getId();return e.type===f.ParticipantTypes.USER&&e.user.id===n&&(null===(t=e.voiceState)||void 0===t?void 0:t.selfVideo)}function I(e){var t=e.participants,n=e.participantTileWidth,r=e.selectedParticipantId,a=e.onDoubleClick,o=e.onContextMenu,i=e.onClick,u=e.channel,l=e.inCall,f=e.popoutWindow,c=e.paused,p=void 0!==c&&c,v=null!=f;return y("div",{className:d.default.root},void 0,t.map((function(e){if(null==e)return null;var t=b(e);return y("div",{className:d.default.tileSizer,style:t?{flexShrink:0}:void 0},e.id,y(s.default,{participant:e,selected:r===e.id,channel:u,className:d.default.tile,fit:s.CallTileFit.COVER,
onClick:i,onDoubleClick:a,onContextMenu:o,width:t?S:n,inCall:l,paused:p,inPopout:v}))})))}I.displayName="HorizontalVideoParticipants"},531334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.stream,r=e.applicationId,_=e.channel,g=e.exitFullScreen,O=e.appContext,I=e.analyticsLocation,C=e.className,T=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,m),A=null==_?void 0:_.getGuildId(),P=(0,u.useStateFromStores)([s.default],(function(){return null!=A?s.default.getGuild(A):null}),[A]);if(!function(e,t){return null!=e&&null!=t&&f.default.can(p.Permissions.CREATE_INSTANT_INVITE,t)}(P,_))return null;var M=y.default.Messages.INSTANT_INVITE;null!=t?M=y.default.Messages.INVITE_STREAM_HEADER:null!=r&&(M=y.default.Messages.EMBEDDED_ACTIVITIES_INVITE_TO_ACTIVITY);return a.createElement(a.Fragment,null,a.createElement(d.default,S({size:d.default.Sizes.TINY,
color:h.default.buttonColor,onClick:function(){(0,i.default)(null!=P,"guild cannot be null");(0,i.default)(null!=_,"channel cannot be null");!function(e,t,r,o,i,u,l){null==u||u();(0,c.openModalLazy)(b(regeneratorRuntime.mark((function i(){var u,s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:u=i.sent;s=u.default;return i.abrupt("return",(function(n){return a.createElement(s,S({},n,{guild:e,channel:t,streamUserId:r,applicationId:o,analyticsLocation:l,source:p.InstantInviteSources.STREAM_INVITE}))}));case 5:case"end":return i.stop()}}),i)}))),{modalKey:"stream-invite-modal",contextKey:i===p.AppContext.POPOUT?v.POPOUT_MODAL_CONTEXT:v.DEFAULT_MODAL_CONTEXT})}(P,_,null==t?void 0:t.ownerId,r,O,g,I)},className:(0,o.default)(C,h.default.textButton)},T),M),E(l.default,{channel:_,stream:t,appContext:O,className:(0,o.default)(C,h.default.iconButton),exitFullScreen:g,
analyticsLocation:I}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(294184)),i=_(n(441143)),u=n(536211),l=_(n(336156)),s=_(n(30098)),f=_(n(689389)),d=_(n(956117)),c=n(194322),p=n(770348),v=n(371621),y=_(n(247001)),h=_(n(684592)),m=["stream","applicationId","channel","exitFullScreen","appContext","analyticsLocation","className"];function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}},232269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=c;s(n(667294));var r,a=u(n(229132)),o=s(n(518931)),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=n(153996);function c(e){var t=e.width,n=e.className,r=e.channelId,u=e.noArt,l=void 0!==u&&u;return f(o.default,{artURL:d,noArt:l,size:(0,o.getSizeForWidth)(t),className:n,callToAction:i.default.Messages.STREAM_SHOW_ALL_PARTICIPANTS,header:i.default.Messages.STREAM_PARTICIPANTS_HIDDEN.format(),onCTAClick:function(){return a.default.toggleVoiceParticipantsHidden(r,!1)}})}c.displayName="ParticipantsHidden"},603218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=ee(n(667294)),o=Q(n(441143)),i=Q(n(496486)),u=Q(n(536211)),l=Q(n(740207)),s=Q(n(505437)),f=n(264720),d=Q(n(136873)),c=n(844784),p=Q(n(825724)),v=Q(n(66384)),y=Q(n(310268)),h=n(678928),m=n(747868),_=Q(n(379310)),g=Q(n(925013)),E=Q(n(908921)),S=ee(n(8475)),O=n(139982),b=Q(n(625905)),I=Q(n(134893)),C=Q(n(244612)),T=Q(n(401311)),A=Q(n(866219)),P=Q(n(305914)),M=Q(n(199138)),N=Q(n(607209)),R=Q(n(423046)),w=Q(n(635014)),D=Q(n(290629)),L=Q(n(728429)),j=Q(n(529688)),k=Q(n(189434)),U=Q(n(949898)),G=Q(n(275189)),F=Q(n(776360)),x=Q(n(308920)),V=Q(n(29652)),W=Q(n(440556)),H=Q(n(381390)),B=Q(n(7969)),z=Q(n(111014)),Y=Q(n(493051)),$=Q(n(602824)),K=Q(n(310261)),q=n(770348),Z=n(859089),X=Q(n(10263));function Q(e){return e&&e.__esModule?e:{default:e}}function J(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(J=function(e){return e?n:t})(e)}function ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=J(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function te(){te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return te.apply(this,arguments)}function ne(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function re(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function ae(e,t){ae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ae(e,t)}var oe=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ae(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).state={screensharePopoutOpen:!1};t._ref=a.createRef();t.handleVideo=function(e){l.default.setVideoEnabled(e)};t.handleEnableVideoWhenUnavailable=function(){t.props.isVideoAvailable?t.handleVideo(!0):(0,Y.default)()};t.handleJumpToChannel=function(){var e=t.props.channel;(0,f.popAllLayers)();var n=e.getGuildId()||q.ME;s.default.channelListScrollTo(n,e.id);(0,O.transitionToGuild)(n,e.id)};t.handleStartStream=function(){var e=t.props,n=e.canGoLive,r=e.channel,a=r.getGuildId();(0,
o.default)(null!=a,"Cannot go live in non guild channel");if(!n)return(0,$.default)();(0,K.default)(a,r.id,q.AnalyticsPages.GUILD_CHANNEL)};t.handleStopStream=function(){var e=t.props.participantOnScreen;(0,o.default)((0,Z.isStreamParticipant)(e),"cannot stop stream for non streamer");(0,E.default)(e.stream)};t.handleOpenPopout=function(){var e=t.props.channel;S.openChannelCallPopout(e)};t.handleDisconnect=function(){d.default.selectVoiceChannel(null)};t.renderBottomLeftControls=function(){var e=t.viewProperties.canSeeParticipantName;return a.createElement(a.Fragment,null,e?t.renderParticipantName():null)};t.renderBottomRightControls=function(){var e=t.viewProperties,n=e.canSettings,r=e.canPopout,o=e.canDisconnect,i=e.canStopStream,u=e.canSeeViewers;return a.createElement(a.Fragment,null,u?t.renderViewersIcon():null,n?t.renderSettingsIcon():null,r?t.renderPopoutIcon():null,i?t.renderStopStreamButton():null,o?t.renderDisconnectButton():null)};t.renderDisconnectButton=function(){
return ne(T.default,{className:X.default.rightTrayIcon,onClick:t.handleDisconnect})};t.renderStopStreamButton=function(){var e=t.viewProperties.isSelf;return ne(P.default,{isSelfStream:e,className:X.default.rightTrayIcon,onClick:t.handleStopStream})};t.renderViewersIcon=function(){var e=t.props,n=e.participantOnScreen,r=e.channel;(0,o.default)((0,Z.isStreamParticipant)(n)||(null==n?void 0:n.type)===Z.ParticipantTypes.ACTIVITY,"Cannot render participants for participant type "+(null==n?void 0:n.type));return ne(I.default,{},void 0,ne(y.default,{channelId:r.id,guildId:r.getGuildId(),className:X.default.rightTrayIcon,participant:n,compact:!0}))};t.renderPopoutIcon=function(){return ne(A.default,{className:X.default.rightTrayIcon,popoutOpen:!1,onOpenPopout:t.handleOpenPopout,onClosePopout:q.NOOP_NULL})};t.renderSettingsIcon=function(){var e=t.props,n=e.participantOnScreen,r=e.activeStreams;(0,o.default)((0,Z.isStreamParticipant)(n),"Cannot render settings for non stream participant")
;var a=r.find((function(e){return(0,m.encodeStreamKey)(e)===n.id}));return null==a||a.state===q.ApplicationStreamStates.ENDED?null:ne(M.default,{stream:a,className:X.default.rightTrayIcon,appContext:q.AppContext.APP})};return t}var n=t.prototype;n.getScreenMessage=function(){var e=this.props,t=e.participantOnScreen,n=e.currentUserId;if(!(0,Z.isStreamParticipant)(t))return null;var r=this.activeStreamForSelectedParticipant;return null==r?null:(0,g.default)(r,t.user,t.user.id===n,this.streamerPaused)};n.componentDidMount=function(){var e=this.props.channel;x.default.track(q.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,te({video_layout:"pip"},(0,c.collectVoiceAnalyticsMetadata)(e.id)))};n.componentWillUnmount=function(){var e=this.props.channel;x.default.track(q.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,te({video_layout:p.default.getLayout(e.id)},(0,c.collectVoiceAnalyticsMetadata)(e.id)))};n.renderStreamState=function(){var e=this.activeStreamForSelectedParticipant,t=this.props.participantOnScreen
;return(null==e?void 0:e.state)===q.ApplicationStreamStates.ENDED?ne(H.default,{stream:e,width:Z.PIP_WIDTH}):(null==e?void 0:e.state)===q.ApplicationStreamStates.FAILED?ne(B.default,{stream:e,width:Z.PIP_WIDTH}):(null==t?void 0:t.type)===Z.ParticipantTypes.HIDDEN_STREAM?ne(z.default,{participant:t,width:Z.PIP_WIDTH}):null};n.renderParticipantName=function(){var e=this.props,t=e.channel,n=e.participantOnScreen;if((null==n?void 0:n.type)===Z.ParticipantTypes.STREAM||(null==n?void 0:n.type)===Z.ParticipantTypes.USER){var r=V.default.getNickname(t.getGuildId(),t.id,n.user)||n.user.username;return ne(F.default,{size:F.default.Sizes.SIZE_16,color:q.Colors.WHITE,className:X.default.participantName},void 0,r)}return null};n.render=function(){var e=this,t=this.props,n=t.channel,r=t.streamId,o=t.participantOnScreen,i=t.isVideoEnabled,u=(0,h.computeChannelName)(n,L.default,D.default),l=(null==o?void 0:o.id)===R.default.getId()&&i,s=this.renderStreamState(),f=null
;(null==o?void 0:o.type)!==Z.ParticipantTypes.ACTIVITY&&(null!=s?f=s:(null==o?void 0:o.type)!==Z.ParticipantTypes.USER&&(null==o?void 0:o.type)!==Z.ParticipantTypes.STREAM||(f=ne(W.default,{paused:this.streamerPaused,streamId:r,component:w.default.getVideoComponent(),mirror:l},void 0,ne(G.default,{size:G.default.AvatarSizes.SIZE_80,src:null==o?void 0:o.user.getAvatarURL(n.guild_id,80),"aria-label":null==o?void 0:o.user.username}))));return ne(b.default,{timeout:1800},void 0,(function(t){var n;return a.createElement(C.default,te({title:u,backgroundKey:null!==(n=null==o?void 0:o.id)&&void 0!==n?n:"",screenMessage:e.getScreenMessage(),onJumpToChannel:e.handleJumpToChannel,renderBottomLeftControls:e.renderBottomLeftControls,renderBottomRightControls:e.renderBottomRightControls,preventIdleComponent:I.default,width:Z.PIP_WIDTH},t),f)}))};!function(e,t,n){t&&re(e.prototype,t);n&&re(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"viewProperties",get:function(){
var e=this.props,t=e.participantOnScreen,n=e.currentUserId,r=e.channel,a=(0,Z.isStreamParticipant)(t),o=null!=t&&t.type!==Z.ParticipantTypes.ACTIVITY&&t.user.id===n;return{canPopout:a&&!o,canSettings:a&&o,canStopStream:a,canSeeViewers:a,canSeeParticipantName:((null==t?void 0:t.type)===Z.ParticipantTypes.STREAM||(null==t?void 0:t.type)===Z.ParticipantTypes.USER)&&r.type!==q.ChannelTypes.DM,canDisconnect:!a,isSelf:o}}},{key:"streamerPaused",get:function(){var e=this.props,t=e.isMainWindowFocused,n=e.activeSelfStream,r=e.participantOnScreen;return null!=n&&(null==r?void 0:r.id)===(0,m.encodeStreamKey)(n)&&!t}},{key:"activeStreamForSelectedParticipant",get:function(){var e=this.props,t=e.participantOnScreen,n=e.activeStreams;return(0,Z.isStreamParticipant)(t)?n.find((function(e){return(0,m.encodeStreamKey)(e)===t.id})):null}}]);return t}(a.PureComponent);oe.displayName="PictureInPictureVideoContainer"
;var ie=u.default.connectStores([w.default,p.default,R.default,j.default,k.default,N.default,U.default],(function(e){var t=e.channel,n=j.default.getSpeaker(t.id),r=p.default.getParticipant(t.id,n),a=(0,i.default)(w.default.getVideoDevices()).values().first(),o=null==a||a.disabled,u=null!=r&&r.type!==Z.ParticipantTypes.ACTIVITY&&r.type!==Z.ParticipantTypes.HIDDEN_STREAM?k.default.getStreamId(r.user.id,(0,v.default)(r.type)):null,l=!1===o,s=!o&&w.default.isVideoEnabled(),f=(0,_.default)(w.default),d=R.default.getId();return{channel:t,streamId:u,participantOnScreen:r,isVideoAvailable:l,isVideoEnabled:s,canGoLive:f,currentUserId:d,activeStreams:N.default.getAllActiveStreams(),activeSelfStream:N.default.getActiveStreamForUser(d),isMainWindowFocused:U.default.isFocused()}}))(oe);t.default=ie},474628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=S(n(636602)),o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(720409)),i=S(n(177230)),u=S(n(303798)),l=S(n(902305)),s=S(n(607209)),f=S(n(644263)),d=S(n(122913)),c=S(n(635014)),p=S(n(218843)),v=S(n(893160)),y=S(n(211136)),h=S(n(790597)),m=S(n(387692)),_=n(770348),g=n(376293);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function b(){var e,t=r;if(null==t||!p.default.isOpen(t))return!1;a.default.wait((function(){return o.close(t)}))
;null===(e=v.default.getRTCConnection())||void 0===e||e.setPipOpen(!1);r=null}function I(){var e=v.default.getChannelId(),t=r===e;if(function(){var e=v.default.getChannelId(),t=y.default.getChannelId();if(!c.default.supports(g.Features.VIDEO))return!0;if(l.default.getWindowOpen(_.PopoutWindowKeys.CHANNEL_CALL_POPOUT))return!0;var n=s.default.getAllActiveStreams().length>0;if(!(null!=e&&Object.values(m.default.getVideoVoiceStatesForChannel(e)).some((function(e){var t=e.userId;return!c.default.isLocalVideoDisabled(t)}))||n))return!0;var r=d.default.hasLayers();return!(r&&d.default.getLayers().includes(_.Layers.RTC_DEBUG)||!r&&e!==t)}())return b();t||b();return null!=e&&function(e){var t,n=f.default.getChannel(e);if(null==n||p.default.isOpen(e))return!1;a.default.wait((function(){return o.open(n.id,_.PictureInPictureComponents.VIDEO,{channel:n})}));null===(t=v.default.getRTCConnection())||void 0===t||t.setPipOpen(!0);r=e}(e)}var C=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){y.default.addChangeListener(I);h.default.addChangeListener(I);v.default.addChangeListener(I);m.default.addChangeListener(I);d.default.addChangeListener(I);s.default.addChangeListener(I);l.default.addChangeListener(I);c.default.addChangeListener(I);u.default.addChangeListener(I)};n._terminate=function(){y.default.removeChangeListener(I);h.default.removeChangeListener(I);v.default.removeChangeListener(I);m.default.removeChangeListener(I);d.default.removeChangeListener(I);s.default.removeChangeListener(I);l.default.removeChangeListener(I);c.default.removeChangeListener(I);u.default.removeChangeListener(I)};return t}(i.default));t.default=C},381390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;f(n(667294))
;var r,a,o=n(123516),i=n(747868),u=f(n(518931)),l=(r=n(247001))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=n(802566);function p(e){var t=e.stream,n=e.width,r=e.noArt,a=void 0!==r&&r,s=e.selected,f=void 0!==s&&s;return d(u.default,{artURL:c,noArt:a,selected:f,size:(0,u.getSizeForWidth)(n),header:l.default.Messages.STREAM_ENDED,onCTAClick:function(){return(0,o.closeStream)((0,i.encodeStreamKey)(t))},callToAction:l.default.Messages.CLOSE_STREAM})}p.displayName="StreamEnded"},7969:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;c(n(667294));var r,a=n(123516),o=n(747868),i=f(n(550270)),u=c(n(518931)),l=n(770348),s=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=n(192941);function y(e){var t=e.stream,n=e.width,r=e.selected,f=void 0!==r&&r,d=e.noArt,c=void 0!==d&&d;return p(u.default,{artURL:v,header:s.default.Messages.STREAM_FAILED_TITLE,size:(0,u.getSizeForWidth)(n),noArt:c,selected:f,
description:s.default.Messages.STREAM_FAILED_DESCRIPTION.format({helpUrl:i.default.getArticleURL(l.HelpdeskArticles.STREAM_FAILED)}),onCTAClick:function(){return(0,a.closeStream)((0,o.encodeStreamKey)(t))},callToAction:s.default.Messages.CLOSE_STREAM})}y.displayName="StreamFailed"},111014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;m(n(667294));var r,a=y(n(294184)),o=n(536211),i=n(123516),u=y(n(607209)),l=y(n(423046)),s=y(n(227134)),f=y(n(776360)),d=n(288146),c=m(n(518931)),p=y(n(247001)),v=y(n(207336));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=n(987601);function E(e){var t,n,r=e.participant,y=e.width,h=e.noArt,m=void 0!==h&&h,E=e.selected,S=void 0!==E&&E,O=y<195,b=(0,o.useStateFromStores)([u.default,l.default],(function(){return u.default.getAllActiveStreams().some((function(e){return e.ownerId!==l.default.getId()}))}));return _("div",{className:(0,
a.default)(v.default.content,v.default.streamHidden,(t={},t[v.default.small]=O,t))},void 0,_(c.default,{className:v.default.streamHiddenEmptyState,artURL:g,noArt:m,selected:S,size:(0,c.getSizeForWidth)(y),header:O?null:p.default.Messages.STREAM_HIDDEN,description:S?null:_("div",{className:(0,a.default)(v.default.streamHiddenCTA,(n={},n[v.default.largePaddingTop]=!O,n))},void 0,_(d.CallTileCTA,{isSmall:O},void 0,_(f.default,{size:O?f.default.Sizes.SIZE_14:f.default.Sizes.SIZE_16,color:f.default.Colors.CUSTOM},void 0,y<175?p.default.Messages.WATCH:p.default.Messages.WATCH_STREAM)),b?_(d.CallTileCTA,{className:v.default.addCTA,tooltip:p.default.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,i.watchStream)(r.stream,{forceMultiple:!0})},isSmall:O},void 0,_(s.default,{className:v.default.addStreamIcon})):null)}))}E.displayName="StreamHidden"},55055:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.StreamTileIndicators=function(e){
var t=e.participant,n=e.selected,r=e.focused,o=e.idle,u=e.width,l=(0,i.useStateFromStores)([c.default],(function(){return c.default.getActiveStreamForUser(t.user.id)})),s=(0,T.isVideoCompact)(u);return a.createElement(a.Fragment,null,n?null:j(C.default,{participant:t}),r||null==l||l.state===A.ApplicationStreamStates.ENDED||l.state===A.ApplicationStreamStates.FAILED?null:j(f.default,{size:g.default.Sizes.LARGE,className:R.default.liveIndicator,participant:t,showQuality:!s&&!o,isUpsellEnabled:!1}))};t.default=function(e){var t=e.participant,n=e.selected,r=e.onVideoResize,f=e.paused,g=e.fit,C=e.inPopout,T=e.width,w=v.default.getVideoComponent(),D=(0,i.useStateFromStores)([p.default],(function(){return p.default.getId()})),k=t.stream,U=t.user,G=t.streamId,F=(0,i.useStateFromStores)([c.default],(function(){return c.default.getActiveStreamForUser(U.id)}),[U.id]),x=(0,i.useStateFromStores)([c.default],(function(){return c.default.getAllActiveStreams().length>0})),V=(0,
i.useStateFromStores)([y.default],(function(){return y.default.isFocused()})),W=(null==F?void 0:F.ownerId)===D&&!V&&!C,H=null!=F?(0,l.default)(F,U,U.id===D,W):null,B=T<195;return(null==F?void 0:F.state)===A.ApplicationStreamStates.ENDED?j(O.default,{selected:n,stream:F,width:T}):(null==F?void 0:F.state)===A.ApplicationStreamStates.FAILED?j(b.default,{selected:n,stream:F,width:T}):t.type===P.ParticipantTypes.HIDDEN_STREAM?j(I.default,{selected:n,participant:t,width:T}):null!=F&&!n&&null!=w&&v.default.supports(M.Features.VIDEO)?a.createElement(a.Fragment,null,j(h.default,{onResize:r,wrapperClassName:R.default.videoWrapper,className:R.default.content,streamId:G,videoComponent:w,fit:g,paused:f||W}),null!=H?a.createElement(d.default,L({size:(0,S.getSizeForWidth)(T)},H)):null):j("div",{className:(0,o.default)(R.default.content,R.default.streamPreview,(z={},z[R.default.small]=B,z))},void 0,j(s.default,{noText:!0,className:(0,o.default)(R.default.absoluteFill,(Y={},
Y[R.default.streamPreviewOpacity]=null==F,Y)),stream:t.stream}),n?null:a.createElement(a.Fragment,null,j(E.CallTileCTA,{isSmall:B},void 0,j(_.default,{size:B?_.default.Sizes.SIZE_14:_.default.Sizes.SIZE_16,color:_.default.Colors.CUSTOM},void 0,T<175?N.default.Messages.WATCH:N.default.Messages.WATCH_STREAM)),x?j(E.CallTileCTA,{className:R.default.addCTA,tooltip:N.default.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,u.watchStream)(k,{forceMultiple:!0})},isSmall:B},void 0,j(m.default,{className:R.default.addStreamIcon})):null));var z,Y};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=w(n(294184)),i=n(536211),u=n(123516),l=w(n(925013)),s=w(n(645923)),f=w(n(57697)),d=w(n(896566)),c=w(n(607209)),p=w(n(423046)),v=w(n(635014)),y=w(n(949898)),h=w(n(971146)),m=w(n(227134)),_=w(n(776360)),g=w(n(528175)),E=n(288146),S=n(518931),O=w(n(381390)),b=w(n(7969)),I=w(n(111014)),C=w(n(697252)),T=n(227482),A=n(770348),P=n(859089),M=n(376293),N=w(n(247001)),R=w(n(32599));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},697252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.participant,n=e.className,r=function(e){if(null==e)return null;return i.default.isDeveloper?e.message+" ("+e.errorType+")":e.message}((0,a.default)(t));return null!=r?s(o.default,{className:n,errorMessage:r}):null};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r)}(n(667294));var r,a=u(n(910333)),o=u(n(778339)),i=u(n(776115));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},522503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.participant,n=e.channel,r=e.inCall,E=e.width,S=e.paused,C=e.selected,T=e.fit,A=e.onVideoResize,P=e.blocked,M=e.noVideoRender,N=void 0!==M&&M,R=e.pulseSpeakingIndicator,w=void 0!==R&&R,D=f.default.getVideoComponent(),L=(0,o.useStateFromStores)([s.default],(function(){return s.default.getId()})),j=(0,o.useStateFromStores)([i.default],(function(){return i.default.useReducedMotion})),k=t.user,U=t.streamId,G=t.speaking,F=k.id===L,x=(0,y.default)(t),V=(0,o.useStateFromStores)([d.default],(function(){return d.default.isFocused()})),W=(0,o.useStateFromStores)([l.default],(function(){return l.default.getWindowFocused(h.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),H=(0,o.useStateFromStores)([f.default],(function(){return null!=k.id&&f.default.isLocalVideoDisabled(k.id,(0,u.default)(t.type))}),[k.id,t.type]),B=v.default.getName(n.getGuildId(),n.id,k),z=E<124;if(r&&!H&&!N&&x&&!C&&null!=D&&f.default.supports(_.Features.VIDEO))return O(p.default,{onResize:A,
wrapperClassName:g.default.videoWrapper,className:g.default.content,mirror:F,streamId:U,videoComponent:D,fit:T,paused:S});var Y,$=!j&&G&&(W||V);return O("div",{className:(0,a.default)(g.default.content,(Y={},Y[g.default.blockedAvatar]=P,Y))},void 0,O(c.default,{"aria-label":B,src:k.getAvatarURL(n.guild_id,z?m.SizeSpecs[I].size:m.SizeSpecs[b].size,$),backgroundSrc:k.getAvatarURL(n.guild_id,80),size:z?I:b,pulseSpeakingIndicator:w,speaking:G}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=E(n(294184)),o=n(536211),i=E(n(235879)),u=E(n(66384)),l=E(n(902305)),s=E(n(423046)),f=E(n(635014)),d=E(n(949898)),c=E(n(275189)),p=E(n(971146)),v=E(n(29652)),y=E(n(183612)),h=n(770348),m=n(942675),_=n(376293),g=E(n(32599));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=c.default.AvatarSizes.SIZE_80,I=c.default.AvatarSizes.SIZE_40},486082:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y
;var r,a=d(n(667294)),o=s(n(974661)),i=s(n(521358)),u=d(n(709578)),l=s(n(438405));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=16/9;function v(){return null}function y(e){var t=e.participants,n=e.selectedParticipantId,r=e.onDoubleClick,s=e.onContextMenu,f=e.onClick,d=e.channel,y=e.inCall,h=e.popoutWindow,m=e.paused,_=void 0!==m&&m,g=null!=h,E=a.useMemo((function(){return[t.length]}),[t.length]);return c("div",{className:l.default.root},void 0,c(i.default,{paddingTop:8,className:l.default.list,renderSection:v,sectionHeight:0,rowHeight:131.75,renderRow:function(e){var a=e.row,i=t[a];return null==i?null:c(o.default,{className:l.default.tileSizer,aspectRatio:p},i.id,c(u.default,{participant:i,selected:n===i.id,channel:d,className:l.default.tile,fit:u.CallTileFit.COVER,onClick:f,onDoubleClick:r,onContextMenu:s,width:220,inCall:y,paused:_,inPopout:g}))},sections:E}))}y.displayName="VideoParticipants"},493051:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){a.default.supports(i.Features.VIDEO)?(0,o.openModalLazy)(c(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,f({},t,{header:u.default.Messages.CAMERA_UNAVAILABLE,body:u.default.Messages.CAMERA_NO_DEVICE,confirmText:u.default.Messages.OKAY,onConfirm:e}))}));case 5:case"end":return t.stop()}}),t)})))):(0,o.openModalLazy)(c(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:a=t.sent;i=a.default;return t.abrupt("return",(function(t){return r.createElement(i,f({},t,{header:u.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,
body:u.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,confirmText:u.default.Messages.DOWNLOAD_APP,onConfirm:function(){null==e||e();(0,o.openModalLazy)(c(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,f({source:"Video unsupported browser"},e))}));case 5:case"end":return e.stop()}}),e)}))))}}))}));case 5:case"end":return t.stop()}}),t)}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),a=l(n(635014)),o=n(194322),i=n(376293),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}},602824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){function e(){(0,o.openModalLazy)(f(regeneratorRuntime.mark((function e(){var t,r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,l({source:"Screenshare Unavailable"},e))}));case 5:case"end":return e.stop()}}),e)}))))}(0,o.openModalLazy)(f(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,l({},t,{header:i.default.Messages.SCREENSHARE_UNAVAILABLE,body:i.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:i.default.Messages.DOWNLOAD_APP,onConfirm:e}))}));case 5:case"end":return t.stop()}}),t)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(194322),i=(r=n(247001))&&r.__esModule?r:{default:r};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){
s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},227482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isNamesCompact=function(e){return e<=124};t.isVideoCompact=function(e){return e<=220}},30269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){a.AlwaysPreviewVideo.getSetting()?(0,o.openModalLazy)(d(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(93198),n.e(35390)]).then(n.bind(n,635390));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,s({},t,{onEnable:e,videoEnabled:!1}))}));case 5:case"end":return t.stop()}}),t)}))),{modalKey:"camera-preview",contextKey:t===i.AppContext.POPOUT?u.POPOUT_MODAL_CONTEXT:u.DEFAULT_MODAL_CONTEXT}):null==e||e()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(894826),o=n(194322),i=n(770348),u=n(371621);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){
f(o,r,a,i,u,"throw",e)}i(void 0)}))}}},700598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r,i,u,l=null,s=null,f=null,d=!1,c=!1;switch(e.type){case o.ParticipantTypes.ACTIVITY:break;case o.ParticipantTypes.USER:l=e.streamId;f=e.voiceState;d=e.speaking;c=e.ringing;break;case o.ParticipantTypes.STREAM:l=e.streamId;s=e.stream}return{streamId:l,stream:s,speaking:d,ringing:c,muted:null!==(n=null===(r=f)||void 0===r?void 0:r.isVoiceMuted())&&void 0!==n&&n,deafen:null!==(i=null===(u=f)||void 0===u?void 0:u.isVoiceDeafened())&&void 0!==i&&i,mirror:e.type===o.ParticipantTypes.USER&&e.user.id===t,hasVideo:(0,a.default)(e)}};var r,a=(r=n(183612))&&r.__esModule?r:{default:r},o=n(859089)},116780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var l=(0,r.useStateFromStores)([o.default],(function(){return null!=n?(0,a.getStreamerApplication)(n,o.default):null
}),[n]),s=i.default.getName(e.getGuildId(),e.id,t);if(null==n)return s;return null!=(null==l?void 0:l.name)?u.default.Messages.GO_LIVE_USER_PLAYING.format({applicationName:null==l?void 0:l.name,username:s}):u.default.Messages.GO_LIVE_TILE_SCREEN.format({username:s})};var r=n(536211),a=n(10614),o=l(n(788739)),i=l(n(29652)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}},222935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.children,n=(0,a.usePreventIdle)("popup"),o=n.preventIdle,i=n.allowIdle;r.useEffect((function(){o();return function(){return i()}}),[i,o]);return r.createElement(r.Fragment,null,t)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){
var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(134893);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},48102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOAST_LINGER_MS=void 0;t.default=M;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(496486),i=n(248088),u=n(536211),l=E(n(229132)),s=E(n(252566)),f=E(n(116518)),d=n(907932),c=n(851757),p=E(n(427498)),v=E(n(201292)),y=E(n(290629)),h=E(n(16941)),m=n(961365),_=n(692711),g=E(n(123984));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=T(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{
try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.TOAST_LINGER_MS=1e4;function P(e){var t,n=e.message,r=(0,u.useStateFromStores)([y.default],(function(){return y.default.isBlocked(n.author.id)})),o=(0,d.useNullableMessageAuthor)(n),i=a.useContext(s.default),v=a.useCallback((function(e){"A"!==e.target.nodeName&&l.default.updateChatOpen(n.channel_id,!0)
}),[n.channel_id]),E=null!=n.content&&""!==n.content?(0,f.default)(n,{isInteracting:!0}).content:null,S=(0,m.renderSingleLineMessage)(n,E,r,g.default.messageContent,g.default.messageContentIcon),b=S.contentPlaceholder,I=S.renderedContent,C=S.icon,T=(0,c.getMessageStickers)(n),A=T.length>0?T.map((function(e){return O(p.default,{className:g.default.sticker,size:128,sticker:e,isInteracting:!0})})):null;return O(h.default,{className:g.default.toast,onClick:v},void 0,O("div",{className:g.default.messageContentWrapper},void 0,null!==(t=null!=I?I:A)&&void 0!==t?t:O("span",{},void 0,b),null!=A?null:C),O("img",{alt:"",src:null!=(null==o?void 0:o.guildMemberAvatar)&&null!=i?(0,_.getGuildMemberAvatarURLSimple)({guildId:i,userId:n.author.id,avatar:o.guildMemberAvatar}):n.author.getAvatarURL(i,32),className:g.default.avatar}))}P.displayName="ChatToast";function M(e){var t=e.channelId,n=e.className,r=(0,u.useStateFromStores)([v.default],(function(){return v.default.getMessages(t)
}),[t]),l=C(a.useState(!1),2),s=l[0],f=l[1],d=function(e){var t,n=e.messages,r=e.isFrozen,o=e.count,i=e.lingerMs,u=C(a.useState([]),2),l=u[0],s=u[1],f=a.useRef(null),d=a.useRef(),c=n.last();a.useEffect((function(){if(null!=c)if(null!=d.current){if(c.id!==d.current){var e={message:c,timeout:setTimeout((function(){s((function(e){return e.slice(1)}))}),i)};s((function(t){var n=I(t),r=t.findIndex((function(e){return e.message.id===c.id}));-1!==r?n.splice(r,1,e):n.push(e);return n}))}}else d.current=c.id}),[o,c,i]);a.useEffect((function(){return function(){for(var e,t=b(l);!(e=t()).done;){var n=e.value;clearTimeout(n.timeout)}d.current=void 0}}),[]);a.useEffect((function(){l.length>3&&s((function(e){for(var t=e.length-3,n=0;n<t;n++)clearTimeout(e[n].timeout);return I(e.slice(t))}))}),[l]);r&&null==f.current?f.current=l:r||null==f.current||(f.current=null);return(null!==(t=f.current)&&void 0!==t?t:l).map((function(e){return e.message}))}({messages:r,isFrozen:s,count:3,lingerMs:1e4
}),c=a.useRef({}),p=C(a.useState({}),2),y=p[0],h=p[1],m=a.useCallback((function(e,t){null==t?delete c.current[e]:c.current[e]=t}),[]);a.useLayoutEffect((function(){for(var e,t={},n=0,r=b(d);!(e=r()).done;){var a,i=e.value,u=null!==(a=c.current[i.id])&&void 0!==a?a:0;t[i.id]=n;n+=u+8}(0,o.isEqual)(t,y)||h(t)}),[d]);var _=d.map((function(e){return{message:e,height:c.current[e.id],y:y[e.id]}}));return O("div",{className:n,onMouseEnter:function(){f(!0)},onMouseLeave:function(){f(!1)}},void 0,(0,i.useTransition)(_,{keys:function(e){return e.message.id},from:function(){return{opacity:0}},enter:function(e){return{opacity:1,y:e.y}},update:function(e){return{y:e.y}},leave:function(e){var t=e.height;return{opacity:0,y:-(null!=t?t:0)-8}}})((function(e,t){var n=e.opacity,r=e.y;return a.createElement(i.animated.div,{ref:function(e){return m(t.message.id,null!=e?e.offsetHeight:null)},className:g.default.toastWrapper,style:{opacity:n,translateY:r}},O(P,{message:t.message}))})))}
M.displayName="ChatToasts"},430251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DisableGradient=void 0;t.default=h;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=d(n(294184)),u=d(n(530250)),l=d(n(896566)),s=d(n(744794)),f=["screenMessage","onDoubleClick","onActive","onForceIdle","idle","children","renderChatButton","renderChatToasts"];function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){
p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.DisableGradient=a;!function(e){e[e.TOP=0]="TOP";e[e.BOTTOM=1]="BOTTOM"}(a||(t.DisableGradient=a={}));function y(e){var t=e.disableGradients,n=void 0!==t&&t,r=e.renderHeader,o=e.renderBottomLeft,i=e.renderBottomCenter,l=e.renderBottomRight,f=e.renderCenter,d=n===a.TOP||!0===n,c=n===a.BOTTOM||!0===n;return v("div",{className:s.default.videoControls},void 0,!d&&v("div",{
className:s.default.gradientTop}),!c&&v("div",{className:s.default.gradientBottom}),v("div",{className:s.default.topControls},void 0,null==r?void 0:r()),null==f?void 0:f(),v("div",{className:s.default.bottomControls},void 0,v(u.default,{grow:0,shrink:1,basis:"50%",align:u.default.Align.CENTER},void 0,null==o?void 0:o()),v(u.default,{grow:1,justify:u.default.Justify.CENTER,align:u.default.Align.CENTER},void 0,null==i?void 0:i()),v(u.default,{grow:0,shrink:1,justify:u.default.Justify.END,basis:"50%",align:u.default.Align.CENTER},void 0,null==l?void 0:l())))}y.displayName="Controls";function h(e){var t,n=e.screenMessage,r=e.onDoubleClick,a=e.onActive,u=e.onForceIdle,d=e.idle,c=e.children,h=e.renderChatButton,m=e.renderChatToasts,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f);return v("div",{className:(0,i.default)(s.default.root,(t={},t[s.default.idle]=d,t)),onMouseMove:a,onMouseDown:a,
onMouseLeave:u,onDoubleClick:r},void 0,c,null!=n?o.createElement(l.default,p({size:"large"},n)):null,o.createElement(y,_),null==h?void 0:h({className:s.default.chatButton,showingClassName:s.default.chatButtonShowing}),null==m?void 0:m())}h.displayName="FullsizePlayer"},244612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PictureInPictureHeader=I;t.default=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=E(n(294184)),i=n(536211),u=E(n(550024)),l=E(n(893160)),s=E(n(16941)),f=E(n(530250)),d=n(974286),c=E(n(889167)),p=E(n(971639)),v=E(n(77871)),y=E(n(896566)),h=n(770348),m=E(n(247001)),_=E(n(201768)),g=["children","idle","onJumpToChannel","backgroundKey","onActive","onForceIdle","renderBottomLeftControls","renderBottomRightControls","screenMessage"];function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.title,n=e.onJumpToChannel,r=e.idle,a=e.preventIdleComponent,o=(0,i.useStateFromStores)([l.default],(function(){return l.default.getChannelId()})),u=null!=o?b(v.default,{voiceChannelId:o,idle:r}):null;return b(a,{className:_.default.headerIdleContainer},void 0,b(s.default,{className:_.default.headerTitle,onClick:n},void 0,b(c.default,{"aria-label":m.default.Messages.OPEN_IN_THEATER,className:_.default.backButton,width:20,height:20}),b(p.default,{className:_.default.headerText,size:p.default.Sizes.SIZE_16,color:h.Colors.WHITE},void 0,t)),u)}I.displayName="PictureInPictureHeader";function C(e){
var t,n=e.children,r=e.idle,i=e.onJumpToChannel,l=e.backgroundKey,s=e.onActive,c=e.onForceIdle,p=e.renderBottomLeftControls,v=e.renderBottomRightControls,h=e.screenMessage,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,g);return b("div",{onMouseMove:s,onMouseDown:s,onMouseLeave:c,className:(0,o.default)(_.default.pictureInPictureVideo,(t={},t[_.default.idle]=r,t)),onDoubleClick:i},void 0,b(u.default,{},void 0,b(d.BackgroundTransition,{},l,n)),null!=h?a.createElement(y.default,O({size:"small"},h)):null,b("div",{className:_.default.videoControls},void 0,b("div",{className:_.default.topControls},void 0,a.createElement(I,O({idle:r,onJumpToChannel:i},m))),b("div",{className:_.default.bottomControls},void 0,b(f.default,{grow:0,shrink:1,basis:"50%",align:f.default.Align.CENTER,className:_.default.bottomLeftControls},void 0,null==p?void 0:p()),b(f.default,{grow:0,shrink:1,justify:f.default.Justify.END,
basis:"50%",align:f.default.Align.CENTER},void 0,null==v?void 0:v()))))}C.displayName="PictureInPictureVideo"},77871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=I(n(667294)),o=n(536211),i=O(n(229132)),u=n(720409),l=O(n(303798)),s=O(n(825724)),f=I(n(145122)),d=O(n(607209)),c=O(n(288356)),p=O(n(218843)),v=O(n(728429)),y=O(n(16941)),h=O(n(160629)),m=O(n(301927)),_=n(770348),g=n(859089),E=O(n(247001)),S=O(n(201768));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){var t=e.closePopout,n=e.idle,r=e.pipWindows,a=e.voiceChannelId,v=e.onSelect;n&&t();var y=(0,o.useStateFromStores)([l.default],(function(){return l.default.getSelfEmbeddedActivityForChannel(a)})),h=(0,o.useStateFromStores)([p.default],(function(){
return p.default.pipWindow})),m=(0,o.useStateFromStores)([s.default],(function(){return s.default.getSelectedParticipant(a)})),S=(0,o.useStateFromStores)([s.default],(function(){return s.default.getStreamParticipants(a)}));return T(f.default,{navId:"pip-menu","aria-label":"switch PIP",onClose:t,onSelect:v},void 0,function(){var e=r.find((function(e){return e.component===_.PictureInPictureComponents.EMBED_IFRAME})),t=r.find((function(e){return e.component===_.PictureInPictureComponents.VIDEO})),n=[];null!=e&&(null==h?void 0:h.id)!==e.id&&n.push({pipWindow:e});null!=t&&S.forEach((function(e){var r=d.default.getActiveStreamForApplicationStream(e.stream),a=e.id===(null==m?void 0:m.id)&&(null==h?void 0:h.id)===t.id;null==r||a||n.push({pipWindow:t,participant:e,stream:r})}));return n}().map((function(e){var t,n=e.pipWindow.id,r=null===(t=e.participant)||void 0===t?void 0:t.id,o=function(e){if(e.pipWindow.component===_.PictureInPictureComponents.EMBED_IFRAME&&null!=y){
var t,n=null===(t=c.default.getGame(y.application_id))||void 0===t?void 0:t.name;return null==n?E.default.Messages.SWITCH_PIP_TO_ACTIVITY:E.default.Messages.SWITCH_PIP_TO_ACTIVITY_NAME.format({activityName:n})}return null==e.participant||e.participant.type!==g.ParticipantTypes.STREAM?E.default.Messages.SWITCH_PIP_TO_GO_LIVE:E.default.Messages.SWITCH_PIP_TO_USER_STREAM.format({username:e.participant.userNick})}(e),l=""+n+(null!=r?r:"");return T(f.MenuItem,{id:l,label:o,action:function(){return function(e){(null==h?void 0:h.id)!==e.pipWindow.id&&(0,u.switchPIPFocus)(e.pipWindow.id);var t=e.participant;null!=t&&t.type!==g.ParticipantTypes.ACTIVITY&&i.default.selectParticipant(a,t.id)}(e)}},l)})))}A.displayName="PictureInPictureSwitchWindowMenu";function P(e){var t=e.voiceChannelId,n=e.idle,r=(0,o.useStateFromStores)([p.default],(function(){return p.default.pipWindows})),i=Array.from(r.values()),u=(0,o.useStateFromStoresArray)([d.default],(function(){
return d.default.getAllActiveStreamsForChannel(t)})).filter((function(e){var n;return e.ownerId!==(null===(n=v.default.getCurrentUser())||void 0===n?void 0:n.id)&&e.channelId===t})),l=1===i.length&&i[0].component===_.PictureInPictureComponents.EMBED_IFRAME||0===u.length,s=1===i.length&&u.length<=1;return l||s?null:T(h.default,{position:h.default.Positions.BOTTOM,renderPopout:function(e){return a.createElement(A,C({voiceChannelId:t,pipWindows:i,idle:n},e))}},void 0,(function(e){return a.createElement(y.default,C({className:S.default.menuIcon},e),T(m.default,{color:_.Colors.WHITE}))}))}P.displayName="PictureInPictureSwitchWindowPopout";var M=P;t.default=M},896566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(518931)),o=u(n(530250)),i=u(n(515506));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.mainText,n=e.supportingText,r=e.children,u=e.size;return s(o.default,{className:i.default.root,
justify:o.default.Justify.CENTER,align:o.default.Align.CENTER,direction:o.default.Direction.VERTICAL},void 0,s(a.default,{header:t,description:n,size:u}),r)}f.displayName="ScreenMessage"},778339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;d(n(667294));var r,a=s(n(294184)),o=d(n(730977)),i=s(n(417184)),u=s(n(134893)),l=s(n(400534));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.errorMessage,n=e.className;return c(o.TooltipContainer,{className:(0,a.default)(n,l.default.root),text:t,position:o.default.Positions.BOTTOM,color:o.TooltipColors.GREY},void 0,c(u.default,{},void 0,c(i.default,{"aria-label":null!=t?t:"",className:l.default.warningIcon})))}p.displayName="QualityWarning"},605520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(250003))&&r.__esModule?r:{default:r},i=n(143414),u=["isActivityActive"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e){var t=e.isActivityActive,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return a.createElement(i.CenterControlButton,s({color:t?"white":"primaryDark",
iconComponent:o.default},n))}f.displayName="ActivityButton"},116790:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(160490)),u=f(n(143414)),l=f(n(810881)),s=["direction","className"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}!function(e){e[e.UP=0]="UP";e[e.DOWN=1]="DOWN"}(r||(r={}));function p(e){var t,n=e.direction,f=e.className,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return a.createElement(u.default,c({className:(0,o.default)(f,l.default.arrow,(t={},t[l.default.up]=n===r.UP,t)),iconComponent:i.default},d))}p.displayName="ArrowButton";p.Directions=r;var v=p;t.default=v},146529:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=D;t.useChatButtonState=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=S(n(294184)),i=n(496486),u=S(n(468811)),l=n(536211),s=S(n(229132)),f=S(n(825724)),d=S(n(191391)),c=S(n(946447)),p=n(730977),v=n(810919),y=S(n(776360)),h=n(48102),m=S(n(143414)),_=S(n(247001)),g=S(n(34021)),E=["channelId","className","showingClassName"];function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=(0,l.useStateFromStoresObject)([d.default],(function(){return{unreadCount:d.default.getUnreadCount(e),mentionCount:d.default.getMentionCount(e)}}),[e]),n=t.unreadCount,r=t.mentionCount,o=C(a.useState(!1),2),i=o[0],u=o[1];a.useEffect((function(){u(n>0);var e=setTimeout((function(){u(!1)}),h.TOAST_LINGER_MS);return function(){clearTimeout(e);u(!1)}}),[n]);return{unreadCount:n,mentionCount:r,isShowing:i||r>0}}var P=I("rect",{fill:"white",width:"100%",height:"100%"}),M=I("g",{fill:"black",transform:"translate(5.5, 8.5) scale("+11/24+")"},void 0,I(v.AnimatedDots,{dotRadius:3.5,spacing:3,fill:"black"})),N=I("circle",{cx:"20",cy:"19",r:"10",fill:"black"});function R(e){
var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,i=e.isBadged,l=void 0!==i&&i,s=e.isTyping,f=void 0!==s&&s,d=C(a.useState((function(){return u.default.v4()})),1)[0];return I("svg",{width:n,height:o,viewBox:"0 0 24 24"},void 0,I("defs",{},void 0,I("mask",{id:d},void 0,P,f&&M,l&&N)),I("path",{fill:"currentColor",d:"M4.79805 3C3.80445 3 2.99805 3.8055 2.99805 4.8V15.6C2.99805 16.5936 3.80445 17.4 4.79805 17.4H7.49805V21L11.098 17.4H19.198C20.1925 17.4 20.998 16.5936 20.998 15.6V4.8C20.998 3.8055 20.1925 3 19.198 3H4.79805Z",mask:"url(#"+d+")"}))}R.displayName="ChatBubbleIcon";function w(e){var t,n,r=e.className,a=e.unreadCount,i=e.mentionCount,u=e.isTyping,l=null!=i&&i>0,s=null!==(t=l?i:a)&&void 0!==t?t:0,f=s>99?"99+":s,d=null!=a&&a>0;return I("div",{className:(0,o.default)(g.default.chatIcon,r)},void 0,I(R,{isBadged:d,isTyping:u}),d&&I(y.default,{className:(0,o.default)(g.default.unreadCount,(n={},n[g.default.mention]=l,n)),size:y.default.Sizes.SIZE_12},void 0,f))}
w.displayName="ChatButtonContent";function D(e){var t,n=e.channelId,r=e.className,u=e.showingClassName,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,E),v=(0,l.useStateFromStores)([f.default],(function(){return f.default.getChatOpen(n)}),[n]),y=(0,l.useStateFromStores)([c.default],(function(){return!(0,i.isEmpty)(c.default.getTypingUsers(n))}),[n]),h=A(n),g=h.unreadCount,S=h.mentionCount,O=h.isShowing,C=a.useCallback((function(){s.default.updateChatOpen(n,!v)}),[n,v]),T=a.useCallback((function(e){return I(w,{className:e.className,unreadCount:g,mentionCount:S,isTyping:y})}),[g,S,y]);return a.createElement(m.default,b({onClick:C,label:v?_.default.Messages.VIDEO_CALL_HIDE_CHAT:_.default.Messages.VIDEO_CALL_SHOW_CHAT,iconComponent:T,tooltipPosition:p.TooltipPositions.BOTTOM,className:(0,o.default)(r,u&&(t={},t[u]=O||y,t))},d))}D.displayName="ChatButton"},928221:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(730977),o=l(n(775803)),i=l(n(143414)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function d(e){var t=f({},e)
;return r.createElement(i.default,f({label:u.default.Messages.MORE,iconComponent:o.default,tooltipPosition:a.TooltipPositions.BOTTOM},t))}d.displayName="ContextButton"},278851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(536211)),o=p(n(902305)),i=p(n(949898)),u=p(n(775776)),l=p(n(814379)),s=n(245838),f=p(n(143414)),d=p(n(247001)),c=["enabled"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e){var t=e.enabled,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c),a=t?d.default.Messages.EXIT_FULL_SCREEN:d.default.Messages.FULL_SCREEN,o=t?l.default:u.default;return r.createElement(f.default,y({label:a,iconComponent:o},n))}h.displayName="FullscreenButton";var m=a.default.connectStores([i.default,o.default],(function(e){var t=e.node,n=e.guestWindow;return{enabled:(0,s.isFullScreen)(t,null==n?void 0:n.document)}}))(h);t.default=m},56396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=f(n(229132)),o=n(730977),i=f(n(852546)),u=f(n(143414)),l=f(n(247001)),s=["channelId"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){var t=e.channelId,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s)
;return r.createElement(u.default,c({onClick:function(){a.default.selectParticipant(t,null)},label:l.default.Messages.VIDEO_CALL_RETURN_TO_GRID,iconComponent:i.default,tooltipPosition:o.TooltipPositions.BOTTOM},n))}p.displayName="GridButton"},643779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=f(n(667294)),a=l(n(119431)),o=f(n(143414)),i=l(n(247001)),u=["channel","centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e){var t=e.channel,n=e.centerButton,l=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),f=l?o.CenterControlButton:o.default,c=t.isManaged()||!t.isPrivate()?i.default.Messages.CONNECT:i.default.Messages.JOIN_CALL;return r.createElement(f,d({},s,{iconComponent:a.default,label:c}))}c.displayName="JoinCallButton"},67286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=f(n(667294)),a=l(n(434663)),o=f(n(143414)),i=l(n(247001)),u=["centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e){var t=e.centerButton,n=void 0!==t&&t,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),s=n?o.CenterControlButton:o.default
;return r.createElement(s,d({},l,{iconComponent:a.default,label:i.default.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY}))}c.displayName="LeaveCallButton"},401311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=f(n(667294)),a=l(n(331546)),o=f(n(143414)),i=l(n(247001)),u=["centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(){d=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e){var t=e.centerButton,n=void 0!==t&&t,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),s=n?o.CenterControlButton:o.default;return r.createElement(s,d({},l,{iconComponent:a.default,label:i.default.Messages.DISCONNECT_SELF}))}c.displayName="LeaveCallButton"},607576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=p(n(667294)),o=d(n(945926)),i=d(n(855480)),u=d(n(287317)),l=p(n(143414)),s=d(n(592695)),f=["selfMute","serverMute","suppress","centerButton"];function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.className;return y(u.default,{foreground:s.default.slash,className:t})}h.displayName="MuteWithForeground";function m(e){var t=e.selfMute,n=e.serverMute,r=e.suppress,u=e.centerButton,s=void 0!==u&&u,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f),c=t||n||r,p=s?l.CenterControlButton:l.default,y=(0,o.default)(t,n,r),m=c?h:i.default;return a.createElement(p,v({iconComponent:m,label:y},d))}m.displayName="MuteButton"},975577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ParticipantsCount=m;t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=n(730977),u=p(n(547282)),l=p(n(776360)),s=p(n(143414)),f=p(n(247001)),d=p(n(898641)),c=["count"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.className,n=e.count;return h("div",{className:(0,o.default)(d.default.root,d.default.comboIcon,t)},void 0,h(u.default,{className:d.default.icon}),h(l.default,{color:l.default.Colors.CUSTOM,className:d.default.count,size:l.default.Sizes.SIZE_16},void 0,n))}m.displayName="ParticipantsCount";function _(e){var t=e.count,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c);return a.createElement(s.default,y({label:f.default.Messages.CHANNEL_CALL_PARTICIPANTS,iconComponent:function(e){return h(m,{className:e.className,count:t})},tooltipPosition:i.TooltipPositions.BOTTOM},n))}_.displayName="ParticipantsButton"},866219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=f(n(294184)),o=f(n(435012)),i=f(n(143414)),u=f(n(247001)),l=f(n(946078)),s=["popoutOpen","onClosePopout","onOpenPopout"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){
var t,n=e.popoutOpen,f=e.onClosePopout,d=e.onOpenPopout,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s),v=n?u.default.Messages.POPOUT_RETURN:u.default.Messages.POPOUT_PLAYER;return r.createElement(i.default,c({label:v,onClick:n?f:d,iconComponent:o.default,iconClassName:(0,a.default)((t={},t[l.default.popIn]=n,t))},p))}p.displayName="PopoutButton"},960401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=c(n(751037)),i=c(n(956117)),u=c(n(160629)),l=c(n(730977)),s=c(n(450474)),f=c(n(247001)),d=["channel","iconClassName"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){
var t=e.channel,n=e.iconClassName,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d),c=y(s.default,{className:n});return y(l.default,{text:f.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD},void 0,(function(e){return y(u.default,{position:u.default.Positions.TOP,renderPopout:function(e){var n=e.closePopout;return y(o.default,{guildId:t.guild_id,onClose:n})}},void 0,(function(t){return a.createElement(i.default,v({},e,t,{onClick:function(n){var r;null===(r=e.onClick)||void 0===r||r.call(e);t.onClick(n)},fullWidth:!0,size:i.default.Sizes.SMALL},r),c)}))}))}h.displayName="SoundboardButton"},861891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(227479)),o=s(n(41183)),i=s(n(143414)),u=s(n(247001)),l=["popoutWindowAlwaysOnTop","onToggleStayOnTop"];function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e){var t=e.popoutWindowAlwaysOnTop,n=e.onToggleStayOnTop,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a
}(e,l),f=t?u.default.Messages.POPOUT_REMOVE_FROM_TOP:u.default.Messages.POPOUT_STAY_ON_TOP,c=t?o.default:a.default;return r.createElement(i.default,d({onClick:function(){return n(!t)},label:f,iconComponent:c},s))}c.displayName="StayOnTopButton"},305914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r=d(n(667294)),a=s(n(422621)),o=s(n(487255)),i=d(n(143414)),u=s(n(247001)),l=["isSelfStream","centerButton"];function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){return e?u.default.Messages.STOP_STREAMING:u.default.Messages.STOP_WATCHING}function v(e){var t=e.isSelfStream,n=e.centerButton,u=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),f=u?i.CenterControlButton:i.default;return r.createElement(f,c({label:p(t),iconComponent:t?a.default:o.default},s))}v.displayName="StopStreamButton"},735319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=f(n(667294)),a=l(n(952117)),o=f(n(143414)),i=l(n(247001)),u=["hasPermission","centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}
function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e){var t=e.hasPermission,n=e.centerButton,l=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a
}(e,u),f=l?o.CenterControlButton:o.default,c=t?i.default.Messages.SHARE_YOUR_SCREEN:i.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE;return r.createElement(f,d({label:c,disabled:!t,iconComponent:a.default},s))}c.displayName="StreamButton"},715801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(229132)),u=c(n(160490)),l=c(n(547282)),s=c(n(143414)),f=c(n(247001)),d=c(n(685109));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.className,n=e.isVertical;return v("div",{className:d.default.iconContainer},void 0,v(u.default,{className:(0,o.default)(n?d.default.upCaret:d.default.leftCaret,t)}),v(l.default,{className:(0,o.default)(d.default.members,t)}))}y.displayName="OpenIcon";function h(e){var t=e.className,n=e.isVertical;return v("div",{className:d.default.iconContainer},void 0,v(u.default,{className:(0,
o.default)(n?d.default.downCaret:d.default.rightCaret,t)}),n&&v(l.default,{className:(0,o.default)(d.default.members,t)}))}h.displayName="CloseIcon";function m(e){var t=e.channelId,n=e.className,r=e.isParticipantsOpen,u=e.isVertical,l=void 0!==u&&u,c=e.hideTooltip,p=void 0!==c&&c;var m=a.useCallback((function(e){var t=e.className;return v(r?h:y,{className:t,isVertical:l})}),[r,l]);return v(s.default,{label:r?f.default.Messages.VIDEO_CALL_HIDE_MEMBERS:f.default.Messages.VIDEO_CALL_SHOW_MEMBERS,className:(0,o.default)(d.default.participantsButton,n),onClick:function(){i.default.toggleParticipants(t,!r)},iconComponent:m,shouldShowTooltip:!p})}m.displayName="ToggleParticipantsButton"},645675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VideoButtonWrapper=g;t.default=E
;var r,a=y(n(667294)),o=p(n(294184)),i=p(n(818994)),u=n(839370),l=p(n(79027)),s=y(n(143414)),f=p(n(283253)),d=["enabled","join","channel","onChange","onCameraUnavailable","cameraUnavailable","hasPermission","className","channelLimitReached","channelLimit","centerButton","onPopoutClick"],c=["unavailable"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function g(e){var t=(0,u.getVideoButtonLabel)(e),n=e.enabled,r=e.cameraUnavailable,o=e.onChange,s=e.onCameraUnavailable,f=e.hasPermission,d=e.children,c=e.channelLimitReached,p=void 0!==c&&c,v=a.useContext(i.default),y=r?function(){return s()
}:function(){return o(!e.enabled,v)};return a.createElement(a.Fragment,null,d({onClick:y,active:n,disabled:!f||p&&!n,iconComponent:l.default,label:t,unavailable:r}))}function E(e){var t=e.enabled,n=e.join,r=e.channel,i=e.onChange,u=e.onCameraUnavailable,l=e.cameraUnavailable,p=e.hasPermission,v=e.className,y=e.channelLimitReached,E=e.channelLimit,S=e.centerButton,O=void 0!==S&&S,b=e.onPopoutClick,I=_(e,d),C=O?s.CenterControlButton:s.default;return h(g,{enabled:t,join:n,channel:r,onChange:i,onCameraUnavailable:u,cameraUnavailable:l,hasPermission:p,channelLimitReached:y,channelLimit:E},void 0,(function(e){var t,n=e.unavailable,r=_(e,c);return a.createElement(C,m({},r,I,{className:(0,o.default)(v,(t={},t[f.default.fauxDisabled]=n,t)),onPopoutClick:b}))}))}E.displayName="VideoButton"},727012:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=c(n(229132)),o=n(730977),i=c(n(670427)),u=c(n(950291)),l=c(n(143414)),s=n(859089),f=c(n(247001)),d=["channelId","isHorizontal"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e){var t=e.channelId,n=e.isHorizontal,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e)
;for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d);return r.createElement(l.default,v({onClick:function(){a.default.selectParticipant(t,s.ParticipantSelectionTypes.AUTO)},label:f.default.Messages.VIDEO_CALL_AUTO_SELECT,iconComponent:n?i.default:u.default,tooltipPosition:o.TooltipPositions.BOTTOM},c))}y.displayName="VideoLayoutButton"},561603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=p(n(294184)),o=p(n(536211)),i=p(n(740207)),u=p(n(635014)),l=p(n(879567)),s=n(758956),f=n(864489),d=p(n(134893)),c=p(n(964063));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.iconClassName,n=e.currentVolume,r=e.sliderClassName,o=e.userId,u=e.currentWindow,p=void 0===u?window:u,v=e.muted,h=e.context;return y(d.default,{},void 0,y(l.default,{currentWindow:p,iconClassName:(0,
a.default)(t,c.default.controlIcon),sliderClassName:r,value:(0,s.amplitudeToPerceptual)(n),muted:v,maxValue:f.isPlatformEmbedded?200:100,onValueChange:function(e){return function(e,t,n,r){e>0&&n&&i.default.toggleLocalMute(t,r);i.default.setLocalVolume(t,(0,s.perceptualToAmplitude)(e),r)}(e,o,v,h)},onToggleMute:function(){return function(e,t){i.default.toggleLocalMute(e,t)}(o,h)}}))}h.displayName="VolumeButton";var m=o.default.connectStores([u.default],(function(e){var t=e.userId,n=e.context;return{currentVolume:u.default.getLocalVolume(t,n),muted:u.default.isLocalMute(t,n)}}))(h);t.default=m},555325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.shouldImmediatelyRequestVoicePermissions=E;var r=h(n(636602)),a=h(n(177230)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(406136)),i=h(n(258079)),u=n(104144),l=h(n(950673)),s=h(n(423046)),f=h(n(644263)),d=h(n(635014)),c=h(n(893160)),p=h(n(919158)),v=n(770348);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=null;function g(){o.default.requestPermission(o.NativePermissionTypes.AUDIO).then((function(e){e&&(0,p.default)(!0)}));d.default.getMode()===v.InputModes.PUSH_TO_TALK&&o.default.requestPermission(o.NativePermissionTypes.INPUT_MONITORING)}function E(e,t){var n
;return!(null===(n=f.default.getChannel(t))||void 0===n?void 0:n.isListenModeCapable())||i.default.isSpeaker(e,t)}var S=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(v.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates);r.default.subscribe(v.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect)};n._terminate=function(){r.default.unsubscribe(v.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates);r.default.unsubscribe(v.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect)};n.handleVoiceChannelSelect=function(e){null==e.channelId&&(_=null)};n.handleVoiceStateUpdates=function(e){e.voiceStates.forEach((function(e){var t=e.userId,n=e.channelId;if(null!=n){if(s.default.getId()===t&&null!=c.default.getRTCConnectionId()&&_!==n){if(E(t,n)){_=n;g()}else{var r;if(r=new l.default(e),(0,
u.getAudienceRequestToSpeakState)(r)===u.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK){_=n;g()}}}}}))};return t}(a.default));t.default=S},919158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){}},350539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=v(n(636602)),o=v(n(136873)),i=v(n(177230)),u=v(n(607209)),l=v(n(644263)),s=v(n(30098)),f=v(n(929230)),d=v(n(893160)),c=n(864489),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=new r.Timeout,g=new r.Timeout,E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe(p.ActionTypes.IDLE,this.handleIdleUpdate)};n._terminate=function(){_.stop();g.stop();a.default.unsubscribe(p.ActionTypes.IDLE,this.handleIdleUpdate)}
;n.handleIdleUpdate=function(){var e=f.default.getIdleSince();if(c.isPlatformEmbedded){_.stop();g.stop();for(var t,n=y(u.default.getAllActiveStreams());!(t=n()).done;){if(t.value.state!==p.ApplicationStreamStates.ENDED)return}if(null!=e){var r=d.default.getChannelId();if(null!=r){g.start(18e6,(function(){o.default.selectVoiceChannel(null)}));var a=s.default.getGuild(d.default.getGuildId());if(null!=a&&null!=a.afkChannelId&&a.afkChannelId!==r&&null!=a.afkTimeout){var i=l.default.getChannel(r);null!=i&&(i.isGuildStageVoice()||_.start(e+1e3*a.afkTimeout-Date.now(),(function(){null!=(a=s.default.getGuild(d.default.getGuildId()))&&null!=a.afkChannelId&&o.default.selectVoiceChannel(a.afkChannelId)})))}}}}};return t}(i.default));t.default=E},131629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NO_WELCOME_SCREEN=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){
l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};t.NO_WELCOME_SCREEN=s;var f={},d={},c=!1,p=!1,v=!1;function y(e){var t=e.invite.guild;if(null!=(null==t?void 0:t.welcome_screen)){f[t.id]=t.welcome_screen;return!0}return!1}function h(e){var t=e.welcomeScreen,n=e.guildId;f[n]=null!=t?t:s}var m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.get=function(e){if(null!=e)return f[e]};n.isFetching=function(){return p};n.hasError=function(){return v};n.hasSeen=function(e,t){void 0===t&&(t=!1);return null!=e&&(t?c:d[e]||!1)};return t}(a.default.Store))(o.default,((r={})[i.ActionTypes.INVITE_RESOLVE_SUCCESS]=y,r[i.ActionTypes.INVITE_ACCEPT_SUCCESS]=y,r[i.ActionTypes.WELCOME_SCREEN_SUBMIT_SUCCESS]=h,r[i.ActionTypes.WELCOME_SCREEN_UPDATE]=h,r[i.ActionTypes.WELCOME_SCREEN_VIEW]=function(e){var t=e.guildId,n=e.isLurking;d[t]=!0
;n&&(c=!0)},r[i.ActionTypes.GUILD_STOP_LURKING]=function(){c=!1},r[i.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild.id;d[t]=!1},r[i.ActionTypes.WELCOME_SCREEN_FETCH_START]=function(){p=!0;v=!1},r[i.ActionTypes.WELCOME_SCREEN_FETCH_SUCCESS]=function(e){p=!1;v=!1;var t=e.welcomeScreen,n=e.guildId;f[n]=null!=t?t:s},r[i.ActionTypes.WELCOME_SCREEN_FETCH_FAIL]=function(){p=!1;v=!0},r));t.default=m},737931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=h(n(536211)),i=h(n(972247)),u=n(91817),l=h(n(636602)),s=h(n(312260)),f=n(811076),d=h(n(288356)),c=h(n(191839)),p=h(n(834162)),v=h(n(871778)),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return
;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E="ActivityTrackingStore",S=18e5,O=null!==(r=i.default.get(E))&&void 0!==r?r:{},b={},I=!1;function C(e,t){void 0===t&&(t=!0);t&&T(e,!0);var n=b[e.applicationId];if(null!=n){n.stop();delete b[e.applicationId]}delete O[e.applicationId];i.default.set(E,O)}function T(e,t){void 0===t&&(t=!1)
;var n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>21e5&&(r=0);s.default.updateActivity(e.applicationId,e.isDiscordApplication?y.Distributors.DISCORD:e.distributor,(0,f.shouldShareApplicationActivity)(e.applicationId,v.default,c.default),e.token,Math.floor(r/1e3),t);e.updatedAt=n;var a=b[e.applicationId];null==a&&(a=b[e.applicationId]=new u.Interval).start(S,(function(){return T(e)}));if(!t){O[e.applicationId]=e;i.default.set(E,O)}}function A(e){void 0===e&&(e=!0);for(var t,n=p.default.getRunningGames(),r=new Set,a=_(n);!(t=a()).done;){var o=t.value,i=o.name,u=o.distributor,l=d.default.getGameByName(i);if(null!=l){r.add(l.id);l.id in O||T({applicationId:l.id,updatedAt:Date.now(),distributor:u})}}for(var s=0,f=Object.keys(O);s<f.length;s++){var c=f[s];r.has(c)||C(O[c],e)}}function P(){for(var e=0,t=Object.keys(O);e<t.length;e++){var n=t[e];C(O[n])}I=!1}var M=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(p.default,v.default,c.default);this.syncWith([v.default],A)};n.getActivities=function(){return O};return t}(o.default.Store))(l.default,((a={})[y.ActionTypes.RUNNING_GAMES_CHANGE]=function(){return A()},a[y.ActionTypes.CONNECTION_OPEN]=function(){if(I)return!1;for(var e=0,t=Object.keys(O);e<t.length;e++){var n=t[e];T(O[n])}A(!1);I=!0},a[y.ActionTypes.CONNECTION_CLOSED]=function(e){4004===e.code&&P()},a[y.ActionTypes.LOGOUT]=P,a[y.ActionTypes.ACTIVITY_UPDATE_SUCCESS]=function(e){var t=e.applicationId,n=e.token,r=O[t];if(null==r)return!1;r.token=n;i.default.set(E,O)},a[y.ActionTypes.ACTIVITY_UPDATE_FAIL]=function(e){var t=e.applicationId,n=O[t];if(null==n)return!1;n.token=null;n.updatedAt=null;i.default.set(E,O)},a));t.default=M},938199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){
return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={toastsEnabledForChannel:{}},f=s;var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){f=null!=e?e:s};n.getToastsEnabled=function(e){var t;return null===(t=f.toastsEnabledForChannel[e])||void 0===t||t};n.getState=function(){return f};return t}(a.default.PersistedStore);d.persistKey="CallChatToasts";var c=new d(o.default,((r={})[i.ActionTypes.CALL_CHAT_TOASTS_SET_ENABLED]=function(e){var t=e.channelId,n=e.toastsEnabled;f.toastsEnabledForChannel[t]=n},r[i.ActionTypes.LOGOUT]=function(){f.toastsEnabledForChannel={}},r));t.default=c},101820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o=v(n(536211)),i=n(91817),u=v(n(636602)),l=v(n(786345)),s=v(n(136873)),f=v(n(387692)),d=v(n(487372)),c=n(770348),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=new i.Timeout;function m(){if(null!=a){l.default.sendBotMessage(a,p.default.Messages.BOT_CALL_IDLE_DISCONNECT);s.default.selectVoiceChannel(null)}}var _=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.initialize=function(){this.waitFor(f.default)};return t}(o.default.Store))(u.default,((r={})[c.ActionTypes.CONNECTION_CLOSED]=function(){a=null;h.stop()},r[c.ActionTypes.VOICE_STATE_UPDATES]=function(e){return e.voiceStates.reduce((function(e,t){if(null!=t.guildId)return e;var n=f.default.getCurrentClientVoiceChannelId(null);if(null==n){h.stop();return e}
if(1===d.default.countVoiceStatesForChannel(n)){a=n;h.start(3e5,m,!1)}else h.stop();return e}),!1)},r));t.default=_},484024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};var f=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getSkuIdForChannel=function(e){return s[e]};return t}(a.default.Store))(o.default,((r={})[i.ActionTypes.CONNECTION_OPEN]=function(){s={}},r[i.ActionTypes.STORE_LISTING_FETCH_SUCCESS]=function(e){var t=e.channelId,n=e.storeListing;null!=t&&(s[t]=n.sku.id)},r));t.default=f},42398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(636602)),u=p(n(32079)),l=p(n(491462)),s=p(n(30098)),f=p(n(689389)),d=p(n(89981)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}function h(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}var E,S,O,b=[],I=null,C=!1,T=c.FormStates.CLOSED,A={},P=!1;function M(){S=l.default.getChannel();E=null!=S?s.default.getGuild(S.guild_id):null;b=null!=S&&null!=E&&f.default.can(c.Permissions.MANAGE_WEBHOOKS,S)?d.default.getWebhooksForChannel(E.id,S.id):[];if(null!=I){var e=R(I.id);null!=e&&(I=e)}T=c.FormStates.OPEN;A={};P=!1}var N=a.default.debounce((function(){if(P){(null==I||a.default.isEqual(I,R(I.id)))&&(P=!1);P||w.emitChange()}}),500);function R(e){return b.find((function(t){return t.id===e}))}var w=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default,s.default,d.default,f.default)};n.hasChanges=function(){return P};n.getWebhook=function(e){return R(e)};n.showNotice=function(){return this.hasChanges()};n.getProps=function(){return{submitting:T===c.FormStates.SUBMITTING,webhooks:b,editedWebhook:I,section:O,hasChanges:this.hasChanges(),isFetching:C,errors:A}};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"webhooks",get:function(){return b}},{key:"editedWebhook",get:function(){return I}},{key:"formState",get:function(){return T}}]);return t}(o.default.Store))(i.default,__OVERLAY__?{}:((r={})[c.ActionTypes.INTEGRATION_SETTINGS_INIT]=M,r[c.ActionTypes.INTEGRATION_SETTINGS_SAVE_SUCCESS]=M,r[c.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=function(e){
if(e.section!==c.ChannelSettingsSections.INTEGRATIONS)return!1;O=c.IntegrationSettingsSections.OVERVIEW;if(null==E){var t=l.default.getChannel(),n=null==t?void 0:t.getGuildId();if(null!=t&&null!=n){u.default.fetchForChannel(n,t.id);C=!0}M()}},r[c.ActionTypes.INTEGRATION_SETTINGS_SET_SECTION]=function(e){var t=e.section;O=t},r[c.ActionTypes.INTEGRATION_SETTINGS_START_EDITING_WEBHOOK]=function(e){var t=R(e.webhookId);if(null==t)return!1;I=t;A={};P=!1},r[c.ActionTypes.INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK]=function(){I=null;A={};P=!1},r[c.ActionTypes.INTEGRATION_SETTINGS_UPDATE_WEBHOOK]=function(e){var t=e.settings;if(null==I)return!1;I=g({},I);if(null!=t.name&&I.name!==t.name){I.name=t.name;P=!0}if(void 0!==t.avatar&&I.avatar!==t.avatar){I.avatar=t.avatar;P=!0}if(null!=t.channelId&&I.channel_id!==t.channelId){I.channel_id=t.channelId;P=!0}P&&N()},r[c.ActionTypes.CHANNEL_SETTINGS_CLOSE]=function(){S=null;E=null;b=[];I=null;T=c.FormStates.CLOSED},
r[c.ActionTypes.WEBHOOKS_UPDATE]=function(e){var t=e.guildId,n=e.channelId,r=e.webhooks;if(null==E||t!==E.id||null==S||n!==S.id||null==r||T===c.FormStates.SUBMITTING)return!1;C=!1;for(var a=function(e){var t=b[e];if(null!=n&&(null==t?void 0:t.channel_id)!==n)return"continue";var a=r.find((function(e){if(e.id===t.id)return!0}));if(null!=a){var o,i=g({},t,{},a);b[e]=i;P||(null===(o=I)||void 0===o?void 0:o.id)!==i.id||(I=i)}else{var u;(null===(u=I)||void 0===u?void 0:u.id)===t.id&&(I=null);b.splice(e,1)}},o=b.length-1;o>=0;o--)a(o);for(var i,u=function(){var e=i.value;null==b.find((function(t){if(t.id===e.id)return!0}))&&b.push(e)},l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(i=l()).done;)u();b=h(b);N()},r[c.ActionTypes.INTEGRATION_SETTINGS_SUBMITTING]=function(){T=c.FormStates.SUBMITTING;A={}},r[c.ActionTypes.INTEGRATION_SETTINGS_SAVE_FAILURE]=function(e){var t;if(T!==c.FormStates.SUBMITTING)return!1;T=c.FormStates.OPEN;A=null!==(t=e.errors)&&void 0!==t?t:{}},r)),D=w;t.default=D},847583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(972247)),u=p(n(636602)),l=p(n(656016)),s=p(n(491462)),f=p(n(644263)),d=n(770348),c=n(739889);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return y(e,t)}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}var g,E,S=new Set,O=d.FormStates.CLOSED,b=!1,I=null,C=null,T=null,A=null,P=null,M=null,N=i.default.get(c.ADVANCED_MODE_ON_KEY)||!1;function R(e){var t=e.getGuildId(),n=_({},e.permissionOverwrites);null!=t&&null==n[t]&&(n[t]=l.default.makeEveryoneOverwrite(t));return n}function w(){T=s.default.getChannel();A=s.default.getCategory();if(null==T)return!1;var e=T.getGuildId();C=I=R(T);null==I[P]&&(P=e);E=null!=A;g=l.default.areChannelsLocked(T,A);M=null;b=!1;O=d.FormStates.CLOSED;S.clear()}function D(e){if(null==T||T.id!==e)return!1;if(null==(T=f.default.getChannel(e)))return!1;A=s.default.getCategory();var t=T.getGuildId();if(null==t)return!1;C=R(T);var n={};S.forEach((function(e){null!=I&&(n[e]=I[e])}));null==n[t]&&null==T.permissionOverwrites[t]&&(n[t]=l.default.makeEveryoneOverwrite(t));if(null==(I=_({},T.permissionOverwrites,{},n))[P])P=t;else if(M&&null!=I[M]){P=M;M=null}
g=l.default.areChannelsLocked(T,A);return!0}var L=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default,f.default)};n.hasChanges=function(){return b};n.showNotice=function(){return this.hasChanges()};n.getPermissionOverwrite=function(e){var t;return null===(t=I)||void 0===t?void 0:t[e]};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"editedPermissionIds",get:function(){return Array.from(S)}},{key:"permissionOverwrites",get:function(){return I}},{key:"selectedOverwriteId",get:function(){return P}},{key:"formState",get:function(){return O}},{key:"isLockable",get:function(){return E}},{key:"locked",get:function(){return g}},{key:"channel",get:function(){return T}},{key:"category",get:function(){return A}},{key:"advancedMode",get:function(){return N}}]);return t
}(o.default.Store))(u.default,((r={})[d.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=function(e){var t=e.section;if(null!=T||t!==d.ChannelSettingsSections.PERMISSIONS)return!1;w()},r[d.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_INIT]=w,r[d.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION]=function(e){var t,n,r=e.id,o=e.allow,i=e.deny,u=null===(t=I)||void 0===t?void 0:t[r];if(null==u||null==T)return!1;u=_({},u,{allow:o,deny:i});I=_({},I,((n={})[r]=u,n));S.add(r);O=d.FormStates.OPEN;b=!a.default.isEqual(I,C);g=l.default.areChannelsLocked(T,A)},r[d.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION]=function(e){var t=e.id;if(null!=I&&null!=I[t])P=t;else{if(null==T)return!1;M=t}},r[d.ActionTypes.CHANNEL_SETTINGS_CLOSE]=function(){O=d.FormStates.CLOSED;I=null;C=null;T=null;A=null;b=!1;S.clear();P=null;M=null},r[d.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates;if(null==T)return!1;for(var n,r=!1,a=h(t);!(n=a()).done;){!1!==D(n.value.channel.id)&&(r=!0)}return r},
r[d.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING]=function(){O=d.FormStates.SUBMITTING},r[d.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS]=function(e){if(e.silent)O=d.FormStates.OPEN;else{O=d.FormStates.CLOSED;w()}},r[d.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE]=function(e){var t=e.advancedMode;N=t;i.default.set(c.ADVANCED_MODE_ON_KEY,t)},r));t.default=L},491462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(496486)),o=y(n(730381)),i=y(n(536211)),u=y(n(118915)),l=y(n(636602)),s=y(n(567186)),f=y(n(539563)),d=y(n(820068)),c=y(n(759027)),p=y(n(644263)),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return
;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}
var E,S,O,b,I,C,T=v.FormStates.CLOSED,A={},P={},M=!1,N=!1,R=null,w=["name","type","topic","bitrate","userLimit","nsfw","rateLimitPerUser","defaultAutoArchiveDuration","rtcRegion","videoQualityMode","threadMetadata","banner"];function D(e){if(null==O||O.id!==e)return!1;if(O===b){var t=p.default.getChannel(e);if(null==t)return!1;b=O=t;I=p.default.getChannel(b.parent_id)}else{var n=p.default.getChannel(e);if(null==n)return!1;O=n;if(null!=b){b=b.set("permissionOverwrites",O.permissionOverwrites);I=p.default.getChannel(b.parent_id)}}return!0}function L(e){var t,n=p.default.getChannel(e.channelId);if(null==n)return k();T=v.FormStates.OPEN;b=O=n;R="location"in e&&null!=e.location?e.location:null;S="subsection"in e?e.subsection:null;null!=b&&(b=b.set("nsfw",b.isNSFW()));I=p.default.getChannel(b.parent_id);C=b.getGuildId();A={};j({type:v.ActionTypes.CHANNEL_SETTINGS_SET_SECTION,section:null!==(t=E)&&void 0!==t?t:v.ChannelSettingsSections.OVERVIEW,subsection:S})}function j(e){E=e.section
;S=e.subsection;if(null!=b&&E===v.ChannelSettingsSections.INSTANT_INVITES){M=!0;u.default.get({url:v.Endpoints.INSTANT_INVITES(b.id),oldFormErrors:!0}).then((function(e){M=!1;l.default.dispatch({type:v.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES,invites:e.body})}),(function(){return M=!1}))}}function k(){N=!1;T=v.FormStates.CLOSED;E=null;b=O=null;I=null;P={}}var U=a.default.debounce((function(){if(null==b||null==O)return!1;var e=b.toJS(),t=O.toJS();if(w.every((function(n){return e[n]===t[n]}))&&b!==O){b=O;F.emitChange()}}),500);function G(e){return new d.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new c.default(e.inviter):null,channel:new s.default(e.channel),guild:null!=e.guild?new f.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,o.default)(e.created_at),type:e.type})}var F=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(p.default)};n.hasChanges=function(){return b!==O};n.isOpen=function(){return N};n.getSection=function(){return E};n.getInvites=function(){return{invites:P,loading:M}};n.showNotice=function(){return this.hasChanges()};n.getChannel=function(){return b};n.getFormState=function(){return T};n.getCategory=function(){return I};n.getProps=function(){return{submitting:T===v.FormStates.SUBMITTING,errors:A,channel:b,section:E,subsection:S,invites:P,selectedOverwriteId:C,hasChanges:this.hasChanges(),analyticsLocation:R}};return t}(i.default.Store))(l.default,((r={})[v.ActionTypes.CHANNEL_SETTINGS_INIT]=L,r[v.ActionTypes.CHANNEL_SETTINGS_OPEN]=function(e){N=!0;L(e)},r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT]=function(){T=v.FormStates.SUBMITTING;A={}},r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT_SUCCESS]=function(){O=b;T=v.FormStates.OPEN},r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT_FAILURE]=function(e){var t
;T=v.FormStates.OPEN;A=null!==(t=e.errors)&&void 0!==t?t:{}},r[v.ActionTypes.CHANNEL_SETTINGS_CLOSE]=k,r[v.ActionTypes.CHANNEL_SETTINGS_OVERWRITE_SELECT]=function(e){var t=e.overwriteId;C=t},r[v.ActionTypes.CHANNEL_SETTINGS_UPDATE]=function(e){var t=e.name,n=e.channelType,r=e.topic,a=e.bitrate,o=e.userLimit,i=e.nsfw,u=e.rateLimitPerUser,l=e.autoArchiveDuration,s=e.locked,f=e.invitable,d=e.defaultAutoArchiveDuration,c=e.rtcRegion,p=e.videoQualityMode,v=e.banner;if(null==b)return!1;null!=t&&(b=b.set("name",t));null!=r&&(b=b.set("topic",r));null!=a&&(b=b.set("bitrate",a));null!=o&&(b=b.set("userLimit",o));null!=i&&(b=b.set("nsfw",i));null!=u&&(b=b.set("rateLimitPerUser",u));null!=l&&(b=b.update("threadMetadata",{},(function(e){e.autoArchiveDuration=l;return e})));null!=s&&(b=b.update("threadMetadata",{},(function(e){e.locked=s;return e})));null!=f&&(b=b.update("threadMetadata",{},(function(e){e.invitable=f;return e})));null!=d&&(b=b.set("defaultAutoArchiveDuration",d))
;null!=n&&(b=b.set("type",n));void 0!==c&&(b=b.set("rtcRegion",c));null!=p&&(b=b.set("videoQualityMode",p));void 0!==v&&(b=b.set("banner",v));U()},r[v.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=j,r[v.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES]=function(e){P={};e.invites.forEach((function(e){P[e.code]=G(e)}))},r[v.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates;if(null==b)return!1;for(var n,r=!1,a=m(t);!(n=a()).done;){if(D(n.value.channel.id)&&null!=b){null!=C&&null==b.permissionOverwrites[C]&&(C=b.getGuildId());r=!0}}return r},r[v.ActionTypes.CHANNEL_DELETE]=function(e){var t=e.channel.id;if(null==b)return!1;if(b.id!==t)return!1;T=v.FormStates.CLOSED},r[v.ActionTypes.INSTANT_INVITE_REVOKE_SUCCESS]=function(e){delete(P=g({},P))[e.code]},r[v.ActionTypes.INSTANT_INVITE_CREATE_SUCCESS]=function(e){var t;P=g({},P,((t={})[e.invite.code]=G(e.invite),t))},r)),x=F;t.default=x},762214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;t.extractDisplayName=C;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(636602)),u=p(n(740207)),l=n(864489),s=p(n(635014)),f=p(n(871778)),d=n(770348),c=n(376293);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h={},m=h,_=!1,g={},E={},S={},O={id:null,justChanged:!1},b={id:null,justChanged:!1},I=/\(([^)]+)\)/;function C(e){if((0,l.getPlatform)()===l.PlatformTypes.WINDOWS){var t=e.name.match(I);if(null!=t)return t[1]}return e.name}function T(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===d.ConnectedDeviceType.INPUT&&n===d.ConnectedDeviceType.OUTPUT||e.type===d.ConnectedDeviceType.OUTPUT&&n===d.ConnectedDeviceType.INPUT?{displayName:t,type:d.ConnectedDeviceType.INPUT_AND_OUTPUT}:e}var A=function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(s.default,f.default);m=null!=e?e:h};n.getUserAgnosticState=function(){return m};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"initialized",get:function(){return _}},{key:"lastDeviceConnected",get:function(){return S}},{key:"inputDevices",get:function(){return g}},{key:"lastInputSystemDevice",get:function(){return O}},{key:"outputDevices",get:function(){return E}},{key:"lastOutputSystemDevice",get:function(){return b}}]);return t}(o.default.DeviceSettingsStore);A.persistKey="ConnectedDeviceStore";var P=new A(i.default,((r={})[d.ActionTypes.MEDIA_ENGINE_DEVICES]=function(e){var t=e.inputDevices,n=e.outputDevices,r={};O.justChanged=!1;t.forEach((function(e){r[C(e)]=e.id;if(e.id===c.DEFAULT_DEVICE_ID){
var t=e.originalId||e.originalName;t!==O.id&&(O.justChanged=!0);O.id=t}}));var o={};b.justChanged=!1;n.forEach((function(e){o[C(e)]=e.id;if(e.id===c.DEFAULT_DEVICE_ID){var t=e.originalId||e.originalName;t!==b.id&&(b.justChanged=!0);b.id=t}}));if(_){var i=Object.keys(g),u=Object.keys(r),l=Object.keys(E),s=Object.keys(o),f=a.default.difference(i,u),p=a.default.difference(l,s);if(f.length>0||p.length>0)S={};else{a.default.difference(u,i).forEach((function(e){S[e]=T(S[e],e,d.ConnectedDeviceType.INPUT)}));a.default.difference(s,l).forEach((function(e){S[e]=T(S[e],e,d.ConnectedDeviceType.OUTPUT)}))}if(!a.default.isEqual(i,u)||!a.default.isEqual(l,s)){g=r;E=o;return!0}return!1}g=r;E=o;_=!0},r[d.ActionTypes.CONNECTED_DEVICE_SET]=function(e){var t=e.displayName;!function(e,t,n){if(t===d.ConnectedDevicePreference.INPUT||t===d.ConnectedDevicePreference.INPUT_AND_OUTPUT){var r=g[e];null!=r&&i.default.wait((function(){return u.default.setInputDevice(r,n)}))}
if(t===d.ConnectedDevicePreference.OUTPUT||t===d.ConnectedDevicePreference.INPUT_AND_OUTPUT){var a=E[e];i.default.wait((function(){return u.default.setOutputDevice(a,n)}))}}(t,e.connectedDevicePreference,e.location);delete S[t]},r[d.ActionTypes.CONNECTED_DEVICE_IGNORE]=function(e){var t=e.displayName;delete S[t]},r[d.ActionTypes.CONNECTED_DEVICE_NEVER_SHOW_MODAL]=function(){S={};m={neverShowModal:!0}},r));t.default=P},528429:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=n(229474),u=s(n(30098)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var c={},p=function(){c={guildAffinitiesByGuildId:{},guildAffinities:[],lastFetched:0}};p()
;var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(c=e);this.waitFor(u.default)};n.getState=function(){return c};n.getGuildAffinity=function(e){return c.guildAffinitiesByGuildId[e]};!function(e,t,n){t&&f(e.prototype,t);n&&f(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"affinities",get:function(){return c.guildAffinities}},{key:"hasRequestResolved",get:function(){return 0!==c.lastFetched}}]);return t}(a.default.PersistedStore);v.persistKey="GuildAffinitiesStore";var y=new v(o.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=function(){Date.now()-c.lastFetched>864e5&&(0,i.fetchGuildAffinities)();return!1},r[l.ActionTypes.LOAD_GUILD_AFFINITIES_SUCCESS]=function(e){var t=e.guildAffinities;c.guildAffinities=[];c.guildAffinitiesByGuildId={};c.lastFetched=Date.now();t.forEach((function(e,t){
var n=e.affinity,r=e.guild_id,a={score:n,guildId:r,index:t};c.guildAffinitiesByGuildId[r]=a;c.guildAffinities.push(a)}))},r[l.ActionTypes.LOGOUT]=function(){p()},r));t.default=y},832721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=S(n(536211)),i=S(n(636602)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(919255)),l=S(n(146411)),s=S(n(423046)),f=S(n(502546)),d=S(n(644263)),c=S(n(250650)),p=S(n(876874)),v=S(n(30098)),y=S(n(893160)),h=S(n(290629)),m=S(n(211136)),_=S(n(790597)),g=n(770348);function E(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=new u.default((function(e,t){(null!=v.default.getGuild(e)||c.default.isUnavailable(e))&&i.default.dispatch({type:g.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:t})}));function A(e,t){T.forEach((function(n){var r;if(n!==_.default.getGuildId()&&n!==y.default.getGuildId()&&n!==(null===(r=d.default.getChannel(m.default.getChannelId()))||void 0===r?void 0:r.getGuildId())&&(null==a||a.guildId!==n)){T.clearWithoutFlushing(n,e);t&&i.default.dirtyDispatch({type:g.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:n,subscriptions:T.get(n)})}}))}function P(e,t){T.subscribeToGuild(e);return null!=t&&f.default.getSection(t)===g.ChannelSections.MEMBERS&&M(e,t,u.DEFAULT_RANGES)}function M(e,t,n){var r=d.default.getChannel(t);if(null==r)return!1
;var a=r.getGuildId();a!==e&&e===g.FAVORITES&&T.subscribeToGuild(a);return(null==r?void 0:r.isThread())?r.type===g.ChannelTypes.ANNOUNCEMENT_THREAD?T.subscribeChannel(a,r.parent_id,n):!!r.isActiveThread()&&T.subscribeThreadMemberList(a,t,m.default.getChannelId()):T.subscribeChannel(a,t,n)}function N(e){e.type===g.ActionTypes.CONNECTION_OPEN&&A(!0,!1);var t=_.default.getGuildId();null!=t&&P(t,m.default.getChannelId(t));T.forEach((function(e){null==v.default.getGuild(e)?T.clearWithoutFlushing(e,!0):i.default.dirtyDispatch({type:g.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:T.get(e)})}))}function R(e){var t=e.guildId,n=e.channelId;return!c.default.isUnavailable(t)&&P(t,n)}function w(){return P(_.default.getGuildId(),m.default.getChannelId())}function D(){var e=l.default.getSyncingWith();if(null==e){if(null!=a){T.unsubscribeUser(a.guildId,a.userId);a=null}}else{var t=e.userId;if(null!=a&&a.userId===t)return!1;if(h.default.isFriend(t))return!1;var n=p.default.memberOf(t)
;if(0===n.length)return!1;var r=b(n,1)[0];a={guildId:r,userId:t};T.subscribeUser(r,t)}return!1}var L=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(d.default,v.default,_.default,m.default,y.default,s.default,f.default);this.syncWith([l.default],D);this.syncWith([f.default],w)};n.getSubscribedThreadIds=function(){return T.getSubscribedThreadIds()};return t}(o.default.Store))(i.default,((r={})[g.ActionTypes.CONNECTION_OPEN]=N,r[g.ActionTypes.CONNECTION_RESUMED]=N,r[g.ActionTypes.CONNECTION_CLOSED]=function(){A(!1,!1)},r[g.ActionTypes.IDLE]=function(e){if(!e.idle)return!1;A(!1,!0)},r[g.ActionTypes.LOGOUT]=function(){T.reset()},r[g.ActionTypes.VOICE_CHANNEL_SELECT]=R,r[g.ActionTypes.CHANNEL_SELECT]=R,r[g.ActionTypes.GUILD_CREATE]=function(e){e.guild.id===_.default.getGuildId()&&w()},r[g.ActionTypes.GUILD_DELETE]=function(e){
var t=e.guild;T.clearWithoutFlushing(t.id,!0)},r[g.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_ADD]=function(e){var t=e.guildId;e.userIds.forEach((function(e){e!==s.default.getId()&&T.subscribeUser(t,e)}));return!1},r[g.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE]=function(e){var t=e.guildId;e.userIds.forEach((function(e){T.unsubscribeUser(t,e)}));return!1},r[g.ActionTypes.GUILD_SUBSCRIPTIONS_CHANNEL]=function(e){return M(e.guildId,e.channelId,e.ranges)},r[g.ActionTypes.CHANNEL_PRELOAD]=function(e){return P(e.guildId,e.channelId)},r[g.ActionTypes.INBOX_OPEN]=function(e){for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=I(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.guildIds);!(t=n()).done;){var r=t.value;null!=r&&T.subscribeToGuild(r)}return!1},r[g.ActionTypes.THREAD_UPDATE]=function(e){var t=e.channel;if(t.isArchivedThread())return T.unsubscribeThreadMemberList(t.guild_id,t.id);if(!t.isActiveThread()||m.default.getChannelId()!==t.id)return!1;T.subscribeThreadMemberList(t.guild_id,t.id,m.default.getChannelId())},r[g.ActionTypes.THREAD_DELETE]=function(e){var t=e.channel;return T.unsubscribeThreadMemberList(t.guild_id,t.id)},r[g.ActionTypes.THREAD_LIST_SYNC]=w,r));t.default=L},958698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(728429)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var f=null
;var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getHouseMembership=function(){return f};return t}(a.default.Store))(o.default,((r={})[u.ActionTypes.CONNECTION_OPEN]=function(){var e=i.default.getCurrentUser();null!=e&&(e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)?f=u.HypeSquadHouses.HOUSE_1:e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)?f=u.HypeSquadHouses.HOUSE_2:e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&(f=u.HypeSquadHouses.HOUSE_3))},r[u.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS]=function(){f=null},r[u.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS]=function(e){f=e.houseID},r));t.default=d},226720:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=p(n(496486)),i=p(n(536211)),u=p(n(636602)),l=p(n(614166)),s=p(n(423046)),f=p(n(319111)),d=p(n(635014)),c=n(770348);function p(e){
return e&&e.__esModule?e:{default:e}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h={};function m(){o.default.forEach(h,(function(e,t){e.destroy();delete h[t]}))}function _(e,t,n){var r=h[e];return null!=r?t(r):n}function g(e){var t=e.lobbyId,n=h[t];if(null==n)return!1;n.destroy();delete h[t]}function E(){return!0}var S=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.forEach=function(e){o.default.each(h,e)};n.getState=function(e){return _(e,(function(e){return e.state}),c.RTCConnectionStates.DISCONNECTED)};n.isConnected=function(e){return this.getState(e)===c.RTCConnectionStates.RTC_CONNECTED}
;n.isDisconnected=function(e){return this.getState(e)===c.RTCConnectionStates.DISCONNECTED};n.getHostname=function(e){return _(e,(function(e){return e.hostname}),null)};n.getQuality=function(e){return _(e,(function(e){return e.quality}),c.RTCConnectionQuality.UNKNOWN)};n.getPings=function(e){return _(e,(function(e){return e.getPings()}),[])};n.getAveragePing=function(e){return _(e,(function(e){return e.getAveragePing()}),0)};n.getLastPing=function(e){return _(e,(function(e){return e.getLastPing()}),0)};n.getOutboundLossRate=function(e){return _(e,(function(e){return e.getOutboundLossRate()}),0)};n.getMediaSessionId=function(e){return _(e,(function(e){return e.getMediaSessionId()}),null)};n.getRTCConnectionId=function(e){return _(e,(function(e){return e.getRTCConnectionId()}),null)};n.getDuration=function(e){return _(e,(function(e){return e.getDuration()}),0)};return t}(i.default.Store))(u.default,d.default.isSupported()?((r={})[c.ActionTypes.CONNECTION_OPEN]=function(e){a=e.sessionId
;m()},r[c.ActionTypes.CONNECTION_CLOSED]=function(){a=null;m()},r[c.ActionTypes.RTC_CONNECTION_STATE]=E,r[c.ActionTypes.RTC_CONNECTION_PING]=E,r[c.ActionTypes.RTC_CONNECTION_LOSS_RATE]=E,r[c.ActionTypes.LOBBY_VOICE_STATE_UPDATE]=function(e){if(s.default.getId()!==e.userId)return!1;if(e.sessionId!==a)return!1;var t=h[e.lobbyId];if(null!=t&&null==e.channelId){t.destroy();delete h[e.lobbyId]}else if(null!=t)t.channelId=e.channelId;else if(null!=e.channelId){t=function(e,t){if(null==a)throw new Error("Creating RTCConnection without session.");var n=f.default.getLobby(e);if(null==n)throw new Error("Creating RTCConnection without lobby.");var r=n.application_id,o=new l.default(s.default.getId(),a,e,t,r);o.on("state",(function(t,n,r){u.default.dirtyDispatch(y({type:c.ActionTypes.RTC_CONNECTION_STATE,state:t,hostname:n},r,{lobbyId:e}))}));o.on("ping",(function(t,n){u.default.dispatch({type:c.ActionTypes.RTC_CONNECTION_PING,pings:t,quality:n,lobbyId:e})}));o.on("outboundlossrate",(function(t){
u.default.dispatch({type:c.ActionTypes.RTC_CONNECTION_LOSS_RATE,lossRate:t,lobbyId:e})}));return o}(e.lobbyId,e.channelId);h[e.lobbyId]=t}},r[c.ActionTypes.LOBBY_VOICE_SERVER_UPDATE]=function(e){var t=h[e.lobbyId];if(null==t)return!1;t.connect(e.endpoint,e.token)},r[c.ActionTypes.LOBBY_DELETE]=g,r[c.ActionTypes.LOBBY_DISCONNECT]=g,r):{});t.default=S},218843:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(972247)),i=l(n(636602)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return d.apply(this,arguments)}var c,p="PictureInPictureLocation",v=new Map,y=u.PictureInPicturePositions.BOTTOM_RIGHT,h={};var m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){y=o.default.get(p,u.PictureInPicturePositions.BOTTOM_RIGHT)};n.isEmbeddedActivityHidden=function(){var e;return null==c||(null===(e=v.get(c))||void 0===e?void 0:e.component)!==u.PictureInPictureComponents.EMBED_IFRAME};n.getDockedRect=function(e){return h[e]};n.isOpen=function(e){return null!=e&&v.has(e)};!function(e,t,n){t&&s(e.prototype,t);n&&s(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"pipWindow",get:function(){return null==c?null:v.get(c)}},{key:"pipWindows",get:function(){return v}}]);return t}(a.default.Store))(i.default,((r={})[u.ActionTypes.PICTURE_IN_PICTURE_OPEN]=function(e){var t,n,r=e.id,a=e.component,o=e.props
;if(null==v.get(r)){var i={id:r,component:a,position:null!==(t=o.position)&&void 0!==t?t:y,props:o,docked:null!==(n=o.docked)&&void 0!==n&&n};v.set(r,i);null==c&&(c=r)}},r[u.ActionTypes.PICTURE_IN_PICTURE_CLOSE]=function(e){var t=e.id;if(!v.has(t))return!1;v.delete(t);if(c===t){var n=Array.from(v.keys());c=0===n.length?null:n[0]}},r[u.ActionTypes.PICTURE_IN_PICTURE_MOVE]=function(e){var t=e.id,n=e.position;if(null==c||c!==t)return!1;var r=new Map;v.forEach((function(e,t){r.set(t,d({},e,{position:n}))}));v=r;y=n;o.default.set(p,n)},r[u.ActionTypes.PICTURE_IN_PICTURE_HIDE]=function(e){var t=e.id;if(c!==t)return!1;var n=v.get(t);if(null==n)return!1;v.set(t,d({},n,{hidden:!0}))},r[u.ActionTypes.PICTURE_IN_PICTURE_SHOW]=function(e){var t=e.id;if(c!==t)return!1;var n=v.get(t);if(null==n)return!1;v.set(t,d({},n,{hidden:!1}))},r[u.ActionTypes.PICTURE_IN_PICTURE_UPDATE_RECT]=function(e){var t=e.id,n=e.rect;h[t]=n},r[u.ActionTypes.PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW]=function(e){var t=e.id
;c=t},r[u.ActionTypes.LOGOUT]=function(){c=null;v=new Map},r));t.default=m},534930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(496486)),o=s(n(536211)),i=s(n(636602)),u=s(n(30098)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=null,c={};var p=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default)};n.getOptimalRegion=function(e){var t;void 0===e&&(e=null);var n=this.getRegions(e);return null!=n?null!==(t=n.find((function(e){return e.optimal})))&&void 0!==t?t:a.default.sample(n):null};n.getOptimalRegionId=function(e){void 0===e&&(e=null);var t=this.getOptimalRegion(e);return null!=t?t.id:null};n.getRandomRegion=function(e){void 0===e&&(e=null)
;var t=this.getRegions(e);return null!=t?a.default.sample(t):null};n.getRandomRegionId=function(e){void 0===e&&(e=null);var t=this.getRandomRegion(e);return null!=t?t.id:null};n.getRegions=function(e){return null!=e?c[e]:d};return t}(o.default.Store))(i.default,((r={})[l.ActionTypes.LOAD_REGIONS]=function(e){var t=a.default.sortBy(e.regions,(function(e){return e.name}));e.guildId?c[e.guildId]=t:d=t},r[l.ActionTypes.GUILD_DELETE]=function(e){delete c[e.guild.id]},r));t.default=p},625424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=s(n(969226)),u=s(n(288356)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}return t
}(a.default.Store))(o.default,((r={})[l.ActionTypes.USER_ACHIEVEMENT_UPDATE]=function(e){var t=e.userAchievement,n=t.application_id,r=t.achievement;if(100===t.percent_complete&&null!=r){var a=u.default.getGame(n),o=null!=a?a.getIconURL(64):null;i.default.showNotification(o,r.name,r.description)}},r));t.default=d},816624:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s,f,d,c,p=i.FormStates.CLOSED,v={},y=!1;function h(){p=i.FormStates.OPEN;v={}}var m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getFormState=function(){return p};n.getErrors=function(){return v};n.showNotice=function(){
return void 0!==s||void 0!==f||void 0!==d||void 0!==c};n.getPendingAvatar=function(){return s};n.getPendingBanner=function(){return f};n.getPendingBio=function(){return d};n.getPendingAccentColor=function(){return c};n.getAllPending=function(){return{pendingAvatar:s,pendingBanner:f,pendingBio:d,pendingAccentColor:c}};n.getIsDisableSubmit=function(){return y};return t}(a.default.Store))(o.default,((r={})[i.ActionTypes.USER_SETTINGS_ACCOUNT_INIT]=h,r[i.ActionTypes.USER_SETTINGS_MODAL_INIT]=h,r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS]=h,r[i.ActionTypes.USER_SETTINGS_MODAL_SET_SECTION]=function(e){return e.section===i.UserSettingsSections.ACCOUNT&&h()},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_CLOSE]=function(){p=i.FormStates.CLOSED;v={}},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT]=function(){p=i.FormStates.SUBMITTING;v={}},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE]=function(e){var t;if(p!==i.FormStates.SUBMITTING)return!1;p=i.FormStates.OPEN
;v=null!==(t=e.errors)&&void 0!==t?t:{}},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR]=function(e){var t=e.avatar;s=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_BANNER]=function(e){var t=e.banner;f=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_BIO]=function(e){var t=e.bio;d=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_ACCENT_COLOR]=function(e){var t=e.color;c=t},r[i.ActionTypes.USER_SETTINGS_RESET_ALL_PENDING]=function(){s=void 0;f=void 0;d=void 0;c=void 0},r[i.ActionTypes.LOGOUT]=function(){s=void 0},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_DISABLE_SUBMIT]=function(e){var t=e.disable;y=t},r));t.default=m},529688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=m(n(496486)),u=m(n(536211)),l=m(n(636602)),s=m(n(825724)),f=n(747868),d=m(n(607209)),c=m(n(423046)),p=m(n(635014)),v=m(n(397228)),y=n(770348),h=n(859089);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){
_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function g(e){void 0===e&&(e=!0);var t;if(null==a)t=null;else{var n;t=s.default.getSelectedParticipantId(a);var r=d.default.getLastActiveStream(),u=null!=t?s.default.getParticipant(a,t):null;((null==u?void 0:u.type)===h.ParticipantTypes.ACTIVITY||(null==u?void 0:u.type)===h.ParticipantTypes.USER&&!(null===(n=u.voiceState)||void 0===n?void 0:n.selfVideo))&&(t=null);if(null!=r&&null==t){var l;t=null===(l=s.default.getParticipant(a,(0,f.encodeStreamKey)(r)))||void 0===l?void 0:l.id}if(null==t){var y=c.default.getId(),m=Date.now();t=(0,i.default)(s.default.getVideoParticipants(a)).filter((function(e){return e.type===h.ParticipantTypes.USER&&e.user.id!==y&&!p.default.isLocalVideoDisabled(e.user.id)})).sortBy((function(e){return-v.default.getSpeakingDuration(e.user.id,m)})).map((function(e){return e.user.id})).first()}}if(o!==t){o=t;e&&O.emitChange()}}var E=i.default.debounce(g,300);function S(){E();return!1}
var O=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default,c.default,v.default,d.default,p.default);this.syncWith([s.default,d.default],S)};n.getSpeaker=function(e){var t;if(a!==e){a=e;g(!1)}return null!==(t=o)&&void 0!==t?t:c.default.getId()};return t}(u.default.Store))(l.default,((r={})[y.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED]=S,r)),b=O;t.default=b},474261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(636602)),o=f(n(913955)),i=f(n(644263)),u=f(n(211136)),l=f(n(686182)),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){!function(){var e=u.default.getVoiceChannelId(),t=o.default.bitrate;if(null!=e){var n=i.default.getChannel(e);null!=n&&t!==n.bitrate&&a.default.dispatch({type:"SET_CHANNEL_BITRATE",bitrate:n.bitrate})}}();!function(){var e,t=u.default.getVoiceChannelId(),n=l.default.mode;if(null!=t){var r=i.default.getChannel(t);if(null!=r){
var o=null!==(e=r.videoQualityMode)&&void 0!==e?e:s.VideoQualityMode.AUTO;n!==o&&a.default.dispatch({type:"SET_CHANNEL_VIDEO_QUALITY_MODE",mode:o})}}}()}function v(e){r=e.sessionId}function y(e){for(var t,n=d(e.updates);!(t=n()).done;){var r=t.value.channel;u.default.getVoiceChannelId()===r.id&&p()}}function h(e){e.voiceStates.forEach((function(e){r===e.sessionId&&p()}))}var m={init:function(){a.default.subscribe(s.ActionTypes.CONNECTION_OPEN,v);a.default.subscribe(s.ActionTypes.CHANNEL_UPDATES,y);a.default.subscribe(s.ActionTypes.VOICE_STATE_UPDATES,h)}};t.default=m},538647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(636602)),a=l(n(275363)),o=l(n(30098)),i=l(n(298698)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var f=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)
}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(o.default);this.syncWith([o.default],u.NOOP)};n.channelNoticePredicate=function(e,t){if(e.hasFeature(u.GuildFeatures.BANNER))return!1;a.default.trackExposure({guildId:e.id});return a.default.getCurrentConfig({guildId:e.id}).enableGuildBannerTooltip&&Date.now()-t>=u.CHANNEL_NOTICE_SHOW_DELAY};return t}(i.default))(r.default);t.default=f},329669:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=n(682937),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var d={};d={lastDismissedGracePeriods:{},
isVisible:{}};var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(d=e)};n.getLastDismissedGracePeriodForGuild=function(e){return null!=d.lastDismissedGracePeriods[e]?d.lastDismissedGracePeriods[e]:null};n.isVisible=function(e){return null!=e&&(null!=d.isVisible[e]&&d.isVisible[e])};n.getState=function(){return d};return t}(a.default.PersistedStore);c.persistKey="PremiumGuildGracePeriodNoticeStore";c.migrations=[function(e){return f({},e,{lastDismissedGracePeriods:null!=e?f({},e.lastDismissedGracePeriods):{},isVisible:{}})}];var p=new c(o.default,((r={})[u.ActionTypes.GUILD_APPLIED_BOOSTS_FETCH_SUCCESS]=function(e){var t,n=e.guildId,r=e.appliedBoosts,a=null!=d.lastDismissedGracePeriods[n]?d.lastDismissedGracePeriods[n]:null,o=null!=a&&Date.now()-a<=u.GRACE_PERIOD_CHANNEL_NOTICE_SHOW_DELAY,l=null!=r&&!o&&(0,
i.isInGracePeriod)(r,n);d=f({},d,{isVisible:f({},d.isVisible,(t={},t[n]=l,t))})},r[u.ActionTypes.BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS]=function(e){var t,n,r=e.guildId;d=f({},d,{lastDismissedGracePeriods:f({},d.lastDismissedGracePeriods,(t={},t[r]=Date.now(),t)),isVisible:f({},d.isVisible,(n={},n[r]=!1,n))})},r));t.default=p},742373:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(636602)),a=n(283894),o=d(n(528429)),i=d(n(311492)),u=d(n(30098)),l=n(682937),s=d(n(298698)),f=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=null;function h(){var e=o.default.affinities;if(null==e)return!1;for(var t,n=p(e);!(t=n()).done;){var r=t.value,a=r.score,s=r.guildId,d=u.default.getGuild(s),c=i.default.getMemberCount(s);null!=d&&d.premiumSubscriberCount<(0,l.getAppliedGuildBoostsRequired)(s)[f.BoostedGuildTiers.TIER_3]&&null!=c&&c>=3&&(null==y||a>y.score)&&(y=r)}}var m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,o.default,a.ExperimentStore,i.default);this.syncWith([u.default,o.default,a.ExperimentStore,i.default],h)};n.channelNoticePredicate=function(e,t){var n=a.ExperimentStore.getUserExperimentDescriptor(a.Experiments.GUILD_AFFINITY_PREMIUM_GUILD_SUBSCRIPTION_CTA),r=null!=y&&y.guildId===e.id&&Date.now()-t>=f.CHANNEL_NOTICE_SHOW_DELAY;r&&null!=n&&n.bucket===a.ExperimentBuckets.CONTROL&&(0,a.trackExposureToExperiment)(a.Experiments.GUILD_AFFINITY_PREMIUM_GUILD_SUBSCRIPTION_CTA,n);return r&&null!=n&&n.bucket===a.ExperimentBuckets.TREATMENT_1};return t}(s.default))(r.default);t.default=m},20446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(689389)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}
var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],i.NOOP)};n.channelNoticePredicate=function(e,t){return Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY&&a.default.can(i.Permissions.MANAGE_GUILD,e)};return t}(o.default))(r.default);t.default=s},535711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=s(n(517286)),u=s(n(728429)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=null;function c(){var e=u.default.getCurrentUser();if(null==e||e.mfaEnabled===d)return!1;d=e.mfaEnabled}var p=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e)
;function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,i.default);this.syncWith([u.default,i.default],c)};n.isVisible=function(e){return null!=e&&e.mfaLevel===l.MFALevels.ELEVATED&&!1===d&&i.default.hasElevatedPermissions(e.id)};return t}(a.default.Store))(o.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=c,r[l.ActionTypes.GUILD_UPDATE]=function(){return!0},r));t.default=p},735653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(636602)),o=s(n(652566)),i=s(n(30098)),u=s(n(298698)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=!1;function v(e){var t=i.default.getGuild(e);if(null==t)return!1;if(!t.hasFeature(l.GuildFeatures.HUB))return!1;p=!0;return!0}function y(){return!0}var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){
this.waitFor(i.default,o.default);this.syncWith([o.default],y)};n.channelNoticePredicate=function(e){return!!e.hasFeature(l.GuildFeatures.LINKED_TO_HUB)&&!p};return t}(u.default))(a.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=function(e){for(var t,n=d(e.guilds);!(t=n()).done;){if(v(t.value.id))return!0}return!1},r[l.ActionTypes.GUILD_CREATE]=function(e){return v(e.guild.id)},r));t.default=h},477566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(689389)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(){return!0}var f=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],s)}
;n.channelNoticePredicate=function(e,t){return Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY&&a.default.can(i.Permissions.ADMINISTRATOR,e)};return t}(o.default))(r.default);t.default=f},24e4:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(536211)),o=d(n(972247)),i=d(n(636602)),u=d(n(311492)),l=d(n(30098)),s=d(n(689389)),f=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p={MAX_MEMBER_COUNT_100:new Set,MAX_MEMBER_COUNT_250:new Set};var v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e,t;this.waitFor(s.default,l.default,u.default);this.syncWith([s.default,l.default,u.default],f.NOOP)
;p[f.ChannelNoticeTypes.MAX_MEMBER_COUNT_100]=null!==(e=new Set(o.default.get(f.ChannelNoticeTypes.MAX_MEMBER_COUNT_100)))&&void 0!==e?e:new Set;p[f.ChannelNoticeTypes.MAX_MEMBER_COUNT_250]=null!==(t=new Set(o.default.get(f.ChannelNoticeTypes.MAX_MEMBER_COUNT_250)))&&void 0!==t?t:new Set};n.isVisible=function(e){var t,n=this.getNoticeType(e);if(null==e||null==n)return!1;var r=null!==(t=u.default.getMemberCount(e.id))&&void 0!==t?t:0,a=s.default.can(f.Permissions.ADMINISTRATOR,e);return!p[n].has(e.id)&&a&&e.maxMembers>0&&e.maxMembers-r<=1e4};n.getNoticeType=function(e){return null==e?null:e.maxMembers<=1e5?f.ChannelNoticeTypes.MAX_MEMBER_COUNT_100:f.ChannelNoticeTypes.MAX_MEMBER_COUNT_250};return t}(a.default.Store))(i.default,((r={})[f.ActionTypes.MAX_MEMBER_COUNT_NOTICE_DISMISS]=function(e){var t=e.guildId,n=e.noticeType;if(!p[n].has(t)){p[n].add(t);o.default.set(n,p[n]);return!0}},r));t.default=v},905505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(86298)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function f(){return!0}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(i.default)};n.getExperimentAssignment=function(e,t){return i.default.getGuildExperimentDescriptor(t,e)};return t}(a.default.Store))(o.default,((r={})[u.ActionTypes.LOGOUT]=f,r[u.ActionTypes.LOGIN_SUCCESS]=f,r[u.ActionTypes.CONNECTION_OPEN]=f,r[u.ActionTypes.EXPERIMENTS_FETCH_SUCCESS]=f,r[u.ActionTypes.OVERLAY_INITIALIZE]=f,r[u.ActionTypes.CACHE_LOADED]=f,r[u.ActionTypes.EXPERIMENTS_FETCH_FAILURE]=f,r[u.ActionTypes.EXPERIMENT_REGISTER_LEGACY]=f,r[u.ActionTypes.EXPERIMENT_OVERRIDE_BUCKET]=f,r));t.default=d},801745:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Rows=t.Row=void 0;var r,a=m(n(496486)),o=m(n(536211)),i=m(n(636602)),u=m(n(237923)),l=m(n(821896)),s=m(n(677520)),f=m(n(607209)),d=m(n(876874)),c=m(n(30098)),p=m(n(788739)),v=m(n(290629)),y=m(n(728429)),h=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function E(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function O(e){var t=y.default.getUser(e);return{user:t,
usernameLower:null!=t?t.username.toLowerCase():null}}function b(e){return{status:p.default.getStatus(e),isMobile:p.default.isMobileOnline(e),activities:p.default.getActivities(e),applicationStream:f.default.getStreamForUser(e)}}function I(e){var t=[];(0,a.default)(d.default.memberOf(e)).map(c.default.getGuild).sortBy((function(e){return null!=e?e.name.toLowerCase():null})).forEach((function(e){null!=e&&t.push(e)}));return{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,h.MAX_MUTUAL_GUILDS)}}var C=function(e){E(t,e);function t(t){var n;(n=e.call(this)||this).key=t.key;n.type=t.type;n.status=t.status;n.activities=t.activities;n.applicationStream=t.applicationStream;n.user=t.user;n.isMobile=t.isMobile;n.usernameLower=t.usernameLower;n.mutualGuildsLength=t.mutualGuildsLength;n.mutualGuilds=t.mutualGuilds;n.nickname=t.nickname;return n}!function(e,t,n){t&&g(e.prototype,t);n&&g(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"comparator",get:function(){var e,t
;return[this.type,null!==(e=null===(t=this.nickname)||void 0===t?void 0:t.toLowerCase())&&void 0!==e?e:this.usernameLower]}}]);return t}(l.default);t.Row=C;var T=function(){function e(e){void 0===e&&(e=[]);this._rows=e}var t=e.prototype;t.reset=function(){var t=a.default.map(v.default.getRelationships(),(function(e,t){return new C(_({key:t,type:e,nickname:v.default.getNickname(t)},O(t),{},b(t),{},I(t)))})),n=a.default.map(s.default.getSuggestions(),(function(e){return new C(_({key:e.key,type:99,nickname:e.name},O(e.key),{},b(e.key),{},I(e.key)))}));return new e(a.default.concat(t,n))};t.clone=function(){return new e(this._rows)};t.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var r=this._rows[n],a=r.merge(e(r.key));t=t||a!==r;this._rows[n]=a}return t};t.filter=function(e,t){return(0,a.default)(this._rows).filter((function(e){if(null==e.user)return!1;if(t){var n=t.toLowerCase();return[e.usernameLower,e.nickname].map((function(e){return null==e?void 0:e.toLowerCase()
})).some((function(e){return null==e?void 0:e.includes(n)}))}return!0})).filter((function(t){switch(e){case h.FriendsSections.ONLINE:return t.type===h.RelationshipTypes.FRIEND&&t.status!==h.StatusTypes.OFFLINE;case h.FriendsSections.PENDING:return t.type===h.RelationshipTypes.PENDING_INCOMING||t.type===h.RelationshipTypes.PENDING_OUTGOING;case h.FriendsSections.SUGGESTIONS:return 99===t.type;case h.FriendsSections.BLOCKED:return t.type===h.RelationshipTypes.BLOCKED;case h.FriendsSections.ALL:default:return t.type===h.RelationshipTypes.FRIEND}})).sortBy((function(e){return e.comparator})).value()};t.getRelationshipCounts=function(){var e,t=((e={})[h.RelationshipTypes.FRIEND]=0,e[h.RelationshipTypes.PENDING_INCOMING]=0,e[h.RelationshipTypes.PENDING_OUTGOING]=0,e[99]=0,e[h.RelationshipTypes.BLOCKED]=0,e);this._rows.forEach((function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}));return t};return e}();t.Rows=T;var A=!0,P=!1,M=h.FriendsSections.ONLINE,N=new T,R=!0,w=!1;function D(e){
void 0===e&&(e=!1);if(A&&(e||M!==h.FriendsSections.ONLINE&&M!==h.FriendsSections.ADD_FRIEND)&&!P){A=!1;P=!0;u.default.fetchRelationships()}}function L(){A=!0;R?P=!1:D();N=N.reset();if(!w){var e=N.getRelationshipCounts();M=0===e[h.RelationshipTypes.FRIEND]?0!==e[h.RelationshipTypes.PENDING_INCOMING]?h.FriendsSections.PENDING:h.FriendsSections.ADD_FRIEND:h.FriendsSections.ONLINE}}function j(){N=R?new T:N.reset()}function k(e){return function(){if(R)return!1;if(N.update(e)){N=N.clone();return!0}return!1}}var U=new(function(e){E(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(v.default,p.default,y.default,c.default,d.default,f.default,s.default);this.syncWith([v.default],j);this.syncWith([s.default],j);this.syncWith([y.default],k(O));this.syncWith([p.default,f.default],k(b));L()};n.getState=function(){return{fetching:P,section:M,pendingCount:v.default.getPendingCount(),rows:N}};return t
}(o.default.Store))(i.default,((r={})[h.ActionTypes.CONNECTION_OPEN]=function(){L()},r[h.ActionTypes.FRIENDS_SET_SECTION]=function(e){M=e.section;D()},r[h.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId;R=null!=t;j();return!R},r[h.ActionTypes.LOAD_RELATIONSHIPS_SUCCESS]=function(){P=!1},r[h.ActionTypes.LOAD_RELATIONSHIPS_FAILURE]=function(){A=!0;P=!0},r[h.ActionTypes.DRAWER_SELECT_TAB]=function(e){var t=e.tab;R=t!==h.DrawerTabTypes.FRIENDS;j();return!R},r[h.ActionTypes.FRIENDS_SET_INITIAL_SECTION]=function(e){M=e.section;w=!0},r));t.default=U},730655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=j(n(496486)),o=j(n(536211)),i=j(n(636602)),u=j(n(234161)),l=j(n(206246)),s=j(n(762605)),f=j(n(969015)),d=j(n(460731)),c=j(n(319879)),p=j(n(814768)),v=L(n(101047)),y=n(336312),h=L(n(75300)),m=L(n(809204)),_=j(n(607209)),g=j(n(644263)),E=j(n(8549)),S=j(n(330445)),O=j(n(288356)),b=j(n(23535)),I=j(n(30098)),C=j(n(689389)),T=j(n(788739)),A=j(n(290629)),P=j(n(538983)),M=j(n(728429)),N=j(n(387692)),R=n(71246),w=n(770348);function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function j(e){return e&&e.__esModule?e:{default:e}}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function U(e,t){U=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return U(e,t)}function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=V(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return F.apply(this,arguments)}function x(e){return function(e){
if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||V(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=!1,B=!1,z=[],Y=[],$={},K={},q=new Set,Z=new Set;function X(){var e=A.default.getFriendIDs();return E.default.hasConsented(w.Consents.PERSONALIZATION)?new Set([].concat(x(P.default.getUserAffinitiesUserIds()),x(e))):new Set(e)}function Q(e){
return T.default.findActivity(e,(function(e){return e.type!==w.ActivityTypes.CUSTOM_STATUS}))}function J(e){if(null==$[e]){var t;$=F({},$,((t={})[e]=new m.default({name:e}),t))}return $[e]}function ee(e){if(null==K[e]){var t;K=F({},K,((t={})[e]=new h.default({url:e}),t))}return K[e]}function te(e){Z.has(e)||q.add(e)}function ne(e){if((0,f.default)(e))return y.SpotifyApplication;var t=null!=e.application_id?O.default.getGame(e.application_id):null;if(null!=t)return t;if((0,d.default)(e))return J(e.name);if((0,c.default)(e)&&null!=e.url)return ee(e.url);null!=e.application_id&&te(e.application_id);return t}function re(e){var t=N.default.getVoiceStateForUser(e);return null!=(null==t?void 0:t.channelId)&&C.default.canWithPartialContext(w.Permissions.VIEW_CHANNEL,{channelId:t.channelId})?t.channelId:null}function ae(e){return A.default.isFriend(e.id)}function oe(e,t,n){for(var r,o,i=t.map((function(e){return e.id})),u=t.filter((function(t){return e.has(t.id)
})),f=!1,d=[],c=new Set,E=!1,b=[],A=function(){var e,n,o=r.value,i=_.default.getStreamForUser(o.id),u=Q(o.id);null!=i&&b.push({stream:i,streamUser:o,activity:u});if(null==u)return"continue";if((0,s.default)(u)&&!(0,l.default)(o,u,null===(e=N.default.getVoiceStateForUser(o.id))||void 0===e?void 0:e.channelId,g.default,N.default,C.default,I.default))return"continue";var T=null===(n=u.timestamps)||void 0===n?void 0:n.start;if(null==T&&!(0,s.default)(u))return"continue";var A=(0,p.default)(u);if(null==A)return"continue";E=A===y.SPOTIFY_APPLICATION_ID;if(!v.shouldShowActivity(u))return"continue";var P=function(e){var t=O.default.getGame(e);if(null!=t)return t;if(e===y.SPOTIFY_APPLICATION_ID)return y.SpotifyApplication;if(e.startsWith(m.XBOX_APPLICATION_ID_PREFIX))return J(e.slice(m.XBOX_APPLICATION_ID_PREFIX.length));if(e.startsWith(h.TWITCH_APPLICATION_ID_PREFIX))return ee(e.slice(h.TWITCH_APPLICATION_ID_PREFIX.length));te(e);return null}(A);if(null==P||c.has(P.id))return"continue"
;var R=null!=u?ne(u):null;null!=R&&R.id===P.id||(u=null);var w=[];if(null!=u&&null!=u.party&&null!=u.party.id){var D,L=null!==(D=S.default.getParty(u.party.id))&&void 0!==D?D:[];w=Array.from(L).reduce((function(e,t){var n=M.default.getUser(t);null!=n&&e.push(n);return e}),[])}else w=t.filter((function(e){var t=Q(e.id),n=null!=t?ne(t):null;return null!=n&&n.id===P.id}));(w=a.default.orderBy(w,[ae],["desc"])).length!==t.length&&(f=!0);c.add(P.id);d.push({game:P,activity:u,activityUser:o,startedPlayingTime:T,playingMembers:w})},P=G(t);!(r=P()).done;)A();for(var w,D,L,j=1===u.length,k=[],U=new Set,F=new Set,x=G(t);!(w=x()).done;){var V=re(w.value.id),W=g.default.getChannel(V),H=null!=W?W.getGuildId():null,B=I.default.getGuild(H);if(F.has(H)&&U.has(V)||null==W||null==B||W.id===B.afkChannelId){if(null==W){o=null;j=!0}}else{var z=(0,a.default)(N.default.getVoiceStatesForChannel(W.id)).map((function(e){var t=e.userId;return M.default.getUser(t)
})).filter(R.isNotNullish).orderBy([ae],["desc"]).value();z.filter((function(e){return!i.includes(e.id)})).forEach((function(e){return t.push(e)}));if(j)F.has(H)||(o=null);else{o=B;j=!0}F.add(H);U.add(V);k.push({channel:W,guild:B,members:z})}}return{id:n,voiceChannels:k,isSpotifyActivity:E,priorityMembers:u.map((function(e){return{user:e,status:T.default.getStatus(e.id)}})),partiedMembers:t,showPlayingMembers:f,guildContext:o,currentActivities:(D=d,L=function(e){var t;return null!==(t=e.startedPlayingTime)&&void 0!==t?t:0},(0,a.default)(D).orderBy([L,function(e){return e.game.name}],["desc","asc"])).value(),applicationStreams:b}}function ie(){return H&&b.default.isConnected()}function ue(){if(!ie())return!1;q.clear();var e,t,n,r,o=Array.from(X()).reduce((function(e,t){var n=M.default.getUser(t);null==n||n.bot||e.push(n);return e}),[]),i=(e=o,(0,a.default)(e).groupBy((function(e){var t,n=re(e.id),r=Q(e.id)
;return null!=n?"channel--"+n:null!=(null==r||null===(t=r.party)||void 0===t?void 0:t.id)?"party--"+r.party.id:"user--"+e.id}))),l=(t=i,n=X(),r=oe.bind(null,n),(0,a.default)(t).mapValues(r)),s=l.values().orderBy([function(e){return e.partiedMembers.length>1},function(e){return e.applicationStreams.length>0},function(e){return e.voiceChannels.length>0},function(e){return e.currentActivities.length>0},function(e){return e.isSpotifyActivity},function(e){return e.priorityMembers.map((function(e){return e.user.username.toLowerCase()})).join(" ")}],["desc","desc","desc","desc","asc","asc"]).value();z=function(e){return e.filter((function(e){return e.voiceChannels.length>=1||e.currentActivities.length>0||e.applicationStreams.length>0}))}(s);Y=function(e){return e.map((function(e){return{type:w.ActivityCardTypes.USER,party:e}}))}(z);!function(){if(q.size>0){var e=Array.from(q);u.default.fetchApplications(e);e.forEach((function(e){return Z.add(e)}));q.clear()}}();B=!0}
var le=a.default.throttle((function(){ue();fe.emitChange()}),1e3);function se(){if(!ie())return!1;le();return!1}var fe=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;U(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.initialize=function(){this.syncWith([M.default,O.default,T.default,S.default,N.default,_.default,A.default,E.default,P.default],se);this.waitFor(b.default,I.default,O.default,M.default,P.default)};!function(e,t,n){t&&k(e.prototype,t);n&&k(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"currentActivityParties",get:function(){return z}},{key:"nowPlayingCards",get:function(){return Y}},{key:"isMounted",get:function(){return H}},{key:"loaded",get:function(){return B}}]);return t}(o.default.Store))(i.default,((r={})[w.ActionTypes.LOGOUT]=function(){H=!1;z=[];Y=[];q.clear()},r[w.ActionTypes.NOW_PLAYING_MOUNTED]=function(){H=!0;le()},r[w.ActionTypes.NOW_PLAYING_UNMOUNTED]=function(){H=!1},
r)),de=fe;t.default=de},944537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;c(n(667294));var r,a=f(n(496486)),o=f(n(9056)),i=c(n(762214)),u=f(n(635014)),l=n(194322),s=n(376293);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}var h=new Set(["DisplayPort"]),m=!1;function _(){if(!m){var e=u.default.getInputDeviceId(),t=u.default.getOutputDeviceId();if(!i.default.getState().neverShowModal&&!a.default.isEmpty(i.default.lastDeviceConnected)){var r=(0,i.extractDisplayName)(u.default.getInputDevices()[e]),f=(0,i.extractDisplayName)(u.default.getOutputDevices()[t]),d=a.default.some(i.default.lastDeviceConnected,(function(e){
return h.has(e.displayName)||e.displayName===r||e.displayName===f}));if(!d){var c=a.default.some(i.default.lastDeviceConnected,(function(e){return o.default.isCertified(i.default.inputDevices[e.displayName])||o.default.isCertified(i.default.outputDevices[e.displayName])}));if(!(e===s.DEFAULT_DEVICE_ID&&i.default.lastInputSystemDevice.justChanged||t===s.DEFAULT_DEVICE_ID&&i.default.lastOutputSystemDevice.justChanged)||c){var v=a.default.first(Object.keys(i.default.lastDeviceConnected)),_=v?i.default.lastDeviceConnected[v]:null;if(null!=_){var g;i.default.initialized&&null!=v&&(o.default.isCertified(i.default.inputDevices[v])?g=o.default.getCertifiedDevice(i.default.inputDevices[v]):o.default.isCertified(i.default.outputDevices[v])&&(g=o.default.getCertifiedDevice(i.default.outputDevices[v])));m=!0;(0,l.openModalLazy)(y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(36672)]).then(n.bind(n,936672));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){var t=e.transitionState,n=e.onClose;return p(r,{device:_,certifiedDeviceMetadata:g,transitionState:t,onClose:function(){m=!1;return n()}})}));case 5:case"end":return e.stop()}}),e)}))))}}}}}}var g={init:function(){i.default.addChangeListener(_)}};t.default=g},931411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(536211)),o=d(n(972247)),i=d(n(636602)),u=d(n(423046)),l=d(n(644263)),s=d(n(690445)),f=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p="IncomingCallStore",v=232,y=315,h=new Set,m=[],_=new Map,g=new Set,E=0,S=0,O=!1;!function(){0;var e=o.default.get(p);if(null!=e){E=+e.x;S=+e.y}else{var t=n(949898).default.windowSize();E=t.width/2-v/2;S=t.height/2-y/2}}();function b(e){
if(null==e)return!1;if(null==_.get(e))return!1;_.delete(e);(g=new Set(g)).delete(e)}function I(e){var t=e.channelId,n=e.ringing.includes(u.default.getId());if(!g.has(t)&&n){var r=l.default.getChannel(t);if(null==r)return!1;var a=10*g.size;_.set(t,{channel:r,x:E+a,y:S+a});(g=new Set(g)).add(t)}else{if(!g.has(t)||n)return!1;b(t)}}function C(){O=s.default.getStatus()===f.StatusTypes.DND}var T=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default,s.default);this.syncWith([s.default],C)};n.getIncomingCalls=function(){return O?m:Array.from(_.values())};n.getIncomingCallChannelIds=function(){return O?h:g};n.getFirstIncomingCallId=function(){return O?null:g.values().next().value};n.hasIncomingCalls=function(){return!O&&g.size>0};return t}(a.default.Store))(i.default,((r={})[f.ActionTypes.CALL_CREATE]=I,
r[f.ActionTypes.CALL_UPDATE]=I,r[f.ActionTypes.CALL_DELETE]=function(e){return b(e.channelId)},r[f.ActionTypes.VOICE_CHANNEL_SELECT]=function(e){return b(e.channelId)},r[f.ActionTypes.INCOMING_CALL_MOVE]=function(e){var t=e.x,n=e.y;E=t;S=n;o.default.set(p,{x:E,y:S});return!1},r[f.ActionTypes.CHANNEL_DELETE]=function(e){return b(e.channel.id)},r));t.default=T},853068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=(r=n(636602))&&r.__esModule?r:{default:r},i=n(194322),u=n(770348);function l(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}var c=!1,p=null;var v={init:function(){o.default.subscribe(u.ActionTypes.CONNECTION_OPEN,(function(e){var t=e.pendingPayments
;if(null!=t&&t.length>0){if(p===t[0])return;if(null==(p=t[0]))return;!function(e){if(!c){c=!0;(0,i.openModalLazy)(d(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(23438)]).then(n.bind(n,123438));case 2:r=t.sent;a=r.default;return t.abrupt("return",(function(t){var n=t.transitionState,r=t.onClose;return s(a,{pendingPayment:e,transitionState:n,onClose:function(){c=!1;return r()}})}));case 5:case"end":return t.stop()}}),t)}))))}}(p)}}))}};t.default=v},558402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Types=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(294184)),o=n(773336),i=l(n(66636)),u=["children","editable","type","className","outline"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var c={PRIMARY:"cardPrimary",DANGER:"cardDanger",WARNING:"cardWarning",SUCCESS:"cardSuccess",BRAND:"cardBrand",CUSTOM:"card"};t.Types=c;var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}t.prototype.render=function(){var e,t=this.props,n=t.children,l=t.editable,s=t.type,d=t.className,p=t.outline,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,u);p?e="outline":s===c.PRIMARY&&l&&(e="editable");return r.createElement("div",f({className:(0,a.default)(d,(0,o.getClass)(i.default,s,e))},v),n)};return t}(r.PureComponent);p.displayName="Card";p.Types=c;p.defaultProps={type:c.PRIMARY,outline:!1,editable:!1};var v=p;t.default=v},895108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(730977)),i=l(n(247001)),u=l(n(126388));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}var c=Math.ceil(2*Math.PI*20);function p(e){return"rgb("+Math.round(-85*e+199)+", "+Math.round(-71*e+208)+", "+Math.round(-22*e+240)+")"}function v(e){return Math.floor(c*e)+", "+c}var y=function(e){var t=e.total,n=e.used,r=Math.max(0,Math.min(1,n/t)),l=Math.floor(100*r)+"%";return d(o.default,{text:i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})},void 0,(function(e){return a.createElement("div",f({className:u.default.wrapper,role:"progressbar","aria-label":i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})},e),d("svg",{viewBox:"25 25 50 50",className:u.default.svg,"aria-hidden":!0},void 0,d("circle",{className:u.default.background,cx:"50",cy:"50",r:20}),d("circle",{className:u.default.foreground,cx:"50",cy:"50",r:20,stroke:p(r),strokeDasharray:v(r)})),d("aside",{className:u.default.usageInfo,"aria-hidden":!0},void 0,l))}))};y.displayName="DiskSpaceCircle";var h=y;t.default=h},222318:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(973935),i=(r=n(74854))&&r.__esModule?r:{default:r},u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t){f=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return f(e,t)}var d=Math.pow(3,2),c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._height=0;n._width=0;n._dragStart={x:0,y:0};n._offsetX=0;n._offsetY=0;n._removeListeners=function(){};n.handleSetRef=function(e){n._ref=e};n.handleMouseDown=function(e){var t=n.props,r=t.dragAnywhere,a=t.disabled,o=t.selector;if(!a){var i=n.state.position,l=e.target;if(e.button===u.MouseButtons.PRIMARY&&(r||null!=o&&l.matches(o))){n.grabDimensions();n._dragStart={x:e.clientX,y:e.clientY};n._offsetX=e.clientX-i.x._value;n._offsetY=e.clientY-i.y._value;var s=e.nativeEvent.view;n._removeListeners();s.addEventListener("mousemove",n.handleMouseMove);s.addEventListener("mouseup",n.handleMouseUp);n._removeListeners=function(){s.removeEventListener("mousemove",n.handleMouseMove);s.removeEventListener("mouseup",n.handleMouseUp)}}}};n.handleMouseMove=function(e){e.preventDefault()
;var t=n.props,r=t.onDragStart,a=t.onDrag;if(!t.disabled){var o,i,u,l,s,f,c=n.state,p=c.dragging,v=c.dragging;!p&&(o=n._dragStart,i={x:e.clientX,y:e.clientY},u=o.x,l=o.y,s=i.x,f=i.y,Math.pow(u-s,2)+Math.pow(l-f,2))>d&&(p=!0);if(p){n.animateToPosition(e.clientX-n._offsetX,e.clientY-n._offsetY,{tension:80,friction:8},null,!1);n.setState({dragging:p},(function(){v||null==r||r(e.clientX,e.clientY);null==a||a(e.clientX,e.clientY)}))}}};n.handleMouseUp=function(e){n._removeListeners();n.state.dragging&&n.setState({dragging:!1},(function(){var t=n.props.onDragEnd;null==t||t(e.clientX,e.clientY)}))};var r=new i.default.Value(t.initialX),a=new i.default.Value(t.initialY);n.state={dragging:!1,position:new i.default.ValueXY({x:r,y:a})};return n}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.initialX,n=e.initialY;this.setPosition(t,n)};n.componentWillUnmount=function(){this._removeListeners()};n.animateToPosition=function(e,t,n,r,a){void 0===n&&(n={});void 0===a&&(a=!0)
;a&&this.grabDimensions();var o=this.translate(e,t);i.default.spring(this.state.position,s({toValue:{x:o.x,y:o.y}},n)).start(r)};n.setPosition=function(e,t,n){void 0===n&&(n=!0);n&&this.grabDimensions();var r=this.translate(e,t);this.state.position.setValue({x:r.x,y:r.y})};n.grabDimensions=function(){var e=(0,o.findDOMNode)(this._ref);if(null!=e&&!(e instanceof Text)){this._height=e.clientHeight;this._width=e.clientWidth}};n.translate=function(e,t){var n=this.props,r=n.maxX,a=n.maxY;e<0?e=0:e>r-this._width&&(e=r-this._width);t<0?t=0:t>a-this._height&&(t=a-this._height);return{x:e,y:t}};n.render=function(){var e=this.state,t=e.dragging,n=e.position,r=this.props,o=r.className,u=r.children,l=[0,1],f=["0px","1px"],d=i.default.accelerate(s({pointerEvents:t?"none":"auto",transform:[{translateX:n.x.interpolate({inputRange:l,outputRange:f})},{translateY:n.y.interpolate({inputRange:l,outputRange:f})}]},this.props.style));return a.createElement(i.default.div,{ref:this.handleSetRef,className:o,
onMouseDown:this.handleMouseDown,style:d},u)};return t}(a.PureComponent);c.displayName="Draggable";c.defaultProps={maxX:0,maxY:0,initialX:0,initialY:0,disabled:!1,dragAnywhere:!1};var p=c;t.default=p},784241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=g(n(667294)),o=m(n(294184)),i=m(n(468811)),u=n(91817),l=g(n(956117)),s=m(n(279950)),f=n(688388),d=n(3400),c=n(770348),p=m(n(247001)),v=m(n(978607)),y=m(n(3066)),h=m(n(380203));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this)._animItem=null;t._timeout=new u.Timeout;t._headerId=i.default.v4();t.state={resent:!1,shouldClose:!1,email:"",password:""};t.setLottieRef=function(e){t._lottieRef=e};t.handleVerify=function(){(0,t.props.onVerify)(t.state.email,t.state.password)};t.handleResendEmail=function(){var e=t.props,n=e.onResend,r=e.onClose;n();if(!t.state.resent){t.setState({resent:!0,shouldClose:!0});t._timeout.start(3e3,(function(){t.state.shouldClose&&r()}))}};t.handleChangeEmailClick=function(){var e=t.props.onChangeEmailClick;t.setState({resent:!1,shouldClose:!1});e()};t.handleEmailChange=function(e){t.setState({email:e})};t.handlePasswordChange=function(e){t.setState({password:e})};t.handleKeyPress=function(e){var n=t.state,r=n.email,a=n.password;if(13===e.which&&r.length>0&&a.length>0){e.preventDefault();t.handleVerify()}};return t}var r=t.prototype;r.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,a,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(63266).then(n.t.bind(n,763266,19)),n.e(11248).then(n.t.bind(n,211248,23))]);case 2:t=e.sent;r=S(t,2);a=r[0];o=r[1].default;this._animItem=o.loadAnimation({container:this._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:a});case 7:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();r.componentWillUnmount=function(){this._timeout.stop();if(null!=this._animItem){this._animItem.destroy();this._animItem=void 0}};r.renderInputs=function(){var e=this.props,t=e.emailError,n=e.passwordError,r=e.submitting,a=this.state,o=a.email,i=a.password;return E("div",{className:v.default.container},void 0,E(f.FormItem,{title:p.default.Messages.FORM_LABEL_EMAIL,
className:h.default.marginBottom20},void 0,E(s.default,{value:o,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})),E(f.FormItem,{title:p.default.Messages.FORM_LABEL_PASSWORD,className:h.default.marginBottom40},void 0,E(s.default,{type:"password",value:i,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})),E(l.default,{fullWidth:!0,size:l.default.Sizes.LARGE,onClick:this.handleVerify,submitting:r,disabled:0===o.length||0===i.length},void 0,p.default.Messages.VERIFY_ACCOUNT))};r.renderActions=function(){return E("div",{className:v.default.container},void 0,E(l.default,{className:h.default.marginTop20,fullWidth:!0,size:l.default.Sizes.LARGE,look:l.ButtonLooks.INVERTED,color:l.ButtonColors.PRIMARY,onClick:this.handleResendEmail},void 0,p.default.Messages.RESEND_EMAIL),E(l.default,{className:h.default.marginTop20,fullWidth:!0,size:l.default.Sizes.MEDIUM,look:l.ButtonLooks.LINK,color:l.ButtonColors.PRIMARY,
onClick:this.handleChangeEmailClick},void 0,p.default.Messages.CHANGE_EMAIL))};r.render=function(){var e,t=this.state.resent,n=this.props,r=n.email,i=n.canResend,u=n.transitionState;e=t&&null!=r?p.default.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:r}):i?p.default.Messages.VERIFY_EMAIL_BODY:p.default.Messages.ENTER_EMAIL_BODY;return E(d.ModalRoot,{transitionState:u,"aria-labelledby":this._headerId,className:(0,o.default)(v.default.emailVerificationModal,y.default.vertical,y.default.alignCenter,y.default.justifyCenter,h.default.marginTop60)},void 0,a.createElement("div",{className:v.default.animationContainer,ref:this.setLottieRef}),E("div",{className:(0,o.default)(v.default.title,h.default.marginBottom8)},void 0,p.default.Messages.VERIFY_BY_EMAIL),E("div",{className:(0,o.default)(v.default.body,h.default.marginBottom20)},void 0,e),i?this.renderActions():this.renderInputs())};return t}(a.PureComponent);C.displayName="EmailVerificationModal";C.defaultProps={canResend:!1,
onChangeEmailClick:c.NOOP,onVerify:function(e,t){},onResend:c.NOOP,onClose:c.NOOP};var T=C;t.default=T},737705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.EmptyStateText=t.EmptyStateImage=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(530250)),u=n(770348),l=f(n(643193)),s=f(n(380203));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=a.createContext(u.ThemeTypes.DARK),m=h.Provider,_=h.Consumer,g=function(e){v(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){
var e=this.props,t=e.lightSrc,n=e.darkSrc,r=e.width,a=e.height,f=e.offsetX,d=e.offsetY,v=e.style;return c(_,{},void 0,(function(e){return c(i.default.Child,{grow:0,className:(0,o.default)(l.default.image,s.default.marginBottom40),style:p({},v,{width:r,height:a,marginLeft:f,marginTop:d,backgroundImage:"url("+(e===u.ThemeTypes.DARK?n:t)+")"})})}))};return t}(a.PureComponent);t.EmptyStateImage=g;g.displayName="EmptyStateImage";var E=function(e){var t=e.children,n=e.className,r=e.noteClassName,a=e.note,u=e.style;return c(i.default.Child,{grow:0,direction:i.default.Direction.VERTICAL,style:u},void 0,null!=t&&c("h4",{className:(0,o.default)(n,l.default.title)},void 0,t),a&&c("div",{className:(0,o.default)(r,l.default.text,s.default.marginTop8)},void 0,a))};t.EmptyStateText=E;E.displayName="EmptyStateText";var S=function(e){v(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.children,n=e.theme,r=e.className,a=e.style;return c(m,{value:n
},void 0,c(i.default,{direction:i.default.Direction.VERTICAL,align:i.default.Align.CENTER,justify:i.default.Justify.CENTER,className:(0,o.default)(l.default.wrapper,r),style:a},void 0,t))};return t}(a.PureComponent);t.default=S;S.displayName="EmptyState";S.Text=E;S.Image=g},358255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NotchBackground=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=n(8916),u=n(770348),l=s(n(14573));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=(0,i.cssValueToNumber)(l.default.notchWidth),v=Object.freeze({BLACK:l.default.black,GRAY:l.default.gray});t.NotchBackground=v;var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o]
;(t=e.call.apply(e,[this].concat(r))||this).state={barWidth:0};t.sizerRef=a.createRef();t.computeBars=function(){var e=t.sizerRef.current;t.setState({barWidth:null!=e?t.roundToNearestStep(e.clientWidth):0})};return t}var n=t.prototype;n.componentDidMount=function(){this.computeBars();window.addEventListener("resize",this.computeBars)};n.componentWillUnmount=function(){window.removeEventListener("resize",this.computeBars)};n.roundToNearestStep=function(e){return Math.round(e/p)*p};n.getProgressStyles=function(){var e=this.props.progress,t=100-Math.max(0,Math.min(100,e)),n=this.state.barWidth,r=n*t/100,a=this.roundToNearestStep(r);return{transform:"translateX("+Math.abs(a-n)+"px)"}};n.getGradientStyles=function(){var e=this.props,t=e.gradientEnd,n=e.gradientStart,r=e.progress;return{width:this.state.barWidth+"px",background:r<=0?"none":"linear-gradient(to right, "+n+", "+t+")"}};n.render=function(){var e=this.props,t=e.className,n=e.notchBackground;return a.createElement("div",{
className:l.default.wrapper,ref:this.sizerRef},d("div",{className:(0,o.default)(l.default.container,t),style:this.getGradientStyles()},void 0,d("div",{className:l.default.progress,style:this.getProgressStyles()}),d("div",{className:(0,o.default)(l.default.notches,n)})))};return t}(a.Component);y.displayName="GradientProgress";y.defaultProps={gradientStart:u.Colors.STATUS_YELLOW_400,gradientEnd:u.Colors.STATUS_GREEN_600};var h=y;t.default=h},275621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=s(n(956117)),o=s(n(971639)),i=s(n(776360)),u=s(n(247001)),l=s(n(20057));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t=e.onLogin,r=e.onRegister;return d("div",{className:l.default.wrapper},void 0,d("div",{className:l.default.content},void 0,d("img",{alt:"",src:n(96446),className:l.default.image}),d("div",{},void 0,d(o.default,{size:o.default.Sizes.SIZE_20,className:l.default.header
},void 0,u.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_HEADER),d(i.default,{className:l.default.subHeader},void 0,u.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_BODY))),d("div",{className:l.default.buttonContainer},void 0,d(a.default,{className:l.default.button,size:a.default.Sizes.MEDIUM,onClick:t,look:a.default.Looks.OUTLINED,color:a.default.Colors.WHITE},void 0,u.default.Messages.LOGIN),d(a.default,{className:l.default.button,size:a.default.Sizes.MEDIUM,onClick:r},void 0,u.default.Messages.REGISTER)))};c.displayName="GuestLurkerGuard";var p=c;t.default=p},2022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=P(n(294184)),i=n(376871),u=n(378158),l=n(263996),s=n(523024),f=n(328092),d=P(n(886836)),c=n(800055),p=n(894826),v=P(n(692711)),y=n(465537),h=P(n(16941)),m=P(n(189950)),_=P(n(80828)),g=P(n(730977)),E=P(n(971639)),S=P(n(272544)),O=P(n(776360)),b=n(770348),I=P(n(247001)),C=P(n(976351)),T=P(n(860321)),A=P(n(145792));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L(e,t)}var j=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;L(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).state={loaded:!1,hasBeenSeen:!1,isVisible:!1,submitting:!1}
;t.handleClickView=function(){var e=D(regeneratorRuntime.mark((function e(n){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.target;if(!r.className.includes("Menu")){e.next=3;break}return e.abrupt("return");case 3:a=t.props,o=a.onView,i=a.guild;n.stopPropagation();t.setState({submitting:!0});e.prev=6;e.t0=null!=o;if(!e.t0){e.next=11;break}e.next=11;return o(i.id);case 11:e.prev=11;t.setState({submitting:!1});return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[6,,11,14]])})));return function(t){return e.apply(this,arguments)}}();t.handleVisibilityChange=function(e){var n=t.props,r=n.onGuildCardSeen,a=n.guild;if(null!=a&&!t.state.hasBeenSeen&&e){t.setState({hasBeenSeen:e});null!=r&&r(a.id)}};t.handleContextMenu=function(e){(0,u.openContextMenuLazy)(e,D(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.resolve().then(n.bind(n,184767));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,R({},e,{guild:t.props.guild}))}));case 5:case"end":return e.stop()}}),e)}))))};t.setIsVisible=function(e){t.setState({isVisible:e})};return t}var r=t.prototype;r.getDefaultSplashURL=function(e){switch(e){case b.ThemeTypes.DARK:return T.default;case b.ThemeTypes.LIGHT:return A.default}};r.render=function(){var e,t,n,r=this,a=this.props,u=a.guild,b=a.className,T=a.theme,A=a.onTagClick,P=this.state,M=P.loaded,R=P.hasBeenSeen,w=P.isVisible,D=P.submitting,L=u.name,j=u.description,k=u.presenceCount,U=u.memberCount,G=u.keywords,F=v.default.getGuildDiscoverySplashURL({id:u.id,splash:u.discoverySplash,size:300*(0,c.getDevicePixelRatio)()}),x=null!=F?F:this.getDefaultSplashURL(T),V=v.default.getGuildIconURL({id:u.id,icon:u.icon,size:40})||void 0;f.DiscoveryTagsExperiment.trackExposure({})
;var W=f.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayTags,H=s.DiscoveryInAppReportingExperiment.getCurrentConfig({}).canSeeInAppReportingButtons;s.DiscoveryInAppReportingExperiment.trackExposure({});var B=p.DeveloperMode.getSetting()||H;return N(i.VisibilitySensor,{active:!w,onChange:this.setIsVisible,threshold:.1},void 0,w?N(i.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!R,threshold:.55},void 0,N("div",{className:(0,o.default)(b,(e={},e[C.default.loaded]=M,e[C.default.loading]=!M,e))},void 0,D?N(_.default,{type:_.default.Type.PULSING_ELLIPSIS,className:C.default.spinner}):null,N(h.default,{onClick:this.handleClickView,className:(0,o.default)(C.default.card,(t={},t[C.default.submitting]=D,t[C.default.cardWithTags]=W,t)),onContextMenu:this.handleContextMenu},void 0,N("div",{className:C.default.cardHeader},void 0,N("div",{className:C.default.splash},void 0,N("img",{src:x,alt:"",className:C.default.splashImage,onLoad:function(){return r.setState({loaded:!0
})}})),B?N("div",{className:C.default.actionButtons},void 0,N(d.default,{guild:u})):null,N("div",{className:C.default.guildIcon},void 0,N(S.default,{mask:S.default.Masks.SQUIRCLE,width:48,height:48},void 0,N("div",{className:C.default.iconMask},void 0,N(S.default,{mask:S.default.Masks.SQUIRCLE,width:40,height:40},void 0,N("img",{src:V,alt:"",className:C.default.avatar})))))),N("div",{className:C.default.guildInfo},void 0,N("div",{className:C.default.title},void 0,N(m.default,{className:C.default.guildBadge,guild:u,tooltipColor:g.default.Colors.PRIMARY}),N(E.default,{tag:E.default.Tags.H4,size:O.default.Sizes.SIZE_16,className:C.default.guildName},void 0,L)),N(O.default,{className:C.default.description,size:O.default.Sizes.SIZE_14,color:O.default.Colors.HEADER_SECONDARY},void 0,j),W&&G&&A&&N(l.DiscoveryTags,{tags:G,onTagClick:function(e){return A(e,u.id)},guildId:u.id,section:y.AnalyticsContexts.POPULAR}),N("div",{className:C.default.memberInfo},void 0,null!=k&&N("div",{
className:C.default.memberCount},void 0,N("div",{className:C.default.dotOnline}),N(O.default,{size:O.default.Sizes.SIZE_12,color:O.default.Colors.HEADER_SECONDARY},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:k}))),null!=U&&N("div",{className:C.default.memberCount},void 0,N("div",{className:C.default.dotOffline}),N(O.default,{size:O.default.Sizes.SIZE_12,color:O.default.Colors.HEADER_SECONDARY},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:U})))))))):N("div",{className:(0,o.default)(C.default.card,(n={},n[C.default.cardWithTags]=W,n))}))};return t}(a.PureComponent);j.displayName="GuildDiscoveryCard";j.Placeholder=function(e){return N("div",{className:(0,o.default)(e.className,C.default.cardPlaceholder)})};var k=j;t.default=k},618993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(294184)),i=l(n(776680)),u=["tag","children","hoverText","className","forceHover"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e,t=this.props,n=t.tag,r=t.children,l=t.hoverText,s=t.className,c=t.forceHover,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,u);return a.createElement("div",f({},p,{className:(0,o.default)(s,i.default.hoverRoll,(e={},e[i.default.disabled]=null==l,e[i.default.forceHover]=c,e))}),d(n,{
className:i.default.hovered},void 0,l),d(n,{className:i.default.default},void 0,r))};return t}(a.PureComponent);p.displayName="HoverRoll";p.defaultProps={tag:"div",forceHover:!1};var v=p;t.default=v},365561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PictureInPictureWindow=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=n(973935),u=n(864489),l=c(n(222318)),s=n(770348),f=c(n(347754)),d=c(n(480798));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}
var _=80,g=132,E=80,S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._width=0;t._height=0;t._velocityX=0;t._velocityY=0;t._lastMoveX=0;t._lastMoveY=0;t.ensureIsInPosition=function(){t.setPosition(t.props.position)};t.handleSetInnerDivRef=function(e){t._innerDiv=e;var n=null==e?void 0:e.ownerDocument.defaultView;if(null!=e&&null!=n){var r;t._resizeObserver=new n.ResizeObserver(t.ensureIsInPosition);null===(r=t._resizeObserver)||void 0===r||r.observe(e)}};t.handleSetDraggableRef=function(e){t._draggable=e};t.handleDragStart=function(e,n){t._velocityX=0;t._velocityY=0;t._lastMoveX=e;t._lastMoveY=n;t._lastMoveTime=new Date};t.handleDrag=function(e,n){var r=new Date,a=Number(r)-Number(t._lastMoveTime);t._velocityX=(e-t._lastMoveX)/a;t._velocityY=(n-t._lastMoveY)/a;t._lastMoveX=e;t._lastMoveY=n
;t._lastMoveTime=r};t.handleDragEnd=function(e,n){var r,a=t.props,o=a.maxX,i=a.maxY,u=t.calculateDecayingPosition(e,n,t._velocityX,t._velocityY),l=!0,f=!0;u.x>o/2&&(f=!1);u.y>i/2&&(l=!1);r=l&&f?s.PictureInPicturePositions.TOP_LEFT:l&&!f?s.PictureInPicturePositions.TOP_RIGHT:!l&&f?s.PictureInPicturePositions.BOTTOM_LEFT:s.PictureInPicturePositions.BOTTOM_RIGHT;t.animateToPosition(r,t.ensureIsInPosition);if(r!==t.props.position){var d=t.props,c=d.id,p=d.onMove;null==p||p(c,r)}};return t}var n=t.prototype;n.componentDidMount=function(){this.setPosition(this.props.position)};n.componentDidUpdate=function(e){e.edgeOffsetTop===this.props.edgeOffsetTop&&e.edgeOffsetLeft===this.props.edgeOffsetLeft&&e.edgeOffsetBottom===this.props.edgeOffsetBottom&&e.edgeOffsetRight===this.props.edgeOffsetRight&&e.maxX===this.props.maxX&&e.maxY===this.props.maxY&&e.dockedRect===this.props.dockedRect||this.ensureIsInPosition()};n.componentWillUnmount=function(){var e
;null===(e=this._resizeObserver)||void 0===e||e.disconnect()};n.getPosition=function(e){var t=(0,i.findDOMNode)(this._innerDiv);if(null!=t){var n=t.getBoundingClientRect();this._width=n.width;this._height=n.height}var r=this.props,a=r.edgeOffsetTop,o=r.edgeOffsetLeft,l=r.edgeOffsetBottom,f=r.edgeOffsetRight,d=r.maxX,c=r.maxY,p=r.dockedRect,v=a,y=c-l-this._height,h=o,m=d-f-this._width,_=(0,u.getPlatform)()!==u.PlatformTypes.WINDOWS||this.inPopout?0:22;if(null!=p){var g,E;return{y:(null!==(g=null==p?void 0:p.y)&&void 0!==g?g:0)-_,x:null!==(E=null==p?void 0:p.x)&&void 0!==E?E:0}}switch(e){case s.PictureInPicturePositions.TOP_LEFT:return{y:v,x:h};case s.PictureInPicturePositions.BOTTOM_LEFT:return{y,x:h};case s.PictureInPicturePositions.TOP_RIGHT:return{y:v,x:m};default:return{y,x:m}}};n.setPosition=function(e){var t,n=this.getPosition(e),r=n.x,a=n.y;null===(t=this._draggable)||void 0===t||t.setPosition(r,a)};n.animateToPosition=function(e,t){var n,r=this.getPosition(e),a=r.x,o=r.y
;null===(n=this._draggable)||void 0===n||n.animateToPosition(a,o,{},t)};n.calculateDecayingPosition=function(e,t,n,r){return{x:e+200*n,y:t+200*r}};n.getXOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetLeft,r=e.edgeOffsetRight;switch(t){case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.BOTTOM_LEFT:return-n;default:return r}};n.getYOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetTop,r=e.edgeOffsetBottom;switch(t){case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.TOP_RIGHT:return-n;default:return r}};n.render=function(){var e,t=this.props,n=t.maxX,r=t.maxY,i=t.dockedRect,u=t.hidden,s={};null!=i&&(s={transform:"translate3d("+i.x+", "+i.y+", 0)",width:i.width,height:i.height});return a.createElement(l.default,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:(0,o.default)(f.default.pictureInPictureWindow,d.default.elevationHigh,(e={},e[f.default.hidden]=u,e)),maxX:n,maxY:r,disabled:null!=i,
onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd},a.createElement("div",{ref:this.handleSetInnerDivRef,style:s},this.props.children))};!function(e,t,n){t&&h(e.prototype,t);n&&h(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"inPopout",get:function(){return this.props.appContext===s.AppContext.POPOUT}}]);return t}(a.PureComponent);t.PictureInPictureWindow=S;S.displayName="PictureInPictureWindow";S.defaultProps={hidden:!1};var O=function(e){var t=e.selectedPIPWindow,n=e.pipWindows,r=e.maxX,o=e.maxY,i=e.onWindowMove,u=e.dockedRect,l=e.pictureInPictureComponents,d=e.appContext;return v("div",{className:f.default.pictureInPicture},void 0,function(){if(null==t)return null;var e=Array.from(n.values()).map((function(e){if(e.id!==t.id&&e.component!==s.PictureInPictureComponents.EMBED_IFRAME)return null;var n="string"==typeof e.component?l[e.component]:e.component;return a.createElement(n,y({key:"pipWindow-"+e.id},e.props))}));return v(S,{
appContext:d,position:t.position,id:t.id,hidden:t.hidden,onMove:i,maxX:r,maxY:o,dockedRect:u,edgeOffsetTop:_,edgeOffsetBottom:g,edgeOffsetLeft:E,edgeOffsetRight:_},void 0,e)}())};O.displayName="PictureInPicture";var b=a.memo(O);t.default=b},604753:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PremiumPaymentGuildAnimation=t.PremiumPaymentAnimationTier2=t.PremiumPaymentAnimationTier1=void 0;var r,a,o,i,u,l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),s=v(n(294184)),f=n(248088),d=v(n(74854)),c=v(n(88793)),p=v(n(369689));function v(e){
return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}!function(e){e.NORMAL="normal";e.SPEED_START="speed_start";e.SPEED_LOOP="speed_loop";e.FINISH="finish";e.IDLE="idle"
}(u||(u={}));var O,b=((r={})[u.NORMAL]={BEG:0,END:600,shouldForcePlayAfter:!0},r[u.SPEED_START]={BEG:601,END:636},r[u.SPEED_LOOP]={BEG:637,END:668},r[u.FINISH]={BEG:669,END:870},r[u.IDLE]={BEG:871,END:878},r),I=function(e){E(t,e);function t(){return e.apply(this,arguments)||this}t.getNextScene=function(e){switch(e){case t.Scenes.SPEED_START:return t.Scenes.SPEED_LOOP;case t.Scenes.FINISH:return t.Scenes.IDLE;default:return e}};var r=t.prototype;r.importDefault=function(){return n.e(64849).then(n.t.bind(n,909412,19)).then((function(e){return e.default}))};r.render=function(){var e=this.props,t=e.className,n=e.nextScene,r=e.onScenePlay,a=e.onSceneComplete,o=e.pause,i=e.pauseWhileUnfocused;return g(c.default,{className:t,importData:this.importDefault,nextScene:o?u.IDLE:n,sceneSegments:b,onScenePlay:r,onSceneComplete:a,pauseWhileUnfocused:i,pause:o})};return t}(l.PureComponent);t.PremiumPaymentAnimationTier1=I;I.displayName="PremiumPaymentAnimationTier1";I.Scenes=u;!function(e){
e.IDLE_ENTRY="idle_entry";e.IDLE_LOOP="idle_loop";e.BOOST_START="boost_start";e.BOOST_LOOP="boost_loop";e.BOOST_END="boost_end";e.VICTORY="victory";e.ERROR="error"}(O||(O={}));var C=((a={})[O.IDLE_ENTRY]={BEG:0,END:50},a[O.IDLE_LOOP]={BEG:50,END:230,shouldForcePlayAfter:!0},a[O.BOOST_START]={BEG:230,END:275},a[O.BOOST_LOOP]={BEG:275,END:290},a[O.BOOST_END]={BEG:386,END:455},a[O.VICTORY]={BEG:470,END:525},a[O.ERROR]={BEG:290,END:375},a),T=function(e){E(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getStyle=function(e){var t=this.props.animation;return{transform:[{translateX:t.x.interpolate({inputRange:[0,1],outputRange:e?["100%","0%"]:["0%","-100%"]})},{translateY:t.y.interpolate({inputRange:[0,1],outputRange:["100%","0%"]})}]}};n.render=function(){var e=this.props.className;return g("div",{className:p.default.panningAnimation},void 0,g(d.default.div,{className:e,style:this.getStyle(!1)}),g(d.default.div,{className:e,style:this.getStyle(!0)}))};return t
}(l.PureComponent);T.displayName="PanningAnimation";var A,P=Object.freeze({IDLE_ENTRY:{toValue:1,duration:1500},IDLE_LOOP:{toValue:1,duration:6e3,easing:d.default.Easing.linear},BOOST_START:{toValue:0,duration:2e3,delay:500},ERROR:{toValue:1,duration:1500,delay:1e3}}),M=1.2,N=function(e){E(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).backgroundAnimation=new d.default.ValueXY({x:0,y:0});t.foregroundAnimation=new d.default.ValueXY({x:0,y:0});t.didUnmount=!1;t.animateIdleLoopBackground=function(){if(!t.didUnmount){t.backgroundAnimation.x.setValue(0);d.default.timing(t.backgroundAnimation.x,{toValue:P.IDLE_LOOP.toValue,duration:P.IDLE_LOOP.duration*M,easing:d.default.Easing.linear}).start(t.animateIdleLoopBackground)}};t.animateIdleLoopForeground=function(){if(!t.didUnmount){t.foregroundAnimation.x.setValue(0);d.default.timing(t.foregroundAnimation.x,{toValue:P.IDLE_LOOP.toValue,
duration:P.IDLE_LOOP.duration,easing:P.IDLE_LOOP.easing}).start(t.animateIdleLoopForeground)}};t.handleScenePlay=function(e){switch(e){case O.IDLE_ENTRY:t.animateIdleEntry();t.animateIdleLoop();break;case O.ERROR:t.animateError();break;case O.BOOST_START:t.animateBoostStart()}var n=t.props.onScenePlay;null!=n&&n(e)};return t}t.getNextScene=function(e){switch(e){case t.Scenes.IDLE_ENTRY:return t.Scenes.IDLE_LOOP;case t.Scenes.BOOST_START:return t.Scenes.BOOST_LOOP;case t.Scenes.BOOST_END:return t.Scenes.VICTORY;case t.Scenes.VICTORY:return t.Scenes.IDLE_ENTRY;case t.Scenes.ERROR:return t.Scenes.IDLE_LOOP;default:return e}};var r=t.prototype;r.componentWillUnmount=function(){this.didUnmount=!0};r.importData=function(){return n.e(56576).then(n.t.bind(n,219177,19)).then((function(e){return e.default}))};r.animateEntry=function(e){d.default.parallel([d.default.timing(this.foregroundAnimation.y,{toValue:e.toValue,duration:e.duration,delay:e.delay||0
}),d.default.timing(this.backgroundAnimation.y,{toValue:e.toValue,duration:e.duration*M,delay:e.delay||0})]).start()};r.animateIdleEntry=function(){this.animateEntry(P.IDLE_ENTRY)};r.animateError=function(){this.animateEntry(P.ERROR)};r.animateIdleLoop=function(){this.animateIdleLoopBackground();this.animateIdleLoopForeground()};r.animateBoostStart=function(){d.default.parallel([d.default.timing(this.foregroundAnimation.y,{toValue:P.BOOST_START.toValue,duration:P.BOOST_START.duration,delay:P.BOOST_START.delay}),d.default.timing(this.backgroundAnimation.y,{toValue:P.BOOST_START.toValue,duration:P.BOOST_START.duration*M,delay:P.BOOST_START.delay})]).start()};r.render=function(){var e=this.props,t=e.className,n=e.nextScene,r=e.pause,a=e.onSceneComplete;return g("div",{className:(0,s.default)(p.default.tier2Animation,t)},void 0,r?l.createElement(l.Fragment,null,g("div",{className:p.default.panningAnimation},void 0,g("div",{className:p.default.tier2Background}),g("div",{
className:p.default.tier2Foreground}))):l.createElement(l.Fragment,null,g(T,{className:p.default.tier2Background,animation:this.backgroundAnimation}),g(T,{className:p.default.tier2Foreground,animation:this.foregroundAnimation})),g(c.default,{importData:this.importData,nextScene:r?O.IDLE_LOOP:n,sceneSegments:C,onScenePlay:this.handleScenePlay,onSceneComplete:a,pauseWhileUnfocused:!1,pause:r}))};return t}(l.PureComponent);t.PremiumPaymentAnimationTier2=N;N.displayName="PremiumPaymentAnimationTier2";N.Scenes=O;!function(e){e.ENTRY="entry";e.IDLE="idle";e.STARS="stars";e.ERROR="error";e.SUCCESS="success"}(A||(A={}));var R=((o={})[A.ENTRY]={BEG:0,END:180},o[A.IDLE]={BEG:180,END:360,shouldForcePlayAfter:!0},o[A.STARS]={BEG:180,END:360,shouldForcePlayAfter:!0},o[A.ERROR]={BEG:360,END:540},o[A.SUCCESS]={BEG:540,END:778},o),w=Object.freeze({WHITE:"#ebf0f7",PINK:"#fa6ef6"}),D=[{left:29,top:100,color:w.WHITE},{left:245,top:11,color:w.PINK},{left:393,top:22,color:w.WHITE},{left:74,top:30,
color:w.PINK},{left:188,top:9,color:w.WHITE},{left:379,top:97,color:w.PINK}],L=Object.freeze({SCALE_INITIAL:0,SCALE_MIDDLE:1,SCALE_END:0,ROTATE_INITIAL:0,ROTATE_MIDDLE:180,ROTATE_END:360,DELAY_MIN:200,DELAY_MAX:500,DELAY_STAGGER:200,DURATION_MIDDLE:400,DURATION_END:250,SIZE_MIN:7,SIZE_MAX:15,EASING_MIDDLE:d.default.Easing.bezier(.3,.01,0,.99),EASING_END:d.default.Easing.bezier(0,-.01,.99,0)});function j(e){var t=e.animate,n=m(l.useState(0),2),r=n[0],a=n[1],o=(0,f.useSprings)(D.length,D.map((function(e,n){var o,i,u=n>0?L.DELAY_STAGGER*n+Math.random()*(L.DELAY_MAX-L.DELAY_MIN)+L.DELAY_MIN:0,l=Math.random()*(L.SIZE_MAX-L.SIZE_MIN)+L.SIZE_MIN;return{from:{scale:L.SCALE_INITIAL,rotate:L.ROTATE_INITIAL,top:e.top,left:e.left,width:l,height:l},to:(i=(o=regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}e.next=3;return o({scale:L.SCALE_MIDDLE,rotate:L.ROTATE_MIDDLE,delay:u,config:{
duration:L.DURATION_MIDDLE,easing:L.EASING_MIDDLE}});case 3:e.next=5;return o({scale:L.SCALE_END,rotate:L.ROTATE_END,config:{duration:L.DURATION_END,easing:L.EASING_END}});case 5:e.next=7;return o({scale:L.SCALE_INITIAL,rotate:L.ROTATE_INITIAL,immediate:!0});case 7:n===D.length-1&&a(r+1);e.next=12;break;case 10:e.next=12;return o({scale:L.SCALE_INITIAL,rotate:L.ROTATE_INITIAL});case 12:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){h(a,n,r,i,u,"next",e)}function u(e){h(a,n,r,i,u,"throw",e)}i(void 0)}))}),function(e){return i.apply(this,arguments)})}})));return l.createElement(l.Fragment,null,o.map((function(e,t){var n=D[t];return g(f.animated.svg,{style:e,className:p.default.guildStar,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12.14 12.24"},t,g("path",{
d:"M5.62 10.22l-4 1.9a1.17 1.17 0 01-1.5-.5 1.7 1.7 0 010-1l1.9-4a.91.91 0 000-1l-1.9-4a1.14 1.14 0 01.5-1.5 1.39 1.39 0 01.9 0l4 1.9a.91.91 0 001 0l4-1.9a1.14 1.14 0 011.5.5 1.39 1.39 0 010 .9l-1.9 4a.91.91 0 000 1l1.9 4a1.17 1.17 0 01-.5 1.5 1.7 1.7 0 01-1 0l-4-1.9a1 1 0 00-.9.1z",fill:n.color}))})))}var k=function(e){E(t,e);function t(){return e.apply(this,arguments)||this}t.getNextScene=function(e){switch(e){case A.ENTRY:case A.ERROR:case A.SUCCESS:return A.IDLE;default:return e}};var r=t.prototype;r.importData=function(){return n.e(85789).then(n.t.bind(n,632500,19)).then((function(e){return e.default}))};r.render=function(){var e=this.props,t=e.className,n=e.nextScene,r=e.pause,a=e.onScenePlay,o=e.onSceneComplete,i=e.pauseWhileUnfocused;return g("div",{className:(0,s.default)(p.default.guildWrapper,t)},void 0,g(c.default,{className:p.default.guildBackground,importData:this.importData,nextScene:r?A.IDLE:n,sceneSegments:R,onScenePlay:a,onSceneComplete:o,pauseWhileUnfocused:i,pause:r
}),g(j,{animate:!r&&n===A.STARS}))};return t}(l.PureComponent);t.PremiumPaymentGuildAnimation=k;k.displayName="PremiumPaymentGuildAnimation";k.Scenes=A},463922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(237745))&&r.__esModule?r:{default:r},i=n(770348);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=function(e){return a.createElement(o.default,l({sitekey:i.RECAPTCHA_SITE_KEY},e))};s.displayName="Recaptcha";s.Themes={LIGHT:"light",DARK:"dark"};s.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"};var f=s;t.default=f},49465:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(131795)),i=l(n(74854)),u=l(n(23966));function l(e){return e&&e.__esModule?e:{
default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function c(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)}]}}var p=f("defs",{},void 0,f("rect",{id:"search-index-foreground-mask-a",width:"80",height:"80",rx:"40"})),v=f("g",{mask:"url(#search-index-foreground-mask-b)"},void 0,f("path",{
fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),f("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),f("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),f("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),f("path",{fill:"#FFD773",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",
strokeLinejoin:"round"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),f("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),f("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),f("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),f("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),f("path",{fill:"#FFD773",
d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{stroke:"#1E2126",
strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),f("path",{fill:"#7687B2",d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),f("path",{stroke:"#1E2126",
strokeWidth:"2",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#FFF",
d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),f("path",{fill:"#E4E9F8",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{
fill:"#FFF",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),f("path",{fill:"#E4E9F8",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#5871B7",
d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),f("path",{
fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#5865f2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),f("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),f("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),f("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),f("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),f("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),f("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})),y=f("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),h=f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),m=f("path",{fill:"#9F7373",
d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),_=f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),g=f("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),E=f("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),S=f("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),O=f("path",{d:"M84 66h130v130H84z"}),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={x:new i.default.Value(0),y:new i.default.Value(0)};t._isMounted=!1;t.shouldLoop=function(){return t._isMounted};return t}var n=t.prototype;n.componentDidMount=function(){this._isMounted=!0;var e=this.state,t=e.x,n=e.y;if("Firefox"!==o.default.name){i.default.animate(t,{
loop:!0,toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop});i.default.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop})}};n.componentWillUnmount=function(){this._isMounted=!1};n.render=function(){return f("div",{className:u.default.searchIndexAnimation},void 0,f("div",{className:u.default.searchIndexBackground}),f("svg",{className:u.default.searchIndexForeground,width:"320",height:"280"},void 0,p,f("g",{fill:"none",fillRule:"evenodd"},void 0,f("g",{transform:"translate(120 80)"},void 0,f("mask",{id:"search-index-foreground-mask-b",fill:"#fff"},void 0,f(i.default.use,{style:c(this.state),className:u.default.mask,xlinkHref:"#search-index-foreground-mask-a"})),v),f(i.default.g,{className:u.default.magnifyingGlass,style:c(this.state)},void 0,y,h,m,_,g,E,S,O))))};return t}(a.Component);b.displayName="SearchIndexForeground";var I=b;t.default=I},413542:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=i(n(496486)),o=i(n(235879));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){
for(var t,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];(t=e.call.apply(e,[this].concat(i))||this).ref=r.createRef();t.shouldRenderFrame=!0;t.animate=function(){var e=t.props,n=e.intensity;if(e.isShaking){var r=t.ref.current;if(t.shouldRenderFrame&&null!=r){var i=a.default.random(-n,n,!0),u=a.default.random(-n,n,!0);r.style.transform=o.default.useReducedMotion?"":"translate3d("+i+"px,"+u+"px,0px)"}t.shouldRenderFrame=!t.shouldRenderFrame;t.animationFrame=requestAnimationFrame(t.animate)}};return t}var n=t.prototype;n.componentDidMount=function(){this.props.isShaking&&this.startShaking()};n.componentDidUpdate=function(e){this.props.isShaking!==e.isShaking&&this.setShaking(this.props.isShaking)};n.setShaking=function(e){e?this.startShaking():this.stopShaking()};n.startShaking=function(){this.shouldRenderFrame=!0;this.animationFrame=requestAnimationFrame(this.animate)};n.stopShaking=function(){null!=this.animationFrame&&cancelAnimationFrame(this.animationFrame)
;var e=this.ref.current;null!=e&&(e.style.transform="")};n.render=function(){var e=this.props,t=e.className,n=e.children;return r.createElement("div",{className:t,ref:this.ref},n)};return t}(r.Component);s.displayName="Shaker";s.defaultProps={isShaking:!0,intensity:5};var f=s;t.default=f},427370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.padded,n=void 0===t||t,l=e.inset,s=void 0!==l&&l,d=e.active,c=void 0!==d&&d,p=e.className,v=e.children,y=e.onClick,h=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);if(null!=y){var m;return r.createElement(o.default,f({onClick:y,tabIndex:null!=y?0:-1,className:(0,a.default)(p,(m={},m[i.default.outer]=!s,m[i.default.inset]=s,m[i.default.padded]=n,m[i.default.active]=c,m[i.default.interactive]=null!=y,m))},h),v)}var _;return r.createElement("div",f({className:(0,a.default)(p,(_={},_[i.default.outer]=!s,
_[i.default.inset]=s,_[i.default.padded]=n,_[i.default.active]=c,_))},h),v)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(294184)),o=l(n(16941)),i=l(n(202133)),u=["padded","inset","active","className","children","onClick"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return f.apply(this,arguments)}},118777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MarkerPositions=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=c(n(294184)),u=c(n(496486)),l=c(n(235879)),s=c(n(314234)),f=c(n(730977)),d=c(n(73432));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}t.MarkerPositions=a;!function(e){e[e.ABOVE=0]="ABOVE";e[e.BELOW=1]="BELOW"}(a||(t.MarkerPositions=a={}));function m(e,t){for(var n=0,r=0;r<t.length;r++){var a=t[r];if(e===a)return r;if(e<a)return 0===n||a-e<n?r:r-1;n=e-a}return null}function _(e){var t=e.markers,n=e.initialValue,r=e.minValue,a=e.maxValue,o=e.equidistant,i=[],u=[];if(null==t)return{min:r,max:a,
range:a-r,sortedMarkers:i,markerPositions:u};var l=m(n,i=t.sort((function(e,t){return e-t}))),s=i[0],f=i[i.length-1],d=f-s;if(o){var c=100/(i.length-1);u=i.map((function(e,t){return t*c}))}else{u=i.map((function(e){return 100*(e-s)/d}))}return{min:s,max:f,range:d,sortedMarkers:i,markerPositions:u,closestMarkerIndex:l}}function g(e){return h({value:Math.min(Math.max(e.initialValue,e.minValue),e.maxValue),initialValueProp:e.initialValue,newClosestIndex:null},_(e))}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).containerRef=o.createRef();n.grabberRef=o.createRef();n.moveGrabber=function(e){var t=n.state,r=t.sortedMarkers,a=t.value,o=t.min,i=t.max,l=n.props,s=l.asValueChanges,f=l.onValueChange,d={};if(l.stickToMarkers){var c=r.indexOf(a);if(c<0)return;var p=c+e,v=r[p];if(null==v)return;d.value=v;d.closestMarkerIndex=p;d.newClosestIndex=p}else d.value=u.default.clamp(a+e,o,i)
;n.setState(d);if(d.value!==n.state.value){null==s||s(d.value);null==f||f(d.value)}};n.handleContainerMouseDown=function(e){var t=n.props,r=t.disabled,a=t.maxValue,o=t.minValue,i=t.asValueChanges,u=t.onValueChange,l=t.stickToMarkers,s=n.state,f=s.sortedMarkers,d=s.markerPositions;if(!r){var c=e.clientX,p=e.currentTarget;if(1===(null==p?void 0:p.nodeType)){var v,y=p.getBoundingClientRect(),h=(c-y.left)/y.width;if(l){var m=d.reduce((function(e,t,n){var r=Math.abs(t/100-h);return r<=e.smallestDelta?{smallestDelta:r,nextClosestMarkerIndex:n}:e}),{smallestDelta:1,nextClosestMarkerIndex:-1}).nextClosestMarkerIndex;if(-1===m)return;n.setState({closestMarkerIndex:m});v=f[m]}else{v=o+(a-o)*h;n.setState({value:v});n.handleMouseDown(e)}null!=u&&u(v);null!=i&&i(v)}}};n.handleKeyDown=function(e){var t=n.props,r=t.disabled,a=t.orientation,o=t.keyboardStep,i=void 0===o?1:o;if(!r){var u=e.key,l=[],s=[];switch(a){case"horizontal":l=["ArrowRight"];s=["ArrowLeft"];break;case"vertical":l=["ArrowUp"]
;s=["ArrowDown"];break;default:l=["ArrowRight","ArrowUp"];s=["ArrowLeft","ArrowDown"]}if(s.includes(u)){e.preventDefault();e.stopPropagation();n.moveGrabber(-i)}else if(l.includes(u)){e.preventDefault();e.stopPropagation();n.moveGrabber(i)}}};n.handleMouseDown=function(e){var t,r;if(!n.props.disabled){e.stopPropagation();var a=n.containerRef.current;null==a||null===(t=a.ownerDocument)||void 0===t||t.addEventListener("mousemove",n.handleMouseMove,!0);null==a||null===(r=a.ownerDocument)||void 0===r||r.addEventListener("mouseup",n.handleMouseUp,!0);if(1!==(null==a?void 0:a.nodeType))throw new Error("[UIKit]Slider.handleMouseDown(): assert failed: domNode nodeType !== Element");n.setState({x:e.clientX,active:!0,boundingRect:a.getBoundingClientRect(),newClosestIndex:n.state.closestMarkerIndex})}};n.handleMouseUp=function(e){e.stopPropagation();n.reset();var t=n.props,r=t.onValueChange,a=t.stickToMarkers,o=n.state.newClosestIndex;if(a&&null!=o){null==r||r(n.state.sortedMarkers[o])
;n.setState({newClosestIndex:null,closestMarkerIndex:o})}else null==r||r(n.state.value);n.setState({active:!1})};n.handleMouseMove=function(e){e.preventDefault();n.props.stickToMarkers?n.moveStaggered(e):n.moveSmoothly(e)};n.onFocus=function(){n.setState({focused:!0})};n.onBlur=function(){n.setState({focused:!1})};n.state=h({active:!1,focused:!1},g(t));return n}t.getDerivedStateFromProps=function(e,t){return e.initialValue!==t.initialValueProp?h({},g(e),{active:t.active}):null};var n=t.prototype;n.componentWillUnmount=function(){this.reset()};n.renderMark=function(e){var t=this.props.onMarkerRender;return null!=t?t(e):e};n.render=function(){
var e,t=this,n=this.state,r=n.value,u=n.active,c=n.focused,p=n.sortedMarkers,y=n.markerPositions,m=n.closestMarkerIndex,_=n.newClosestIndex,g=n.min,E=n.max,S=this.props,O=S.disabled,b=S.stickToMarkers,I=S.className,C=S.children,T=S.barStyles,A=S.fillStyles,P=S.mini,M=S.hideBubble,N=S.defaultValue,R=S.orientation,w=S.onValueRender,D=S.renderMarker,L=S.barClassName,j=S.grabberClassName,k=S.grabberStyles,U=void 0===k?{}:k,G=S.markerPosition,F=void 0===G?a.ABOVE:G,x=S["aria-hidden"],V=S["aria-label"],W=S["aria-labelledby"],H=S["aria-describedby"],B=0;b?null!=y&&(null!=_?B=y[_]:null!=m&&(B=y[m])):B=this.scaleValue(r);var z=B+"%",Y=null!=y&&null!=p?y.map((function(e,n){var r,u=p[n],l=null!=N&&N===u,s=t.renderMark(u);return v("div",{className:(0,i.default)(d.default.mark,(r={},r[d.default.defaultValue]=l,r[d.default.markAbove]=F===a.ABOVE,r[d.default.markBelow]=F===a.BELOW,r)),style:{left:e+"%"}},n,null!=D?D(u):o.createElement(o.Fragment,null,v("div",{className:d.default.markValue
},void 0,s),v("div",{className:d.default["markDash"+(null==s?"simple":"")]})))})):null,$=null!=w?w(r):B.toFixed(0)+"%";return v(s.default,{focusTarget:this.containerRef,ringTarget:this.grabberRef},void 0,o.createElement("div",{className:(0,i.default)(d.default.slider,I,(e={},e[d.default.disabled]=O,e[d.default.mini]=P,e)),"aria-valuemin":g,"aria-valuemax":E,"aria-valuenow":r,"aria-disabled":O,"aria-orientation":R,"aria-hidden":x,"aria-label":V,"aria-labelledby":W,"aria-describedby":H,role:"slider",tabIndex:0,onKeyDown:this.handleKeyDown,onMouseDown:this.handleContainerMouseDown,onFocus:this.onFocus,onBlur:this.onBlur,ref:this.containerRef},v("input",{type:"number",className:d.default.input,value:B.toFixed(0),readOnly:!0}),v("div",{className:d.default.track},void 0,Y),v("div",{className:(0,i.default)(d.default.bar,L),style:T},void 0,v("div",{className:d.default.barFill,style:h({},A,{width:z})})),C,v("div",{className:d.default.track},void 0,v(f.default,{color:f.default.Colors.GREY,
hideOnClick:!1,text:M||b?null:$,forceOpen:u||c&&l.default.keyboardModeEnabled},void 0,(function(e){return o.createElement("div",h({},e,{className:(0,i.default)(d.default.grabber,j),style:h({},U,{left:z}),onMouseDown:t.handleMouseDown,ref:t.grabberRef}))})))))};n.reset=function(){var e,t,n,r;null===(e=this.containerRef.current)||void 0===e||null===(t=e.ownerDocument)||void 0===t||t.removeEventListener("mousemove",this.handleMouseMove,!0);null===(n=this.containerRef.current)||void 0===n||null===(r=n.ownerDocument)||void 0===r||r.removeEventListener("mouseup",this.handleMouseUp,!0)};n.scaleValue=function(e){return 100*(e-this.state.min)/this.state.range};n.unscaleValue=function(e){return e*this.state.range/100+this.state.min};n.focus=function(){var e;null===(e=this.containerRef.current)||void 0===e||e.focus()};n.blur=function(){var e;null===(e=this.containerRef.current)||void 0===e||e.blur()};n.moveStaggered=function(e){
var t=this.state,n=t.boundingRect,r=t.x,a=void 0===r?0:r,o=t.closestMarkerIndex,i=t.markerPositions,u=t.sortedMarkers,l=this.props.asValueChanges,s=null!=n?n:{left:NaN,right:NaN},f=s.left,d=s.right;if(!(e.clientX<=f||e.clientX>=d)){var c,p=d-f,v=(e.clientX-a)/p,y=i[o]+100*v;if(this.props.equidistant)c=m(y,i);else{c=m(this.unscaleValue(y),u)}null!=c&&l&&l(u[c]);this.setState({newClosestIndex:c})}};n.moveSmoothly=function(e){var t=this.props,n=t.minValue,r=t.maxValue,a=t.handleSize,o=t.asValueChanges,i=this.state.boundingRect,u=i.left,l=i.right,s=this.state.x-e.clientX,f=(this.state.value-n)/(r-n);if(!(e.clientX<=u&&s<0||e.clientX>=l&&s>0)){var d=l-u-a,c=d*f;f=Math.min(Math.max(c-s,0),d)/d}var p=n+f*(r-n);null==o||o(p);this.setState({value:p,x:e.clientX})};return t}(o.PureComponent);E.displayName="Slider";E.defaultProps={initialValue:10,minValue:0,maxValue:100,keyboardStep:1,handleSize:10,disabled:!1,stickToMarkers:!1,fillStyles:{}};var S=E;t.default=S},409236:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(667294)),o=l(n(496486)),i=f(n(925182)),u=l(n(531198));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){
v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).canvas=a.createRef();t.updateAnimation=function(e){var n=t.canvas.current;if(null!=n){var r=t.props,a=r.data,o=r.updateInterval,u=r.color,l=r.numUpdatesToShow,s=r.lineWidth,f=r.animate,d=r.gradientStopColor;if(!(a.length<2)){var c=Math.max(Math.min((e-t.dataChangedAt)/o,1),0),p=n.getContext("2d"),v=t.maxValue;p.strokeStyle=u;p.lineWidth=s;var y=n.height-p.lineWidth,h=p.createLinearGradient(0,0,0,y);if(null!=d)h.addColorStop(0,d);else{var m=i.hexToRgb(u),_=m.r,g=m.g,E=m.b;h.addColorStop(0,"rgba("+_+", "+g+", "+E+", 0)")}h.addColorStop(1,t.fillColor);p.fillStyle=h;var S=a.length>=l?l:a.length;p.setTransform(1,0,0,-1,0,n.height);p.clearRect(0,0,n.width,n.height)
;p.translate(0,.5*p.lineWidth);var O,b,I=Math.floor(n.width/(S-3)),C=.5*I,T=I-I*c;p.translate(T,0);p.beginPath();var A=-I;a.forEach((function(e,t){O={x:A,y:y*e/v};0===t?p.moveTo(O.x,O.y):p.bezierCurveTo(b.x+C,b.y,O.x-C,O.y,O.x,O.y);b=O;A+=I}));p.stroke();p.lineTo(A-I,0);p.lineTo(0,0);p.fill();f&&c<1&&(t.animationFrameRequestId=window.requestAnimationFrame(t.updateAnimation))}}};return t}var n=t.prototype;n.onDataUpdate=function(e,t){var n=this.props,r=n.maxValue,a=n.data,u=n.animate,l=null==e||e.data!==t.data&&!o.default.isEqual(e.data,t.data);if(l){this.dataChangedAt=performance.now();this.maxValue=null!=r?r:Math.max.apply(Math,c(a))}if(l||null==e||!e.animate&&u||e.color!==this.props.color){var s=i.hexToRgb(this.props.color);this.fillColor="rgba("+s.r+", "+s.g+", "+s.b+", 0.5)";window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}};n.componentDidMount=function(){this.animationFrameRequestId=0
;this.onDataUpdate(null,this.props)};n.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)};n.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=0};n.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,r=e.pixelHeight;return d("div",{className:t},void 0,a.createElement("canvas",{ref:this.canvas,className:u.default.canvas,width:n,height:r}))};return t}(a.PureComponent);y.displayName="SparkChart";y.defaultProps={animate:!0};var h=y;t.default=h},961664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=s(n(294184)),i=s(n(496486)),u=n(770348),l=s(n(995071));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.XSMALL="xsmall"
;e.SMALL="small";e.LARGE="large"}(a||(a={}));var y=function(e){var t=e.className,n=e.percents,r=e.size,s=void 0===r?a.SMALL:r,f=e.foregroundColors,v=void 0===f?[u.Colors.BRAND]:f,y=e.backgroundColor,h=void 0===y?"var(--background-modifier-active)":y,m=e.animate,_=void 0===m||m,g=i.default.zip(n,v).map((function(e,t){var n,r,a=p(e,2),i=a[0],u=a[1];r=Array.isArray(u)?{background:"linear-gradient(to right, "+u[0]+", "+u[1]+")"}:{backgroundColor:u};return d("div",{className:(0,o.default)(l.default.progressBar,l.default[s],(n={},n[l.default.animating]=_,n)),style:c({transform:"translate3d("+(Math.min(Math.max(0,i),100)-100)+"%, 0, 0)"},r)},t)})).reverse();return d("div",{className:(0,o.default)(t,l.default.progress,l.default[s]),style:{backgroundColor:h}},void 0,g)};y.displayName="StackedProgress";y.Sizes=a;var h=y;t.default=h},279950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Error=S;t.default=t.TextInputSizes=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=n(248088),u=v(n(345034)),l=v(n(314234)),s=n(773336),f=v(n(776360)),d=v(n(641501)),c=["transform"],p=["error","className","inputClassName","inputPrefix","disabled","size","editable","inputRef","prefixElement","focusProps"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}var E={DEFAULT:"default",MINI:"mini"};t.TextInputSizes=E;function S(e){var t=e.error,n=(0,i.useTransition)(t,{config:{tension:250,clamp:!0},from:{marginTop:0,height:0,opacity:0,transform:"translate3d(0, -100%, 0)"},enter:{marginTop:4,height:"auto",
opacity:1,transform:"translate3d(0, -0px, 0)"},leave:{marginTop:0,height:0,opacity:0,transform:"translate3d(0, -100%, 0)"}}),r=(0,u.default)(t);return a.createElement(a.Fragment,null,n((function(e,n,a){var o=a.key,u=e.transform,l=g(e,c);return n&&m(i.animated.div,{style:_({},l,{overflow:"hidden"})},o,m(i.animated.div,{style:{transform:u}},void 0,m(f.default,{color:f.default.Colors.ERROR,size:f.default.Sizes.SIZE_12},void 0,t||r)))})))}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).onChange=function(e){var n,r;null===(n=(r=t.props).onChange)||void 0===n||n.call(r,e.currentTarget.value,t.props.name)};t.onFocus=function(e){var n,r;null===(n=(r=t.props).onFocus)||void 0===n||n.call(r,e,t.props.name)};t.onBlur=function(e){var n,r;null===(n=(r=t.props).onBlur)||void 0===n||n.call(r,e,t.props.name)}
;return t}t.prototype.render=function(){var e,t=this.props,n=t.error,r=t.className,i=t.inputClassName,u=t.inputPrefix,f=t.disabled,c=t.size,v=t.editable,y=t.inputRef,h=t.prefixElement,E=t.focusProps,O=g(t,p);return m("div",{className:(0,o.default)(d.default.inputWrapper,r)},void 0,null!=h&&h,u?m("span",{className:d.default.inputPrefix},void 0,u):null,a.createElement(l.default,E,a.createElement("input",_({className:(0,o.default)((0,s.getClass)(d.default,"input",c),i,(e={},e[d.default.error]=n,e[d.default.disabled]=f,e[d.default.editable]=v,e)),disabled:f,readOnly:!1===v||void 0},O,{onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,ref:y}))),m(S,{error:n}))};return t}(a.PureComponent);O.displayName="TextInput";O.Sizes=E;O.defaultProps={name:"",size:E.DEFAULT,disabled:!1,type:"text",placeholder:"",autoFocus:!1,maxLength:999};var b=O;t.default=b},288800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=v(n(550270)),u=v(n(956117)),l=v(n(530250)),s=v(n(463922)),f=n(770348),d=v(n(247001)),c=v(n(959665)),p=v(n(380203));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;null==n||n(e)};return t}var n=t.prototype;n.renderFields=function(){var e=this,t=this.props,n=t.type,r=t.captchaKey,a=t.theme,o=t.onCaptchaVerify;return n===f.VerificationTypes.CAPTCHA?h(s.default,{onVerify:o,theme:a},r):h(u.default,{onClick:function(){return e.handleClick(n)}},void 0,d.default.Messages.START_VERIFICATION_BUTTON)};n.render=function(){return h(l.default,{
className:c.default.verification,align:l.default.Align.CENTER,direction:l.default.Direction.VERTICAL},void 0,h(l.default,{className:c.default.container,direction:l.default.Direction.VERTICAL,align:l.default.Align.CENTER,justify:l.default.Justify.CENTER},void 0,h("div",{className:c.default.image}),h("div",{className:(0,o.default)(c.default.title,p.default.marginTop20)},void 0,d.default.Messages.VERIFICATION_TITLE),h("div",{className:(0,o.default)(c.default.body,p.default.marginTop4,p.default.marginBottom20)},void 0,d.default.Messages.VERIFICATION_BODY.format()),h(l.default,{grow:0,justify:l.default.Justify.CENTER},void 0,this.renderFields())),h("div",{className:(0,o.default)(c.default.footer,p.default.marginTop20)},void 0,d.default.Messages.VERIFICATION_FOOTER),h(l.default,{className:(0,o.default)(p.default.marginTop4,p.default.marginBottom20),grow:0},void 0,h("div",{className:(0,o.default)(c.default.footer,c.default.footerAction)
},void 0,d.default.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:i.default.getSubmitRequestURL()})),h("div",{className:(0,o.default)(c.default.footer,c.default.footerBullet)},void 0,"â€¢"),h("div",{className:(0,o.default)(c.default.footer,c.default.footerAction)},void 0,d.default.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout}))))};return t}(a.PureComponent);_.displayName="Verification";_.defaultProps={type:f.VerificationTypes.CAPTCHA,onCaptchaVerify:f.NOOP,onLogout:f.NOOP};var g=_;t.default=g},974286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.BackgroundTransition=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=p(n(294184)),u=p(n(74854)),l=n(91817),s=p(n(550024)),f=p(n(530250)),d=n(770348),c=p(n(913127));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}function m(e,t){
m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=((r={})[d.ChannelLayouts.NORMAL]=c.default.normal,r[d.ChannelLayouts.MINIMUM]=c.default.minimum,r[d.ChannelLayouts.NO_CHAT]=c.default.noChat,r[d.ChannelLayouts.FULL_SCREEN]=c.default.fullScreen,r),g=function(e){h(t,e);function t(t){var n;(n=e.call(this,t)||this).state={animation:new u.default.Value(0)};return n}var n=t.prototype;n.componentDidAppear=function(){this.state.animation.setValue(1)};n.componentWillEnter=function(e){var t=this.state.animation;t.setValue(0);u.default.spring(t,{toValue:1,overshootClamping:!0}).start(e)};n.componentWillLeave=function(e){u.default.spring(this.state.animation,{toValue:0,overshootClamping:!0}).start(e)};n.render=function(){return y(u.default.div,{className:c.default.videoBackgroundTransition,style:{opacity:this.state.animation}},void 0,this.props.children)};return t}(o.PureComponent);t.BackgroundTransition=g;g.displayName="BackgroundTransition";var E=function(e){
h(t,e);function t(t){var n;(n=e.call(this,t)||this)._timeout=new l.Timeout;n.handleMouseEvent=function(){var e=n.props.layout;if(e===d.ChannelLayouts.FULL_SCREEN||e===d.ChannelLayouts.NO_CHAT){n._timeout.start(3e3,(function(){return n.setState({idle:!0})}));n.state.idle&&n.setState({idle:!1})}};n.state={idle:!1,backgroundAnimation:new u.default.Value(0),layoutProp:t.layout};return n}var n=t.prototype;n.componentDidMount=function(){document.addEventListener("mousedown",this.handleMouseEvent,!0);document.addEventListener("mousemove",this.handleMouseEvent,!0)};n.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseEvent,!0);document.removeEventListener("mousemove",this.handleMouseEvent,!0);this._timeout.stop()};t.getDerivedStateFromProps=function(e,t){return e.layout!==t.layoutProp?t.idle?{idle:!1,layoutProp:e.layout}:{layoutProp:e.layout}:null};n.componentDidUpdate=function(e){this.props.layout!==e.layout&&this._timeout.stop()}
;n.renderBackground=function(){var e=this.props,t=e.background,n=e.backgroundKey,r=e.layout+"-"+(n||"");return y(s.default,{className:c.default.videoBackground,component:"div"},void 0,y(g,{},r,t))};n.renderContents=function(){var e,t,n=this.props,r=n.top,a=n.center,o=n.bottom,u=n.layout,l=n.focused,s=this.state.idle;return y(f.default,{className:(0,i.default)(c.default.video,_[u],(e={},e[c.default.idle]=s,e)),direction:f.default.Direction.VERTICAL,justify:f.default.Justify.CENTER},void 0,y(f.default,{className:c.default.videoWrapper,direction:f.default.Direction.VERTICAL},void 0,this.renderBackground(),y(f.default,{className:(0,i.default)(c.default.videoInner,(t={},t[c.default.focused]=l,t)),direction:f.default.Direction.VERTICAL,justify:f.default.Justify.BETWEEN},void 0,y(f.default,{className:c.default.videoTop,grow:0},void 0,r),y(f.default,{className:c.default.videoCenter},void 0,a),y(f.default,{className:c.default.videoBottom,grow:0},void 0,o))))};n.render=function(){
var e,t=this.props,n=t.layout,r=t.className,a=t.animated;return y("div",{className:(0,i.default)(c.default.videoHeight,_[n],r,(e={},e[c.default.animated]=a,e))},void 0,this.renderContents())};return t}(o.PureComponent);E.displayName="Video";E.defaultProps={layout:d.ChannelLayouts.MINIMUM,animated:!0};var S=E;t.default=S},275189:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=c(n(125478)),i=c(n(492626)),u=c(n(530250)),l=c(n(628551)),s=n(770348),f=c(n(114957)),d=["style","src","backgroundSrc","pulseSpeakingIndicator","speaking"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e){
var t=e.style,n=e.src,r=e.backgroundSrc,c=e.pulseSpeakingIndicator,p=void 0!==c&&c,h=e.speaking,m=void 0!==h&&h,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d),g=null!=r?r:n,E=(0,o.default)(g,s.Colors.PRIMARY_DARK_800);if(null==n)return null;var S=a.createElement(l.default,y({className:f.default.avatarWrapper,src:n},_));return v(u.default,{style:y({},t,{backgroundColor:E}),className:f.default.background,justify:u.default.Justify.CENTER,align:u.default.Align.CENTER},void 0,p?v(i.default,{shouldAnimate:m},void 0,S):S)}h.displayName="VideoBackground";h.AvatarSizes=l.default.Sizes;var m=h;t.default=m},838696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(864345)),u=f(n(974661)),l=f(n(808988)),s=f(n(550542));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=16/9;function y(e,t){return Math.floor((t-e)/(8+e))+1}function h(e,t,n){for(var r=t-e;r>0;){var a=e,o=Math.floor(r/2);if(n(a+=o)){e=a+1;r-=o+1}else r=o}return e}function m(e,t,n){var r,a=Math.floor(t/25),o=t;if(e>25)r=h(a,o,(function(e){var r=y(e,t),a=function(e,t){var n=e/v;return Math.ceil((t-n)/(8+n))+1}(e,n);return r*a>25}));else{r=h(a,o,(function(r){var a=y(r,t),o=function(e,t){var n=e/v;return Math.floor((t-n)/(8+n))+1}(r,n);return a*o>=e}));r-=1}var i=y(r,t),u=function(e,t){return Math.ceil(t/e)}(i,e);return{tileWidth:r,columns:Math.max(1,i),rows:u}}var _=(0,i.default)((function(e){
var t,n=e.width,r=e.height,i=e.className,f=e.children,d=e.keyExtractor,c=e.paddingTop,y=void 0===c?0:c,h=e.paddingBottom,_=void 0===h?0:h,g=null!==(t=null==f?void 0:f.length)&&void 0!==t?t:0,E=n-16,S=r-(y+_),O=a.useMemo((function(){return function(e,t,n){var r=m(e,t,n),a=r.rows,o=r.columns,i=r.tileWidth;return{tileStyle:{width:i},tileWidth:i,rows:a,columns:o}}(g,E,S)}),[g,E,S]),b=O.tileStyle,I=O.tileWidth,C=O.rows,T=O.columns,A=T+1,P=A*I+8*(A-1)<=n,M=Math.floor(I/v)+8,N=Math.max(0,S-M*C)/2;return p(l.default,{fade:!0,className:i,listPadding:[y+N,0,_+N-8,8],renderRow:function(e){var t,n=e*T;return p("div",{className:s.default.row},e,null==f||null===(t=f.slice(n,n+T))||void 0===t?void 0:t.map((function(e,t){var r,a,i=n+t;return p("div",{style:b,className:(0,o.default)(s.default.tile,(a={},a[s.default.padColumn]=P,a[s.default.noVerticalMargin]=i>=(C-1)*T,a[s.default.noHorizontalMargin]=(i+1)%T==0||i===g-1,a))},null!==(r=null==d?void 0:d(i))&&void 0!==r?r:i,p(u.default,{
className:s.default.tileSizer,aspectRatio:v},void 0,e(I)))})))},rowCount:C,rowCountBySection:[C],rowHeight:M})})),g=a.forwardRef((function(e,t){return a.createElement(_,c({ref:t},e))}));t.default=g},971146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.VideoStreamFit=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=d(n(294184)),u=n(773336),l=d(n(974661)),s=d(n(80828)),f=d(n(2329));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}t.VideoStreamFit=a;!function(e){e.CONTAIN="contain";e.COVER="cover"}(a||(t.VideoStreamFit=a={}));var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleReady=function(){n.state.loading&&n.setState({loading:!1})};n.state={loading:!0};return n}var n=t.prototype;n.renderPlaceholder=function(){
var e=this.props.streamPreviewURL,t=null!=e?p("img",{src:e,alt:"",className:f.default.previewImage}):p(l.default,{aspectRatio:16/9,className:f.default.emptyPreviewWrapper},void 0,p("div",{className:f.default.emptyPreview}));return p(o.Fragment,{},void 0,t,p(s.default,{className:f.default.spinner}))};n.render=function(){var e,t,n=this.props,r=n.streamId,a=n.onResize,o=n.wrapperClassName,l=n.videoComponent,s=n.className,d=n.fit,c=n.mirror,v=n.paused,y=this.state.loading;return p("div",{className:(0,i.default)(f.default.wrapper,o)},void 0,null!=r&&p(l,{className:(0,i.default)(f.default.video,(0,u.getClass)(f.default,"video",d),(e={},e[f.default.mirror]=c,e),s),streamId:r,onResize:a,onReady:this.handleReady,paused:v}),v?null:p("div",{className:(0,i.default)(f.default.previewWrapper,(t={},t[f.default.loading]=y,t))},void 0,y&&this.renderPlaceholder()))};return t}(o.PureComponent);y.displayName="VideoStream";y.Fit=a;y.defaultProps={fit:a.CONTAIN,mirror:!1,paused:!1};var h=y;t.default=h},
510596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(667294)),o=l(n(662197)),i=["children","disabled","className","titleClassName","tag","required","style","title","error"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var d=function(e){var t=e.children,n=e.disabled,r=void 0!==n&&n,u=e.className,l=e.titleClassName,d=e.tag,c=void 0===d?o.Tags.H5:d,p=e.required,v=void 0!==p&&p,y=e.style,h=e.title,m=e.error,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,i);return s("div",{className:null!=u?u:void 0,style:null!=y?y:void 0},void 0,null!=h||null!=m?a.createElement(o.default,f({tag:c,disabled:r,required:v,error:m,className:l},_),h):null,t)};d.displayName="FormItem"
;d.Tags=o.Tags;var c=d;t.default=c},811198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground","background"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=e.background,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(v),{width:n,height:a,viewBox:"0 0 24 24"}),f("path",{className:c,fill:d,d:"M21.178 1.70703L22.592 3.12103L4.12103 21.593L2.70703 20.178L21.178 1.70703Z"}),f("path",{className:p,fill:d,
d:"M18 10.5283L10.5287 18H21V17C19.344 17 18 15.657 18 14V10.5283Z"}),f("path",{className:p,fill:d,d:"M8.957 19.5718L9.52877 19H15.4449C14.7519 20.19 13.4759 21 11.9999 21C10.7748 21 9.68752 20.442 8.957 19.5718Z"}),f("path",{className:p,fill:d,d:"M12 3C13.417 3 14.71 3.5 15.734 4.321L5.99805 14.058C5.99805 14.0479 5.99856 14.038 5.99907 14.0283C5.99956 14.0188 6.00005 14.0094 6.00005 14V9C6.00005 5.686 8.68605 3 12 3Z"}))}d.displayName="BellOff"},337322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=f("clipPath",{},void 0,f("path",{d:"m.000183 0h16v16h-16z"}));function c(e){
var t=e.width,n=void 0===t?32:t,r=e.height,a=void 0===r?32:r,l=e.color,c=void 0===l?"currentColor":l,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 16 16",fill:"none"}),d,f("g",{clipPath:"url(#a)"},void 0,f("path",{d:"m7.90039 1c-3.9 0-6.999999 3.1-6.999999 7s3.099999 7 6.999999 7c3.90001 0 7.00001-3.1 7.00001-7s-3.2-7-7.00001-7zm0 2.3c.8 0 1.6.3 2.30001.7l-6.40001 6.4c-.3-.7-.6-1.5-.6-2.4 0-2.6 2.1-4.7 4.7-4.7zm0 9.4c-.9 0-1.7-.3-2.4-.7l6.40001-6.4c.4.7.7 1.5.7 2.4-.1 2.6-2.2 4.7-4.70001 4.7z",fill:c})))}c.displayName="Blocked"},989983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e){return"CloudDone-"+e}var p=f("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,h=e.gradientConfig,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),_=null;null!=h&&(_=a.createElement(o.default,d({},h,{color:v,id:c(h.id)})));return a.createElement("svg",d({},(0,i.default)(m),{width:n,height:l,viewBox:"0 0 24 24"}),f("defs",{},void 0,_),p,f("path",{fill:null!=h?"url(#"+c(h.id)+")":v,className:y,
d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"}))}v.displayName="CloudDone"},635114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e){return"CloudDownload-"+e}var p=f("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,h=e.gradientConfig,m=function(e,t){if(null==e)return{}
;var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),_=null;null!=h&&(_=a.createElement(o.default,d({},h,{color:v,id:c(h.id)})));return a.createElement("svg",d({},(0,i.default)(m),{width:n,height:l,viewBox:"0 0 24 24"}),f("defs",{},void 0,_),p,f("path",{fill:null!=h?"url(#"+c(h.id)+")":v,className:y,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}))}v.displayName="CloudDownload"},809898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function c(e){return"CloudUpload-"+e}var p=f("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,h=e.gradientConfig,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),_=null;null!=h&&(_=a.createElement(o.default,d({},h,{color:v,id:c(h.id)})));return a.createElement("svg",d({},(0,i.default)(m),{width:n,height:l,viewBox:"0 0 24 24"}),f("defs",{},void 0,_),p,f("path",{fill:null!=h?"url(#"+c(h.id)+")":v,className:y,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}))}v.displayName="CloudUpload"},688599:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","strokeWidth","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=e.strokeWidth,p=void 0===c?"1.5":c,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(y),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),f("path",{className:v,stroke:d,strokeWidth:p,strokeLinecap:"round",strokeLinejoin:"round",
d:"M4.25892 16.5936C3.14073 14.7086 2.74913 12.4802 3.15765 10.3269C3.56618 8.17362 4.74672 6.24353 6.47761 4.89906C8.2085 3.55459 10.3707 2.88823 12.5581 3.02511C14.7455 3.16199 16.8077 4.0927 18.3575 5.64247C19.9073 7.19223 20.838 9.25445 20.9749 11.4419C21.1118 13.6293 20.4454 15.7915 19.101 17.5224C17.7565 19.2532 15.8264 20.4338 13.6731 20.8423C11.5198 21.2509 9.29146 20.8593 7.40646 19.7411L7.40648 19.741L4.29805 20.6291C4.16944 20.6659 4.03335 20.6676 3.90387 20.634C3.7744 20.6005 3.65625 20.5329 3.56167 20.4383C3.4671 20.3437 3.39953 20.2256 3.36598 20.0961C3.33243 19.9666 3.33412 19.8306 3.37086 19.7019L4.25898 16.5935L4.25892 16.5936Z"}))}d.displayName="CreateForumPostIcon"},429130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["color","height","width"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.color,n=e.height,r=void 0===n?24:n,a=e.width,l=void 0===a?24:a,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(d),{width:l,height:r,viewBox:"0 0 24 24"}),f("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2929 9.8299L19.9409 9.18278C21.353 7.77064 21.353 5.47197 19.9409 4.05892C18.5287 2.64678 16.2292 2.64678 14.817 4.05892L14.1699 4.70694L19.2929 9.8299ZM12.8962 5.97688L5.18469 13.6906L10.3085 18.813L18.0201 11.0992L12.8962 5.97688ZM4.11851 20.9704L8.75906 19.8112L4.18692 15.239L3.02678 19.8796C2.95028 20.1856 3.04028 20.5105 3.26349 20.7337C3.48669 20.9569 3.8116 21.046 4.11851 20.9704Z",fill:t}))}d.displayName="EditPencilIcon"},877622:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=f("rect",{width:"16",height:"16"});function c(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,width:n,height:a,viewBox:"0 0 16 16"},(0,i.default)(y)),f("g",{fill:"none",fillRule:"evenodd"},void 0,f("path",{className:v,fill:c,
d:"M0,1.99406028 C0,0.892771196 0.894513756,0 1.99406028,0 L14.0059397,0 C15.1072288,0 16,0.894513756 16,1.99406028 L16,14.0059397 C16,15.1072288 15.1054862,16 14.0059397,16 L1.99406028,16 C0.892771196,16 0,15.1054862 0,14.0059397 L0,1.99406028 Z M8.23182341,16 L10.3991764,16 L10.3991764,9.93141161 L12.5663127,9.93141161 L13,7.76405862 L10.3991764,7.76405862 L10.3246195,6.3468265 C10.3246195,5.66107601 10.5049432,5.17342158 11.4698488,5.17342158 L12.974642,5.17385505 L12.974642,3.12202197 C12.7618079,3.09319618 12.3142495,3 11.4644304,3 C9.69001851,3 8.18500859,4.20353112 8.18500859,6.23043964 L8.23182341,7.76405862 L6.06425368,7.76405862 L6.06425368,9.93141161 L8.23182341,9.93141161 L8.23182341,16 Z"}),d))}c.displayName="Facebook"},155084:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?22:t,r=e.height,a=void 0===r?20:r,l=e.color,d=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 22 20"}),f("path",{d:"M19.0013 3.27074L16.8648 1.13516L18 0L22 4L18 8L16.8648 6.86484L19.0013 4.72926H14V3.27074H19.0013Z",fill:d}),f("path",{d:"M13.9829 8.45686C14.4834 8.90823 15.0602 9.2765 15.6918 9.53993C15.1979 10.7194 14.1545 11.6141 12.8834 11.9017C12.8022 11.8683 12.7203 11.8358 12.6378 11.8042C13.3982 10.8786 13.8873 9.72194 13.9829 8.45686Z",fill:d}),f("path",{
d:"M12 8C12 10.205 10.206 12 8 12C5.795 12 4 10.205 4 8C4 5.795 5.794 4 8 4C10.206 4 12 5.795 12 8Z",fill:d}),f("path",{d:"M0 19C0 15.467 3.29 13 8 13C12.711 13 16 15.467 16 19V20H0V19Z",fill:d}),f("path",{d:"M20.0001 20H18.0001V19C18.0001 16.7999 17.0621 14.9067 15.5213 13.5292C18.2697 14.4355 20.0001 16.4373 20.0001 19V20Z",fill:d}))}d.displayName="GoToAudience"},622193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r)}(n(667294));function a(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i=function(e){var t=e.id,n=e.startColor,r=e.stopColor,a=e.color,i=e.stop;return o("linearGradient",{id:t},void 0,o("stop",{offset:"0",stopColor:n}),o("stop",{offset:i,stopColor:r}),o("stop",{offset:i,stopColor:a}),o("stop",{offset:"1",stopColor:a}))};i.displayName="Gradient";var u=i;t.default=u},852546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),f("rect",{className:c,x:"4",y:"4",width:"7",height:"7",rx:"1",fill:d}),f("rect",{className:c,x:"4",y:"13",width:"7",height:"7",rx:"1",fill:d}),f("rect",{className:c,x:"13",y:"4",width:"7",height:"7",rx:"1",fill:d}),f("rect",{className:c,x:"13",y:"13",width:"7",height:"7",rx:"1",fill:d}))}d.displayName="Grid"},670427:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),f("rect",{className:c,x:"3",y:"3",width:"18",height:"10",rx:"1",fill:d}),f("rect",{className:c,x:"3",y:"15",width:"8",height:"6",rx:"1",fill:d}),f("rect",{className:c,x:"13",y:"15",width:"8",height:"6",rx:"1",fill:d
}))}d.displayName="HorizontalVideoLayout"},129321:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),f("path",{fillRule:"evenodd",clipRule:"evenodd",className:c,
d:"M13.2899 2H6C3.79086 2 2 3.79086 2 6V18C2 20.2091 3.79086 22 6 22H18C20.2091 22 22 20.2091 22 18V10.7101C21.3663 10.8987 20.695 11 20 11C16.134 11 13 7.86599 13 4C13 3.30503 13.1013 2.63371 13.2899 2ZM8 6C9.1032 6 10 6.8952 10 8C10 9.1056 9.1032 10 8 10C6.8944 10 6 9.1056 6 8C6 6.8952 6.8944 6 8 6ZM6 18L9 14L11 16L15 11L18 18H6Z",fill:d}),f("path",{d:"M21 0V3H24V5H21V8H19V5H16V3H19V0H21Z",fill:d}))}d.displayName="ImagePlaceholderWithPlusIcon"},908306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{}
;var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),f("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2899 2L6 2C3.79086 2 2 3.79086 2 6V18C2 20.2091 3.79086 22 6 22H18C20.2091 22 22 20.2091 22 18V10.7101C21.3663 10.8987 20.695 11 20 11C16.134 11 13 7.86599 13 4C13 3.30503 13.1013 2.63371 13.2899 2ZM8 6C9.1032 6 10 6.8952 10 8C10 9.1056 9.1032 10 8 10C6.8944 10 6 9.1056 6 8C6 6.8952 6.8944 6 8 6ZM6 18L9 14L11 16L15 11L18 18H6Z",fill:d}),f("path",{d:"M21 0V3H24V5H21V8H19V5H16V3H19V0H21Z",fill:d}))}d.displayName="ImageUpload"},170331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=f("rect",{width:"16",height:"16"});function c(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,xmlns:"http://www.w3.org/2000/svg",width:n,height:a,viewBox:"0 0 16 16"},(0,i.default)(y)),f("g",{fill:"none",fillRule:"evenodd"},void 0,f("path",{className:v,fill:c,
d:"M4.70012698,0.0531746 C3.84888888,0.092 3.2675238,0.22720635 2.7588254,0.42492063 C2.23292063,0.62926983 1.78692063,0.90273016 1.3422857,1.34733333 C0.89768254,1.79196825 0.62422222,2.23796825 0.41987302,2.76387303 C0.22215872,3.27257143 0.08695238,3.85393651 0.04812698,4.7051746 C0.00920635,5.55819048 0,5.83053968 0,8.00253968 C0,10.1745079 0.00920635,10.4468571 0.04812698,11.299873 C0.08695238,12.1511111 0.22215873,12.7324762 0.41987302,13.2411746 C0.62422222,13.7670794 0.89768254,14.2130794 1.34228572,14.6577143 C1.78692062,15.1023175 2.23292062,15.3757778 2.7588254,15.5801587 C3.2675238,15.7778413 3.8488889,15.9130476 4.70012698,15.951873 C5.55314286,15.9907937 5.82549206,16 7.99749206,16 C10.1694603,16 10.4418095,15.9907937 11.2948254,15.951873 C12.1460635,15.9130476 12.7274286,15.7778413 13.236127,15.5801587 C13.7620317,15.3757778 14.2080317,15.1023175 14.6526667,14.6577143 C15.0972698,14.2130794 15.3707302,13.7670794 15.5751111,13.2411746 C15.7727937,12.7324762 15.908,12.1511111 15.9468254,11.299873 C15.985746,10.4468571 15.9949524,10.1745079 15.9949524,8.00253968 C15.9949524,5.83053968 15.985746,5.55819048 15.9468254,4.7051746 C15.908,3.8539365 15.7727937,3.27257143 15.5751111,2.76387302 C15.3707302,2.23796825 15.0972698,1.79196825 14.6526667,1.34733332 C14.2080317,0.90273016 13.7620317,0.62926984 13.236127,0.42492064 C12.7274286,0.22720634 12.1460635,0.092 11.2948254,0.0531746 C10.4418095,0.01425397 10.1694603,0.00504762 7.99749206,0.00504762 C5.82549206,0.00504762 5.55314286,0.01425397 4.70012698,0.0531746 L4.70012698,0.0531746 Z M8.00001453,2.00504762 C9.95416635,2.00504762 10.185649,2.01251386 10.9573741,2.04772432 C11.6709381,2.08026206 12.0584565,2.19948958 12.3163471,2.29971739 C12.6579641,2.43248289 12.9017646,2.59107525 13.157854,2.84719363 C13.4139723,3.10328295 13.5725647,3.34708347 13.7053302,3.68870053 C13.805558,3.94659105 13.9247856,4.33410953 13.9573233,5.04767346 C13.9925338,5.8193986 14,6.05088127 14,8.00506213 C14,9.95921396 13.9925338,10.1906966 13.9573233,10.9624217 C13.9247856,11.6759857 13.805558,12.0635042 13.7053302,12.3213947 C13.5725647,12.6630117 13.4139723,12.9068123 13.157854,13.1629016 C12.9017646,13.41902 12.6579641,13.5776123 12.3163471,13.7103779 C12.0584565,13.8106057 11.6709381,13.9298332 10.9573741,13.9623709 C10.1857652,13.9975814 9.9543116,14.0050476 8.00001453,14.0050476 C6.04568839,14.0050476 5.81426383,13.9975814 5.04262587,13.9623709 C4.32906195,13.9298332 3.94154347,13.8106057 3.68365294,13.7103779 C3.34203588,13.5776123 3.09823536,13.41902 2.84214604,13.1629016 C2.58605671,12.9068123 2.42743531,12.6630117 2.29466977,12.3213947 C2.19444197,12.0635042 2.07521444,11.6759857 2.04267671,10.9624217 C2.00746628,10.1906966 2,9.95921395 2,8.00506212 C2,6.05088125 2.00746625,5.81939858 2.0426767,5.04767347 C2.07521444,4.33410953 2.19444196,3.94659104 2.29466977,3.68870052 C2.42743531,3.34708346 2.58602767,3.10328294 2.84214604,2.84719362 C3.09823536,2.59107524 3.34203588,2.43248288 3.68365294,2.29971735 C3.94154346,2.19948953 4.32906194,2.08026201 5.04262587,2.04772428 C5.81435097,2.01251381 6.04583365,2.00504758 8.00001453,2.00504758 L8.00001453,2.00504762 Z"
}),f("path",{className:v,fill:c,d:"M8.0000119,10 C6.89542535,10 6,9.10457466 6,8.0000119 C6,6.89542535 6.89542534,6 8.0000119,6 C9.10457467,6 10,6.89542534 10,8.0000119 C10,9.10457467 9.10457466,10 8.0000119,10 L8.0000119,10 Z M8.00001546,4 C5.7908468,4 4,5.7908468 4,8.00001546 C4,10.2091532 5.7908468,12 8.00001546,12 C10.2091532,12 12,10.2091532 12,8.00001546 C12,5.7908468 10.2091532,4 8.00001546,4 L8.00001546,4 Z M13,4.00001654 C13,4.55230644 12.5522734,5 11.9999835,5 C11.4477266,5 11,4.55230645 11,4.00001654 C11,3.44772664 11.4477266,3 11.9999835,3 C12.5522734,3 13,3.44772663 13,4.00001654 L13,4.00001654 Z"}),d))}c.displayName="Instagram"},434663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),f("path",{className:c,fill:d,d:"M18 2H7C5.897 2 5 2.898 5 4V11H12.59L10.293 8.708L11.706 7.292L16.414 11.991L11.708 16.706L10.292 15.294L12.582 13H5V20C5 21.103 5.897 22 7 22H18C19.103 22 20 21.103 20 20V4C20 2.898 19.103 2 18 2Z"}))}d.displayName="Logout"},814379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),f("path",{className:c,fill:d,d:"M16,8V3H14V8a2,2,0,0,0,2,2h5V8Z"}),f("path",{className:c,fill:d,d:"M14,16v5h2V16h5V14H16A2,2,0,0,0,14,16Z"}),f("path",{className:c,fill:d,d:"M8,8H3v2H8a2,2,0,0,0,2-2V3H8Z"}),f("path",{className:c,fill:d,d:"M8,14H3v2H8v5h2V16A2,2,0,0,0,8,14Z"}))}d.displayName="MinimizeScreen"},833837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),f("g",{clipPath:"url(#clip0)"},void 0,f("path",{d:"M18.8648 1.13516L21.0013 3.27074H16V4.72926H21.0013L18.8648 6.86484L20 8L24 4L20 0L18.8648 1.13516Z",fill:d}),f("path",{d:"M12 2C12.4342 2 12.8466 2.0917 13.2188 2.25683C13.0759 2.81411 13 3.39819 13 4C13 5.90397 13.7601 7.6304 14.9935 8.89235L14.99 11C14.99 12.66 13.66 14 12 14C10.34 14 9 12.66 9 11V5C9 3.34 10.34 2 12 2Z",fill:d}),f("path",{
d:"M12 16.1C14.76 16.1 17.3 14 17.3 11H19C19 14.42 16.28 17.24 13 17.72V22H11V17.72C7.72 17.23 5 14.41 5 11H6.7C6.7 14 9.24 16.1 12 16.1Z",fill:d})),f("defs",{},void 0,f("clipPath",{id:"clip0"},void 0,f("rect",{width:"24",height:"24",fill:d}))))}d.displayName="MoveToSpeaker"},26285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}),f("path",{className:c,d:"M10.889 4C10.889 3.44772 11.3367 3 11.889 3H12.1112C12.6635 3 13.1112 3.44772 13.1112 4V20C13.1112 20.5523 12.6635 21 12.1112 21H11.889C11.3367 21 10.889 20.5523 10.889 20V4Z",fill:d}),f("path",{className:c,d:"M6.44439 6.25C6.44439 5.69772 6.89211 5.25 7.44439 5.25H7.66661C8.2189 5.25 8.66661 5.69772 8.66661 6.25V17.75C8.66661 18.3023 8.2189 18.75 7.66661 18.75H7.44439C6.89211 18.75 6.44439 18.3023 6.44439 17.75V6.25Z",fill:d}),f("path",{className:c,d:"M3.22222 15.375C3.77451 15.375 4.22222 14.9273 4.22222 14.375L4.22222 9.625C4.22222 9.07272 3.77451 8.625 3.22222 8.625H3C2.44772 8.625 2 9.07272 2 9.625V14.375C2 14.9273 2.44772 15.375 3 15.375H3.22222Z",fill:d}),f("path",{className:c,
d:"M22.0001 13.25C22.0001 13.8023 21.5523 14.25 21.0001 14.25H20.7778C20.2255 14.25 19.7778 13.8023 19.7778 13.25V10.75C19.7778 10.1977 20.2255 9.75 20.7778 9.75H21.0001C21.5523 9.75 22.0001 10.1977 22.0001 10.75V13.25Z",fill:d}),f("path",{className:c,d:"M16.3333 7.5C15.781 7.5 15.3333 7.94772 15.3333 8.5V15.5C15.3333 16.0523 15.781 16.5 16.3333 16.5H16.5555C17.1078 16.5 17.5555 16.0523 17.5555 15.5V8.5C17.5555 7.94772 17.1078 7.5 16.5555 7.5H16.3333Z",fill:d}))}d.displayName="NoiseCancellationActive"},400217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),f("path",{d:"M30.6666 24.9644L35.1111 20.5199V31C35.1111 32.1046 34.2156 33 33.1111 33H32.6666C31.562 33 30.6666 32.1046 30.6666 31V24.9644Z",fill:d}),f("path",{d:"M26.2224 14.1463V8C26.2224 6.89543 25.327 6 24.2224 6H23.7779C22.6734 6 21.7779 6.89543 21.7779 8V18.5907L26.2224 14.1463Z",fill:d}),f("path",{d:"M21.7779 33.8543L21.9254 33.7056L26.2224 29.4086V40C26.2224 41.1046 25.327 42 24.2224 42H23.7779C22.6734 42 21.7779 41.1046 21.7779 40V33.8543Z",fill:d}),f("path",{
d:"M17.3332 23.0354L12.8888 27.4799V12.5C12.8888 11.3954 13.7842 10.5 14.8888 10.5H15.3332C16.4378 10.5 17.3332 11.3954 17.3332 12.5V23.0354Z",fill:d}),f("path",{d:"M8.44445 28.75C8.44445 29.8546 7.54902 30.75 6.44445 30.75H6C4.89543 30.75 4 29.8546 4 28.75V19.25C4 18.1454 4.89543 17.25 6 17.25H6.44445C7.54902 17.25 8.44445 18.1454 8.44445 19.25L8.44445 28.75Z",fill:d}),f("path",{d:"M44.0001 26.5C44.0001 27.6046 43.1047 28.5 42.0001 28.5H41.5557C40.4511 28.5 39.5557 27.6046 39.5557 26.5V21.5C39.5557 20.3954 40.4511 19.5 41.5557 19.5H42.0001C43.1047 19.5 44.0001 20.3954 44.0001 21.5V26.5Z",fill:d}),f("path",{d:"M42 8.54L39.46 6L6 39.46L8.54 42L16.92 33.64L19.38 31.16L22.7 27.84L29.98 20.56L42 8.54Z",fill:d,className:c}))}d.displayName="NoiseCancellationDisabled"},330998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=f("rect",{x:"2",y:"20",width:"26",height:"2",transform:"rotate(-45 2 20)",fill:"#ed4245"});function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,p=e.foreground,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(v),{width:n,height:a,viewBox:"0 0 24 24"}),f("g",{fill:"none",fillRule:"evenodd"},void 0,f("path",{className:p,fill:c,
d:"M8.67872 19H11V21H7V23H17V21H13V19H20C21.103 19 22 18.104 22 17V6C22 5.89841 21.9924 5.79857 21.9777 5.70101L20 7.67872V15H12.6787L8.67872 19ZM13.1496 6H4V15H4.14961L2.00515 17.1445C2.00174 17.0967 2 17.0486 2 17V6C2 4.897 2.897 4 4 4H15.1496L13.1496 6Z"}),d))}c.displayName="OverlayOff"},523356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),f("path",{className:c,fill:d,fillRule:"evenodd",clipRule:"evenodd",d:"M20.2949 0.298996L21.7089 1.713L19.4169 4.006L21.7089 6.299L20.2949 7.713L18.0019 5.42L15.7099 7.713L14.2949 6.299L16.5879 4.006L14.2949 1.713L15.7099 0.298996L18.0019 2.592L20.2949 0.298996ZM8.00195 13.006C10.207 13.006 12.002 11.211 12.002 9.006C12.002 6.801 10.207 5.006 8.00195 5.006C5.79695 5.006 4.00195 6.801 4.00195 9.006C4.00195 11.211 5.79695 13.006 8.00195 13.006ZM8.00195 14.006C3.29095 14.006 0.00195312 16.473 0.00195312 20.006V21.006H16.002V20.006C16.002 16.473 12.713 14.006 8.00195 14.006Z"}))}d.displayName="PersonRemove"},303213:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 60 60"}),f("g",{fill:"none",fillRule:"evenodd"},void 0,f("path",{className:c,fill:d,
d:"M8.95185131,8.62650012 L8.92775494,8.65059649 C3.20486729,14.2891468 -0.0119979765,21.9758886 5.02080018e-05,29.9999795 C-0.0119979765,36.56624 2.14462705,42.9517778 6.13257613,48.1686417 C6.16872068,48.2168345 6.24100979,48.252979 6.28920253,48.2168345 C6.33739527,48.1806899 6.34944345,48.120449 6.32534708,48.0602081 C4.03619202,40.9879237 15.722931,23.8433572 21.7711196,16.6626392 C21.795216,16.6385428 21.8193124,16.6144465 21.8193124,16.5783019 C21.8193124,16.5421573 21.795216,16.5060128 21.7590715,16.4819164 C11.6024519,6.37348961 8.8795622,8.68674104 8.92775494,8.65059649 M51.048208,8.62650012 L51.0723044,8.65059649 C56.795192,14.2770987 60.0000091,21.9758886 59.9879609,29.9999795 C60.0000091,36.56624 57.8433841,42.9517778 53.855435,48.1686417 C53.8192905,48.2168345 53.7470014,48.252979 53.6988086,48.2168345 C53.6506159,48.1806899 53.6506159,48.120449 53.6626641,48.0602081 C55.9518191,40.9879237 44.2650801,23.831309 38.2289397,16.650591 C38.2048433,16.6264946 38.180747,16.6023983 38.180747,16.5662537 C38.180747,16.518061 38.2048433,16.4939646 38.2409879,16.4698682 C48.4096556,6.36144143 51.0964008,8.68674104 51.0602562,8.65059649 M30.0000297,0 C36.0482183,0 41.0361667,1.66264946 45.626525,4.38553917 C45.6867659,4.40963554 45.6988141,4.48192464 45.6747177,4.53011738 C45.6506214,4.57831012 45.5903804,4.5903583 45.5301395,4.57831012 C39.7229146,3.32529893 30.8915953,8.33734369 30.0602706,8.84336744 C30.0361742,8.85541562 30.024126,8.86746381 30.0000297,8.86746381 C29.9759333,8.86746381 29.9518369,8.85541562 29.9397887,8.84336744 C27.7229228,7.56625988 19.5663019,3.28915437 14.4217271,4.61445467 C14.3614862,4.62650286 14.3012452,4.61445467 14.2771489,4.56626193 C14.2530525,4.50602101 14.2771489,4.44578009 14.3253416,4.42168372 C18.9156999,1.66264946 23.9638892,0 30.0000297,0 M30.0000297,24.0602245 C30.0361742,24.0602245 30.0723188,24.0843209 30.0964151,24.1084172 C39.0723126,30.9397379 54.4337479,47.8071962 49.7470041,52.5782773 L49.7590523,52.5662291 L49.7590523,52.5782773 L49.7470041,52.5782773 C44.2771283,57.3734547 37.2650849,60.0120071 30.0000297,59.9999589 C22.7349744,60.0120071 15.7108828,57.3734547 10.2530552,52.5782773 L10.2410071,52.5662291 L10.2530552,52.5782773 C5.56631146,47.8071962 20.9277467,30.9276897 29.9036442,24.1084172 C29.9156924,24.0843209 29.9638851,24.0602245 30.0000297,24.0602245"
})))}d.displayName="PlatformXbox"},311591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),f("path",{className:c,fill:d,d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H19C18.47 16.11 15.72 19.78 12 20.93V12H5V6.3L12 3.19V11.99Z"}))
}d.displayName="PrivacyAndSafety"},924671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}
function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),f("path",{
d:"M21.03 7.76998C20.955 7.60998 20.81 7.48998 20.635 7.44498C20.545 7.41998 20.445 7.39498 20.35 7.36998C19.805 7.22998 19.135 7.56498 18.85 8.11498L17.87 9.99998C17.585 10.55 17.225 10.51 17.07 9.90998L14.895 1.38498C14.74 0.779981 14.14 0.459981 13.55 0.664981C12.96 0.869981 12.595 1.52498 12.725 2.13498L13.995 7.95998C14.13 8.56998 14.075 9.11498 13.875 9.18498C13.675 9.25498 13.35 8.83498 13.15 8.24498L11.05 2.07498C10.85 1.48498 10.21 1.17498 9.62004 1.37998C9.03004 1.58498 8.71504 2.22998 8.91004 2.81998L10.97 8.99998C11.165 9.58998 11.165 10.125 10.965 10.195C10.765 10.265 10.385 9.86498 10.125 9.29998L7.77504 4.29998C7.51004 3.73998 6.82004 3.44498 6.23004 3.64998C5.64504 3.85498 5.37504 4.47498 5.64004 5.03998L8.60004 11.045C8.86004 11.61 8.91004 12.125 8.71004 12.195C8.51004 12.265 8.03004 11.93 7.64004 11.445L5.60504 8.82498C5.21504 8.33998 4.54004 8.07498 4.09504 8.22998C3.65504 8.38498 3.54004 8.94498 3.84504 9.48998L6.34504 13.865C6.40004 14.02 7.85504 16.8 7.96004 16.915C9.00004 18.565 10.645 19.51 12.73 18.79L14.91 18.035C16.145 17.605 17.095 16.735 17.63 15.7C17.64 15.69 20.15 10.205 21.03 8.28498C21.105 8.11498 21.105 7.92998 21.03 7.76998Z",
fill:d}),f("path",{d:"M21.3251 23.4001L19.1101 19.0301C18.8501 18.5201 18.2501 18.2851 17.7151 18.4851L12.3101 20.5101C12.0201 20.6201 11.7851 20.8451 11.6651 21.1351C11.5451 21.4251 11.5551 21.7501 11.6851 22.0301L12.3151 23.3951H21.3251V23.4001Z",fill:d}))}d.displayName="RaisedHand"},496709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),f("g",{clipPath:"url(#clip0)"},void 0,f("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M20.53 7.76998C20.455 7.60998 20.31 7.48998 20.135 7.44498C20.075 7.42832 20.0106 7.41165 19.9462 7.39498L19.85 7.36998C19.305 7.22998 18.635 7.56498 18.35 8.11498L17.37 9.99998C17.085 10.55 16.725 10.51 16.57 9.90998L14.395 1.38498C14.24 0.779981 13.64 0.459981 13.05 0.664981C12.46 0.869981 12.095 1.52498 12.225 2.13498L13.495 7.95998C13.63 8.56998 13.575 9.11498 13.375 9.18498C13.175 9.25498 12.85 8.83498 12.65 8.24498L10.55 2.07498C10.35 1.48498 9.71004 1.17498 9.12004 1.37998C8.53004 1.58498 8.21504 2.22998 8.41004 2.81998L10.47 8.99998C10.665 9.58998 10.665 10.125 10.465 10.195C10.265 10.265 9.88504 9.86498 9.62504 9.29998L7.27504 4.29998C7.01004 3.73998 6.32004 3.44498 5.73004 3.64998C5.14504 3.85498 4.87504 4.47498 5.14004 5.03998L8.10004 11.045C8.36004 11.61 8.41004 12.125 8.21004 12.195C8.01004 12.265 7.53004 11.93 7.14004 11.445L5.10504 8.82498C4.71504 8.33998 4.04004 8.07498 3.59504 8.22998C3.15504 8.38498 3.04004 8.94498 3.34504 9.48998L5.84504 13.865C5.90004 14.02 7.35504 16.8 7.46004 16.915C8.50004 18.565 10.145 19.51 12.23 18.79L12.96 18.5372V15.84C12.96 14.2494 14.2494 12.96 15.84 12.96H18.3887C18.763 12.143 19.1735 11.2467 19.5492 10.4262L19.5592 10.4045L19.5647 10.3926L19.5648 10.3922L19.5702 10.3804L19.581 10.3569C19.9595 9.53048 20.3003 8.78624 20.53 8.28498C20.605 8.11498 20.605 7.92998 20.53 7.76998ZM11.81 20.51L12.96 20.0792V23.395H11.815L11.185 22.03C11.055 21.75 11.045 21.425 11.165 21.135C11.285 20.845 11.52 20.62 11.81 20.51ZM14.4 16.32C14.4 15.2596 15.2596 14.4 16.32 14.4H22.08C23.1404 14.4 24 15.2596 24 16.32V22.08C24 23.1404 23.1404 24 22.08 24H16.32C15.2596 24 14.4 23.1404 14.4 22.08V16.32ZM16.32 16.56H22.08V17.52H16.32V16.56ZM22.08 18.72H16.32V19.68H22.08V18.72ZM16.32 20.88H22.08V21.84H16.32V20.88Z",
fill:d})),f("defs",{},void 0,f("clipPath",{id:"clip0"},void 0,f("rect",{width:"24",height:"24",fill:d}))))}d.displayName="RaisedHandList"},233121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),f("path",{className:c,fill:d,
d:"M13.5605 11L11.2646 8.706L12.6842 7.294L17.4023 12.009L12.6822 16.708L11.2656 15.292L13.5685 13H2C2.50429 18.045 6.7842 22 11.9744 22C17.5025 22 22 17.513 22 12C22 6.487 17.5025 2 11.9744 2C6.7842 2 2.50429 5.954 2 11H13.5605Z"}))}d.displayName="StageLeave"},980351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?32:t,r=e.height,a=void 0===r?32:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{
width:n,height:a,viewBox:"0 0 32 32"}),f("rect",{width:"32",height:"32",rx:"16",fill:d}),f("path",{d:"M23 9.99995C19.56 9.99995 16.826 6.43495 16.799 6.39795C16.421 5.89795 15.579 5.89795 15.201 6.39795C15.174 6.43495 12.44 9.99995 9 9.99995C8.447 9.99995 8 10.4479 8 10.9999V17.9999C8 21.8069 14.764 25.4779 15.534 25.8839C15.68 25.9609 15.84 25.9979 16 25.9979C16.16 25.9979 16.32 25.9599 16.466 25.8839C17.236 25.4779 24 21.8069 24 17.9999V10.9999C24 10.4479 23.553 9.99995 23 9.99995ZM19 19.9999L16 17.9999L13 19.9999L14 16.9999L12 14.9999H15L16 11.9999L17 14.9999H20L18 16.9999L19 19.9999Z",className:c}))}d.displayName="StarBadge"},934297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?14:t,r=e.height,a=void 0===r?14:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 14 14"}),f("path",{fill:d,className:c,
d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"}))}d.displayName="Status"},485308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 16 16"}),f("path",{fill:d,className:c,d:"M2.66663 7.40747H7.40737H8.59255H8.66663H13.3333V8.59266H8.59255H7.40737H2.66663V7.40747Z"}))}d.displayName="Subtract"},12713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?20:t,r=e.height,a=void 0===r?20:r,l=e.color,d=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),f("path",{
d:"M13.4996 0H6.72144C6.62254 1.34004e-06 6.52586 0.0293272 6.44363 0.0842743C6.36141 0.139221 6.29733 0.217322 6.25949 0.308693C6.22165 0.400063 6.21176 0.500602 6.23106 0.597595C6.25037 0.694589 6.298 0.783679 6.36794 0.8536L7.63564 2.1213C7.82317 2.30884 7.92853 2.56319 7.92853 2.8284C7.92853 3.09361 7.82317 3.34796 7.63564 3.5355L6.22144 4.9498C5.65884 5.51241 5.34277 6.27546 5.34277 7.0711C5.34277 7.86674 5.65884 8.62979 6.22144 9.1924C6.40897 9.37993 6.66331 9.48528 6.92853 9.48528C7.19374 9.48528 7.4481 9.37993 7.63564 9.1924L9.75703 7.0711C10.1321 6.69603 10.6408 6.48533 11.1712 6.48533C11.7017 6.48533 12.2104 6.69603 12.5854 7.0711L13.146 7.6317C13.2159 7.70164 13.305 7.74927 13.402 7.76858C13.499 7.78788 13.5996 7.77799 13.6909 7.74015C13.7823 7.70231 13.8604 7.63823 13.9154 7.556C13.9703 7.47377 13.9996 7.37709 13.9996 7.2782V0.5C13.9996 0.367392 13.9469 0.240214 13.8532 0.146446C13.7594 0.052678 13.6322 0 13.4996 0Z",fill:d}),f("path",{
d:"M4.5 17.9999H11.2782C11.3771 17.9999 11.4738 17.9706 11.556 17.9157C11.6382 17.8607 11.7023 17.7826 11.7401 17.6912C11.778 17.5999 11.7879 17.4993 11.7686 17.4023C11.7493 17.3053 11.7016 17.2163 11.6317 17.1463L10.364 15.8786C10.1765 15.6911 10.0711 15.4367 10.0711 15.1715C10.0711 14.9063 10.1765 14.652 10.364 14.4644L11.7782 13.0501C12.3408 12.4875 12.6569 11.7245 12.6569 10.9288C12.6569 10.1332 12.3408 9.37014 11.7782 8.80753C11.5907 8.62 11.3363 8.51465 11.0711 8.51465C10.8059 8.51465 10.5515 8.62 10.364 8.80753L8.2426 10.9288C7.86753 11.3039 7.35883 11.5146 6.8284 11.5146C6.29797 11.5146 5.78927 11.3039 5.4142 10.9288L4.85361 10.3682C4.78369 10.2983 4.69459 10.2507 4.5976 10.2314C4.5006 10.2121 4.40006 10.2219 4.30869 10.2598C4.21731 10.2976 4.13922 10.3617 4.08427 10.4439C4.02933 10.5262 4 10.6228 4 10.7217V17.4999C4 17.6325 4.05269 17.7597 4.14645 17.8535C4.24022 17.9473 4.36739 17.9999 4.5 17.9999Z",fill:d}))}d.displayName="SwitchAccountsIcon"},637853:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=f("rect",{width:"20",height:"16"});function c(e){var t=e.width,n=void 0===t?20:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,width:n,height:a,viewBox:"0 0 20 16"},(0,i.default)(y)),f("g",{fill:"none",fillRule:"evenodd"},void 0,f("path",{className:v,fill:c,
d:"M1,14.1538462 L1.95,14.1538462 C3.73125,14.1538462 5.5125,13.5384615 6.81875,12.4307692 C5.15625,12.4307692 3.73125,11.2 3.1375,9.6 C3.375,9.6 3.6125,9.72307692 3.85,9.72307692 C4.20625,9.72307692 4.5625,9.72307692 4.91875,9.6 C3.1375,9.23076923 1.7125,7.63076923 1.7125,5.66153846 C2.1875,5.90769231 2.78125,6.15384615 3.49375,6.15384615 C2.425,5.41538462 1.83125,4.18461538 1.83125,2.70769231 C1.83125,1.96923077 2.06875,1.23076923 2.30625,0.615384615 C4.20625,3.07692308 7.05625,4.67692308 10.38125,4.8 C10.2625,4.67692308 10.2625,4.30769231 10.2625,4.06153846 C10.2625,1.84615385 12.04375,0 14.18125,0 C15.25,0 16.31875,0.492307692 17.03125,1.23076923 C17.8625,1.10769231 18.8125,0.738461538 19.525,0.246153846 C19.2875,1.23076923 18.575,1.96923077 17.8625,2.46153846 C18.575,2.46153846 19.2875,2.21538462 20,1.84615385 C19.525,2.70769231 18.8125,3.32307692 18.1,3.93846154 L18.1,4.43076923 C18.1,9.84615385 14.18125,16 6.9375,16 C4.68125,16 2.6625,15.3846154 1,14.1538462 Z"}),d))}
c.displayName="Twitter"},298408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}
function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),f("path",{fill:d,
d:"M12 14C7.289 14 4 16.467 4 20V22H20V20C20 16.467 16.711 14 12 14ZM11 19C10.447 19 10 18.553 10 18C10 17.447 10.447 17 11 17C11.553 17 12 17.447 12 18C12 18.553 11.553 19 11 19ZM14 19C13.447 19 13 18.553 13 18C13 17.447 13.447 17 14 17C14.553 17 15 17.447 15 18C15 18.553 14.553 19 14 19Z"}),f("path",{fill:d,d:"M18 6H17.91C17.432 3.167 14.967 1 12 1C9.033 1 6.568 3.167 6.09 6H6C4.896 6 4 6.896 4 8V9C4 10.104 4.896 11 6 11C6 12.102 6.897 13 8 13H16C17.104 13 18 12.102 18 11C19.104 11 20 10.104 20 9V8C20 6.896 19.104 6 18 6ZM16 10H8V6H16V10Z"}))}d.displayName="UnknownUser"},950291:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),f("rect",{className:c,x:"1",y:"4",width:"13",height:"16",rx:"2",fill:d}),f("rect",{className:c,x:"16",y:"4",width:"7",height:"7",rx:"1",fill:d}),f("rect",{className:c,x:"16",y:"13",width:"7",height:"7",rx:"1",fill:d}))}d.displayName="VideoLayout"},251689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=O(n(294184)),i=O(n(441143)),u=O(n(711195)),l=O(n(530250)),s=O(n(160629)),f=O(n(730977)),d=O(n(167870)),c=O(n(259530)),p=O(n(347114)),v=O(n(628551)),y=O(n(550270)),h=O(n(139574)),m=O(n(902060)),_=O(n(683898)),g=n(770348),E=O(n(247001)),S=O(n(110854));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var A=5,P=4,M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];(t=e.call.apply(e,[this].concat(r))||this).renderPartyMember=function(e,n){if(null==e)return null;var r,l=t.props,d=l.host,c=l.renderUserPopout,p=l.onUserContextMenu;r=(null==d?void 0:d.id)===e.id?E.default.Messages.SPOTIFY_LISTEN_ALONG_HOST:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;return I(s.default,{preload:function(){return(0,
u.default)(e.id,e.getAvatarURL(void 0,80))},renderPopout:function(t){(0,i.default)(null!=e,"");return c(t,e)},position:s.default.Positions.TOP,align:s.default.Align.CENTER},e.id,(function(t){return I(f.default,{text:r},void 0,(function(r){var i=r.onMouseEnter,u=r.onMouseLeave;return a.createElement(v.default,C({},t,{key:e.id,src:e.getAvatarURL(void 0,24),size:v.default.Sizes.SIZE_24,className:(0,o.default)(S.default.avatar,n),"aria-label":e.username,onMouseEnter:i,onMouseLeave:u,onContextMenu:function(t){null!=e&&(null==p||p(t,e))}}))}))}))};t.renderPartyMemberOverflow=function(e,n,r){var i=t.props.renderOverflowPopout;return I(s.default,{renderPopout:i},r,(function(t){return I(f.default,{text:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS},void 0,(function(r){return a.createElement("div",C({className:(0,o.default)(S.default.overflow,n)},r,t),e)}))}))};return t}var n=t.prototype;n.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===(null==n?void 0:n.id)}
;n.renderTitle=function(){return I("div",{},void 0,I(_.default,{},void 0,this.isHost()?E.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):E.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER),I(m.default,{},void 0,E.default.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER))};n.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:I(h.default,{tooltipText:E.default.Messages.SPOTIFY_LISTEN_ALONG_STOP,onClick:e,icon:c.default})};n.renderHelpIcon=function(){if(!this.isHost())return null;return I(h.default,{tooltipText:E.default.Messages.SPOTIFY_LISTEN_ALONG_INFO,onClick:function(){window.open(y.default.getArticleURL(g.HelpdeskArticles.SPOTIFY_CONNECTION),"_blank")},icon:p.default})};n.render=function(){return I("div",{className:S.default.listeningAlong},void 0,this.renderTitle(),I(l.default,{justify:l.default.Justify.END,className:S.default.party},void 0,I(d.default,{users:this.props.party,
max:this.isHost()?A:P,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})),I("div",{className:S.default.icons},void 0,this.renderHelpIcon(),this.renderStopListeningButton()))};return t}(a.PureComponent);M.displayName="ListeningAlong";var N=M;t.default=N},57754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=v(n(667294)),i=c(n(294184)),u=c(n(324582)),l=c(n(287317)),s=v(n(272544)),f=n(942675),d=c(n(786588));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}!function(e){e[e.OUTGOING=0]="OUTGOING";e[e.INCOMING=1]="INCOMING"}(a||(a={}));var _=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderStatus=function(){var e=this.props,t=e.muted,n=e.deafen,r=n?u.default:l.default;return t||n?h(r,{className:d.default.status},"status"):null};n.renderBorder=function(){var e,t=this.props.speaking;return h("div",{className:(0,i.default)(d.default.border,(e={},e[d.default.speaking]=t,e))},"border")};n.renderVoiceCallAvatar=function(){var e,t=this.props,n=t.src,r=t.disabled,o=t.ringing,u=t.ringingType,l=t.avatarClassName,c=t.muted,p=t.deafen,v=t.size,y=t.renderIcon,m=(0,f.getAvatarSize)(v),_=h("img",{src:n,alt:" ",className:(0,i.default)(d.default.voiceAvatar,l,(e={},e[d.default.ringingOutgoing]=o&&u===a.OUTGOING,e))});if(r)return _;var g=s.MaskIDs.AVATAR_DEFAULT;null!=y?g=v===f.Sizes.SIZE_32?s.MaskIDs.AVATAR_CALL_ICON_32:s.MaskIDs.AVATAR_CALL_ICON:(c||p)&&(g=s.MaskIDs.AVATAR_VOICE_CALL_80);return h(s.default,{
className:d.default.callAvatarMask,width:m,height:m,mask:g},void 0,null==y?void 0:y(),_,c||p?this.renderStatus():this.renderBorder())};n.render=function(){var e,t=this.props,n=t.size,r=t.onClick,o=t.style,u=t.onContextMenu,l=t.className,s=t.ringingType,c=t.ringing,p=(0,i.default)(d.default.wrapper,((e={})[d.default.clickable]=null!=r,e[d.default.ringingOutgoing]=c&&s===a.OUTGOING,e[d.default.ringingIncoming]=c&&s===a.INCOMING,e),l),v=(0,f.getAvatarSize)(n);return h("div",{style:y({height:v,width:v},o),onContextMenu:u,className:p},void 0,this.renderVoiceCallAvatar())};return t}(o.PureComponent);_.displayName="CallAvatar";_.defaultProps={size:f.Sizes.SIZE_80,ringingType:a.OUTGOING,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,paused:!1};_.RingingType=a;var g=_;t.default=g},540671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPartyMetadata=function(e){return{af_voice_chat:e.voiceChannels.length>0,
af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some((function(e){var t=e.activity;return(0,a.default)(t)})),game_platform:e.currentActivities.length>0?(0,r.default)(e.currentActivities[0].activity):null}};var r=o(n(200738)),a=o(n(93392));function o(e){return e&&e.__esModule?e:{default:e}}},899984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(120053))&&r.__esModule?r:{default:r};function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return o.apply(this,arguments)}var i,u=a.default.defaultRules.lheading,l=a.default.defaultRules.heading,s=a.default.defaultRules.link,f=a.default.defaultRules.image,d=a.default.defaultRules.list,c=a.default.defaultRules.blockQuote,p=a.default.defaultRules.paragraph,v=/\{(.+?)}/,y=/^\$(\w+?)\$/;i=n(222234);var h=function(e){
var t=e.transformUpperCase,n=void 0!==t&&t;return function(e,t,r){var o=v.exec(e[1]),i=e[1].replace(v,"");n&&(i=i.toUpperCase());return{className:null!=o?o[1]:null,level:"="===e[2]?1:2,content:a.default.parseInline(t,i,r)}}},m=function(e){return o({},i.baseRules,{image:o({},f,{},"function"==typeof i.customRules.image?i.customRules.image(e):i.customRules.image),link:o({},s,{},"function"==typeof i.customRules.link?i.customRules.link(e):i.customRules.link),list:o({},d,{},"function"==typeof i.customRules.list?i.customRules.list(e):i.customRules.list),interpolation:{order:a.default.defaultRules.text.order,match:function(e){return y.exec(e)},parse:function(e,t,n){var r=n.interpolations[e[1]];return null==r?{type:"text",content:e[0]}:{type:"interpolation",renderer:r}},react:function(e){return e.renderer()}},lheading:o({},u,{parse:h({transformUpperCase:!0})},"function"==typeof i.customRules.lheading?i.customRules.lheading(e):i.customRules.lheading),
heading:o({},l,{},"function"==typeof i.customRules.heading?i.customRules.heading(e):i.customRules.heading),blockQuote:o({},c,{},"function"==typeof i.customRules.blockQuote?i.customRules.blockQuote(e):i.customRules.blockQuote),paragraph:o({},p,{},"function"==typeof i.customRules.paragraph?i.customRules.paragraph(e):i.customRules.paragraph)})},_={getDefaultRules:function(e){return o({},m(e))},getSpecialRules:function(e){return o({},m(e),{},function(e){return{lheading:o({},u,{parse:h({transformUpperCase:!1})},"function"==typeof i.customRules.lheading?i.customRules.lheading(e):i.customRules.lheading)}}(e))}};t.default=_},303763:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.RowTypes=void 0;t.generateRowsForQuery=function(e,t,n,r,a){var o=new Set,v=[],y={numFriends:0,numDms:0,numGroupDms:0};if(""===e){if(null!=n)for(var m,g=h(n);!(m=g()).done;){var E=m.value;if(null!=r&&r>0&&v.length>=r)break;if(!t.has(E)){var S=f.default.getUser(E)
;if(!(null==S||null!=a&&u.default.isMember(a,S.id))){o.add(S.id);v.push({type:_.FRIEND,item:S,isSuggested:!0});y.numFriends++}}}for(var O,b=h(d.default.getPrivateChannelIds());!(O=b()).done;){var I=O.value;if(null!=r&&r>0&&v.length>=r)break;var C=i.default.getChannel(I);if(null!=C)if(C.type!==p.ChannelTypes.GROUP_DM){if(null!=l.default.lastMessageId(C.id)){var T=C.getRecipientId();if(null!=T&&!t.has(T)&&!o.has(T)){var A=f.default.getUser(T);if(null==A||A.bot||null!=a&&u.default.isMember(a,A.id))continue;o.add(A.id);v.push({type:_.DM,item:A,isSuggested:!1});y.numDms++}}}else{v.push({type:_.GROUP_DM,item:C,isSuggested:!1});y.numGroupDms++}}for(var P,M=h(s.default.getFriendIDs());!(P=M()).done;){var N=P.value;if(null!=r&&r>0&&v.length>=r)break;if(!t.has(N)&&!o.has(N)){var R=f.default.getUser(N);if(!(null==R||null!=a&&u.default.isMember(a,R.id))){v.push({type:_.FRIEND,item:R,isSuggested:!1});y.numFriends++}}}}else{c.default.queryDMUsers(e,50,!1).forEach((function(e){var n=e.user
;if(!t.has(n.id)){var r=i.default.getDMFromUserId(n.id);if(null!=r){if(null!=l.default.lastMessageId(r)){o.add(n.id);v.push({type:_.DM,item:n,isSuggested:!1});y.numDms++}}}}));c.default.queryGroupDMs(e,50,!1).forEach((function(e){var t=e.channel;v.push({type:_.GROUP_DM,item:t,isSuggested:!1});y.numGroupDms++}));c.default.queryFriends(e,500,!1).forEach((function(e){var n=e.user;if(!t.has(n.id)&&!o.has(n.id)){v.push({type:_.FRIEND,item:n,isSuggested:!1});y.numFriends++}}))}return{rows:v,counts:y}};t.getMostRecentDMedUser=function(e,t){for(var n,r=h(d.default.getPrivateChannelIds());!(n=r()).done;){var a=n.value,o=i.default.getChannel(a);if(null!=o&&o.type===p.ChannelTypes.DM&&null!=l.default.lastMessageId(o.id)){var s=o.getRecipientId();if(null!=s&&!e.has(s)){var c=f.default.getUser(s);if(null==c||c.bot||null!=t&&u.default.isMember(t,c.id))continue;return c}}}return null};t.maxAgeString=function(e,t){var n=parseInt(t,10),r=0===n,a=b[e].value;switch(b[e].type){case g:
return r?v.default.Messages.INVITE_EXPIRES_MINUTES:v.default.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({numUses:n});case E:return r?v.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:a}):v.default.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:a,numUses:n});case S:return r?v.default.Messages.INVITE_EXPIRES_DAYS_PLURAL.format({numDays:a}):v.default.Messages.INVITE_EXPIRES_DAYS_OR_USES_PLURAL.format({numDays:a,numUses:n});case O:return r?v.default.Messages.INVITE_EXPIRES_NEVER:v.default.Messages.INVITE_EXPIRES_USES.format({numUses:n});default:return""}};t.urgentShareMessageString=function(e,t){if(null==e)return v.default.Messages.INVITE_MESSAGE_PLACEHOLDER.format({link:t});var n=b[e].value;switch(b[e].type){case g:return v.default.Messages.INVITE_URGENT_MINUTES_PLACEHOLDER.format({numMinutes:n,link:t});case E:return v.default.Messages.INVITE_URGENT_HOURS_MESSAGE_PLACEHOLDER.format({numHours:n,link:t});case S:
return v.default.Messages.INVITE_URGENT_DAYS_MESSAGE_PLACEHOLDER.format({numDays:n,link:t});default:return v.default.Messages.INVITE_MESSAGE_PLACEHOLDER.format({link:t})}};var r,a,o=y(n(213192)),i=y(n(644263)),u=y(n(876874)),l=y(n(191391)),s=y(n(290629)),f=y(n(728429)),d=y(n(417501)),c=y(n(424956)),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}a=n(990054);var _=(0,o.default)({GROUP_DM:null,DM:null,FRIEND:null});t.RowTypes=_;var g="minutes",E="hours",S="days",O="never",b=((r={})[a.INVITE_OPTIONS_30_MINUTES.value]={value:30,type:g},r[a.INVITE_OPTIONS_1_HOUR.value]={value:1,type:E},r[a.INVITE_OPTIONS_6_HOURS.value]={value:6,type:E},r[a.INVITE_OPTIONS_12_HOURS.value]={value:12,type:E},r[a.INVITE_OPTIONS_1_DAY.value]={value:1,type:S},r[a.INVITE_OPTIONS_7_DAYS.value]={value:7,type:S},r[a.INVITE_OPTIONS_FOREVER.value]={value:0,type:O},r);var I={getMaxAgeOptions:a.MAX_AGE_OPTIONS,getMaxUsesOptions:a.MAX_USES_OPTIONS,INVITE_OPTIONS_FOREVER:a.INVITE_OPTIONS_FOREVER,INVITE_OPTIONS_1_DAY:a.INVITE_OPTIONS_1_DAY,INVITE_OPTIONS_7_DAYS:a.INVITE_OPTIONS_7_DAYS,
INVITE_OPTIONS_12_HOURS:a.INVITE_OPTIONS_12_HOURS,INVITE_OPTIONS_6_HOURS:a.INVITE_OPTIONS_6_HOURS,INVITE_OPTIONS_1_HOUR:a.INVITE_OPTIONS_1_HOUR,INVITE_OPTIONS_30_MINUTES:a.INVITE_OPTIONS_30_MINUTES,INVITE_OPTIONS_UNLIMITED:a.INVITE_OPTIONS_UNLIMITED,INVITE_OPTIONS_ONCE:a.INVITE_OPTIONS_ONCE,INVITE_OPTIONS_5_TIMES:a.INVITE_OPTIONS_5_TIMES,INVITE_OPTIONS_10_TIMES:a.INVITE_OPTIONS_10_TIMES,INVITE_OPTIONS_25_TIMES:a.INVITE_OPTIONS_25_TIMES,INVITE_OPTIONS_50_TIMES:a.INVITE_OPTIONS_50_TIMES,INVITE_OPTIONS_100_TIMES:a.INVITE_OPTIONS_100_TIMES};t.default=I},86997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.resolveThunk=t.default=void 0;var r,a=(r=n(496486))&&r.__esModule?r:{default:r};var o=function(e){return"function"==typeof e?e():e};t.resolveThunk=o;var i=a.default.curry((function(e,t,n){return o(t)?e(n):n({})}));t.default=i},262045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.doLineSegmentsIntersect=r
;t.doesLineSegmentIntersectRectangle=function(e,t,n){var a={x:n.x,y:n.y},o={x:n.x+n.width,y:n.y},i={x:n.x,y:n.y+n.height},u={x:n.x+n.width,y:n.y+n.height};return r(e,t,a,o)||r(e,t,o,u)||r(e,t,u,i)||r(e,t,i,a)};t.extendLineSegment=function(e,t,n){var r=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));return{x:t.x+(t.x-e.x)/r*n,y:t.y+(t.y-e.y)/r*n}};function n(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function r(e,t,r,a){return n(e,r,a)!==n(t,r,a)&&n(e,t,r)!==n(e,t,a)}},40856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=c(n(496486)),i=c(n(728429)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(86997)),l=["promiseFn","resolve","reject","code","mfaCodeHandler","isModalOpen"],s=["hooks"],f=["checkEnabled"];function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}var y=function(){throw new Error("updateModal has not been implemented.")},h=n(546331);r=h.showModal;y=h.updateModalProps;a=n(194322).closeModal;function m(){var e,t;return null!==(e=null===(t=i.default.getCurrentUser())||void 0===t?void 0:t.mfaEnabled)&&void 0!==e&&e}
function _(e){var t=e.promiseFn,n=e.resolve,o=e.reject,i=e.confirmModalProps,u=e.hooks.onEarlyClose;if(null!=r)var l=r(c,s,i);else u();function s(){null==u||u()}function f(e){a(l);n(e)}function d(e){a(l);o(e)}function c(e){y(l,c,s,v({},i,{isLoading:!0}));return g({promiseFn:t,resolve:f,reject:d,code:e,mfaCodeHandler:p,isModalOpen:!0})}function p(e){var t=e.res;y(l,c,s,v({},i,{error:t.body.message}))}}function g(e){var t=e.promiseFn,n=e.resolve,r=e.reject,a=e.code,o=e.mfaCodeHandler,i=void 0===o?_:o,u=e.isModalOpen,s=void 0!==u&&u,f=p(e,l);return t(null!=a?{code:a}:{}).then(n,(function(e){if(function(e,t){return e.body&&60008===e.body.code||t&&429===e.status}(e,s))return i(v({promiseFn:t,resolve:n,reject:r,res:e},f));r(e)}))}var E=o.default.curry((function(e,t,n){void 0===n&&(n={});var r=n,a=r.checkEnabled,o=void 0===a?m:a;return function(e,t){var n=e.hooks,r=void 0===n?{}:n,a=p(e,s);return(0,u.default)((function(e){return new Promise((function(n,o){((0,u.resolveThunk)(t)?_:g)(v({
promiseFn:e,resolve:n,reject:o,hooks:r},a))}))}),!0)}(v({confirmModalProps:e},p(r,f)),o)(t)}),2);t.default=E},951530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRecipients=function(e,t){return(0,a.default)(e).map(t.getUser).unshift(t.getCurrentUser()).filter(o.isNotNullish).sortBy((function(e){return e.username.toLowerCase()})).value()};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(71246)},522731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showAcceptedNotification=function(e){d(e,s.default.Messages.NOTIFICATION_ACCEPTED_FRIEND_REQUEST,(function(){r.default.openPrivateChannel(e.id)}))};t.showPendingNotification=function(e){d(e,s.default.Messages.NOTIFICATION_PENDING_FRIEND_REQUEST,(function(){(0,n(910992).openUserProfileModal)({userId:e.id});(0,i.transitionTo)(l.Routes.FRIENDS);a.default.setSection(l.FriendsSections.PENDING)}))}
;var r=f(n(709403)),a=f(n(99694)),o=f(n(969226)),i=n(139982),u=f(n(692711)),l=n(770348),s=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){o.default.showNotification(u.default.getUserAvatarURL(e),e.username,t,{tag:e.id,onClick:n})}},222234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.customRules=t.baseRules=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(120053)),u=p(n(241165)),l=p(n(226800)),s=p(n(268389)),f=p(n(151097)),d=p(n(308920)),c=n(770348);function p(e){return e&&e.__esModule?e:{
default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return
;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=i.default.defaultRules.link,E={section:c.AnalyticsSections.SETTINGS_CHANGELOG};function S(e,t){return null==t?[]:t.split(" ").map((function(t){return e[t]}))}var O=function(e){var t=e.level,n=e.children,r=e.className,i=void 0===r?null:r,u=e.styleSheet,l=void 0===u?{}:u;return a.createElement("h"+t,{className:o.default.apply(void 0,m(S(l,i)))},n)},b=s.default.defaultRules;t.baseRules=b;var I={link:{parse:function(e,t,n){
var r,a=e[2],o=a.startsWith("https://discordapp.com/nitro")||a.startsWith("https://discord.com/nitro"),i=a.startsWith("https://discordapp.com/hypesquad")||a.startsWith("https://discord.com/hypesquad");r=o||i?function(e){d.default.track(c.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:E});o?l.default.open(c.UserSettingsSections.PREMIUM):i&&l.default.open(c.UserSettingsSections.HYPESQUAD_ONLINE);n.changeLog.track(c.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"nitro"});u.default.hideChangeLog();e.preventDefault()}:function(){n&&"function"==typeof n.onLinkClick&&n.onLinkClick(a);n.changeLog.track(c.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,h({},d.default.getCampaignParams(a)))};return h({},g.parse(e,t,n),{callToAction:r})},react:function(e,t,n){return y(f.default,{href:i.default.sanitizeUrl(e.target),title:e.title,onClick:e.callToAction,target:"_blank",className:e.callToAction?"cta":void 0},n.key,t(e.content,n))}},lheading:function(e){return{react:function(t,n,r){return y(O,{
level:t.level,className:t.className,styleSheet:e},r.key,n(t.content,r))}}},heading:{react:function(e,t,n){return y(O,{level:e.level},n.key,t(e.content,n))}},image:{react:function(e,t,r){var a=n(478717)("./"+e.target);return y("img",{alt:e.alt,src:a},r.key)}},blockQuote:{react:b.blockQuote.react},paragraph:{react:function(e,t,n){return y("p",{},n.key,t(e.content,n))}}};t.customRules=I},990054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_USES_OPTIONS=t.MAX_AGE_OPTIONS=t.INVITE_OPTIONS_UNLIMITED=t.INVITE_OPTIONS_ONCE=t.INVITE_OPTIONS_FOREVER=t.INVITE_OPTIONS_7_DAYS=t.INVITE_OPTIONS_6_HOURS=t.INVITE_OPTIONS_5_TIMES=t.INVITE_OPTIONS_50_TIMES=t.INVITE_OPTIONS_30_MINUTES=t.INVITE_OPTIONS_25_TIMES=t.INVITE_OPTIONS_1_HOUR=t.INVITE_OPTIONS_1_DAY=t.INVITE_OPTIONS_12_HOURS=t.INVITE_OPTIONS_10_TIMES=t.INVITE_OPTIONS_100_TIMES=void 0;var r,a=(r=n(247001))&&r.__esModule?r:{default:r};function o(e,t){return{value:e,get label(){return t()}}}var i=o(0,(function(){
return a.default.Messages.MAX_USES.format({maxUses:0})}));t.INVITE_OPTIONS_UNLIMITED=i;var u=o(1,(function(){return a.default.Messages.MAX_USES.format({maxUses:1})}));t.INVITE_OPTIONS_ONCE=u;var l=o(5,(function(){return a.default.Messages.MAX_USES.format({maxUses:5})}));t.INVITE_OPTIONS_5_TIMES=l;var s=o(10,(function(){return a.default.Messages.MAX_USES.format({maxUses:10})}));t.INVITE_OPTIONS_10_TIMES=s;var f=o(25,(function(){return a.default.Messages.MAX_USES.format({maxUses:25})}));t.INVITE_OPTIONS_25_TIMES=f;var d=o(50,(function(){return a.default.Messages.MAX_USES.format({maxUses:50})}));t.INVITE_OPTIONS_50_TIMES=d;var c=o(100,(function(){return a.default.Messages.MAX_USES.format({maxUses:100})}));t.INVITE_OPTIONS_100_TIMES=c;var p=[i,u,l,s,f,d,c];t.MAX_USES_OPTIONS=p;var v=o(1800,(function(){return a.default.Messages.DURATION_MINUTES.format({minutes:30})}));t.INVITE_OPTIONS_30_MINUTES=v;var y=o(3600,(function(){return a.default.Messages.DURATION_HOURS.format({hours:1})}))
;t.INVITE_OPTIONS_1_HOUR=y;var h=o(21600,(function(){return a.default.Messages.DURATION_HOURS.format({hours:6})}));t.INVITE_OPTIONS_6_HOURS=h;var m=o(43200,(function(){return a.default.Messages.DURATION_HOURS.format({hours:12})}));t.INVITE_OPTIONS_12_HOURS=m;var _=o(86400,(function(){return a.default.Messages.DURATION_DAYS.format({days:1})}));t.INVITE_OPTIONS_1_DAY=_;var g=o(604800,(function(){return a.default.Messages.DURATION_DAYS.format({days:7})}));t.INVITE_OPTIONS_7_DAYS=g;var E=o(0,(function(){return a.default.Messages.MAX_AGE_NEVER}));t.INVITE_OPTIONS_FOREVER=E;var S=[v,y,h,m,_,g,E];t.MAX_AGE_OPTIONS=S},546331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showModal=function(e,t,n){return(0,i.openModal)(s(e,t,n))};t.updateModalProps=function(e,t,n,r){return(0,i.updateModal)(e,s(t,n,r))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(410671))&&r.__esModule?r:{default:r},i=n(194322);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=function(e,t,n){return function(r){return a.createElement(o.default,l({handleSubmit:e,handleEarlyClose:t},n,r))}}},229354:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=function(){function e(e,t){this._capacity=e;this._tokenCount=e;this._queue=[]
;this._intervalPeriod=t/e;this._intervalID=null}var t=e.prototype;t._processQueue=function(){var e=this;setTimeout((function(){if(e._queue.length>0&&e._tokenCount>0){e._tokenCount--;null==e._intervalID&&(e._intervalID=setInterval((function(){return e._iterate()}),e._intervalPeriod));var t=e._queue.shift();null==t||t();e._processQueue()}}),0)};t._iterate=function(){this._tokenCount=Math.min(this._capacity,this._tokenCount+1);if(this._tokenCount>=this._capacity&&null!=this._intervalID){clearInterval(this._intervalID);this._intervalID=null}this._processQueue()};t.process=function(){var e=this;return new Promise((function(t){e._queue.push(t);e._processQueue()}))};return e}();t.default=n},479049:(e,t)=>{var n,r;r=function(e){"use strict";e=e||{};var t,n,r,a,o,i,u,l,s,f,d,c,p,v,y,h,m={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1,dataUrl:!1,win:window};(p={}).ff="undefined"!=typeof InstallTrigger
;p.chrome=!!window.chrome;p.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0;p.ie=!1;p.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;p.supported=p.chrome||p.ff||p.opera;var _=[];d=function(){};l=c=!1;var g={ready:function(){l=!0;g.reset();d()},reset:function(){if(l){_=[];s=!1;f=!1;i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);b.setIcon(o);window.clearTimeout(v);window.clearTimeout(y)}},start:function(){if(l&&!f&&_.length>0){f=!0;var e=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach((function(e){e in _[0].options&&(t[e]=_[0].options[e])}));T.run(_[0].options,(function(){!function(){s=_[0];f=!1;if(_.length>0){_.shift();g.start()}}()}),!1)};s?T.run(s.options,(function(){e()}),!0):e()}}},E={},S=function(e){e.n="number"==typeof e.n?Math.abs(0|e.n):e.n;e.x=a*e.x;e.y=r*e.y;e.w=a*e.w;e.h=r*e.h;e.len=(""+e.n).length;return e};E.circle=function(e){var n=!1;if(2===(e=S(e)).len){e.x=e.x-.4*e.w;e.w=1.4*e.w;n=!0
}else if(e.len>=3){e.x=e.x-.65*e.w;e.w=1.65*e.w;n=!0}i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);i.beginPath();i.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.85:1))+"px "+t.fontFamily;i.textAlign="center";if(n){i.moveTo(e.x+e.w/2,e.y);i.lineTo(e.x+e.w-e.h/2,e.y);i.quadraticCurveTo(e.x+e.w,e.y,e.x+e.w,e.y+e.h/2);i.lineTo(e.x+e.w,e.y+e.h-e.h/2);i.quadraticCurveTo(e.x+e.w,e.y+e.h,e.x+e.w-e.h/2,e.y+e.h);i.lineTo(e.x+e.h/2,e.y+e.h);i.quadraticCurveTo(e.x,e.y+e.h,e.x,e.y+e.h-e.h/2);i.lineTo(e.x,e.y+e.h/2);i.quadraticCurveTo(e.x,e.y,e.x+e.h/2,e.y)}else i.arc(e.x+e.w/2,e.y+e.h/2,e.h/2,0,2*Math.PI);i.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")";i.fill();i.closePath();i.beginPath();i.stroke();i.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")";"number"==typeof e.n&&e.n>999?i.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):i.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h))
;i.closePath()};E.rectangle=function(e){if(2===(e=S(e)).len){e.x=e.x-.4*e.w;e.w=1.4*e.w}else if(e.len>=3){e.x=e.x-.65*e.w;e.w=1.65*e.w}i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);i.beginPath();i.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.9:1))+"px "+t.fontFamily;i.textAlign="center";i.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")";i.fillRect(e.x,e.y,e.w,e.h);i.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")";"number"==typeof e.n&&e.n>999?i.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):i.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h));i.closePath()};function O(e){if(e.paused||e.ended||c)return!1;try{i.clearRect(0,0,a,r);i.drawImage(e,0,0,a,r)}catch(e){}y=setTimeout((function(){O(e)}),T.duration);b.setIcon(o)}var b={getIcon:function(){var e=!1
;if(t.element)e=t.element;else if(t.elementId)(e=h.getElementById(t.elementId)).setAttribute("href",e.getAttribute("src"));else{e=function(){for(var e=h.getElementsByTagName("head")[0].getElementsByTagName("link"),t=e.length-1;t>=0;t--)if(/(^|\s)icon(\s|$)/i.test(e[t].getAttribute("rel")))return e[t];return!1}();if(!1===e){(e=h.createElement("link")).setAttribute("rel","icon");h.getElementsByTagName("head")[0].appendChild(e)}}e.setAttribute("type","image/png");return e},setIcon:function(e){var r=e.toDataURL("image/png");t.dataUrl&&t.dataUrl(r);if(t.element){t.element.setAttribute("href",r);t.element.setAttribute("src",r)}else if(t.elementId){var a=h.getElementById(t.elementId);a.setAttribute("href",r);a.setAttribute("src",r)}else if(p.ff||p.opera){var o=n;n=h.createElement("link");p.opera&&n.setAttribute("rel","icon");n.setAttribute("rel","icon");n.setAttribute("type","image/png");h.getElementsByTagName("head")[0].appendChild(n);n.setAttribute("href",r)
;o.parentNode&&o.parentNode.removeChild(o)}else n.setAttribute("href",r)}};function I(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return!!t&&{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}function C(e,t){var n,r={};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r}var T={duration:40,types:{}};T.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0
},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}];T.run=function(e,n,r,a){var i=T.types[h.hidden||h.msHidden||h.webkitHidden||h.mozHidden?"none":t.animation];a=!0===r?void 0!==a?a:i.length-1:void 0!==a?a:0;n=n||function(){};if(a<i.length&&a>=0){E[t.type](C(e,i[a]));v=setTimeout((function(){r?a-=1:a+=1;T.run(e,n,r,a)}),T.duration);b.setIcon(o)}else n()};!function(){(t=C(m,e)).bgColor=I(t.bgColor);t.textColor=I(t.textColor);t.position=t.position.toLowerCase();t.animation=T.types[""+t.animation]?t.animation:m.animation;h=t.win.document;var l=t.position.indexOf("up")>-1,s=t.position.indexOf("left")>-1
;if(l||s)for(var f=0;f<T.types[""+t.animation].length;f++){var d=T.types[""+t.animation][f];l&&(d.y<.6?d.y=d.y-.4:d.y=d.y-2*d.y+(1-d.w));s&&(d.x<.6?d.x=d.x-.4:d.x=d.x-2*d.x+(1-d.h));T.types[""+t.animation][f]=d}t.type=E[""+t.type]?t.type:m.type;n=b.getIcon();o=document.createElement("canvas");u=document.createElement("img");if(n.hasAttribute("href")){u.setAttribute("crossOrigin","anonymous");u.onload=function(){r=u.height>0?u.height:32;a=u.width>0?u.width:32;o.height=r;o.width=a;i=o.getContext("2d");g.ready()};u.setAttribute("src",n.getAttribute("href"))}else{u.onload=function(){r=32;a=32;u.height=r;u.width=a;o.height=r;o.width=a;i=o.getContext("2d");g.ready()};u.setAttribute("src","")}}();return{badge:function(e,t){t=("string"==typeof t?{animation:t}:t)||{};d=function(){try{if("number"==typeof e?e>0:""!==e){var n={type:"badge",options:{n:e}};"animation"in t&&T.types[""+t.animation]&&(n.options.animation=""+t.animation);"type"in t&&E[""+t.type]&&(n.options.type=""+t.type)
;["bgColor","textColor"].forEach((function(e){e in t&&(n.options[e]=I(t[e]))}));["fontStyle","fontFamily"].forEach((function(e){e in t&&(n.options[e]=t[e])}));_.push(n);if(_.length>100)throw new Error("Too many badges requests in queue.");g.start()}else g.reset()}catch(e){throw new Error("Error setting badge. Message: "+e.message)}};l&&d()},video:function(e){d=function(){try{if("stop"===e){c=!0;g.reset();c=!1;return}e.addEventListener("play",(function(){O(this)}),!1)}catch(e){throw new Error("Error setting video. Message: "+e.message)}};l&&d()},image:function(e){d=function(){try{var t=e.width,n=e.height,u=document.createElement("img"),l=t/a<n/r?t/a:n/r;u.setAttribute("crossOrigin","anonymous");u.onload=function(){i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);b.setIcon(o)};u.setAttribute("src",e.getAttribute("src"));u.height=n/l;u.width=t/l}catch(e){throw new Error("Error setting image. Message: "+e.message)}};l&&d()},webcam:function(e){if(!window.URL||!window.URL.createObjectURL){
window.URL=window.URL||{};window.URL.createObjectURL=function(e){return e}}if(p.supported){var t=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia;d=function(){try{if("stop"===e){c=!0;g.reset();c=!1;return}(t=document.createElement("video")).width=a;t.height=r;navigator.getUserMedia({video:!0,audio:!1},(function(e){t.src=URL.createObjectURL(e);t.play();O(t)}),(function(){}))}catch(e){throw new Error("Error setting webcam. Message: "+e.message)}};l&&d()}},reset:g.reset,browser:{supported:p.supported}}},void 0!==(n=function(){return r}.apply(t,[]))&&(e.exports=n)},145911:(e,t,n)=>{e.exports=n.p+"e92599c3548209f77ec833c649f8939a.svg"},697694:(e,t,n)=>{e.exports=n.p+"87f8416faec0691b96525d0bb3027809.svg"},684795:(e,t,n)=>{e.exports=n.p+"dca6464b06c48b1fab5f2e8320446b32.mp4"},662325:(e,t,n)=>{e.exports=n.p+"ae046b62e28bb1ec1fbdde8185d32b9e.mp4"},15176:(e,t,n)=>{
e.exports=n.p+"19ee7a767639c0af819b5976b493e9d8.png"},788557:(e,t,n)=>{e.exports=n.p+"230cd026d4bfdeb914b266938cc506a1.jpg"},22625:(e,t,n)=>{e.exports=n.p+"7f34e6e3da7d1403bad96e20b9b3a32c.mp4"},603628:(e,t,n)=>{e.exports=n.p+"7c2b742b0f9040988b4bb4e351fdedb9.mp4"},879334:(e,t,n)=>{e.exports=n.p+"7f73b3e68d81916d67cc58a3deeca567.mp4"},133650:(e,t,n)=>{e.exports=n.p+"abaa70ae2be9f361759c60b2ee85ff12.png"},631896:(e,t,n)=>{e.exports=n.p+"3522a06815d204da075ffda2431ef7f2.png"},931806:(e,t,n)=>{e.exports=n.p+"9acacf43b5dddb33196fa60a4a6c6b2f.jpg"},425058:(e,t,n)=>{e.exports=n.p+"d6a1cc0cb7f729ae421d609d72839816.mp4"},428915:(e,t,n)=>{e.exports=n.p+"1b9af825f3ccd5ffdf9580e338d4e5e7.png"},561323:(e,t,n)=>{e.exports=n.p+"bb867095876d3f6d81cc12e745ee9f58.png"},949223:(e,t,n)=>{e.exports=n.p+"8a5c84a9635d7e691e9276ff7ddfab31.svg"},412466:(e,t,n)=>{e.exports=n.p+"6b1abb79089f84d154f8a248dfb90b46.svg"},226586:(e,t,n)=>{e.exports=n.p+"0251a4f9294a3617de380fe28c486932.svg"},373135:(e,t,n)=>{
e.exports=n.p+"fbef95afb1a9c8cf52e941375c360491.svg"},361850:(e,t,n)=>{e.exports=n.p+"06d8e21539e634cbc0f2ecf38f1bb2bb.svg"},15808:(e,t,n)=>{e.exports=n.p+"fe875f7f2f0c4869d155e7e487f570f2.png"},227227:(e,t,n)=>{e.exports=n.p+"7f9b927507a1c9321da58ab0fafffcd0.png"},999455:(e,t,n)=>{e.exports=n.p+"1c3ba8528a8f16c8cf0c55e286010420.png"},678811:(e,t,n)=>{e.exports=n.p+"831ba24f72b89cc77c325317372b7239.png"},236340:(e,t,n)=>{e.exports=n.p+"3785e11ebe8fdcd64db5bb49f2e5299d.png"},359546:(e,t,n)=>{e.exports=n.p+"506bf478f5e1a271a27b673e6f25749a.png"},35448:(e,t,n)=>{e.exports=n.p+"07d9032e5d30865e0cc076396f0b027a.png"},404252:(e,t,n)=>{e.exports=n.p+"9d402086959fccbf418074a4b96f6d19.jpg"},123451:(e,t,n)=>{e.exports=n.p+"9f65387c814dd4cb5aff4e4e1e7e0446.svg"},16697:(e,t,n)=>{e.exports=n.p+"ed2007aab2da31a5436e70a28b4d59f9.svg"},105045:(e,t,n)=>{e.exports=n.p+"7ad95b56788fc31c3e5eec667129ba68.svg"},128112:(e,t,n)=>{e.exports=n.p+"9ae90b4dd4d7e4ddd9c8935dae4e87c4.svg"},876406:(e,t,n)=>{
e.exports=n.p+"a92681efceabc4ee91964a7cef2571cf.svg"},937849:(e,t,n)=>{e.exports=n.p+"96ad9c7f6f636a7fb2028e2a07847776.svg"},772144:(e,t,n)=>{e.exports=n.p+"ef3a1ed683cfcf029971b12a26462072.svg"},492623:(e,t,n)=>{e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},399898:(e,t,n)=>{e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},74700:(e,t,n)=>{e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},607603:(e,t,n)=>{e.exports=n.p+"02625ee29f851ec588c2020a88d82665.svg"},376354:(e,t,n)=>{e.exports=n.p+"b36de980b174d7b798c89f35c116e5c6.svg"},688224:(e,t,n)=>{e.exports=n.p+"fd879a28807b66b38d54e7db6ea18a69.svg"},96972:(e,t,n)=>{e.exports=n.p+"b36c705f790dad253981f1893085015a.svg"},540579:(e,t,n)=>{e.exports=n.p+"36c9a2fb7d0593a581a92373121c2848.svg"},947079:(e,t,n)=>{e.exports=n.p+"3fba9b3d08682f3ce0344e289fe668cb.svg"},96446:(e,t,n)=>{e.exports=n.p+"3b076f0988ebd746a2566e93f3d96fcb.svg"},961565:(e,t,n)=>{e.exports=n.p+"50f98223ba5e447f9b9368ec3965232c.svg"},389515:(e,t,n)=>{
e.exports=n.p+"816e71b3225c71bc105db7209fb4b796.svg"},785538:(e,t,n)=>{e.exports=n.p+"7866fb01d8b75b6fe9e6591373a0ddf2.svg"},534413:(e,t,n)=>{e.exports=n.p+"e73889dfe6cc46c9161dd9c1d19cc5ca.svg"},182105:(e,t,n)=>{e.exports=n.p+"109dff8689b0dcedc5485a0b26c647f2.svg"},727869:(e,t,n)=>{e.exports=n.p+"5e690f4c63a19a36bff7f6364eaa6ea2.svg"},10439:(e,t,n)=>{e.exports=n.p+"fda43f574092d89177a4412046f51c44.svg"},755645:(e,t,n)=>{e.exports=n.p+"6f35b2fc488e26dc1d56b253d01c7b75.svg"},928793:(e,t,n)=>{e.exports=n.p+"99c599a00313a16fa4babba64d461f34.svg"},324752:(e,t,n)=>{e.exports=n.p+"6ac195d9605dfb0719e73f002fad38a8.svg"},655916:(e,t,n)=>{e.exports=n.p+"c998fecc59ff94fe8e8e7f3557586c07.svg"},315879:(e,t,n)=>{e.exports=n.p+"255b326a18a4f8a078c90e6c35f6013b.svg"},80210:(e,t,n)=>{e.exports=n.p+"3ed9c7cdbea131bc485afa998a5ec93e.svg"},333993:(e,t,n)=>{e.exports=n.p+"1a23068e966efce6fb32ca9fecc65eed.svg"},987601:(e,t,n)=>{e.exports=n.p+"d61d4aa409613f4dcfb6163ef0d739de.svg"},192941:(e,t,n)=>{
e.exports=n.p+"0d16e62fc3a84fc7e76b06584b646df9.svg"},232353:(e,t,n)=>{e.exports=n.p+"acb954ff414b98380056308d56efcbfd.svg"},802566:(e,t,n)=>{e.exports=n.p+"16770cd8548bce331bed7218db02fb4f.svg"},319927:(e,t,n)=>{e.exports=n.p+"779000e162efdb2fc8b14280e336ba02.svg"},484771:(e,t,n)=>{e.exports=n.p+"7de1e682a4fbf1483ad81f3872e5a9b2.png"},393270:(e,t,n)=>{e.exports=n.p+"3928af68d4d1bc83af46a3159f126a66.svg"},746932:(e,t,n)=>{e.exports=n.p+"ed28635ce7d107f1a8b04379d009dd41.svg"},946137:(e,t,n)=>{e.exports=n.p+"a8007d2ecb3aec65119698bff7052451.svg"},692760:(e,t,n)=>{e.exports=n.p+"a50c50c963aab21b5c3d58e7fd06664e.svg"},698242:(e,t,n)=>{e.exports=n.p+"f3767d455e70dcdd1c8a3102e42c6d34.svg"},483683:(e,t,n)=>{e.exports=n.p+"72db7a1fbe5d3c861fe63c26f634b5d2.svg"},63685:(e,t,n)=>{e.exports=n.p+"a4e25b25c89b862150e6eeb520e67dd5.svg"},634737:(e,t,n)=>{e.exports=n.p+"8d224aa39e763dff664f330fdadeda3e.svg"},557152:(e,t,n)=>{e.exports=n.p+"d160451ebc1c401c479353b3f32bfbba.svg"},705206:(e,t,n)=>{
e.exports=n.p+"984b386302bacf7fb81985ab31c5beec.png"},255359:(e,t,n)=>{e.exports=n.p+"2466a28ab8ed658362042f10eb50f9c9.png"},162478:(e,t,n)=>{e.exports=n.p+"d814379acce96753a1e33220f692be28.png"},989823:(e,t,n)=>{e.exports=n.p+"838e63f498f009d41b30afd76bb07964.png"},140561:(e,t,n)=>{e.exports=n.p+"eeacc28d3c62a7cf1154a2bc11968ad8.svg"},237018:(e,t,n)=>{e.exports=n.p+"6ac195d9605dfb0719e73f002fad38a8.svg"},31890:(e,t,n)=>{e.exports=n.p+"c23a59030cd2583c8b8ae0e85bc99737.svg"},222917:(e,t,n)=>{e.exports=n.p+"ec499e7dcc451566caeda997fa9265db.svg"},153996:(e,t,n)=>{e.exports=n.p+"e3da44ce48e0ff29426d0cfb99c2580c.svg"},470661:e=>{"use strict";e.exports=function(e){var a,o;if((e=String(e).toLowerCase()).length<3)return e;if(e.charCodeAt(0)===t){a=!0;e="Y"+e.substr(1)}E.test(e)?e=e.substr(0,e.length-2):g.test(e)&&(e=e.substr(0,e.length-1));if(o=_.exec(e))u.test(o[1])&&(e=e.substr(0,e.length-1));else if((o=h.exec(e))&&f.test(o[1])){e=o[1]
;m.test(e)?e+="e":S.test(e)?e=e.substr(0,e.length-1):d.test(e)&&(e+="e")}(o=v.exec(e))&&f.test(o[1])&&(e=o[1]+"i");(o=O.exec(e))&&u.test(o[1])&&(e=o[1]+n[o[2]]);(o=b.exec(e))&&u.test(o[1])&&(e=o[1]+r[o[2]]);(o=I.exec(e))?s.test(o[1])&&(e=o[1]):(o=y.exec(e))&&s.test(o[1])&&(e=o[1]);(o=p.exec(e))&&(s.test(o[1])||l.test(o[1])&&!d.test(o[1]))&&(e=o[1]);c.test(e)&&s.test(e)&&(e=e.substr(0,e.length-1));a&&(e="y"+e.substr(1));return e};var t="y".charCodeAt(0),n={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},r={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""
},a="[aeiouy]",o="([^aeiou][^aeiouy]*)",i="([aeiouy][aeiou]*)",u=new RegExp("^([^aeiou][^aeiouy]*)?"+i+o),l=new RegExp("^([^aeiou][^aeiouy]*)?"+i+o+i+"?$"),s=new RegExp("^([^aeiou][^aeiouy]*)?("+i+o+"){2,}"),f=new RegExp("^([^aeiou][^aeiouy]*)?"+a),d=new RegExp("^"+o+a+"[^aeiouwxy]$"),c=/ll$/,p=/^(.+?)e$/,v=/^(.+?)y$/,y=/^(.+?(s|t))(ion)$/,h=/^(.+?)(ed|ing)$/,m=/(at|bl|iz)$/,_=/^(.+?)eed$/,g=/^.+?[^s]s$/,E=/^.+?(ss|i)es$/,S=/([^aeiouylsz])\1$/,O=new RegExp("^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$"),b=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,I=new RegExp("^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$")}}]);
//# sourceMappingURL=690d5322cad200fc253d.js.map