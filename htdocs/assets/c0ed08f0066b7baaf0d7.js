"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[52389],{186705:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},i=n(770348);var o={clearDraft:function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.DRAFT_CLEAR,channelId:e,draftType:t})},saveDraft:function(e,t,n){a.default.dirtyDispatch({type:i.ActionTypes.DRAFT_SAVE,channelId:e,draft:t,draftType:n})},changeDraft:function(e,t,n){a.default.dirtyDispatch({type:i.ActionTypes.DRAFT_CHANGE,channelId:e,draft:t,draftType:n})},changeThreadSettings:function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.THREAD_SETTINGS_DRAFT_CHANGE,channelId:e,draft:t})}};t.default=o},536487:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.getApplicationDiscoveryCommands=t.clearGuildDiscoveryCommands=void 0;t.getApplicationGuildCommandPermissions=function(e,t,n){
return i.default.get(c.Endpoints.APPLICATION_BOT_GUILD_COMMAND_PERMISSIONS(e,t,n))};t.listApplicationGuildCommands=function(e,t,n,r,a,i){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_QUERY_LIST_REQUEST,applicationId:e,guildId:t,limit:n,commandType:r,nonce:a,scope:i})};t.performAutocomplete=function(e,t,n){var a;(0,r.default)(null!=t.autocomplete,"Missing autocomplete context");var p=t.autocomplete,f=p.query,A=p.name;if(null!=d.default.getAutocompleteChoices(t.channel.id,f))return;var m=s.default.fromTimestamp(Date.now());o.default.dirtyDispatch({type:"APPLICATION_COMMAND_AUTOCOMPLETE_REQUEST",nonce:m,channelId:t.channel.id,query:f,name:A});i.default.post({url:c.Endpoints.INTERACTIONS,body:{type:u.InteractionTypes.APPLICATION_COMMAND_AUTOCOMPLETE,application_id:e.applicationId,guild_id:null===(a=t.guild)||void 0===a?void 0:a.id,channel_id:t.channel.id,session_id:l.default.getSessionId(),data:n,nonce:m},timeout:3e3}).catch((function(){o.default.dirtyDispatch({
type:"INTERACTION_FAILURE",nonce:m})}))};t.queryDmApplicationCommands=function(e,t){return m.apply(this,arguments)};t.queryGuildApplications=t.queryGuildApplicationCommands=void 0;t.setActiveCommand=function(e,t){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_SET_ACTIVE_COMMAND,channelId:e,command:t})};t.setPreferredCommandId=function(e,t){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_SET_PREFERRED_COMMAND,channelId:e,commandId:t})};t.updateApplicationGuildCommandPermissions=function(e,t,n,r){return i.default.put({body:{permissions:r},url:c.Endpoints.APPLICATION_BOT_GUILD_COMMAND_PERMISSIONS(e,t,n)})};t.updateChannelState=function(e,t,n,r){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_UPDATE_CHANNEL_STATE,channelId:e,command:t,preferredCommandId:n,changedOptionStates:r})};t.updateOptionStates=function(e,t){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_UPDATE_OPTIONS,channelId:e,changedOptionStates:t})}
;t.updatePreferredCommandOptionValue=function(e,t){o.default.dispatch({type:c.ActionTypes.APPLICATION_COMMAND_UPDATE_PREFERRED_OPTION_VALUE,option:e,value:t})};var r=p(n(441143)),a=p(n(496486)),i=p(n(118915)),o=p(n(636602)),u=n(81069),l=p(n(423046)),s=p(n(71636)),d=p(n(373265)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){f(i,r,a,o,u,"next",e)}function u(e){f(i,r,a,o,u,"throw",e)}o(void 0)}))}}function m(){return(m=A(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return i.default.get(c.Endpoints.APPLICATION_BOT_COMMANDS(t));case 2:(r=e.sent).ok&&o.default.dirtyDispatch({type:c.ActionTypes.DM_APPLICATION_COMMANDS_UPDATE,botUserId:t,
applicationCommands:r.body,commandType:n});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=a.default.debounce((function(e,t,n,r,a){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_QUERY_REQUEST,guildId:e,query:t,limit:n,nonce:s.default.fromTimestamp(Date.now()),includeApplications:a,commandType:r})}),250,{leading:!0,trailing:!0,maxWait:750});t.queryGuildApplicationCommands=_;t.queryGuildApplications=function(e,t,n,r){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATIONS_REQUEST,guildId:e,nonce:s.default.fromTimestamp(Date.now()),commandLimit:t,commandType:n,commandIds:r})};t.getApplicationDiscoveryCommands=function(e,t,n,r,a,i,u){o.default.dirtyDispatch({type:c.ActionTypes.APPLICATION_COMMAND_DISCOVERY_REQUEST,guildId:e,offset:t,limit:n,isBefore:r,commandType:i,applications:a,jumpDescriptor:u,nonce:s.default.fromTimestamp(Date.now())})};t.clearGuildDiscoveryCommands=function(){o.default.dirtyDispatch({
type:c.ActionTypes.CLEAR_GUILD_DISCOVERY_COMMANDS})}},373265:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),i=s(n(636602)),o=s(n(211136)),u=s(n(572935)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var p=new Map,f=new Map;function A(e){if(!f.has(e)){var t;f.set(e,{commandId:null===(t=u.default.getActiveCommand(e))||void 0===t?void 0:t.id,optionName:u.default.getActiveOptionName(e),autocompleteQueries:new Map,autocompleteLastResults:new Map,optionNameToNonce:new Map,lastErrored:!1})}return f.get(e)}function m(){p.clear();f.clear();return!0}var _=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e=this;u.default.addChangeListener((function(){var t,n=o.default.getChannelId();if(null!=n){var r=null===(t=u.default.getActiveCommand(n))||void 0===t?void 0:t.id,a=u.default.getActiveOptionName(n),i=f.get(n);if(null!=i&&(r!==i.commandId||a!==i.optionName)){if(null!=r&&r!==i.commandId){i.autocompleteLastResults.clear();i.optionNameToNonce.clear()}i.autocompleteQueries.clear();i.lastErrored=!1;i.commandId=r;i.optionName=a;e.emitChange()}}else m()}))};n.getLastErrored=function(e){return A(e).lastErrored};n.getAutocompleteChoices=function(e,t){return A(e).autocompleteQueries.get(t)};n.getAutocompleteLastChoices=function(e,t){return A(e).autocompleteLastResults.get(t)};return t}(a.default.Store))(i.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=m,r[l.ActionTypes.LOGOUT]=m,r[l.ActionTypes.CHANNEL_SELECT]=m,
r[l.ActionTypes.APPLICATION_COMMAND_AUTOCOMPLETE_REQUEST]=function(e){var t=e.nonce,n=e.channelId,r=e.query,a=e.name,i=A(n),o=i.optionNameToNonce.get(a);o&&p.delete(o);p.set(t,{channelId:n,query:r,name:a});i.optionNameToNonce.set(a,t);if(i.lastErrored){i.lastErrored=!1;return!0}},r[l.ActionTypes.APPLICATION_COMMAND_AUTOCOMPLETE_RESPONSE]=function(e){var t,n=e.choices,r=e.nonce,a=p.get(r);if(null==a)return!1;p.delete(r);var i=null!==(t=null==n?void 0:n.map((function(e){var t;return c({},e,{displayName:null!==(t=e.name_localized)&&void 0!==t?t:e.name})})))&&void 0!==t?t:[],o=A(a.channelId);o.lastErrored=!1;o.autocompleteQueries.set(a.query,i);o.autocompleteLastResults.set(a.name,i);return!0},r[l.ActionTypes.INTERACTION_FAILURE]=function(e){var t=e.nonce;if(null==t)return!1;var n=p.get(t);if(null==n)return!1;p.delete(t);A(n.channelId).lastErrored=!0;return!0},r));t.default=_},481414:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0})
;t.getBuiltInCommands=t.BUILT_IN_SECTIONS=t.BUILT_IN_COMMANDS_ORIGINAL=t.BUILT_IN_COMMANDS=void 0;var r,a=N(n(441143)),i=N(n(730381)),o=N(n(616213)),u=N(n(709403)),l=N(n(415275)),s=N(n(786345)),d=n(81069),c=n(506309),p=N(n(614293)),f=N(n(887174)),A=n(819235),m=n(894826),_=N(n(644263)),T=N(n(689389)),I=N(n(663303)),E=N(n(728429)),y=n(65621),O=n(484278),v=n(770348),C=n(397769),M=N(n(247001));function N(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){g(i,r,a,o,u,"next",e)}function u(e){g(i,r,a,o,u,"throw",e)}o(void 0)}))}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=n(258938).Z,R=function(e,t){var n;return null===(n=e.find((function(e){return e.name===t})))||void 0===n?void 0:n.value
},P=((r={})[O.BuiltInSectionId.BUILT_IN]={id:O.BuiltInSectionId.BUILT_IN,type:y.ApplicationCommandSectionType.BUILT_IN,get name(){return M.default.Messages.COMMAND_SECTION_BUILT_IN_NAME}},r[O.BuiltInSectionId.FRECENCY]={id:O.BuiltInSectionId.FRECENCY,type:y.ApplicationCommandSectionType.BUILT_IN,get name(){return M.default.Messages.FREQUENTLY_USED}},r);t.BUILT_IN_SECTIONS=P;var b,L=[].concat(function(e){if(Array.isArray(e))return S(e)}(b=h)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(b)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(b)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{id:"-1",name:"shrug",displayName:"shrug",type:d.ApplicationCommandType.CHAT,inputType:y.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_SHRUG_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_SHRUG_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_SHRUG_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_SHRUG_MESSAGE_DESCRIPTION}}],execute:function(e){var t;return{content:((null!==(t=R(e,"message"))&&void 0!==t?t:"")+" ¯\\_(ツ)_/¯").trim()}}},{id:"-2",name:"tableflip",displayName:"tableflip",type:d.ApplicationCommandType.CHAT,inputType:y.ApplicationCommandInputType.BUILT_IN_TEXT,
applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_TABLEFLIP_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TABLEFLIP_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_TABLEFLIP_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TABLEFLIP_MESSAGE_DESCRIPTION}}],execute:function(e){var t;return{content:((null!==(t=R(e,"message"))&&void 0!==t?t:"")+" (╯°□°）╯︵ ┻━┻").trim()}}},{id:"-3",name:"unflip",displayName:"unflip",type:d.ApplicationCommandType.CHAT,inputType:y.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_TABLEUNFLIP_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TABLEUNFLIP_DESCRIPTION},options:[{name:"message",displayName:"message",
type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_TABLEUNFLIP_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TABLEUNFLIP_MESSAGE_DESCRIPTION}}],execute:function(e){var t;return{content:((null!==(t=R(e,"message"))&&void 0!==t?t:"")+" ┬─┬ ノ( ゜-゜ノ)").trim()}}},{id:"-4",name:"tts",displayName:"tts",type:d.ApplicationCommandType.CHAT,inputType:y.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_TTS_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TTS_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_TTS_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TTS_MESSAGE_DESCRIPTION},required:!0}],predicate:function(e){var t=e.channel
;return!t.isPrivate()&&m.EnableTTSCommand.getSetting()&&T.default.can(v.Permissions.SEND_TTS_MESSAGES,t)},execute:function(e){var t;return{content:null!==(t=R(e,"message"))&&void 0!==t?t:"",tts:!0}}},{id:"-5",name:"me",displayName:"me",type:d.ApplicationCommandType.CHAT,inputType:y.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_ME_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_ME_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_ME_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_ME_MESSAGE_DESCRIPTION},required:!0}],execute:function(e){var t;return{content:"_"+(null!==(t=R(e,"message"))&&void 0!==t?t:"")+"_"}}},{id:"-6",name:"spoiler",displayName:"spoiler",type:d.ApplicationCommandType.CHAT,
inputType:y.ApplicationCommandInputType.BUILT_IN_TEXT,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_SPOILER_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_SPOILER_DESCRIPTION},options:[{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_SPOILER_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_SPOILER_MESSAGE_DESCRIPTION},required:!0}],execute:function(e){var t,n=null!==(t=R(e,"message"))&&void 0!==t?t:"";return{content:(0,v.MARKDOWN_SPOILER_WRAPPER)(n).trim()}}},{id:"-7",name:"nick",displayName:"nick",type:d.ApplicationCommandType.CHAT,inputType:y.ApplicationCommandInputType.BUILT_IN,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_NICK_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_NICK_DESCRIPTION},options:[{name:"new_nick",
displayName:"new_nick",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_NICK_NEWNICK_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_NICK_NEWNICK_DESCRIPTION}}],predicate:function(e){var t=e.channel;return!t.isPrivate()&&(T.default.can(v.Permissions.CHANGE_NICKNAME,t)||T.default.can(v.Permissions.MANAGE_NICKNAMES,t))},execute:function(e,t){var n,r=t.guild,a=t.channel;if(null!=r){var i=null!==(n=R(e,"new_nick"))&&void 0!==n?n:"";o.default.changeNickname(r.id,a.id,v.ME,i||"")}}},{id:"-10",name:"thread",displayName:"thread",type:d.ApplicationCommandType.CHAT,inputType:y.ApplicationCommandInputType.BUILT_IN,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_THREAD_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_THREAD_DESCRIPTION},options:[{name:"name",displayName:"name",type:d.ApplicationCommandOptionType.STRING,get description(){
return M.default.Messages.COMMAND_THREAD_NAME_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_THREAD_NAME_DESCRIPTION},required:!0},{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_THREAD_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_THREAD_MESSAGE_DESCRIPTION},required:!0}],predicate:function(e){var t=e.channel;return(0,A.computeCanStartPublicThread)(t)},execute:function(e,t){var n,r,a=t.guild,i=t.channel,o=null!==(n=R(e,"name"))&&void 0!==n?n:"",u=null!==(r=R(e,"message"))&&void 0!==r?r:"";f.default.createThreadAndMessage(o,u,i,a,"Slash Command")}},{id:"-11",name:"kick",displayName:"kick",type:d.ApplicationCommandType.CHAT,inputType:y.ApplicationCommandInputType.BUILT_IN,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_KICK_DESCRIPTION},get displayDescription(){
return M.default.Messages.COMMAND_KICK_DESCRIPTION},options:[{name:"user",displayName:"user",type:d.ApplicationCommandOptionType.USER,get description(){return M.default.Messages.COMMAND_KICK_USER_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_KICK_USER_DESCRIPTION},required:!0},{name:"reason",displayName:"reason",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_KICK_REASON_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_KICK_REASON_DESCRIPTION},required:!1}],predicate:function(e){var t=e.guild;return T.default.can(v.Permissions.KICK_MEMBERS,t)},execute:function(e,t){var n,r=t.guild,a=t.channel;if(null!=r){var i=null!==(n=R(e,"user"))&&void 0!==n?n:"";if(T.default.canManageUser(v.Permissions.KICK_MEMBERS,i,r)){var o=function(){var t=D(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(o=E.default.getUser(i))){
t.next=3;break}throw new Error;case 3:t.next=5;return l.default.kickUser(r.id,i,null!==(n=R(e,"reason"))&&void 0!==n?n:"");case 5:s.default.sendBotMessage(a.id,M.default.Messages.COMMAND_KICK_CONFIRMATION.format({user:I.default.hidePersonalInformation?o.username:o.tag}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o().catch((function(){s.default.sendBotMessage(a.id,M.default.Messages.COMMAND_KICK_ERROR)}))}else s.default.sendBotMessage(a.id,M.default.Messages.COMMAND_KICK_UNABLE)}}},{id:"-12",name:"ban",displayName:"ban",type:d.ApplicationCommandType.CHAT,inputType:y.ApplicationCommandInputType.BUILT_IN,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_BAN_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_BAN_DESCRIPTION},options:[{name:"user",displayName:"user",type:d.ApplicationCommandOptionType.USER,get description(){
return M.default.Messages.COMMAND_BAN_USER_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_BAN_USER_DESCRIPTION},required:!0},{name:"delete_messages",displayName:"delete_messages",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_BAN_DELETE_MESSAGES_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_BAN_DELETE_MESSAGES_DESCRIPTION},required:!0,get choices(){return[{name:M.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_NONE,displayName:M.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_NONE,value:"0"},{name:M.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_24HR,displayName:M.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_24HR,value:"1"},{name:M.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_7D,displayName:M.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_7D,value:"7"}]}},{name:"reason",displayName:"reason",type:d.ApplicationCommandOptionType.STRING,get description(){
return M.default.Messages.COMMAND_BAN_REASON_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_BAN_REASON_DESCRIPTION},required:!1}],predicate:function(e){var t=e.guild;return T.default.can(v.Permissions.BAN_MEMBERS,t)},execute:function(e,t){var n,r=t.guild,a=t.channel;if(null!=r){var i=null!==(n=R(e,"user"))&&void 0!==n?n:"";if(T.default.canManageUser(v.Permissions.BAN_MEMBERS,i,r)){var o=function(){var t=D(regeneratorRuntime.mark((function t(){var n,o,u,d,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==i){t.next=2;break}throw new Error;case 2:u=null!==(n=R(e,"delete_messages"))&&void 0!==n?n:"";d=null!==(o=R(e,"reason"))&&void 0!==o?o:"";c=E.default.getUser(i);t.next=7;return l.default.banUser(r.id,i,u,d);case 7:s.default.sendBotMessage(a.id,M.default.Messages.COMMAND_BAN_CONFIRMATION.format({user:null!=c?I.default.hidePersonalInformation?c.username:c.tag:i}));case 8:case"end":return t.stop()}}),t)})));return function(){
return t.apply(this,arguments)}}();o().catch((function(){s.default.sendBotMessage(a.id,M.default.Messages.COMMAND_BAN_ERROR)}))}else s.default.sendBotMessage(a.id,M.default.Messages.COMMAND_BAN_UNABLE)}}},{id:"-13",name:"timeout",displayName:"timeout",type:d.ApplicationCommandType.CHAT,inputType:y.ApplicationCommandInputType.BUILT_IN,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_TIMEOUT_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TIMEOUT_DESCRIPTION},options:[{name:"user",displayName:"user",type:d.ApplicationCommandOptionType.USER,get description(){return M.default.Messages.COMMAND_TIMEOUT_USER_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TIMEOUT_USER_DESCRIPTION},required:!0},{name:"duration",displayName:"duration",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_TIMEOUT_DURATION_DESCRIPTION},get displayDescription(){
return M.default.Messages.COMMAND_TIMEOUT_DURATION_DESCRIPTION},required:!0,get choices(){return Object.keys(C.DisableCommunicationDuration).filter((function(e){return isNaN(Number(e))})).map((function(e){var t,n=null!==(t=(0,C.makeLabel)(C.DisableCommunicationDuration[e]))&&void 0!==t?t:"";return{name:n,displayName:n,value:""+C.DisableCommunicationDuration[e]}}))}},{name:"reason",displayName:"reason",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_TIMEOUT_REASON_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_TIMEOUT_REASON_DESCRIPTION},required:!1}],predicate:function(e){var t=e.guild;return T.default.can(v.Permissions.MODERATE_MEMBERS,t)},execute:function(e,t){var n=t.guild,r=t.channel;if(null!=n){var a=R(e,"user");if((0,c.canToggleCommunicationDisableOnUser)(n.id,a)){var o=function(){var t=D(regeneratorRuntime.mark((function t(){var o,u,d,c,p;return regeneratorRuntime.wrap((function(t){
for(;;)switch(t.prev=t.next){case 0:d=null!==(o=R(e,"duration"))&&void 0!==o?o:"";c=null!==(u=R(e,"reason"))&&void 0!==u?u:"";if(null!=(p=E.default.getUser(a))){t.next=5;break}throw new Error;case 5:t.next=7;return l.default.setCommunicationDisabledUntil(n.id,a,(0,i.default)().add(d,"s").toISOString(),d,c);case 7:s.default.sendBotMessage(r.id,M.default.Messages.COMMAND_TIMEOUT_CONFIRMATION.format({user:I.default.hidePersonalInformation?p.username:p.tag,duration:d}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o().catch((function(){s.default.sendBotMessage(r.id,M.default.Messages.COMMAND_TIMEOUT_ERROR)}))}else s.default.sendBotMessage(r.id,M.default.Messages.COMMAND_TIMEOUT_UNABLE)}}},{id:"-14",name:"msg",displayName:"msg",type:d.ApplicationCommandType.CHAT,inputType:y.ApplicationCommandInputType.BUILT_IN,applicationId:O.BuiltInSectionId.BUILT_IN,get description(){return M.default.Messages.COMMAND_MSG_DESCRIPTION},
get displayDescription(){return M.default.Messages.COMMAND_MSG_DESCRIPTION},options:[{name:"user",displayName:"user",type:d.ApplicationCommandOptionType.USER,get description(){return M.default.Messages.COMMAND_MSG_USER_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_MSG_USER_DESCRIPTION},required:!0},{name:"message",displayName:"message",type:d.ApplicationCommandOptionType.STRING,get description(){return M.default.Messages.COMMAND_MSG_MESSAGE_DESCRIPTION},get displayDescription(){return M.default.Messages.COMMAND_MSG_MESSAGE_DESCRIPTION},required:!0}],execute:function(e,t){var n,r=t.channel,i=R(e,"user"),o=null!==(n=R(e,"message"))&&void 0!==n?n:"",l=function(){var e=D(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return u.default.openPrivateChannel(i).then((function(e){var t=_.default.getChannel(e);(0,a.default)(null!=t,"Newly created PrivateChannel is null")
;s.default.sendMessage(t.id,p.default.parse(t,o))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l().catch((function(){s.default.sendBotMessage(r.id,M.default.Messages.COMMAND_MSG_ERROR)}))}}]);t.BUILT_IN_COMMANDS=L;var U=L.filter((function(e){return["giphy","tenor","tts","me","tableflip","unflip","shrug","spoiler","nick"].includes(e.name)}));t.BUILT_IN_COMMANDS_ORIGINAL=U;t.getBuiltInCommands=function(e,t,n){var r=t?L:U;return r=r.filter((function(t){return t.type===e&&(!n||t.inputType===y.ApplicationCommandInputType.BUILT_IN_TEXT||t.inputType===y.ApplicationCommandInputType.BUILT_IN_INTEGRATION)}))}},484278:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0})
;t.TRUE_OPTION_NAME=t.SUB_COMMAND_KEY_SEPARATOR=t.FALSE_OPTION_NAME=t.DISCOVERY_COMMAND_FRECENCY_GATEWAY_LIMIT=t.DISCOVERY_COMMANDS_QUERY_LIMIT_WEB=t.DISCOVERY_COMMANDS_QUERY_LIMIT_MOBILE=t.DISCOVERY_COMMANDS_QUERY_LIMIT=t.DISCOVERY_COMMANDS_FRECENCY_LIMIT=t.BuiltInSectionId=t.BOOLEAN_CHOICES=t.APPLICATION_COMMAND_PERMISSIONS_LIMIT=void 0;t.getValidationErrorText=function(e){if(null!=e.choices)return i.default.Messages.COMMAND_VALIDATION_CHOICE_ERROR;switch(e.type){case a.ApplicationCommandOptionType.BOOLEAN:return i.default.Messages.COMMAND_VALIDATION_BOOLEAN_ERROR;case a.ApplicationCommandOptionType.CHANNEL:return i.default.Messages.COMMAND_VALIDATION_CHANNEL_ERROR;case a.ApplicationCommandOptionType.INTEGER:return i.default.Messages.COMMAND_VALIDATION_INTEGER_ERROR;case a.ApplicationCommandOptionType.NUMBER:return i.default.Messages.COMMAND_VALIDATION_NUMBER_ERROR;case a.ApplicationCommandOptionType.ROLE:return i.default.Messages.COMMAND_VALIDATION_ROLE_ERROR
;case a.ApplicationCommandOptionType.USER:return i.default.Messages.COMMAND_VALIDATION_USER_ERROR;case a.ApplicationCommandOptionType.MENTIONABLE:return i.default.Messages.COMMAND_VALIDATION_MENTIONABLE_ERROR;default:return i.default.Messages.COMMAND_VALIDATION_GENERAL_ERROR}};var r,a=n(81069),i=(r=n(247001))&&r.__esModule?r:{default:r};var o="True";t.TRUE_OPTION_NAME=o;var u="False";t.FALSE_OPTION_NAME=u;var l,s=[{name:o,displayName:o,value:"true"},{name:u,displayName:u,value:"false"}];t.BOOLEAN_CHOICES=s;t.BuiltInSectionId=l;!function(e){e.BUILT_IN="-1";e.FRECENCY="-2"}(l||(t.BuiltInSectionId=l={}));t.DISCOVERY_COMMANDS_QUERY_LIMIT_WEB=10;t.DISCOVERY_COMMANDS_QUERY_LIMIT_MOBILE=5;t.DISCOVERY_COMMANDS_QUERY_LIMIT=10;t.DISCOVERY_COMMANDS_FRECENCY_LIMIT=5;t.DISCOVERY_COMMAND_FRECENCY_GATEWAY_LIMIT=25;t.SUB_COMMAND_KEY_SEPARATOR="\0";t.APPLICATION_COMMAND_PERMISSIONS_LIMIT=100},117883:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,i,o,u=A(n(536211)),l=A(n(636602)),s=A(n(644263)),d=A(n(211136)),c=A(n(728429)),p=n(153823),f=n(770348);function A(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e){var t=s.default.getChannel(e),n=null!=t&&t.type===f.ChannelTypes.DM?t.getRecipientId():null,r=c.default.getUser(n);null!=r&&r.bot||(n=null);if(a===n)return!1;a=n;i=null;o=null}var T=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default)};n.getCommands=function(e,t){return a===e&&t===o?i:null};return t}(u.default.Store))(l.default,((r={})[f.ActionTypes.LOGOUT]=function(){a=null;i=null;o=null},r[f.ActionTypes.CONNECTION_OPEN]=function(){var e=d.default.getChannelId();null!=e&&_(e)},r[f.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId;null!=t&&_(t)
},r[f.ActionTypes.DM_APPLICATION_COMMANDS_UPDATE]=function(e){var t=e.botUserId,n=e.applicationCommands,r=e.commandType;if(t!==a)return!1;i=(0,p.buildApplicationCommands)(n).filter((function(e){return e.type===r}));o=r},r));t.default=T},290760:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getFilteredTopCommands=function(e,t){return e.filter((function(e){return!e.includes(":")||null!=t.guild&&t.guild.id===e.split(":")[1]})).map((function(e){return e.split(":")[0]}))};t.getTopRealCommands=function(e){for(var t,n=[],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)
}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=r()).done;){var a=t.value.split(d.SUB_COMMAND_KEY_SEPARATOR)[0];Number(a)>0&&n.push(a);if(n.length>=d.DISCOVERY_COMMAND_FRECENCY_GATEWAY_LIMIT)break}return n};var r,a=f(n(496486)),i=f(n(536211)),o=f(n(636602)),u=n(81069),l=f(n(71319)),s=f(n(960441)),d=n(484278),c=n(770348),p=n(840433);function f(e){return e&&e.__esModule?e:{default:e}}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T={pendingUsages:[]},I=new l.default((function(){return 1}),(function(e){return e<=3?100:e<=15?70:e<=30?50:e<=45?30:e<=80?10:0}),(function(e){return e}),(function(){}),500);function E(e,t){return Number(t.id)<0?t.id:null!=e.guild&&t.guildId?t.id+":"+e.guild.id:t.id}function y(){var e,t,n=null!==(e=null===(t=s.default.frecencyWithoutFetchingLatest.applicationCommandFrecency)||void 0===t?void 0:t.applicationCommands)&&void 0!==e?e:{};I.overwriteHistory(a.default.mapValues(n,(function(e){return m({},e,{recentUses:e.recentUses.map(Number)})})),T.pendingUsages)}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;A(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(T=e);this.syncWith([s.default],y)};n.getState=function(){return T};n.hasPendingUsage=function(){return T.pendingUsages.length>0}
;n.getCommandFrecencyWithoutLoadingLatest=function(){return I};n.getScoreWithoutLoadingLatest=function(e,t){var n;return null!==(n=I.getScore(E(e,t)))&&void 0!==n?n:0};n.getTopCommandsWithoutLoadingLatest=function(){return I.frequently};return t}(i.default.PersistedStore);O.persistKey="ApplicationCommandFrecencyV2";var v=new O(o.default,((r={})[c.ActionTypes.APPLICATION_COMMAND_USED]=function(e){var t=e.command,n=e.context;if(t.type!==u.ApplicationCommandType.CHAT)return!1;var r=E(n,t);T.pendingUsages.push({key:r,timestamp:Date.now()});I.track(r);I.compute()},r[c.ActionTypes.USER_SETTINGS_PROTO_UPDATE]=function(e){var t=e.settings.type,n=e.wasSaved;if(t!==p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS||!n)return!1;T.pendingUsages=[]},r));t.default=v},400704:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NO_COMMANDS=void 0;var r,a=l(n(536211)),i=l(n(636602)),o=n(153823),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){
s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d,c,p,f,A,m=Object.freeze([]);t.NO_COMMANDS=m;var _,T=[];var I=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getResultCommands=function(e){return e===A?T:m};n.hasResults=function(e,t){if(t!==A)return!1;e=e.trimEnd().split(" ")[0].toLocaleLowerCase();return!(null==f||0!==T.length||!e.startsWith(f))||f===e};return t}(a.default.Store))(i.default,((r={})[u.ActionTypes.LOGOUT]=function(){_=void 0;T=[];d=void 0;c=void 0;f=void 0;p=void 0;A=void 0},r[u.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.guildId;if(_===t)return!1;_=t;T=[];d=void 0;c=void 0;f=void 0;p=void 0;A=void 0},r[u.ActionTypes.GUILD_APPLICATION_COMMANDS_UPDATE]=function(e){var t,n=e.applicationCommands,r=e.applications;if(e.nonce!==d)return!1;var a=null!=r?(0,o.applicationPermissionsList)(r):void 0;T=(0,
o.buildApplicationCommands)(n,a);f=null===(t=c)||void 0===t?void 0:t.toLocaleLowerCase();A=p},r[u.ActionTypes.APPLICATION_COMMAND_QUERY_REQUEST]=function(e){var t=e.nonce,n=e.query,r=e.commandType;d=t;c=n;p=r},r));t.default=I},473517:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(536211)),i=f(n(636602)),o=n(81069),u=f(n(759027)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(536487)),s=n(65621),d=n(484278),c=n(770348);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}
function f(e){return e&&e.__esModule?e:{default:e}}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}function m(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=null,E=null,y=null,O={},v=[];function C(){I=null;E=null;y=null;O={}}function M(e,t,n,r){
var a,i=O[e];if(null==i)return!1;var o=i.find((function(e){return e.id===t}));if(null==o||void 0===o.commandCountByType)return!1;var u=null!==(a=o.commandCountByType[r])&&void 0!==a?a:0;o.commandCountByType[r]=u+n;O[e]=m(i)}var N=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;A(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getRemoteGuildApplications=function(e){return null==e?null:O[e]};n.getGuildSections=function(e){if(null==e)return v;var t=O[e];return null==t?v:t};n.getGuildSection=function(e,t){if(null==e)return null;var n=O[e];if(null!=n){var r;return null!==(r=n.find((function(e){return e.id===t})))&&void 0!==r?r:null}return null};n.getTotalGuildCommands=function(e,t){for(var n,r=0,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0
;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.getGuildSections(e));!(n=a()).done;){var i,o;r+=null!==(i=null===(o=n.value.commandCountByType)||void 0===o?void 0:o[t])&&void 0!==i?i:0}return r};return t}(a.default.Store))(i.default,((r={})[c.ActionTypes.CONNECTION_OPEN]=C,r[c.ActionTypes.LOGOUT]=C,r[c.ActionTypes.GUILD_APPLICATION_COMMANDS_UPDATE]=function(e){var t,n=e.applications;if(e.nonce!==I||null==E||null==n||null==y)return!1;var r={};null===(t=O[E])||void 0===t||t.forEach((function(e){r[e.id]=e}));O[E]=n.sort((function(e,t){var n=e.name,r=t.name;return n===r?0:n<r?-1:1})).map((function(e){var t,n,a=null!==(t=null===(n=r[e.id])||void 0===n?void 0:n.commandCountByType)&&void 0!==t?t:{};a[y]=e.command_count;return{type:s.ApplicationCommandSectionType.GUILD,id:e.id,name:e.name,icon:e.icon,
bot:null!=e.bot?new u.default(e.bot):void 0,applicationCommandPermissions:e.application_command_permissions,commandCountByType:a}}))},r[c.ActionTypes.APPLICATIONS_REQUEST]=function(e){var t=e.nonce,n=e.guildId,r=e.commandType;I=t;E=n;y=r},r[c.ActionTypes.APPLICATION_COMMAND_QUERY_REQUEST]=function(e){var t=e.nonce,n=e.guildId;if(e.includeApplications){I=t;E=n}},r[c.ActionTypes.INTEGRATION_CREATE]=function(e){var t=e.guildId;if(null==e.integration.application)return!1;E===t&&null!=y&&l.queryGuildApplications(t,d.DISCOVERY_COMMANDS_QUERY_LIMIT,y);return!1},r[c.ActionTypes.INTEGRATION_DELETE]=function(e){var t=e.guildId,n=e.applicationId,r=O[t];if(null==n||null==r)return!1;var a=r.findIndex((function(e){return e.id===n}));if(a<0)return!1;r.splice(a,1);O[t]=m(r)},r[c.ActionTypes.APPLICATION_COMMAND_CREATE]=function(e){var t;M(e.guildId,e.applicationId,1,null!==(t=e.command.type)&&void 0!==t?t:o.ApplicationCommandType.CHAT)},r[c.ActionTypes.APPLICATION_COMMAND_DELETE]=function(e){var t
;M(e.guildId,e.applicationId,-1,null!==(t=e.command.type)&&void 0!==t?t:o.ApplicationCommandType.CHAT)},r));t.default=N},905043:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.getCommandSection=m;t.getContextCommands=A;t.useCommandSection=function(e,t){return(0,r.useStateFromStores)([s.default,i.default],(function(){return m(t,s.default,i.default,e)}),[t,e])};t.useContextCommands=function(e,t){return(0,r.useStateFromStores)([u.default,l.default,a.default],(function(){return A(e,t,u.default,l.default,a.default)}),[e,t])};var r=n(536211),a=f(n(689389)),i=f(n(728429)),o=n(481414),u=f(n(117883)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null
;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(400704)),s=f(n(473517)),d=n(65621),c=n(770348);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r,a){if(e.type===c.ChannelTypes.DM){var i,o=e.getRecipientId();return null!==(i=n.getCommands(o,t))&&void 0!==i?i:l.NO_COMMANDS}if(null!=e.guild_id){return a.can(c.Permissions.USE_APPLICATION_COMMANDS,e)?r.getResultCommands(t):l.NO_COMMANDS}return l.NO_COMMANDS}function m(e,t,n,r,a){var i=o.BUILT_IN_SECTIONS[e];if(null!=i)return i;if(null!=a)return t.getGuildSection(a,e);if(null!=(null==r?void 0:r.guild_id))return t.getGuildSection(null==r?void 0:r.guild_id,e);if((null==r?void 0:r.type)===c.ChannelTypes.DM){var u=n.getUser(r.getRecipientId());return null==u?null:{id:e,type:d.ApplicationCommandSectionType.DM,name:u.username,icon:u.avatar}}return null}},
572935:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(536211)),i=d(n(636602)),o=n(844784),u=d(n(502546)),l=d(n(211136)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}var m={};function _(){m={};return!0}function T(e){e in m||(m[e]={activeCommand:null,activeOptionName:null,preferredCommandId:null,optionStates:{}});return m[e]}function I(e){var t,n=e.channelId,r=e.command,a=T(n);if((null==r?void 0:r.id)===(null===(t=a.activeCommand)||void 0===t?void 0:t.id))return!1;a.activeCommand=r;a.activeOptionName=null;a.preferredCommandId=null;var i={}
;null!=(null==r?void 0:r.options)&&r.options.forEach((function(e){i[e.name]={isActive:!1,hasValue:!1,lastValidationResult:null,optionValue:null}}));a.optionStates=i;if(null!=r){var u,l;(0,o.trackWithMetadata)(s.AnalyticEvents.APPLICATION_COMMAND_SELECTED,{command_id:null!==(u=null===(l=r.rootCommand)||void 0===l?void 0:l.id)&&void 0!==u?u:r.id,application_id:r.applicationId})}return!0}function E(e){var t,n,r=e.channelId,a=e.commandId,i=T(r);if(a===i.preferredCommandId||null===i.preferredCommandId&&a===(null!==(t=null===(n=i.activeCommand)||void 0===n?void 0:n.id)&&void 0!==t?t:null))return!1;i.activeCommand=null;i.activeOptionName=null;i.preferredCommandId=a;i.optionStates={};return!0}function y(e){for(var t=e.channelId,n=e.changedOptionStates,r=T(t),a=A({},r.optionStates),i=0,o=Object.entries(n);i<o.length;i++){var u,l,s,d=p(o[i],2),c=d[0],f=d[1];if(c in r.optionStates){if(void 0!==f.hasValue?f.hasValue:a[c].hasValue){var m=a[c];a[c]={hasValue:!0,
isActive:void 0!==f.isActive?f.isActive:m.isActive,lastValidationResult:void 0!==f.lastValidationResult?f.lastValidationResult:m.lastValidationResult,optionValue:null!==(u=f.optionValue)&&void 0!==u?u:m.optionValue,location:null!==(l=f.location)&&void 0!==l?l:m.location,length:null!==(s=f.length)&&void 0!==s?s:m.length};if(void 0!==f.isActive)if(f.isActive){if(null!=r.activeOptionName&&r.activeOptionName!==c){a[r.activeOptionName]=A({},a[r.activeOptionName]);a[r.activeOptionName].isActive=!1}r.activeOptionName=c}else c===r.activeOptionName&&(r.activeOptionName=null)}else{a[c]={hasValue:!1,isActive:!1,lastValidationResult:null,optionValue:null,location:void 0,length:void 0};r.activeOptionName===c&&(r.activeOptionName=null)}}}r.optionStates=a;return!0}var O=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){
u.default.addChangeListener((function(){var e=l.default.getChannelId();if(null==e){m={};return!0}var t=u.default.getCurrentSidebarChannelId(e);if(null!=t&&t in m)return!1;if(e in m){var n;m=((n={})[e]=m[e],n)}else m={}}))};n.getActiveCommand=function(e){return T(e).activeCommand};n.getActiveOptionName=function(e){return T(e).activeOptionName};n.getActiveOption=function(e){var t,n,r,a=T(e);return null!==(t=null===(n=a.activeCommand)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.find((function(e){return e.name===a.activeOptionName})))&&void 0!==t?t:null};n.getPreferredCommandId=function(e){return T(e).preferredCommandId};n.getOptionStates=function(e){return T(e).optionStates};n.getOptionState=function(e,t){return T(e).optionStates[t]};n.getOption=function(e,t){var n,r;return null===(n=T(e).activeCommand)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.find((function(e){return e.name===t}))};return t}(a.default.Store))(i.default,((r={})[s.ActionTypes.CONNECTION_OPEN]=_,
r[s.ActionTypes.CHANNEL_SELECT]=_,r[s.ActionTypes.LOGOUT]=_,r[s.ActionTypes.APPLICATION_COMMAND_SET_ACTIVE_COMMAND]=I,r[s.ActionTypes.APPLICATION_COMMAND_SET_PREFERRED_COMMAND]=E,r[s.ActionTypes.APPLICATION_COMMAND_UPDATE_OPTIONS]=y,r[s.ActionTypes.APPLICATION_COMMAND_UPDATE_CHANNEL_STATE]=function(e){var t=e.channelId,n=e.preferredCommandId,r=e.command,a=e.changedOptionStates,i=I({type:"APPLICATION_COMMAND_SET_ACTIVE_COMMAND",channelId:t,command:r}),o=E({type:"APPLICATION_COMMAND_SET_PREFERRED_COMMAND",channelId:t,commandId:n}),u=y({type:"APPLICATION_COMMAND_UPDATE_OPTIONS",channelId:t,changedOptionStates:a});return i||o||u},r));t.default=O},65621:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.ApplicationCommandSectionType=t.ApplicationCommandPermissionType=t.ApplicationCommandInputType=void 0;var n,r,a;t.ApplicationCommandSectionType=n;!function(e){e[e.BUILT_IN=0]="BUILT_IN";e[e.GUILD=1]="GUILD";e[e.DM=2]="DM"}(n||(t.ApplicationCommandSectionType=n={}))
;t.ApplicationCommandInputType=r;!function(e){e[e.BUILT_IN=0]="BUILT_IN";e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT";e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION";e[e.BOT=3]="BOT";e[e.PLACEHOLDER=4]="PLACEHOLDER"}(r||(t.ApplicationCommandInputType=r={}));t.ApplicationCommandPermissionType=a;!function(e){e[e.ROLE=1]="ROLE";e[e.USER=2]="USER";e[e.CHANNEL=3]="CHANNEL"}(a||(t.ApplicationCommandPermissionType=a={}))},153823:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.allChannelsSentinel=B;t.applicationPermissionsList=function(e){return null==e?void 0:e.reduce((function(e,t){null!=t.applicationCommandPermissions&&e.push({id:t.id,permissions:t.applicationCommandPermissions});return e}),[])};t.buildApplicationCommands=function(e,t){return i.default.flatMap(e,(function(e){(0,a.default)(null!=e.id,"Missing command id");return L(e,e,e.application_id,void 0,t)}))};t.buildCommand=P;t.getApplicationCommandOptionQueryOptions=function(e){
var t=e.type===u.ApplicationCommandOptionType.STRING,n=e.type===u.ApplicationCommandOptionType.CHANNEL,r=e.type===u.ApplicationCommandOptionType.USER||e.type===u.ApplicationCommandOptionType.MENTIONABLE,a=e.type===u.ApplicationCommandOptionType.ROLE||e.type===u.ApplicationCommandOptionType.MENTIONABLE;return{canMentionEveryone:t||a,canMentionHere:t,canMentionChannels:t||n,canMentionUsers:t||r,canMentionRoles:t||a,canMentionAnyGuildUser:r,canMentionNonMentionableRoles:a}};t.getApplicationCommandSectionName=function(e){return null!=e.bot?e.bot.username:e.name};t.getInteractionAuthor=function(e,t){if(null!=e.guild){var n=E.default.getGuildSection(e.guild.id,t);if(null!=n){var r;if(null!=n.bot)return[n.bot,null];var a={id:n.id,username:n.name,discriminator:"0000",avatar:null,bot:!0},i={id:n.id,name:n.name,icon:null!==(r=n.icon)&&void 0!==r?r:void 0};return[a,i]}}var o=m.default.getUser(t);if(null!=o)return[o,null];return[null,null]};t.hasAccess=H;t.isSnowflake=function(e){
return C.ID_REGEX.test(e.trim())};t.queryCommands=function(e,t,n,r,a,i,o,u,s){void 0===i&&(i=10);void 0===o&&(o=!0);void 0===u&&(u=!1);void 0===s&&(s=!1);var d=[],c=a?new RegExp("^"+_.default.escape(n)+"\\s*$","i"):new RegExp("^"+_.default.escape(n),"i");u||(d=d.concat(U(t,c,e,i)));var p=(0,T.getBuiltInCommands)(r,o,u);d=d.concat(U(p,c,e,i));s&&(d=d.filter((function(e){return H(e)})));l.FrecencyUserSettingsActionCreators.loadIfNecessary();d.sort((function(t,n){var r=I.default.getScoreWithoutLoadingLatest(e,t);return I.default.getScoreWithoutLoadingLatest(e,n)-r}));return d.slice(0,i)};var r=N(n(224736)),a=N(n(441143)),i=N(n(496486)),o=N(n(267258)),u=n(81069),l=n(828593),s=N(n(686305)),d=N(n(644263)),c=N(n(876874)),p=N(n(689389)),f=N(n(211136)),A=N(n(790597)),m=N(n(728429)),_=N(n(827513)),T=n(481414),I=N(n(290760)),E=N(n(473517)),y=n(65621),O=N(n(682404)),v=n(484278),C=n(770348),M=n(478036);function N(e){return e&&e.__esModule?e:{default:e}}function g(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}function S(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function h(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,a){var i,l,s,d,c=null!=e.permissions&&e.permissions.length>0?e.permissions:a;if(null!=c&&c.length>0){d={};c.forEach((function(e){d[e.id]=e}))}var p=(null!=r?r:[]).map((function(e){return e.name})),f=(null!=r?r:[]).map((function(e){return e.displayName}));return{version:e.version,guildId:e.guild_id,id:[e.id].concat(S(p)).join(v.SUB_COMMAND_KEY_SEPARATOR),name:[e.name].concat(S(p)).join(" "),applicationId:n,type:null!==(i=e.type)&&void 0!==i?i:u.ApplicationCommandType.CHAT,inputType:y.ApplicationCommandInputType.BOT,description:t.description,options:b(t.options),rootCommand:e,
subCommandPath:r,defaultMemberPermissions:null==e.default_member_permissions?void 0:o.default.deserialize(e.default_member_permissions),defaultPermission:e.default_permission,dmPermission:e.dm_permission,permissions:d,listed:!1!==e.listed,displayName:[null!==(l=e.name_localized)&&void 0!==l?l:e.name].concat(S(f)).join(" "),displayDescription:null!==(s=t.description_localized)&&void 0!==s?s:t.description}}function b(e){return null==e?void 0:e.map((function(e){var t,n,r,a=D({},e,{choices:(r=e.choices,null==r?void 0:r.map((function(e){var t;return D({},e,{displayName:null!==(t=e.name_localized)&&void 0!==t?t:e.name})}))),options:b(e.options),displayName:null!==(t=e.name_localized)&&void 0!==t?t:e.name,displayDescription:null!==(n=e.description_localized)&&void 0!==n?n:e.description});return e.type===u.ApplicationCommandOptionType.CHANNEL&&null!=e.channel_types?D({},a,{channelTypes:e.channel_types
}):e.type!==u.ApplicationCommandOptionType.NUMBER&&e.type!==u.ApplicationCommandOptionType.INTEGER||null==e.min_value&&null==e.max_value?a:D({},a,{minValue:e.min_value,maxValue:e.max_value})}))}function L(e,t,n,r,a){var i=null==a?void 0:a.find((function(e){return e.id===n}));if(t.hasOwnProperty("id")){if(null==(t=t).options||0===t.options.length)return[P(e,t,n,r,null==i?void 0:i.permissions)]}else if((t=t).type!==u.ApplicationCommandOptionType.SUB_COMMAND&&t.type!==u.ApplicationCommandOptionType.SUB_COMMAND_GROUP&&(null==t.options||0===t.options.length))return[P(e,t,n,r,null==i?void 0:i.permissions)];var o=[];if(null==t.options)return o;for(var l=t.options.filter((function(e){return e.type===u.ApplicationCommandOptionType.SUB_COMMAND_GROUP})),s=0;s<l.length;s++){var d;o.push.apply(o,S(L(e,l[s],n,(null!=r?r:[]).concat([{name:l[s].name,type:u.ApplicationCommandOptionType.SUB_COMMAND_GROUP,displayName:null!==(d=l[s].name_localized)&&void 0!==d?d:l[s].name}]),a)))}
for(var c=t.options.filter((function(e){return e.type===u.ApplicationCommandOptionType.SUB_COMMAND})),p=0;p<c.length;p++){var f;o.push(P(e,c[p],n,(null!=r?r:[]).concat([{name:c[p].name,type:u.ApplicationCommandOptionType.SUB_COMMAND,displayName:null!==(f=c[p].name_localized)&&void 0!==f?f:c[p].name}]),null==i?void 0:i.permissions))}0===l.length&&0===c.length&&o.push(P(e,t,n,r,null==i?void 0:i.permissions));return o}function U(e,t,n,r){var a=[];(0,i.default)(e).forEach((function(e){t.test(e.displayName)&&(null==e.predicate||e.predicate(n))&&a.push(e)}));return a.slice(0,r)}function w(e,t){var n,r=m.default.getCurrentUser();(0,a.default)(null!=r,"hasAccess: user cannot be undefined");var i=c.default.getMember(t,r.id);if(null==i){var u;return null===(u=e.dmPermission)||void 0===u||u}var l=f.default.getChannelId();(0,a.default)(null!=l,"hasAccess: selectedChannelId cannot be undefined");var A=d.default.getChannel(l);(0,a.default)(null!=A,"hasAccess: selectedChannel cannot be undefined")
;var _,T,I=s.default.getViewingRoles(t),E=p.default.computePermissions(A,void 0,null==I?void 0:I);if(o.default.has(E,M.Permissions.ADMINISTRATOR))return!0;if(!o.default.has(E,M.Permissions.VIEW_CHANNEL))return!1;if(null!=I)_=Object.values(I).map((function(e){return e.id}));else{_=i.roles;T=i.userId}var O=e.defaultMemberPermissions,v=null!=O?o.default.has(E,O):void 0;return function(e,t,n,r,a,i){var o=e,u=!0,l=n[B(e)];null!=l&&(u=l.permission);var s=n[t];null!=s&&(u=s.permission);if(!u)return u;if(null!=i){var d=[y.ApplicationCommandPermissionType.ROLE,y.ApplicationCommandPermissionType.USER];if(!Object.values(n).some((function(e){return d.includes(e.type)})))return i}var c=n[o];null!=c&&(u=c.permission);for(var p,f=null,A=g(r);!(p=A()).done;){var m=n[p.value];if(null!=m&&(f=m.permission))break}f&&(u=f);if(null!=a){var _=n[a];null!=_&&(u=_.permission)}return u}(t,l,null!==(n=e.permissions)&&void 0!==n?n:{},_,T,v)}function H(e){if(null==e.defaultPermission)return!0
;var t=A.default.getGuildId();if(null==t){var n;return null!==(n=e.dmPermission)&&void 0!==n?n:e.defaultPermission}return O.default.getCurrentConfig({guildId:t}).enable?w(e,t):function(e,t){if(null!=e){var n=m.default.getCurrentUser();(0,a.default)(null!=n,"hasAccess: currentUser cannot be undefined");var r=e[n.id];if(null!=r)return r.permission;var i=A.default.getGuildId(),o=null!=i?c.default.getMember(i,n.id):null;if(null!=o){var u=null,l=S(o.roles);null!=i&&l.push(i);for(var s,d=g(l);!(s=d()).done;){var p=e[s.value];if(null!=p&&(u=p.permission))break}if(null!==u)return u}}return t}(e.permissions,e.defaultPermission)}function B(e){return(0,r.default)(e).subtract(1).toString()}},682404:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"guild",id:"2021-09_command_permissions_v2",label:"Command Permissions V2",defaultConfig:{enable:!1},treatments:[{id:1,label:"Enables command permissions v2.",config:{enable:!0}}]})
;t.default=r},258938:(e,t,n)=>{({value:!0});t.Z=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=I(n(496486)),o=I(n(709403)),u=I(n(786345)),l=n(81069),s=n(678928),d=I(n(290629)),c=I(n(728429)),p=n(194322),f=I(n(776360)),A=n(65621),m=n(484278),_=n(770348),T=I(n(247001));function I(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}if(t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){v(i,r,a,o,u,"next",e)}function u(e){v(i,r,a,o,u,"throw",e)}o(void 0)}))}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){switch(e){
case _.ChannelTextAreaIntegrations.GIPHY.title:case _.ChannelTextAreaIntegrations.TENOR.title:return T.default.Messages.COMMAND_GIPHY_DESCRIPTION;default:return""}}var g,D=[].concat(function(e){if(Array.isArray(e))return M(e)}(g=(0,i.default)(_.ChannelTextAreaIntegrations).values().map((function(e){return{id:e.commandId,name:e.command,displayName:e.command,type:l.ApplicationCommandType.CHAT,inputType:A.ApplicationCommandInputType.BUILT_IN_INTEGRATION,applicationId:m.BuiltInSectionId.BUILT_IN,get description(){return N(e.title)},get displayDescription(){return N(e.title)},options:e.type===_.ChannelTextAreaIntegrationTypes.GIF?[{name:"query",displayName:"query",type:l.ApplicationCommandOptionType.STRING,get description(){return T.default.Messages.COMMAND_GIPHY_QUERY_DESCRIPTION},get displayDescription(){return T.default.Messages.COMMAND_GIPHY_QUERY_DESCRIPTION},required:!0}]:[],integrationType:e.type,integrationTitle:e.title}})).value())||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(g)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{id:"-15",name:"leave",displayName:"leave",type:l.ApplicationCommandType.CHAT,inputType:A.ApplicationCommandInputType.BUILT_IN,applicationId:m.BuiltInSectionId.BUILT_IN,get description(){return T.default.Messages.LEAVE_GROUP_DM},get displayDescription(){return T.default.Messages.LEAVE_GROUP_DM},predicate:function(e){return e.channel.isGroupDM()},execute:function(e,t){var r=t.channel,i=(0,
s.computeChannelName)(r,c.default,d.default),l=T.default.Messages.LEAVE_GROUP_DM_TITLE.format({name:i}),A=T.default.Messages.LEAVE_GROUP_DM_BODY.format({name:i});if(r.isManaged()){l=T.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:i});A=T.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:i})}(0,p.openModalLazy)(C(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,502197));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,y({header:l,confirmText:T.default.Messages.LEAVE_GROUP_DM,cancelText:T.default.Messages.CANCEL,onConfirm:m},e),O(f.default,{size:f.default.Sizes.SIZE_16},void 0,A))}));case 5:case"end":return e.stop()}}),e)}))));function m(){return _.apply(this,arguments)}function _(){return(_=C(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.prev=0;e.next=3;return o.default.closePrivateChannel(r.id);case 3:e.next=8;break;case 5:e.prev=5;e.t0=e.catch(0);u.default.sendBotMessage(r.id,T.default.Messages.LEAVE_GROUP_DM_ERROR);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}}}]);t.Z=D},649563:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},i=n(770348);var o={resort:function(e){a.default.dirtyDispatch({type:i.ActionTypes.RESORT_THREADS,channelId:e})}};t.default=o},506309:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.canToggleCommunicationDisableOnUser=p;t.default=function(e,t){return(0,r.useStateFromStores)([o.default,a.default,i.default],(function(){return p(e,t,[o.default,a.default,i.default])}),[e,t])};var r=n(536211),a=s(n(30098)),i=s(n(689389)),o=s(n(728429)),u=s(n(656016)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){
var r=d(void 0===n?[o.default,a.default,i.default]:n,3),s=r[0],c=r[1],p=r[2],f=c.getGuild(e),A=s.getUser(t);return null!=f&&null!=A&&(!A.isNonUserBot()&&(!(f.isOwner(A)||u.default.can(l.Permissions.ADMINISTRATOR,A,f))&&p.canManageUser(l.Permissions.MODERATE_MEMBERS,A,f)))}},514756:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=l;t.useCurrentUserCommunicationDisabled=function(e){var t=(0,r.useStateFromStores)([i.default],(function(){return i.default.getCurrentUser()}));return l(null==t?void 0:t.id,e)};var r=n(536211),a=u(n(876874)),i=u(n(728429)),o=n(457676);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n,i=(0,r.useStateFromStores)([a.default],(function(){return null!=t&&null!=e?a.default.getMember(t,e):null}),[t,e]);return[null!==(n=null==i?void 0:i.communicationDisabledUntil)&&void 0!==n?n:null,(0,o.isMemberCommunicationDisabled)(i)]}},741464:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.addQueued=function(e,t){
var n=t.data,r=t.messageId,o=t.onCreate,u=t.onSuccess,l=t.onFailure;a.default.dirtyDispatch({type:i.ActionTypes.INTERACTION_QUEUE,data:n,nonce:e,messageId:r,onCreate:o,onSuccess:u,onFailure:l})};t.fetchMessageInteractionData=function(e,t){return s.apply(this,arguments)};t.queueInteractionComponentState=function(e,t,n,r){a.default.dirtyDispatch({type:i.ActionTypes.QUEUE_INTERACTION_COMPONENT_STATE,messageId:e,nonce:t,state:n,indices:r})};t.setFailed=function(e,t,n){a.default.dirtyDispatch({type:i.ActionTypes.INTERACTION_FAILURE,nonce:e,errorMessage:n,errorCode:t})};var r=o(n(118915)),a=o(n(636602)),i=n(770348);function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,l,"next",e)}function l(e){u(i,r,a,o,l,"throw",e)}o(void 0)}))}}function s(){
return(s=l(regeneratorRuntime.mark((function e(t,n){var o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.get({url:i.Endpoints.MESSAGE_INTERACTION_DATA(t,n),oldFormErrors:!0});case 2:if((o=e.sent).ok){u=o.body;a.default.dirtyDispatch({type:i.ActionTypes.LOAD_MESSAGE_INTERACTION_DATA_SUCCESS,channelId:t,messageId:n,interactionData:u})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},814142:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(536211)),i=d(n(636602)),o=n(81069),u=d(n(644263)),l=n(190900),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{
for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}var m={},_={},T={}
;function I(e){delete m[e];var t=T[e];null!=t&&delete _[t];delete T[e]}var E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getInteraction=function(e){var t=_[e.id];return null!=t?m[t]:null};n.getMessageInteractionStates=function(){for(var e={},t=0,n=Object.entries(m);t<n.length;t++){var r=p(n[t],2),a=r[0],i=r[1],o=T[a];null!=o&&(e[o]=i.state)}return e};n.canQueueInteraction=function(e,t){var n=_[e];return!(null!=n&&null!=m[n]&&m[n].state!==l.InteractionState.FAILED||null!=m[t]&&m[t].state!==l.InteractionState.FAILED)};return t}(a.default.Store))(i.default,((r={})[s.ActionTypes.LOGOUT]=function(){m={};_={};T={}},r[s.ActionTypes.INTERACTION_QUEUE]=function(e){var t=e.nonce,n=e.messageId,r=e.data,a=e.onCreate,i=e.onCancel,o=e.onSuccess,u=e.onFailure;if(null!=n){_[n]=t;T[t]=n}m[t]={state:l.InteractionState.QUEUED,data:r,onCreate:a,onCancel:i,onSuccess:o,
onFailure:u}},r[s.ActionTypes.INTERACTION_CREATE]=function(e){var t,n=e.nonce,r=e.interactionId;if(null==n)return!1;var a=m[n];if(null==a||a.state!==l.InteractionState.QUEUED)return!1;a.state=l.InteractionState.CREATED;null===(t=a.onCreate)||void 0===t||t.call(a,r)},r[s.ActionTypes.INTERACTION_SUCCESS]=function(e){var t,n=e.nonce;if(null==n)return!1;var r=m[n];if(null==r)return!1;null===(t=r.onSuccess)||void 0===t||t.call(r);I(n)},r[s.ActionTypes.INTERACTION_FAILURE]=function(e){var t,n=e.nonce,r=e.errorCode,a=e.errorMessage;if(null==n)return!1;var i=m[n];if(null==i)return!1;null===(t=i.onFailure)||void 0===t||t.call(i,r,a);i.data.interactionType===o.InteractionTypes.APPLICATION_COMMAND?I(n):m[n]=A({},i,{state:l.InteractionState.FAILED,errorCode:r,errorMessage:a})},r[s.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.message;if(null==t.nonce)return!1;var n,r=m[t.nonce];if(null==r)return!1;null===(n=r.onSuccess)||void 0===n||n.call(r);I(t.nonce)},
r[s.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId;if(null==u.default.getChannel(t))return!1;for(var n=0,r=Object.entries(m);n<r.length;n++){var a=p(r[n],2),i=a[0];a[1].state===l.InteractionState.FAILED&&I(i)}},r));t.default=E},190900:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.InteractionState=void 0;var n;t.InteractionState=n;!function(e){e[e.QUEUED=0]="QUEUED";e[e.CREATED=1]="CREATED";e[e.FAILED=2]="FAILED"}(n||(t.InteractionState=n={}))},632341:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.InteractionStatusViewState=void 0;t.canRetryInteractionData=function(e){var t=e.options;for(;1===(null===(n=t)||void 0===n?void 0:n.length)&&(t[0].type===o.ApplicationCommandOptionType.SUB_COMMAND_GROUP||t[0].type===o.ApplicationCommandOptionType.SUB_COMMAND);){var n;t=t[0].options}for(var r,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){
if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(null!==(i=t)&&void 0!==i?i:[]);!(r=a()).done;){var i;if(r.value.type===o.ApplicationCommandOptionType.ATTACHMENT)return!1}return!0};t.getFirstSkemaErrorMessage=t.executeMessageComponentInteraction=void 0;t.getInteractionInitialResponseDeadlineTimestamp=_;t.getInteractionStatusViewState=void 0;t.getInteractionTimeoutTimestamp=m;t.handleInteractionResponse=void 0
;var r=p(n(795715)),a=p(n(118915)),i=p(n(786345)),o=n(81069),u=p(n(423046)),l=n(741464),s=p(n(814142)),d=n(190900),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function m(e){return null==e||""===e||Number.isNaN(e)?Date.now():r.default.extractTimestamp(e)+9e5}function _(e){return null==e||""===e||Number.isNaN(e)?Date.now():r.default.extractTimestamp(e)+3e3}t.executeMessageComponentInteraction=function(e){var t=e.componentType,n=e.messageId,i=e.messageFlags,d=e.customId,p=e.indices,f=e.applicationId,m=e.channelId,_=e.guildId,I=e.localState,E=r.default.fromTimestamp(Date.now());if(s.default.canQueueInteraction(n,E)){(0,l.addQueued)(E,{messageId:n,data:{
interactionType:o.InteractionTypes.MESSAGE_COMPONENT,customId:d,indices:p},onFailure:function(e,t){return T(m,e,t)}});null!=I&&(0,l.queueInteractionComponentState)(n,E,I,p);var O={type:o.InteractionTypes.MESSAGE_COMPONENT,nonce:E,guild_id:_,channel_id:m,message_flags:i,message_id:n,application_id:f,session_id:u.default.getSessionId(),data:A({component_type:t,custom_id:d},I)};a.default.post({url:c.Endpoints.INTERACTIONS,body:O,timeout:3e3},(function(e){return y(E,e)}))}};var T=function(e,t,n){null==n&&null!=t&&i.default.sendClydeError(e,t)},I=function e(t){for(var n in t){var r=t[n];if(null!=r){if("_errors"===n&&Array.isArray(r)){var a,i;return null!==(a=null===(i=r[0])||void 0===i?void 0:i.message)&&void 0!==a?a:null}if("object"==typeof r)return e(r)}}return null};t.getFirstSkemaErrorMessage=I;var E,y=function(e,t){if(!t.ok){if(!t.hasErr){if(t.status>=400&&t.status<500&&t.body){var n,r=null;if(t.body.code===c.AbortCodes.INVALID_FORM_BODY&&t.body.errors){r=I(t.body.errors);(0,
l.setFailed)(e,void 0,r);return}(0,l.setFailed)(e,t.status,null===(n=t.body)||void 0===n?void 0:n.message);return}(0,l.setFailed)(e,t.body.code);return}(0,l.setFailed)(e)}};t.handleInteractionResponse=y;t.InteractionStatusViewState=E;!function(e){e[e.SENDING=0]="SENDING";e[e.CREATED=1]="CREATED";e[e.FAILED=2]="FAILED";e[e.TIMED_OUT=3]="TIMED_OUT"}(E||(t.InteractionStatusViewState=E={}));t.getInteractionStatusViewState=function(e,t){var n=null==t?void 0:t.state,r=e.state===c.MessageStates.SENT&&m(e.id)<Date.now(),a=e.state===c.MessageStates.SEND_FAILED&&_(e.id)<Date.now(),i=(null==t?void 0:t.data.interactionType)===o.InteractionTypes.APPLICATION_COMMAND,u=e.isCommandType()
;return i&&n===d.InteractionState.QUEUED||u&&e.state===c.MessageStates.SENDING?E.SENDING:i&&n===d.InteractionState.CREATED||e.hasFlag(c.MessageFlags.LOADING)&&!r?E.CREATED:null!=e.interaction&&e.hasFlag(c.MessageFlags.LOADING)&&r||null!=e.interaction&&!e.hasFlag(c.MessageFlags.LOADING)&&a?E.TIMED_OUT:u&&e.state===c.MessageStates.SEND_FAILED?E.FAILED:void 0}},612548:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ArchivedThreadListTypeAdapters=void 0;var r,a,i=A(n(441143)),o=A(n(496486)),u=A(n(536211)),l=A(n(636602)),s=n(567186),d=A(n(644263)),c=A(n(730451)),p=n(64072),f=n(770348);function A(e){return e&&e.__esModule?e:{default:e}}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}
var T=!1,I=!1,E=!1,y=null,O=p.ArchivedThreadListType.ALL_PUBLIC_THREADS,v=[],C=((r={})[p.ArchivedThreadListType.ALL_PUBLIC_THREADS]={matches:function(e){var t;return e.type!==f.ChannelTypes.PRIVATE_THREAD&&!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)},sortKey:function(e){var t;return null===(t=e.threadMetadata)||void 0===t?void 0:t.archiveTimestamp},endpoint:function(e){return f.Endpoints.ALL_ARCHIVED_THREADS(e,"public")}},r[p.ArchivedThreadListType.ALL_PRIVATE_THREADS]={matches:function(e){var t;return e.type===f.ChannelTypes.PRIVATE_THREAD&&!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)},sortKey:function(e){var t;return null===(t=e.threadMetadata)||void 0===t?void 0:t.archiveTimestamp},endpoint:function(e){return f.Endpoints.ALL_ARCHIVED_THREADS(e,"private")}},r[p.ArchivedThreadListType.MY_PRIVATE_THREADS]={matches:function(e){var t
;return e.type===f.ChannelTypes.PRIVATE_THREAD&&!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)&&c.default.hasJoined(e.id)},sortKey:function(e){return e.id},endpoint:function(e){return f.Endpoints.MY_ARCHIVED_THREADS(e)}},r);t.ArchivedThreadListTypeAdapters=C;function M(){T=!1;I=!1;E=!1;y=null;O=p.ArchivedThreadListType.ALL_PUBLIC_THREADS;v=[]}function N(){if(0===v.length||null==y)return!1;var e=!I,t=d.default.getChannel(v[v.length-1]),n=null==t?null:C[O].sortKey(t);v=(0,o.default)(d.default.getAllThreadsForParent(y)).filter((function(e){return e.isArchivedThread()})).filter((function(t){if(e||null==n)return!0;var r=C[O].sortKey(t);return null!=r&&r>=n})).sortBy((function(e){return C[O].sortKey(e)})).map((function(e){return e.id})).reverse().value()}var g=[],D=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){
this.waitFor(d.default,c.default)};n.isLoading=function(e,t){return y===e&&O===t&&T};n.getThreads=function(e,t){return y===e&&O===t?v:g};!function(e,t,n){t&&m(e.prototype,t);n&&m(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"canLoadMore",get:function(){return I&&!T&&!E}}]);return t}(u.default.Store))(l.default,((a={})[f.ActionTypes.CONNECTION_OPEN]=M,a[f.ActionTypes.THREAD_DELETE]=function(e){return function(e){if(!(v.indexOf(e)>=0))return!1;v=v.filter((function(t){return t!==e}))}(e.channel.id)},a[f.ActionTypes.CHANNEL_DELETE]=function(e){if(e.channel.id!==y)return!1;M()},a[f.ActionTypes.LOAD_ARCHIVED_THREADS]=function(e){e.channelId===y&&e.listType===O||M();y=e.channelId;O=e.listType;T=!0},a[f.ActionTypes.LOAD_ARCHIVED_THREADS_SUCCESS]=function(e){if(e.channelId!==y||e.listType!==O)return!1;var t=e.threads.filter((function(e){return s.ALL_CHANNEL_TYPES.has(e.type)})).map((function(e){return e.id
})),n=v.length>0?d.default.getChannel(v[v.length-1]):null,r=null!=n?C[O].sortKey(n):null;if(null!=e.before&&null!=r){(0,i.default)(e.before<=r,"handleLoadArchivedThreadsSuccess - It is illegal use a `before` time that is more recent than an existing archived thread");v=v.concat(t)}else v=t;N();I=e.hasMore;T=!1},a[f.ActionTypes.LOAD_ARCHIVED_THREADS_FAIL]=function(e){if(e.channelId!==y||e.listType!==O)return!1;T=!1;E=!0},a[f.ActionTypes.RESORT_THREADS]=function(e){return(null==y||null==e.channelId||y===e.channelId)&&N()},a));t.default=D},887174:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=h(n(441143)),a=h(n(118915)),i=h(n(636602)),o=h(n(190040)),u=h(n(186705)),l=h(n(786345)),s=n(844784),d=h(n(649563)),c=h(n(614293)),p=n(391869),f=n(894826),A=h(n(567186)),m=h(n(644263)),_=S(n(687549)),T=h(n(211136)),I=n(249875),E=n(956506),y=S(n(612548)),O=h(n(730451)),v=n(192751),C=n(566142),M=n(770348),N=n(173652),g=h(n(247001));function D(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}function h(e){return e&&e.__esModule?e:{default:e}}function R(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){R(i,r,a,o,u,"next",e)}function u(e){R(i,r,a,o,u,"throw",e)}o(void 0)}))}}function b(e,t){return a.default.patch({url:M.Endpoints.CHANNEL(e.id),body:t
}).then((function(t){i.default.dispatch({type:M.ActionTypes.THREAD_UPDATE,channel:A.default.fromServer(t.body),guildHashes:void 0});d.default.resort(e.parent_id);return t}))}var L={archiveThread:function(e,t){var n={archived:!0};t&&(n.locked=!0);return b(e,n)},unarchiveThread:function(e,t){return P(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r={archived:!1};t&&(r.locked=!1);n.prev=2;n.next=5;return b(e,r);case 5:return n.abrupt("return",n.sent);case 8:n.prev=8;n.t0=n.catch(2);(null===(a=n.t0.body)||void 0===a?void 0:a.code)===M.AbortCodes.TOO_MANY_THREADS?o.default.show({title:g.default.Messages.CANNOT_UNARCHIVE_THREAD,body:g.default.Messages.TOO_MANY_THREADS_MESSAGE}):(null===(i=n.t0.body)||void 0===i?void 0:i.code)===M.AbortCodes.TOO_MANY_ANNOUNCEMENT_THREADS?o.default.show({title:g.default.Messages.CANNOT_UNARCHIVE_THREAD,body:g.default.Messages.TOO_MANY_ANNOUNCEMENT_THREADS_MESSAGE
}):429===n.t0.status?o.default.show({title:g.default.Messages.CANNOT_UNARCHIVE_THREAD,body:g.default.Messages.RATE_LIMITED}):o.default.show({title:g.default.Messages.ERROR,body:g.default.Messages.ERROR_OCCURRED_TRY_AGAIN});throw n.t0;case 12:case"end":return n.stop()}}),n,null,[[2,8]])})))()},setInvitable:function(e,t){return b(e,{invitable:t})},createThread:function(e,t,n,r,u,l){return P(regeneratorRuntime.mark((function s(){var d,c,p,f,A,_,T;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:d=null!=t?M.Endpoints.CHANNEL_MESSAGE_THREADS(e.id,t):M.Endpoints.CHANNEL_THREADS(e.id);s.prev=1;s.next=4;return a.default.post({url:d,body:{name:n,type:r,auto_archive_duration:l,location:u}});case 4:c=s.sent;i.default.dispatch({type:M.ActionTypes.SLOWMODE_RESET_COOLDOWN,slowmodeType:I.SlowmodeType.CreateThread,channelId:e.id});i.default.dispatch({type:M.ActionTypes.THREAD_CREATE_LOCAL,channelId:c.body.id});s.next=13;break;case 9:s.prev=9;s.t0=s.catch(1)
;(null===(p=s.t0.body)||void 0===p?void 0:p.code)===M.AbortCodes.TOO_MANY_THREADS?o.default.show({title:g.default.Messages.CANNOT_CREATE_THREAD,body:g.default.Messages.TOO_MANY_THREADS_MESSAGE}):(null===(f=s.t0.body)||void 0===f?void 0:f.code)===M.AbortCodes.TOO_MANY_ANNOUNCEMENT_THREADS?o.default.show({title:g.default.Messages.CANNOT_CREATE_THREAD,body:g.default.Messages.TOO_MANY_ANNOUNCEMENT_THREADS_MESSAGE}):(null===(A=s.t0.body)||void 0===A?void 0:A.code)===M.AbortCodes.SLOWMODE_RATE_LIMITED?(T=null!==(_=s.t0.body.retry_after)&&void 0!==_?_:0)>0&&i.default.dispatch({type:M.ActionTypes.SLOWMODE_SET_COOLDOWN,channelId:e.id,slowmodeType:I.SlowmodeType.CreateThread,cooldownMs:1e3*T}):429===s.t0.status?o.default.show({title:g.default.Messages.CANNOT_CREATE_THREAD,body:g.default.Messages.RATE_LIMITED}):o.default.show({title:g.default.Messages.ERROR,body:g.default.Messages.ERROR_OCCURRED_TRY_AGAIN});throw s.t0;case 13:return s.abrupt("return",new Promise((function(e){
m.default.addConditionalChangeListener((function(){var t=m.default.getChannel(c.body.id);if(null!=t){i.default.wait((function(){e(t)}));return!1}}))})));case 14:case"end":return s.stop()}}),s,null,[[1,9]])})))()},createThreadAndMessage:function(e,t,n,r,a){var i=this;return P(regeneratorRuntime.mark((function o(){var u;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:o.next=2;return i.createThread(n,null,e,M.ChannelTypes.PUBLIC_THREAD,a,(0,v.getAutoArchiveDuration)(n,r,null));case 2:u=o.sent;l.default.sendMessage(u.id,c.default.parse(u,t));case 4:case"end":return o.stop()}}),o)})))()},joinThread:function(e,t){return P(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return a.default.post({url:M.Endpoints.THREAD_MEMBER(e.id),query:{location:t}});case 3:return n.abrupt("return",n.sent);case 6:n.prev=6;n.t0=n.catch(0)
;(null===(r=n.t0.body)||void 0===r?void 0:r.code)===M.AbortCodes.TOO_MANY_THREAD_MEMBERS?o.default.show({title:g.default.Messages.CANNOT_JOIN_THREAD,body:g.default.Messages.TOO_MANY_MEMBERS_MESSAGE}):o.default.show({title:g.default.Messages.ERROR,body:g.default.Messages.ERROR_OCCURRED_TRY_AGAIN});case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},addMember:function(e,t,n){return P(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return a.default.post({url:M.Endpoints.THREAD_MEMBER(e.id,t),query:{location:n}});case 3:return r.abrupt("return",r.sent);case 6:r.prev=6;r.t0=r.catch(0);(null===(i=r.t0.body)||void 0===i?void 0:i.code)===M.AbortCodes.TOO_MANY_THREAD_MEMBERS?o.default.show({title:g.default.Messages.CANNOT_ADD_USER_TO_THREAD,body:g.default.Messages.TOO_MANY_MEMBERS_MESSAGE}):o.default.show({title:g.default.Messages.ERROR,body:g.default.Messages.ERROR_OCCURRED_TRY_AGAIN});case 9:
case"end":return r.stop()}}),r,null,[[0,6]])})))()},leaveThread:function(e,t){return a.default.delete({url:M.Endpoints.THREAD_MEMBER(e.id),query:{location:t}})},removeMember:function(e,t,n){return a.default.delete({url:M.Endpoints.THREAD_MEMBER(e.id,t),query:{location:n}})},setAutoArchiveDuration:function(e,t){return a.default.patch({url:M.Endpoints.CHANNEL(e.id),body:{auto_archive_duration:t}})},pin:function(e){var t=e.flags|N.ChannelFlags.PINNED;return a.default.patch({url:M.Endpoints.CHANNEL(e.id),body:{flags:t}})},unpin:function(e){var t=e.flags&~N.ChannelFlags.PINNED;return a.default.patch({url:M.Endpoints.CHANNEL(e.id),body:{flags:t}})},openThreadSidebarForViewing:function(e){E.ComponentDispatch.dispatch(M.ComponentActions.POPOUT_CLOSE);if(f.UseThreadSidebar.getSetting()&&!__OVERLAY__){(0,r.default)(null!=e.parent_id,"all threads must have parents");var t=T.default.getChannelId();e.parent_id===t||(0,N.isGuildHomeChannel)(t)||(0,p.transitionToChannel)(e.parent_id)
;i.default.dispatch({type:M.ActionTypes.SIDEBAR_VIEW_THREAD,baseChannelId:(0,N.isGuildHomeChannel)(t)?N.StaticChannelRoute.GUILD_HOME:e.parent_id,channelId:e.id});setTimeout((function(){E.ComponentDispatch.dispatch(M.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:e.id})}),0)}else{i.default.dispatch({type:M.ActionTypes.SIDEBAR_CLOSE,baseChannelId:e.parent_id});(0,p.transitionToChannel)(e.id)}},openThreadSidebarForCreating:function(e,t,n){(0,r.default)(!e.isForumChannel(),"cannot open thread creation sidebar in forums");(0,r.default)(!__OVERLAY__,"Cannot create threads in the overlay.");(0,s.trackWithMetadata)(M.AnalyticEvents.THREAD_CREATION_STARTED,{location:n,channel_id:e.id,guild_id:e.guild_id});E.ComponentDispatch.dispatch(M.ComponentActions.POPOUT_CLOSE);T.default.getChannelId()!==e.id&&(0,p.transitionToChannel)(e.id);if(""===_.default.getDraft(e.id,_.DraftType.FirstThreadMessage)){var a=_.default.getDraft(e.id,_.DraftType.ChannelMessage)
;u.default.saveDraft(e.id,"",_.DraftType.ChannelMessage);u.default.saveDraft(e.id,a,_.DraftType.FirstThreadMessage)}setTimeout((function(){i.default.dispatch({type:M.ActionTypes.SIDEBAR_CREATE_THREAD,parentChannelId:e.id,parentMessageId:null==t?void 0:t.id,location:n})}),0)},openThreadCreationForMobile:function(e,t,n){(0,s.trackWithMetadata)(M.AnalyticEvents.THREAD_CREATION_STARTED,{location:n,channel_id:e.id,guild_id:e.guild_id});u.default.changeThreadSettings(e.id,{parentMessageId:t,isPrivate:!1,location:n})},closeThreadSidebar:function(e){i.default.dispatch({type:M.ActionTypes.SIDEBAR_CLOSE,baseChannelId:e})},closeAndClearThreadSidebar:function(e){i.default.dispatch({type:M.ActionTypes.SIDEBAR_CLOSE,baseChannelId:e});i.default.dispatch({type:M.ActionTypes.DRAFT_CLEAR,channelId:e,draftType:_.DraftType.FirstThreadMessage});i.default.dispatch({type:M.ActionTypes.DRAFT_CLEAR,channelId:e,draftType:_.DraftType.ThreadSettings})},setNotificationSettings:function(e,t){var n=this
;return P(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:(0,C.trackThreadNotificationSettingsUpdated)(e,t);if(O.default.hasJoined(e.id)){r.next=4;break}r.next=4;return n.joinThread(e,"Change Notification Settings");case 4:return r.abrupt("return",a.default.patch({url:M.Endpoints.THREAD_MEMBER_SETTINGS(e.id),body:t}));case 5:case"end":return r.stop()}}),r)})))()},loadArchivedThreads:function(e,t,n,r){if(!y.default.isLoading(t,n)){i.default.dirtyDispatch({type:M.ActionTypes.LOAD_ARCHIVED_THREADS,channelId:t,listType:n,before:r});a.default.get({url:y.ArchivedThreadListTypeAdapters[n].endpoint(t),query:{before:r},retries:2}).then((function(a){var o=a.body,u=o.threads,l=o.members,s=o.has_more,d=o.first_messages;i.default.dispatch({type:M.ActionTypes.LOAD_ARCHIVED_THREADS_SUCCESS,guildId:e,channelId:t,listType:n,before:r,threads:u,firstMessages:d,members:(null!=l?l:[]).map((function(e){return(0,
C.convertServerThreadMember)(e)})),hasMore:s})}),(function(){i.default.dispatch({type:M.ActionTypes.LOAD_ARCHIVED_THREADS_FAIL,channelId:t,listType:n,before:r})}))}}};t.default=L},192751:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.THREE_DAYS=void 0;t.getAutoArchiveDuration=function(e,t,n){var r,a=null==e?void 0:e.isForumChannel(),i=a?d:o.DEFAULT_AUTO_ARCHIVE_DURATION,l=null!==(r=null!=n?n:null==e?void 0:e.defaultAutoArchiveDuration)&&void 0!==r?r:i;if(!(l!==d||null!=t&&t.hasFeature(u.GuildFeatures.THREE_DAY_THREAD_ARCHIVE)||a))return o.DEFAULT_AUTO_ARCHIVE_DURATION;if(l===c&&(null==t||!t.hasFeature(u.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE)))return o.DEFAULT_AUTO_ARCHIVE_DURATION;return l};t.getAutoArchiveDurationRequiresPremiumGuildTier=function(e){var t=p(null,!0).find((function(t){return t.value===e}));return null!=(null==t?void 0:t.guildFeature)&&null!=(0,i.minimumRequiredTierForGuildFeature)(t.guildFeature)};t.getAutoArchiveDurationText=function(e){
var t,n=p(null,!0).find((function(t){return t.value===e}));return null!==(t=null==n?void 0:n.label)&&void 0!==t?t:a.default.duration(e,"minutes").humanize()};t.getAutoArchiveOptions=t.getAutoArchiveDurations=void 0;t.getPostAutoArchiveDuration=function(e,t){var n,r=o.DEFAULT_AUTO_ARCHIVE_DURATION;(null==t?void 0:t.hasFeature(u.GuildFeatures.THREE_DAY_THREAD_ARCHIVE))&&(r=d);var a=null!==(n=null==e?void 0:e.defaultAutoArchiveDuration)&&void 0!==n?n:r;if(a===d&&(null==t||!t.hasFeature(u.GuildFeatures.THREE_DAY_THREAD_ARCHIVE)))return r;if(a===c&&(null==t||!t.hasFeature(u.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE)))return r;return a};t.getThreeDayAutoArchiveDurationOrDefault=function(e,t,n){var r,a=null!==(r=null!=n?n:null==e?void 0:e.defaultAutoArchiveDuration)&&void 0!==r?r:d;if(a===c&&(null==t||!t.hasFeature(u.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE)))return d;return a};var r=s(n(288306)),a=s(n(730381)),i=n(682937),o=n(64072),u=n(770348),l=s(n(247001));function s(e){
return e&&e.__esModule?e:{default:e}}var d=4320;t.THREE_DAYS=d;var c=10080,p=(0,r.default)((function(e,t){var n=[{label:l.default.Messages.AUTO_ARCHIVE_DURATION_1_HOUR,value:60,guildFeature:null,enabled:!0},{label:l.default.Messages.AUTO_ARCHIVE_DURATION_24_HOURS,value:1440,guildFeature:null,enabled:!0}];return null!=e||t?[].concat(n,[{label:l.default.Messages.AUTO_ARCHIVE_DURATION_3_DAYS,value:d,guildFeature:u.GuildFeatures.THREE_DAY_THREAD_ARCHIVE,enabled:null!=e&&e.hasFeature(u.GuildFeatures.THREE_DAY_THREAD_ARCHIVE)},{label:l.default.Messages.AUTO_ARCHIVE_DURATION_1_WEEK,value:c,guildFeature:u.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE,enabled:null!=e&&e.hasFeature(u.GuildFeatures.SEVEN_DAY_THREAD_ARCHIVE)}]):n}));t.getAutoArchiveOptions=p;var f=(0,r.default)((function(e){return p(e).map((function(e){return e.value}))}));t.getAutoArchiveDurations=f}}]);
//# sourceMappingURL=c0ed08f0066b7baaf0d7.js.map